!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=293)}([function(e,t,n){var r,i;e.exports=n(572)()},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"assertParamsValid",function(){return bi}),n.d(r,"maskToAxes",function(){return yi}),n.d(r,"computeOutShape",function(){return vi}),n.d(r,"stridesWithElidedDims",function(){return wi}),n.d(r,"startIndicesWithElidedDims",function(){return xi}),n.d(r,"stopIndicesWithElidedDims",function(){return _i}),n.d(r,"stridesForAxis",function(){return Si}),n.d(r,"startForAxis",function(){return Ei}),n.d(r,"stopForAxis",function(){return Ci}),n.d(r,"isSliceContinous",function(){return ki}),n.d(r,"computeFlatOffset",function(){return Oi});var i={};n.r(i),n.d(i,"copyModel",function(){return ro}),n.d(i,"listModels",function(){return to}),n.d(i,"moveModel",function(){return io}),n.d(i,"removeModel",function(){return no}),n.d(i,"browserFiles",function(){return $o}),n.d(i,"browserHTTPRequest",function(){return ea}),n.d(i,"concatenateArrayBuffers",function(){return Hi.d}),n.d(i,"decodeWeights",function(){return Hi.e}),n.d(i,"encodeWeights",function(){return Hi.f}),n.d(i,"fromMemory",function(){return ra}),n.d(i,"getLoadHandlers",function(){return Xi}),n.d(i,"getModelArtifactsInfoForJSON",function(){return Hi.g}),n.d(i,"getSaveHandlers",function(){return Yi}),n.d(i,"http",function(){return Qo}),n.d(i,"isHTTPScheme",function(){return Zo}),n.d(i,"loadWeights",function(){return Ho}),n.d(i,"registerLoadRouter",function(){return Ki}),n.d(i,"registerSaveRouter",function(){return qi}),n.d(i,"weightsLoaderFactory",function(){return Go}),n.d(i,"withSaveHandler",function(){return ia});var o={};n.r(o),n.d(o,"toPixels",function(){return fa}),n.d(o,"fromPixels",function(){return ha});var a={};n.r(a),n.d(a,"Serializable",function(){return ba}),n.d(a,"SerializationMap",function(){return ya}),n.d(a,"registerClass",function(){return va});var s={};n.r(s),n.d(s,"segOpComputeOptimalWindowSize",function(){return vu}),n.d(s,"computeOutShape",function(){return wu}),n.d(s,"collectGatherOpShapeInfo",function(){return xu});var l={};n.r(l),n.d(l,"fft",function(){return zc}),n.d(l,"ifft",function(){return $c}),n.d(l,"rfft",function(){return Uc}),n.d(l,"irfft",function(){return Wc});var u={};n.r(u),n.d(u,"hannWindow",function(){return of}),n.d(u,"hammingWindow",function(){return af}),n.d(u,"frame",function(){return sf}),n.d(u,"stft",function(){return lf});var c={};n.r(c),n.d(c,"Reduction",function(){return ff}),n.d(c,"absoluteDifference",function(){return Sf}),n.d(c,"computeWeightedLoss",function(){return Ef}),n.d(c,"cosineDistance",function(){return Cf}),n.d(c,"hingeLoss",function(){return kf}),n.d(c,"huberLoss",function(){return Of}),n.d(c,"logLoss",function(){return Tf}),n.d(c,"meanSquaredError",function(){return Nf}),n.d(c,"sigmoidCrossEntropy",function(){return Af}),n.d(c,"softmaxCrossEntropy",function(){return If});var f={};n.r(f),n.d(f,"bandPart",function(){return Df}),n.d(f,"gramSchmidt",function(){return Lf}),n.d(f,"qr",function(){return Ff});var h={};n.r(h),n.d(h,"nonMaxSuppression",function(){return Zf}),n.d(h,"resizeBilinear",function(){return ih}),n.d(h,"resizeNearestNeighbor",function(){return oh}),n.d(h,"nonMaxSuppressionAsync",function(){return ah}),n.d(h,"nonMaxSuppressionWithScore",function(){return sh}),n.d(h,"nonMaxSuppressionWithScoreAsync",function(){return lh}),n.d(h,"cropAndResize",function(){return uh});var d={};n.r(d),n.d(d,"matMul",function(){return bh}),n.d(d,"conv2d",function(){return yh}),n.d(d,"depthwiseConv2d",function(){return vh});var p={};n.r(p),n.d(p,"add",function(){return N}),n.d(p,"addN",function(){return es}),n.d(p,"atan2",function(){return ns}),n.d(p,"avgPool",function(){return is}),n.d(p,"avgPool3d",function(){return as}),n.d(p,"batchToSpaceND",function(){return ui}),n.d(p,"batchNorm",function(){return cs}),n.d(p,"batchNorm2d",function(){return hs}),n.d(p,"batchNorm3d",function(){return ps}),n.d(p,"batchNorm4d",function(){return gs}),n.d(p,"broadcastTo",function(){return ws}),n.d(p,"clone",function(){return ys}),n.d(p,"complex",function(){return xs.a}),n.d(p,"concat",function(){return D}),n.d(p,"concat1d",function(){return Ss}),n.d(p,"concat2d",function(){return Cs}),n.d(p,"concat3d",function(){return Os}),n.d(p,"concat4d",function(){return Ns}),n.d(p,"conv1d",function(){return Is}),n.d(p,"conv2d",function(){return Wn}),n.d(p,"conv2dTranspose",function(){return Rs}),n.d(p,"conv3d",function(){return Ps}),n.d(p,"conv3dTranspose",function(){return Ls}),n.d(p,"cumsum",function(){return Qn}),n.d(p,"depthToSpace",function(){return Bs}),n.d(p,"depthwiseConv2d",function(){return $s}),n.d(p,"diag",function(){return Ws}),n.d(p,"div",function(){return ne}),n.d(p,"divNoNan",function(){return Hs}),n.d(p,"dot",function(){return qs}),n.d(p,"elu",function(){return Ys}),n.d(p,"equal",function(){return Zs}),n.d(p,"eye",function(){return Qs}),n.d(p,"fill",function(){return el}),n.d(p,"floorDiv",function(){return ee}),n.d(p,"greater",function(){return jr}),n.d(p,"greaterEqual",function(){return xr}),n.d(p,"imag",function(){return tl.a}),n.d(p,"leakyRelu",function(){return ol}),n.d(p,"less",function(){return Sr}),n.d(p,"lessEqual",function(){return Mr}),n.d(p,"localResponseNormalization",function(){return sl}),n.d(p,"matMul",function(){return Tn}),n.d(p,"max",function(){return ul}),n.d(p,"maxPool",function(){return fl}),n.d(p,"maxPool3d",function(){return dl}),n.d(p,"maxPoolWithArgmax",function(){return ml}),n.d(p,"maximum",function(){return rl}),n.d(p,"minimum",function(){return bl}),n.d(p,"mod",function(){return vl}),n.d(p,"mul",function(){return ie}),n.d(p,"multinomial",function(){return xl}),n.d(p,"notEqual",function(){return Sl}),n.d(p,"oneHot",function(){return aa}),n.d(p,"outerProduct",function(){return Cl}),n.d(p,"pad",function(){return gi}),n.d(p,"pad1d",function(){return Ol}),n.d(p,"pad2d",function(){return Nl}),n.d(p,"pad3d",function(){return Il}),n.d(p,"pad4d",function(){return Rl}),n.d(p,"pool",function(){return Ll}),n.d(p,"pow",function(){return ei}),n.d(p,"prelu",function(){return Bl}),n.d(p,"rand",function(){return $l}),n.d(p,"randomGamma",function(){return Ql}),n.d(p,"randomNormal",function(){return tu}),n.d(p,"randomUniform",function(){return ru}),n.d(p,"real",function(){return iu.a}),n.d(p,"relu",function(){return au}),n.d(p,"relu6",function(){return lu}),n.d(p,"selu",function(){return cu}),n.d(p,"separableConv2d",function(){return hu}),n.d(p,"spaceToBatchND",function(){return In}),n.d(p,"split",function(){return Pn}),n.d(p,"square",function(){return Ue}),n.d(p,"squaredDifference",function(){return pu}),n.d(p,"sub",function(){return cr}),n.d(p,"tile",function(){return hr}),n.d(p,"truncatedNormal",function(){return gu}),n.d(p,"op",function(){return O.a}),n.d(p,"image",function(){return h}),n.d(p,"linalg",function(){return f}),n.d(p,"losses",function(){return c}),n.d(p,"spectral",function(){return l}),n.d(p,"fused",function(){return d}),n.d(p,"signal",function(){return u}),n.d(p,"booleanMaskAsync",function(){return Au}),n.d(p,"reverse",function(){return Du}),n.d(p,"reverse1d",function(){return Lu}),n.d(p,"reverse2d",function(){return Fu}),n.d(p,"reverse3d",function(){return Bu}),n.d(p,"reverse4d",function(){return zu}),n.d(p,"slice",function(){return Ri}),n.d(p,"slice1d",function(){return Mi}),n.d(p,"slice2d",function(){return Pi}),n.d(p,"slice3d",function(){return Di}),n.d(p,"slice4d",function(){return Li}),n.d(p,"abs",function(){return St}),n.d(p,"acos",function(){return Et}),n.d(p,"acosh",function(){return Ct}),n.d(p,"asin",function(){return kt}),n.d(p,"asinh",function(){return Ot}),n.d(p,"atan",function(){return Tt}),n.d(p,"atanh",function(){return Nt}),n.d(p,"ceil",function(){return At}),n.d(p,"clipByValue",function(){return It}),n.d(p,"cos",function(){return jt}),n.d(p,"cosh",function(){return Rt}),n.d(p,"erf",function(){return Mt}),n.d(p,"exp",function(){return Pt}),n.d(p,"expm1",function(){return Dt}),n.d(p,"floor",function(){return Lt}),n.d(p,"log",function(){return Ft}),n.d(p,"log1p",function(){return Bt}),n.d(p,"logSigmoid",function(){return zt}),n.d(p,"neg",function(){return $t}),n.d(p,"reciprocal",function(){return Ut}),n.d(p,"round",function(){return Wt}),n.d(p,"rsqrt",function(){return Vt}),n.d(p,"sigmoid",function(){return Ht}),n.d(p,"sign",function(){return Gt}),n.d(p,"isNaN",function(){return qt}),n.d(p,"isInf",function(){return Kt}),n.d(p,"isFinite",function(){return Yt}),n.d(p,"sin",function(){return Xt}),n.d(p,"sinh",function(){return Zt}),n.d(p,"softplus",function(){return Jt}),n.d(p,"sqrt",function(){return Qt}),n.d(p,"step",function(){return en}),n.d(p,"tan",function(){return tn}),n.d(p,"tanh",function(){return nn}),n.d(p,"all",function(){return Ie}),n.d(p,"any",function(){return je}),n.d(p,"argMax",function(){return Re}),n.d(p,"argMin",function(){return Me}),n.d(p,"logSumExp",function(){return Pe}),n.d(p,"mean",function(){return De}),n.d(p,"min",function(){return Le}),n.d(p,"moments",function(){return Fe}),n.d(p,"sum",function(){return Be}),n.d(p,"prod",function(){return ze}),n.d(p,"equalStrict",function(){return qu}),n.d(p,"greaterEqualStrict",function(){return Ku}),n.d(p,"greaterStrict",function(){return Yu}),n.d(p,"lessEqualStrict",function(){return Xu}),n.d(p,"lessStrict",function(){return Zu}),n.d(p,"notEqualStrict",function(){return Ju}),n.d(p,"addStrict",function(){return lc}),n.d(p,"divStrict",function(){return uc}),n.d(p,"maximumStrict",function(){return cc}),n.d(p,"minimumStrict",function(){return fc}),n.d(p,"modStrict",function(){return hc}),n.d(p,"mulStrict",function(){return dc}),n.d(p,"powStrict",function(){return pc}),n.d(p,"squaredDifferenceStrict",function(){return mc}),n.d(p,"subStrict",function(){return gc}),n.d(p,"logicalAnd",function(){return qr}),n.d(p,"logicalNot",function(){return Kr}),n.d(p,"logicalOr",function(){return Yr}),n.d(p,"logicalXor",function(){return Xr}),n.d(p,"where",function(){return Zr}),n.d(p,"whereAsync",function(){return Jr}),n.d(p,"buffer",function(){return V}),n.d(p,"print",function(){return H}),n.d(p,"cast",function(){return G}),n.d(p,"expandDims",function(){return q}),n.d(p,"reshape",function(){return K}),n.d(p,"squeeze",function(){return Y}),n.d(p,"stack",function(){return X}),n.d(p,"unstack",function(){return Z}),n.d(p,"setdiff1dAsync",function(){return J}),n.d(p,"linspace",function(){return M.a}),n.d(p,"ones",function(){return M.b}),n.d(p,"range",function(){return M.d}),n.d(p,"scalar",function(){return M.e}),n.d(p,"tensor",function(){return M.f}),n.d(p,"tensor1d",function(){return M.g}),n.d(p,"tensor2d",function(){return M.h}),n.d(p,"tensor3d",function(){return M.i}),n.d(p,"tensor4d",function(){return M.j}),n.d(p,"tensor5d",function(){return M.k}),n.d(p,"tensor6d",function(){return M.l}),n.d(p,"variable",function(){return M.m}),n.d(p,"zeros",function(){return M.n}),n.d(p,"onesLike",function(){return M.c}),n.d(p,"zerosLike",function(){return M.o}),n.d(p,"transpose",function(){return Zn}),n.d(p,"softmax",function(){return vc}),n.d(p,"logSoftmax",function(){return wc}),n.d(p,"norm",function(){return Sc}),n.d(p,"gather",function(){return Ou}),n.d(p,"unsortedSegmentSum",function(){return Tu}),n.d(p,"basicLSTMCell",function(){return kc}),n.d(p,"multiRNNCell",function(){return Oc}),n.d(p,"movingAverage",function(){return Nc}),n.d(p,"stridedSlice",function(){return Ic}),n.d(p,"topk",function(){return Rc}),n.d(p,"scatterND",function(){return Pc}),n.d(p,"fft",function(){return zc}),n.d(p,"ifft",function(){return $c}),n.d(p,"rfft",function(){return Uc}),n.d(p,"irfft",function(){return Wc}),n.d(p,"sparseToDense",function(){return Gc}),n.d(p,"gatherND",function(){return Kc}),n.d(p,"dropout",function(){return Zc}),n.d(p,"hannWindow",function(){return of}),n.d(p,"hammingWindow",function(){return af}),n.d(p,"frame",function(){return sf}),n.d(p,"stft",function(){return lf}),n.d(p,"inTopKAsync",function(){return cf});var m={};n.r(m),n.d(m,"nonMaxSuppressionV3",function(){return Wf}),n.d(m,"nonMaxSuppressionV5",function(){return Vf}),n.d(m,"upcastType",function(){return Th.b}),n.d(m,"segment_util",function(){return s}),n.d(m,"castTensor",function(){return Qh}),n.d(m,"reshapeTensor",function(){return ed}),n.d(m,"linspaceImpl",function(){return td}),n.d(m,"axesAreInnerMostDims",function(){return he}),n.d(m,"combineLocations",function(){return de}),n.d(m,"computeOutAndReduceShapes",function(){return pe}),n.d(m,"expandShapeToKeepDim",function(){return me}),n.d(m,"assertAxesAreInnerMostDims",function(){return ge}),n.d(m,"getAxesPermutation",function(){return be}),n.d(m,"getUndoAxesPermutation",function(){return ye}),n.d(m,"getInnerMostAxes",function(){return ve}),n.d(m,"getBroadcastDims",function(){return w}),n.d(m,"getReductionAxes",function(){return x}),n.d(m,"assertAndGetBroadcastShape",function(){return _}),n.d(m,"assertParamsConsistent",function(){return j}),n.d(m,"computeOutShape",function(){return R}),n.d(m,"computePool2DInfo",function(){return on}),n.d(m,"computePool3DInfo",function(){return an}),n.d(m,"computeConv2DInfo",function(){return sn}),n.d(m,"computeConv3DInfo",function(){return ln}),n.d(m,"computeDefaultPad",function(){return fn}),n.d(m,"tupleValuesAreOne",function(){return yn}),n.d(m,"eitherStridesOrDilationsAreOne",function(){return vn}),n.d(m,"convertConv2DDataFormat",function(){return wn}),n.d(m,"PARALLELIZE_THRESHOLD",function(){return bu}),n.d(m,"computeOptimalWindowSize",function(){return yu}),n.d(m,"getReshaped",function(){return jh}),n.d(m,"getPermuted",function(){return Rh}),n.d(m,"getReshapedPermuted",function(){return Mh}),n.d(m,"getSliceBeginCoords",function(){return Ph}),n.d(m,"getSliceSize",function(){return Dh}),n.d(m,"prepareAndValidate",function(){return da}),n.d(m,"validateUpdateShape",function(){return pa}),n.d(m,"validateInput",function(){return ma}),n.d(m,"calculateShapes",function(){return ga}),n.d(m,"SELU_SCALEALPHA",function(){return oi}),n.d(m,"SELU_SCALE",function(){return ai}),n.d(m,"shouldFuse",function(){return ch}),n.d(m,"ERF_P",function(){return Lh}),n.d(m,"ERF_A1",function(){return Fh}),n.d(m,"ERF_A2",function(){return Bh}),n.d(m,"ERF_A3",function(){return zh}),n.d(m,"ERF_A4",function(){return $h}),n.d(m,"ERF_A5",function(){return Uh}),n.d(m,"warn",function(){return Wh}),n.d(m,"log",function(){return Vh}),n.d(m,"mergeRealAndImagArrays",function(){return Hh}),n.d(m,"splitRealAndImagArrays",function(){return Gh}),n.d(m,"complexWithEvenIndex",function(){return qh}),n.d(m,"complexWithOddIndex",function(){return Kh}),n.d(m,"getComplexWithIndex",function(){return Yh}),n.d(m,"assignToTypedArray",function(){return Xh}),n.d(m,"exponents",function(){return Zh}),n.d(m,"exponent",function(){return Jh});var g={};n.r(g),n.d(g,"nonMaxSuppressionV3",function(){return Wf}),n.d(g,"nonMaxSuppressionV5",function(){return Vf}),n.d(g,"split",function(){return rd}),n.d(g,"tile",function(){return id}),n.d(g,"topkImpl",function(){return od}),n.d(g,"whereImpl",function(){return zr});var b=n(8),y=n(619),v=n(10);
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function w(e,t){const n=e.length,r=[];for(let i=0;i<n;i++){const o=n-1-i,a=e[o]||1,s=t[t.length-1-i]||1;s>1&&1===a&&r.unshift(o)}return r}function x(e,t){const n=[];for(let r=0;r<t.length;r++){const i=e[e.length-r-1],o=t.length-r-1,a=t[o];(null==i||1===i&&a>1)&&n.unshift(o)}return n}function _(e,t){const n=[],r=Math.max(e.length,t.length);for(let i=0;i<r;i++){let r=e[e.length-i-1];null==r&&(r=1);let o=t[t.length-i-1];if(null==o&&(o=1),1===r)n.unshift(o);else if(1===o)n.unshift(r);else{if(r!==o){const n="Operands could not be broadcast together with shapes "+`${e} and ${t}.`;throw Error(n)}n.unshift(r)}}return n}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S={kernelName:v.a,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{let t=e;const r=x(n.shape,i);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},a=()=>{let t=e;const n=x(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)};return{a:o,b:a}}},E={kernelName:v.b,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach((t,r)=>{n[r]=(()=>e.clone())}),n}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var C=n(22),k=n(5),O=n(7);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function T(e,t){let n=Object(k.a)(e,"a","add"),r=Object(k.a)(t,"b","add");[n,r]=Object(C.makeTypesMatch)(n,r);const i=(e,t)=>{const i=e.add(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.a)}const N=Object(O.a)({add_:T});var A=n(15),I=n(3);
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function j(e,t){const n=e[0].length;e.forEach((e,t)=>{I.assert(e.length===n,()=>`Error in concat${n}D: rank of tensors[${t}] must be the same `+`as the rank of the rest (${n})`)}),I.assert(t>=0&&t<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=e[0];e.forEach((e,i)=>{for(let o=0;o<n;o++)I.assert(o===t||e[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${e}) `+`does not match the shape of the rest (${r}) `+`along the non-concatenated axis ${i}.`)})}function R(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var M=n(17);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P(e,t=0){Object(I.assert)(e.length>=1,()=>"Pass at least one tensor to concat");let n=Object(k.b)(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)});const r=Object(I.parseAxisParam)(t,n[0].shape)[0],i=R(n.map(e=>e.shape),r);if(0===Object(I.sizeFromShape)(i))return Object(M.f)([],i);if(1===(n=n.filter(e=>e.size>0)).length)return n[0];const o=n.map(e=>e.shape);j(o,r);const a=(e,t)=>{const i=e.concat(n,r);return t(n),i},s=n,l={axis:t};return b.a.runKernelFunc(a,s,null,v.l,l)}const D=Object(O.a)({concat_:P});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L(e,t){const n=Object(k.a)(e,"x","reshape",null);t=I.inferFromImplicitShape(t,n.size),I.assert(n.size===I.sizeFromShape(t),()=>"new shape and old shape must have the same number of elements.");const r=e=>({x:()=>e.reshape(n.shape)}),i={shape:t};return b.a.runKernelFunc(e=>e.reshape(n,t),{x:n},r,"Reshape",i)}function F(e,t){const n=Object(k.a)(e,"x","squeeze");return K(n,I.squeezeShape(n.shape,t).newShape)}function B(e,t){const n=Object(k.a)(e,"x","cast");if(!I.isValidDtype(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r=e=>({x:()=>e.clone()}),i={dtype:t};return b.a.runKernelFunc(e=>e.cast(n,t),{x:n},r,"Cast",i)}function z(e,t=0){const n=Object(k.b)(e,"tensors","stack");if(I.assert(n.length>=1,()=>"Pass at least one tensor to tf.stack"),1===n.length)return n[0].expandDims(t);const r=n[0].rank,i=n[0].shape,o=n[0].dtype;I.assert(t<=r,()=>"Axis must be <= rank of the tensor"),n.forEach(e=>{I.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(e=>{I.assert(o===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=n.map(e=>e.expandDims(t));return D(a,t)}function $(e,t=0){t=t||0;const n=Object(k.a)(e,"x","unstack");I.assert(t>=-n.shape.length&&t<n.shape.length,()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`),t<0&&(t+=n.shape.length);const r=e=>({x:()=>X(e,t)}),i={axis:t};return b.a.runKernelFunc(e=>e.unstack(n,t),{x:n},r,"Unpack",i)}function U(e,t=0){const n=null,r=Object(k.a)(e,"x","expandDims",null);I.assert(t<=r.rank,()=>"Axis must be <= rank of the tensor");const i=r.shape.slice();return t<0&&(I.assert(-(r.rank+1)<=t,()=>`Axis must be in the interval [${-(r.rank+1)}, ${r.rank}]`),t=r.rank+t+1),i.splice(t,0,1),K(r,i)}async function W(e,t){const n=Object(k.a)(e,"x","setdiff1d"),r=Object(k.a)(t,"y","setdiff1d");I.assert(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),I.assert(1===n.rank,()=>`x should be 1D tensor, but got x (${n.shape}).`),I.assert(1===r.rank,()=>`y should be 1D tensor, but got y (${r.shape}).`);const i=await n.data(),o=await r.data(),a=new Set(o);let s=0;for(let e=0;e<i.length;e++)a.has(i[e])||s++;const l=new A.b([s],n.dtype),u=new A.b([s],"int32");for(let e=0,t=0;e<i.length;e++)a.has(i[e])||(l.values[t]=i[e],u.values[t]=e,t++);return[l.toTensor(),u.toTensor()]}function V(e,t="float32",n){return t=t||"float32",I.assertNonNegativeIntegerDimensions(e),new A.b(e,t,n)}function H(e,t=!1){console.log(e.toString(t))}const G=Object(O.a)({cast_:B}),q=Object(O.a)({expandDims_:U}),K=Object(O.a)({reshape_:L}),Y=Object(O.a)({squeeze_:F}),X=Object(O.a)({stack_:z}),Z=Object(O.a)({unstack_:$}),J=W;
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Q(e,t){let n=Object(k.a)(e,"a","floorDiv"),r=Object(k.a)(t,"b","floorDiv");[n,r]=Object(C.makeTypesMatch)(n,r);const i=(e,t)=>{const i=e.floorDiv(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.D)}const ee=Object(O.a)({floorDiv_:Q});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function te(e,t){let n=Object(k.a)(e,"a","div"),r=Object(k.a)(t,"b","div");if([n,r]=Object(C.makeTypesMatch)(n,r),"int32"===n.dtype&&"int32"===r.dtype)return ee(n,r);const i=(e,t)=>{const i=e.realDivide(n,r);return t([n,r]),i},o={a:n,b:r},a={};return b.a.runKernelFunc(i,o,null,v.y,a)}const ne=Object(O.a)({div_:te});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function re(e,t){let n=Object(k.a)(e,"a","mul"),r=Object(k.a)(t,"b","mul");[n,r]=Object(C.makeTypesMatch)(n,r);const i=(e,t)=>{const i=e.multiply(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.Y)}const ie=Object(O.a)({mul_:re});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oe(e){return I.assert(I.isFunction(e),()=>"The f passed in grad(f) must be a function"),(t,n)=>{const r=Object(k.a)(t,"x","tf.grad",null),i=null!=n?Object(k.a)(n,"dy","tf.grad"):null;return b.a.tidy(()=>{const{value:t,grads:n}=b.a.gradients(()=>e(r),[r],i);return null!=i&&I.assertShapesMatch(t.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),fe(n),n[0]})}}function ae(e){return I.assert(I.isFunction(e),()=>"The f passed in grads(f) must be a function"),(t,n)=>{I.assert(Array.isArray(t),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=Object(k.b)(t,"args","tf.grads",null),i=null!=n?Object(k.a)(n,"dy","tf.grads"):null;return b.a.tidy(()=>{const{value:t,grads:n}=b.a.gradients(()=>e(...r),r,i);return null!=i&&I.assertShapesMatch(t.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),fe(n),n})}}function se(e){return I.assert(I.isFunction(e),()=>"The f passed in valueAndGrad(f) must be a function"),(t,n)=>{I.assert(t instanceof A.a,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),I.assert(null==n||n instanceof A.a,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:i}=b.a.gradients(()=>e(t),[t],n);return fe(r),{grad:r[0],value:i}}}function le(e){return I.assert(I.isFunction(e),()=>"The f passed in valueAndGrads(f) must be a function"),(t,n)=>{I.assert(Array.isArray(t)&&t.every(e=>e instanceof A.a),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),I.assert(null==n||n instanceof A.a,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=b.a.gradients(()=>e(...t),t,n);return null!=n&&I.assertShapesMatch(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),fe(r.grads),r}}function ue(e,t){I.assert(I.isFunction(e),()=>"The f passed in variableGrads(f) must be a function"),I.assert(null==t||Array.isArray(t)&&t.every(e=>e instanceof A.c),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=null!=t;if(!n){t=[];for(const e in b.a.registeredVariables)t.push(b.a.registeredVariables[e])}const r=n?t.filter(e=>!e.trainable):null,i=t.length;t=t.filter(e=>e.trainable),I.assert(t.length>0,()=>"variableGrads() expects at least one of the input variables to "+`be trainable, but none of the ${i} variables is `+"trainable.");const o=!0,{value:a,grads:s}=b.a.gradients(e,t,null,!0);I.assert(s.some(e=>null!=e),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),I.assert(0===a.rank,()=>"The f passed in variableGrads(f) must return a scalar, but it "+`returned a rank-${a.rank} tensor`);const l={};return t.forEach((e,t)=>{null!=s[t]&&(l[e.name]=s[t])}),null!=r&&r.forEach(e=>l[e.name]=null),{value:a,grads:l}}function ce(e){return b.a.customGrad(e)}function fe(e){const t=e.filter(e=>null==e).length;if(t>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function he(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function de(e,t,n){const r=e.length+t.length,i=[];let o=0,a=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[o++]):i.push(t[a++]);return i}function pe(e,t){const n=[],r=e.length;for(let i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);const i=t.map(t=>e[t]);return[n,i]}function me(e,t){const n=t.map(e=>1);return de(e,n,t)}function ge(e,t,n){I.assert(he(t,n),()=>`${e} supports only inner-most axes for now. `+`Got axes ${t} and rank-${n} input.`)}function be(e,t){if(he(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(e=>n.push(e)),n}function ye(e){return e.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function ve(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function we(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(me(t.shape,r))),e.rank<n.rank&&(e=e.reshape(me(e.shape,r))),{x:()=>{const r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xe(e,t=null,n=!1){const r=Object(k.a)(e,"x","logSumExp"),i=I.parseAxisParam(t,r.shape),o=r.max(i,!0),a=r.sub(o),s=a.exp(),l=s.sum(i),u=l.log(),c=o.reshape(u.shape).add(u);if(n){const e=me(c.shape,i);return c.reshape(e)}return c}function _e(e,t=null,n=!1){let r=Object(k.a)(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());const i=I.parseAxisParam(t,r.shape),o=ce(e=>{const t=be(i,e.rank);let r=i,o=e;null!=t&&(o=e.transpose(t),r=ve(r.length,e.rank));const a=t=>{const n=e.shape.slice();i.forEach(e=>{n[e]=1});const r=t.reshape(n),o=r.mul(Object(M.b)(e.shape,"float32"));return o},s=e=>({x:()=>a(e)}),l={axes:r};let u=b.a.runKernelFunc(e=>e.sum(o,r),{x:o},s,"Sum",l);if(n){const e=me(u.shape,i);u=u.reshape(e)}return{value:u,gradFunc:a}});return o(r)}function Se(e,t=null,n=!1){let r=Object(k.a)(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());const i=I.parseAxisParam(t,r.shape),o=be(i,r.rank);let a=i,s=r;null!=o&&(s=r.transpose(o),a=ve(a.length,r.rank));let l=b.a.runKernelFunc(e=>e.prod(s,a),{permutedX:s});if(n){const e=me(l.shape,i);l=l.reshape(e)}return l}function Ee(e,t=null,n=!1){const r=Object(k.a)(e,"x","mean"),i=I.parseAxisParam(t,r.shape),o=pe(r.shape,i),a=o[1],s=I.sizeFromShape(a),l=ce(e=>{const r=Object(M.e)(s),o=r.dtype===e.dtype?e:e.cast(r.dtype),a=o.div(r),l=a.sum(t,n),u=t=>{const n=e.shape.slice();i.forEach(e=>{n[e]=1});const r=t.reshape(n),o=r.mul(Object(M.b)(e.shape,"float32")).div(s);return o};return{value:l,gradFunc:u}});return l(r)}function Ce(e,t=null,n=!1){let r=Object(k.a)(e,"x","min");const i=r,o=I.parseAxisParam(t,r.shape);let a=o;const s=be(a,r.rank);null!=s&&(r=r.transpose(s),a=ve(a.length,r.rank));const l=(e,t)=>we(e,t[1],t[0],o,s),u=[r],c=[!0];let f=b.a.runKernelFunc((e,t)=>{const n=e.min(r,a);return t([i,n]),n},{x:r},l,"Min",{axes:a},u,c);if(n){const e=me(f.shape,o);f=f.reshape(e)}return f}function ke(e,t=0){let n=Object(k.a)(e,"x","argMin");null==t&&(t=0);let r=I.parseAxisParam(t,n.shape);const i=be(r,n.rank);null!=i&&(n=n.transpose(i),r=ve(r.length,n.rank));const o=(e,t)=>{const[n]=t;return{$x:()=>Object(M.o)(n)}};return b.a.runKernelFunc((e,t)=>{const i=e.argMin(n,r[0]);return t([n]),i},{$x:n},o)}function Oe(e,t=0){let n=Object(k.a)(e,"x","argMax");null==t&&(t=0);let r=I.parseAxisParam(t,n.shape);const i=be(r,n.rank);null!=i&&(n=n.transpose(i),r=ve(r.length,n.rank));const o=(e,t)=>{const[n]=t;return{x:()=>Object(M.o)(n)}},a={axis:r[0]},s=[n];return b.a.runKernelFunc((e,t)=>{const i=e.argMax(n,r[0]);return t([n]),i},{x:n},o,"ArgMax",a,s)}function Te(e,t=null,n=!1){let r=Object(k.a)(e,"x","all","bool");const i=I.parseAxisParam(t,r.shape);let o=i;const a=be(o,r.rank);null!=a&&(r=r.transpose(a),o=ve(o.length,r.rank));const s=b.a.runKernelFunc(e=>e.all(r,o),{$x:r});if(n){const e=me(s.shape,i);return s.reshape(e)}return s}function Ne(e,t=null,n=!1){let r=Object(k.a)(e,"x","any","bool");const i=I.parseAxisParam(t,r.shape);let o=i;const a=be(o,r.rank);null!=a&&(r=r.transpose(a),o=ve(o.length,r.rank));const s=b.a.runKernelFunc(e=>e.any(r,o),{$x:r});if(n){const e=me(s.shape,i);return s.reshape(e)}return s}function Ae(e,t=null,n=!1){e=Object(k.a)(e,"x","moments");const r=I.parseAxisParam(t,e.shape),i=e.mean(r,n);let o=i.shape;n||(o=me(i.shape,r));const a=e.toFloat().sub(i.reshape(o)).square(),s=a.mean(r,n);return{mean:i,variance:s}}const Ie=Object(O.a)({all_:Te}),je=Object(O.a)({any_:Ne}),Re=Object(O.a)({argMax_:Oe}),Me=Object(O.a)({argMin_:ke}),Pe=Object(O.a)({logSumExp_:xe}),De=Object(O.a)({mean_:Ee}),Le=Object(O.a)({min_:Ce}),Fe=Object(O.a)({moments_:Ae}),Be=Object(O.a)({sum_:_e}),ze=Object(O.a)({prod_:Se});
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $e(e){const t=Object(k.a)(e,"x","square"),n={},r=[t],i=[];return b.a.runKernelFunc((e,n)=>(n([t]),e.square(t)),{x:t},null,"Square",n,r,i)}const Ue=Object(O.a)({square_:$e});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function We(e){const t=Object(k.a)(e,"x","neg"),n=e=>({x:()=>e.neg()}),r={},i=[t];return b.a.runKernelFunc(e=>e.neg(t),{x:t},n,"Neg",r,i)}function Ve(e){const t=Object(k.a)(e,"x","ceil"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.ceil(t),{$x:t},n)}function He(e){const t=Object(k.a)(e,"x","floor"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.floor(t),{$x:t},n)}function Ge(e){const t=Object(k.a)(e,"x","sign"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.sign(t),{$x:t},n)}function qe(e){const t=Object(k.a)(e,"x","isNaN"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.isNaN(t),{$x:t},n)}function Ke(e){const t=Object(k.a)(e,"x","isInf"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.isInf(t),{$x:t},n)}function Ye(e){const t=Object(k.a)(e,"x","isFinite"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.isFinite(t),{$x:t},n)}function Xe(e){const t=Object(k.a)(e,"x","round"),n=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.round(t),{$x:t},n)}function Ze(e){const t=Object(k.a)(e,"x","exp"),n=(e,t)=>({x:()=>e.mul(t[0])}),r={},i=[],o=[!0];return b.a.runKernelFunc((e,n)=>{const r=e.exp(t);return n([r]),r},{x:t},n,"Exp",r,i,o)}function Je(e){const t=Object(k.a)(e,"x","expm1"),n=(e,t)=>{const[n]=t;return{$x:()=>e.mul(n.exp())}};return b.a.runKernelFunc((e,n)=>{const r=e.expm1(t);return n([t]),r},{$x:t},n)}function Qe(e){const t=Object(k.a)(e,"x","log"),n=(e,t)=>{const[n]=t;return{x:()=>e.div(n.toFloat())}},r={},i=[t];return b.a.runKernelFunc((e,n)=>{const r=e.log(t);return n([t]),r},{x:t},n,"Log",r,i)}function et(e){const t=Object(k.a)(e,"x","log1p"),n=(e,t)=>{const[n]=t;return{$x:()=>e.div(n.add(1))}};return b.a.runKernelFunc((e,n)=>{const r=e.log1p(t);return n([t]),r},{$x:t},n)}function tt(e){const t=Object(k.a)(e,"x","sqrt"),n=(e,t)=>{const[n]=t;return{x:()=>e.div(n.toFloat().sqrt().mul(2))}};return b.a.runKernelFunc((e,n)=>{const r=e.sqrt(t);return n([t]),r},{x:t},n,"Sqrt",{})}function nt(e){const t=Object(k.a)(e,"x","rsqrt"),n=(e,t)=>{const[n]=t;return{x:()=>e.div(n.pow(1.5).mul(2)).neg()}},r=[t];return b.a.runKernelFunc((e,n)=>{const r=e.rsqrt(t);return n([t]),r},{x:t},n,"Rsqrt",{},r)}function rt(e){const t=Object(k.a)(e,"x","reciprocal"),n=(e,t)=>{const[n]=t;return{$x:()=>e.div(n.square().neg())}};return b.a.runKernelFunc((e,n)=>{const r=e.reciprocal(t);return n([t]),r},{$x:t},n)}function it(e){const t=Object(k.a)(e,"x","abs");if("complex64"===t.dtype)return b.a.runKernelFunc(e=>e.complexAbs(t),{$x:t});const n=(e,t)=>{const[n]=t;return{x:()=>e.mul(n.toFloat().step(-1))}};return b.a.runKernelFunc((e,n)=>{const r=e.abs(t);return n([t]),r},{x:t},n,"Abs")}function ot(e,t,n){const r=Object(k.a)(e,"x","clipByValue");I.assert(t<=n,()=>`Error in clip: min (${t}) must be `+`less than or equal to max (${n}).`);const i=(e,r)=>{const[i]=r;return{x:()=>e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),Object(M.o)(e))}},o=[r],a={min:t,max:n};return b.a.runKernelFunc((e,i)=>{const o=e.clip(r,t,n);return i([r]),o},{x:r},i,"ClipByValue",a,o)}function at(e){const t=Object(k.a)(e,"x","sigmoid"),n=(e,t)=>{const[n]=t;return{x:()=>e.mul(n.mul(Object(M.e)(1).sub(n)))}};return b.a.runKernelFunc((e,n)=>{const r=e.sigmoid(t);return n([r]),r},{x:t},n,"Sigmoid")}function st(e){const t=Object(k.a)(e,"x","logSigmoid"),n=(e,t)=>{const[n]=t;return{$x:()=>e.mul(n.neg().sigmoid())}};return b.a.runKernelFunc((e,n)=>{const r=e.softplus(t.neg()).neg();return n([t]),r},{$x:t},n)}function lt(e){const t=Object(k.a)(e,"x","softplus"),n=(e,t)=>{const[n]=t;return{$x:()=>e.mul(n.sigmoid())}};return b.a.runKernelFunc((e,n)=>{const r=e.softplus(t);return n([t]),r},{$x:t},n)}function ut(e){const t=Object(k.a)(e,"x","sin"),n=(e,t)=>{const[n]=t;return{x:()=>n.toFloat().cos().mul(e)}},r=[t];return b.a.runKernelFunc((e,n)=>{const r=e.sin(t);return n([t]),r},{x:t},n,"Sin",{},r)}function ct(e){const t=Object(k.a)(e,"x","cos"),n=(e,t)=>{const[n]=t;return{x:()=>n.toFloat().sin().neg().mul(e)}},r=[t];return b.a.runKernelFunc((e,n)=>{const r=e.cos(t);return n([t]),r},{x:t},n,"Cos",{},r)}function ft(e){const t=Object(k.a)(e,"x","tan"),n=(e,t)=>{const[n]=t;return{$x:()=>e.div(n.cos().square())}};return b.a.runKernelFunc((e,n)=>{const r=e.tan(t);return n([t]),r},{$x:t},n)}function ht(e){const t=Object(k.a)(e,"x","asin"),n=(e,t)=>{const[n]=t;return{$x:()=>e.div(Object(M.e)(1).sub(n.toFloat().square()).sqrt())}};return b.a.runKernelFunc((e,n)=>{const r=e.asin(t);return n([t]),r},{$x:t},n)}function dt(e){const t=Object(k.a)(e,"x","acos"),n=(e,t)=>{const[n]=t;return{$x:()=>{const t=n.toFloat().square(),r=Object(M.e)(1).sub(t).sqrt();return e.div(r).neg()}}};return b.a.runKernelFunc((e,n)=>{const r=e.acos(t);return n([t]),r},{$x:t},n)}function pt(e){const t=Object(k.a)(e,"x","atan"),n=(e,t)=>{const[n]=t;return{$x:()=>e.div(n.toFloat().square().add(1))}};return b.a.runKernelFunc((e,n)=>{const r=e.atan(t);return n([t]),r},{$x:t},n)}function mt(e){const t=Object(k.a)(e,"x","sinh"),n=(e,t)=>{const[n]=t;return{$x:()=>n.toFloat().cosh().mul(e)}};return b.a.runKernelFunc((e,n)=>{const r=e.sinh(t);return n([t]),r},{$x:t},n)}function gt(e){const t=Object(k.a)(e,"x","cosh"),n=(e,t)=>{const[n]=t;return{$x:()=>n.toFloat().sinh().mul(e)}};return b.a.runKernelFunc((e,n)=>{const r=e.cosh(t);return n([t]),r},{$x:t},n)}function bt(e){const t=Object(k.a)(e,"x","tanh"),n=(e,t)=>{const[n]=t;return{x:()=>Object(M.e)(1).sub(n.square()).mul(e)}},r=[!0];return b.a.runKernelFunc((e,n)=>{const r=e.tanh(t);return n([r]),r},{x:t},n,"Tanh",{},null,r)}function yt(e){const t=Object(k.a)(e,"x","asinh"),n=(e,t)=>{const[n]=t;return{$x:()=>{const t=Object(M.e)(1).add(n.toFloat().square()).sqrt();return e.div(t)}}};return b.a.runKernelFunc((e,n)=>{const r=e.asinh(t);return n([t]),r},{$x:t},n)}function vt(e){const t=Object(k.a)(e,"x","acosh"),n=(e,t)=>{const[n]=t;return{$x:()=>{const t=n.toFloat().square().sub(1).sqrt();return e.div(t)}}};return b.a.runKernelFunc((e,n)=>{const r=e.acosh(t);return n([t]),r},{$x:t},n)}function wt(e){const t=Object(k.a)(e,"x","atanh"),n=(e,t)=>{const[n]=t;return{$x:()=>e.div(Object(M.e)(1).sub(n.toFloat().square()))}};return b.a.runKernelFunc((e,n)=>{const r=e.atanh(t);return n([t]),r},{$x:t},n)}function xt(e){let t=Object(k.a)(e,"x","erf");I.assert("int32"===t.dtype||"float32"===t.dtype,()=>"Input dtype must be `int32` or `float32`."),"int32"===t.dtype&&(t=t.toFloat());const n=(e,t)=>{const[n]=t;return{$x:()=>e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}};return b.a.runKernelFunc((e,n)=>{const r=e.erf(t);return n([t]),r},{$x:t},n)}function _t(e,t=0){const n=Object(k.a)(e,"x","step"),r=e=>({$x:()=>Object(M.o)(e)});return b.a.runKernelFunc(e=>e.step(n,t),{$x:n},r)}const St=Object(O.a)({abs_:it}),Et=Object(O.a)({acos_:dt}),Ct=Object(O.a)({acosh_:vt}),kt=Object(O.a)({asin_:ht}),Ot=Object(O.a)({asinh_:yt}),Tt=Object(O.a)({atan_:pt}),Nt=Object(O.a)({atanh_:wt}),At=Object(O.a)({ceil_:Ve}),It=Object(O.a)({clipByValue_:ot}),jt=Object(O.a)({cos_:ct}),Rt=Object(O.a)({cosh_:gt}),Mt=Object(O.a)({erf_:xt}),Pt=Object(O.a)({exp_:Ze}),Dt=Object(O.a)({expm1_:Je}),Lt=Object(O.a)({floor_:He}),Ft=Object(O.a)({log_:Qe}),Bt=Object(O.a)({log1p_:et}),zt=Object(O.a)({logSigmoid_:st}),$t=Object(O.a)({neg_:We}),Ut=Object(O.a)({reciprocal_:rt}),Wt=Object(O.a)({round_:Xe}),Vt=Object(O.a)({rsqrt_:nt}),Ht=Object(O.a)({sigmoid_:at}),Gt=Object(O.a)({sign_:Ge}),qt=Object(O.a)({isNaN_:qe}),Kt=Object(O.a)({isInf_:Ke}),Yt=Object(O.a)({isFinite_:Ye}),Xt=Object(O.a)({sin_:ut}),Zt=Object(O.a)({sinh_:mt}),Jt=Object(O.a)({softplus_:lt}),Qt=Object(O.a)({sqrt_:tt}),en=Object(O.a)({step_:_t}),tn=Object(O.a)({tan_:ft}),nn=Object(O.a)({tanh_:bt}),rn={kernelName:v.c,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{const t=N(Ue(n),Ue(r));let o=ie(e,ne(r,t));const a=x(n.shape,i);return a.length>0&&(o=Be(o,a)),K(o,n.shape)},a=()=>{const t=N(Ue(n),Ue(r));let o=$t(ie(e,ne(n,t)));const a=x(r.shape,i);return a.length>0&&(o=Be(o,a)),K(o,r.shape)};return{a:o,b:a}}};
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function on(e,t,n,r,i,o,a="channelsLast"){const[s,l]=hn(t);let u;if("channelsLast"===a)u=[s,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);u=[s,l,e[1],e[1]]}return sn(e,u,n,r,i,o,!1,a)}function an(e,t,n,r,i,o,a="NDHWC"){const[s,l,u]=dn(t);let c,f;if("NDHWC"===a)f="channelsLast",c=[s,l,u,e[4],e[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);f="channelsFirst",c=[s,l,u,e[1],e[1]]}return ln(e,c,n,r,i,!1,f,o)}function sn(e,t,n,r,i,o,a=!1,s="channelsLast"){let[l,u,c,f]=[-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,f]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,f,u,c]=e}const[h,d,,p]=t,[m,g]=hn(n),[b,y]=hn(r),v=pn(h,b),w=pn(d,y),{padInfo:x,outHeight:_,outWidth:S}=mn(i,u,c,m,g,v,w,o,s),E=a?p*f:p;let C;return"channelsFirst"===s?C=[l,E,_,S]:"channelsLast"===s&&(C=[l,_,S,E]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:f,outHeight:_,outWidth:S,outChannels:E,padInfo:x,strideHeight:m,strideWidth:g,filterHeight:h,filterWidth:d,effectiveFilterHeight:v,effectiveFilterWidth:w,dilationHeight:b,dilationWidth:y,inShape:e,outShape:C,filterShape:t}}function ln(e,t,n,r,i,o=!1,a="channelsLast",s){let[l,u,c,f,h]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[l,u,c,f,h]=e;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[l,h,u,c,f]=e}const[d,p,m,,g]=t,[b,y,v]=dn(n),[w,x,_]=dn(r),S=pn(d,w),E=pn(p,x),C=pn(m,_),{padInfo:k,outDepth:O,outHeight:T,outWidth:N}=gn(i,u,c,f,b,y,v,S,E,C,s),A=o?g*h:g;let I;return"channelsFirst"===a?I=[l,A,O,T,N]:"channelsLast"===a&&(I=[l,O,T,N,A]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:c,inWidth:f,inChannels:h,outDepth:O,outHeight:T,outWidth:N,outChannels:A,padInfo:k,strideDepth:b,strideHeight:y,strideWidth:v,filterDepth:d,filterHeight:p,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:E,effectiveFilterWidth:C,dilationDepth:w,dilationHeight:x,dilationWidth:_,inShape:e,outShape:I,filterShape:t}}function un(e,t,n,r,i){null==r&&(r=fn(e,t,n));const o=e[0],a=e[1],s=bn((o-t+2*r)/n+1,i);I.assert(I.isInt(s),()=>`The output # of rows (${s}) must be an integer. `+"Change the stride and/or zero pad parameters");const l=bn((a-t+2*r)/n+1,i);return I.assert(I.isInt(l),()=>`The output # of columns (${l}) must be an integer. `+"Change the stride and/or zero pad parameters"),[s,l]}function cn(e,t,n,r,i,o){null==i&&(i=fn(e,t,r));const a=e[0],s=e[1],l=e[2],u=bn((a-t+2*i)/r+1,o);I.assert(I.isInt(u),()=>`The output # of depths (${u}) must be an integer. `+"Change the stride and/or zero pad parameters");const c=bn((s-t+2*i)/r+1,o);I.assert(I.isInt(c),()=>`The output # of rows (${c}) must be an integer. `+"Change the stride and/or zero pad parameters");const f=bn((l-t+2*i)/r+1,o);return I.assert(I.isInt(f),()=>`The output # of columns (${f}) must be an integer. `+"Change the stride and/or zero pad parameters"),[u,c,f,n]}function fn(e,t,n,r=1){const i=pn(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function hn(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function dn(e){return"number"==typeof e?[e,e,e]:e}function pn(e,t){return t<=1?e:e+(e-1)*(t-1)}function mn(e,t,n,r,i,o,a,s,l){let u,c,f;if("number"==typeof e){const i=0===e?"VALID":"NUMBER";u={top:e,bottom:e,left:e,right:e,type:i};const a=un([t,n],o,r,e,s);c=a[0],f=a[1]}else if("same"===e){c=Math.ceil(t/r),f=Math.ceil(n/i);const e=Math.max(0,(c-1)*r+o-t),s=Math.max(0,(f-1)*i+a-n),l=Math.floor(e/2),h=e-l,d=Math.floor(s/2),p=s-d;u={top:l,bottom:h,left:d,right:p,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/r),f=Math.ceil((n-a+1)/i);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const h="channelsLast"===l?e[1][0]:e[2][0],d="channelsLast"===l?e[1][1]:e[2][1],p="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1],g=0===h&&0===d&&0===p&&0===m?"VALID":"EXPLICIT";u={top:h,bottom:d,left:p,right:m,type:g},c=bn((t-o+h+d)/r+1,s),f=bn((n-a+p+m)/i+1,s)}}return{padInfo:u,outHeight:c,outWidth:f}}function gn(e,t,n,r,i,o,a,s,l,u,c){let f,h,d,p;if("number"==typeof e){const o=0===e?"VALID":"NUMBER";f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:o};const a=cn([t,n,r,1],s,1,i,e,c);h=a[0],d=a[1],p=a[2]}else if("same"===e){const e=((h=Math.ceil(t/i))-1)*i+s-t,c=((d=Math.ceil(n/o))-1)*o+l-n,m=((p=Math.ceil(r/a))-1)*a+u-r,g=Math.floor(e/2),b=e-g,y=Math.floor(c/2),v=c-y,w=Math.floor(m/2),x=m-w;f={top:y,bottom:v,left:w,right:x,front:g,back:b,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/i),d=Math.ceil((n-l+1)/o),p=Math.ceil((r-u+1)/a)}return{padInfo:f,outDepth:h,outHeight:d,outWidth:p}}function bn(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function yn(e){const[t,n,r]=hn(e);return 1===t&&1===n&&1===r}function vn(e,t){return yn(e)||yn(t)}function wn(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xn(e,t,n,r,i=[1,1,1],o,a){const s=Object(k.a)(e,"dy","avgPool3dBackprop"),l=Object(k.a)(t,"input","avgPool3dBackprop");let u=s,c=l,f=!1;4===l.rank&&(f=!0,u=K(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),c=K(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),I.assert(5===u.rank,()=>"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+`${u.rank}.`),I.assert(5===c.rank,()=>"Error in avgPool3dBackprop: input must be rank 5 but got rank "+`${c.rank}.`),I.assert(vn(r,i),()=>"Error in avgPool3dBackprop: Either strides or dilations "+`must be 1. Got strides ${r} and dilations '${i}'`),null!=a&&I.assert(I.isInt(o),()=>"Error in maxPool3dBackprop: pad must be an integer when "+`using, dimRoundingMode ${a} but got pad ${o}.`);const h=e=>{const t=an(c.shape,n,r,i,o,a);return e.avgPool3dBackprop(u,c,t)},d={dy:u,input:c},p={filterSize:n,strides:r,dilations:i,pad:o,dimRoundingMode:a},m=b.a.runKernelFunc(h,d,null,v.f,p);return f?K(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const _n=Object(O.a)({avgPool3dBackprop_:xn}),Sn={kernelName:v.e,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:i,strides:o,dilations:a,pad:s,dimRoundingMode:l}=n,u=null==a?[1,1,1]:a;return{x:()=>_n(e,r,i,o,u,s,l)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function En(e,t,n,r,i){const o=Object(k.a)(e,"dy","avgPoolBackprop"),a=Object(k.a)(t,"input","avgPoolBackprop");I.assert(a.rank===o.rank,()=>`Rank of input (${a.rank}) does not match rank of dy (${o.rank})`);let s=a,l=o,u=!1;3===a.rank&&(u=!0,s=K(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=K(o,[1,o.shape[0],o.shape[1],o.shape[2]])),I.assert(4===l.rank,()=>"Error in avgPoolBackprop: dy must be rank 4 but got rank "+`${l.rank}.`),I.assert(4===s.rank,()=>"Error in avgPoolBackprop: input must be rank 4 but got rank "+`${s.rank}.`);const c=e=>{const t=on(s.shape,n,r,1,i);return e.avgPoolBackprop(l,s,t)},f={dy:l,input:s},h={filterSize:n,strides:r,pad:i},d=b.a.runKernelFunc(c,f,null,v.g,h);return u?K(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Cn=Object(O.a)({avgPoolBackprop_:En}),kn={kernelName:v.d,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:i,strides:o,pad:a}=n;return{x:()=>Cn(e,r,i,o,a)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function On(e,t,n=!1,r=!1){let i=Object(k.a)(e,"a","matMul"),o=Object(k.a)(t,"b","matMul");[i,o]=Object(C.makeTypesMatch)(i,o),I.assert(i.rank>=2&&o.rank>=2&&i.rank===o.rank,()=>"Error in matMul: inputs must have the same rank of at least 2, "+`got ranks ${i.rank} and ${o.rank}.`);const a=n?i.shape[i.rank-2]:i.shape[i.rank-1],s=r?o.shape[o.rank-1]:o.shape[o.rank-2],l=n?i.shape[i.rank-1]:i.shape[i.rank-2],u=r?o.shape[o.rank-2]:o.shape[o.rank-1],c=i.shape.slice(0,-2),f=o.shape.slice(0,-2),h=I.sizeFromShape(c),d=I.sizeFromShape(f);I.assert(I.arraysEqual(c,f),()=>`Error in matMul: outer dimensions (${c}) and (`+`${f}) of Tensors with shapes ${i.shape} and `+`${o.shape} must match.`),I.assert(a===s,()=>`Error in matMul: inner shapes (${a}) and (`+`${s}) of Tensors with shapes ${i.shape} and `+`${o.shape} and transposeA=${n}`+` and transposeB=${r} must match.`);const p=i.shape.slice(0,-2).concat([l,u]),m=K(i,n?[h,a,l]:[h,l,a]),g=K(o,r?[d,u,s]:[d,s,u]),y=(e,t)=>(t([m,g]),e.batchMatMul(m,g,n,r)),w={a:m,b:g},x={transposeA:n,transposeB:r},_=b.a.runKernelFunc(y,w,null,v.h,x);return K(_,p)}const Tn=Object(O.a)({matMul_:On}),Nn={kernelName:v.h,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,i]=t,{transposeA:o,transposeB:a}=n;return o||a?!o&&a?{a:()=>Tn(e,i,!1,!1),b:()=>Tn(e,r,!0,!1)}:o&&!a?{a:()=>Tn(i,e,!1,!0),b:()=>Tn(r,e,!1,!1)}:{a:()=>Tn(i,e,!0,!0),b:()=>Tn(e,r,!0,!0)}:{a:()=>Tn(e,i,!1,!0),b:()=>Tn(r,e,!0,!1)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function An(e,t,n){const r=Object(k.a)(e,"x","spaceToBatchND");I.assert(r.rank>=1+t.length,()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`),I.assert(n.length===t.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`),I.assert(r.shape.reduce((e,r,i)=>i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`);const i=e=>e.spaceToBatchND(r,t,n),o={x:r},a={blockShape:t,paddings:n};return b.a.runKernelFunc(i,o,null,v.lb,a)}const In=Object(O.a)({spaceToBatchND_:An}),jn={kernelName:v.i,gradFunc:(e,t,n)=>{const{blockShape:r,crops:i}=n;return{x:()=>In(e,r,i)}}},Rn={kernelName:v.j,gradFunc:(e,t,n)=>{const r=n,i=r.inputShape,o=r.shape,a=Array.from(o);for(let e=i.length-1;e>=0;e--)if(i[e]===o[e])a[e]=1;else if(1!==i[e])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${o}].`);const s=[];for(let e=0;e<a.length;e++)a[e]>1&&s.push(e);return{x:()=>Be(e,s,!0)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Mn(e,t,n=0){const r=Object(k.a)(e,"x","split"),i=Object(I.parseAxisParam)(n,r.shape)[0];let o;"number"==typeof t?(Object(I.assert)(r.shape[i]%t==0,()=>"Number of splits must evenly divide the axis."),o=new Array(t).fill(r.shape[i]/t)):(Object(I.assert)(r.shape[i]===t.reduce((e,t)=>e+t),()=>"The sum of sizes must match the size of the axis dimension."),o=t);const a=(e,t)=>e.split(r,o,i),s={x:r},l={numOrSizeSplits:t,axis:n};return b.a.runKernelFunc(a,s,null,v.mb,l)}const Pn=Object(O.a)({split_:Mn}),Dn={kernelName:v.l,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map(e=>e.shape),{axis:i}=n,o=Object(I.parseAxisParam)(i,t[0].shape)[0],a=r.map(e=>e[o]),s=Pn(e,a,o);return s.map(e=>()=>e)}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ln(e,t,n,r,i,o="NHWC",a){let s=e;3===e.rank&&(s=K(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=K(t,[1,t.shape[0],t.shape[1],t.shape[2]])),I.assert(4===s.rank,()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+`${s.shape}.`),I.assert(4===l.rank,()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+`${l.shape}.`),I.assert(4===n.length,()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+`${n}.`);const u="NHWC"===o?s.shape[3]:s.shape[1],c="NHWC"===o?l.shape[3]:l.shape[1];I.assert(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must `+`match input depth in filter (${n[2]}.`),I.assert(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must `+`match output depth for filter (${n[3]}).`),null!=a&&I.assert(I.isInt(i),()=>"Error in conv2dDerFilter: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${i}.`);const f=e=>{const t=1,u=wn(o),c=sn(s.shape,n,r,1,i,a,!1,u);return e.conv2dDerFilter(s,l,c)},h={x:s,dy:l},d={strides:r,pad:i,dataFormat:o,dimRoundingMode:a};return b.a.runKernelFunc(f,h,null,v.n,d)}const Fn=Object(O.a)({conv2DBackpropFilter_:Ln});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bn(e,t,n,r,i,o="NHWC",a){I.assert(e.length===t.rank,()=>"Length of inShape "+`(${e.length}) and rank of dy (${t.rank}) must match`);let s=e,l=t,u=!1;3===t.rank&&(u=!0,l=K(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),I.assert(4===s.length,()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+`${s.length}.`),I.assert(4===l.rank,()=>"Error in conv2dDerInput: dy must be rank 4, but got "+`rank ${l.rank}`),I.assert(4===n.rank,()=>"Error in conv2dDerInput: filter must be rank 4, but got "+`rank ${n.rank}`);const c="NHWC"===o?s[3]:s[1],f="NHWC"===o?l.shape[3]:l.shape[1];I.assert(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must `+`match input depth for filter ${n.shape[2]}.`),I.assert(f===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${f}) must `+`match output depth for filter ${n.shape[3]}.`),null!=a&&I.assert(I.isInt(i),()=>"Error in conv2dDerInput: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${i}.`);const h=(e,t)=>{const u=1,c=wn(o),f=sn(s,n.shape,r,1,i,a,!1,c),h=e.conv2dDerInput(l,n,f);return t([l,n]),h},d={dy:l,filter:n},p={strides:r,pad:i,dataFormat:o,dimRoundingMode:a},m=b.a.runKernelFunc(h,d,null,v.o,p);return u?K(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const zn=Object(O.a)({conv2DBackpropInput_:Bn}),$n={kernelName:v.m,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,i]=t,{dilations:o,strides:a,pad:s,dataFormat:l}=n;return I.assert(yn(o),()=>"Error in gradient of conv2D: dilation rates greater than 1 "+`are not yet supported in gradients. Got dilations '${o}'`),{x:()=>zn(r.shape,e,i,a,s,l),filter:()=>Fn(r,e,i.shape,a,s,l)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Un(e,t,n,r,i="NHWC",o=[1,1],a){const s=Object(k.a)(e,"x","conv2d"),l=Object(k.a)(t,"filter","conv2d");let u=s,c=!1;3===s.rank&&(c=!0,u=K(s,[1,s.shape[0],s.shape[1],s.shape[2]])),I.assert(4===u.rank,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),I.assert(4===l.rank,()=>"Error in conv2d: filter must be rank 4, but got rank "+`${l.rank}.`),null!=a&&I.assert(I.isInt(r),()=>"Error in conv2d: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${r}.`);const f="NHWC"===i?u.shape[3]:u.shape[1];I.assert(f===l.shape[2],()=>`Error in conv2d: depth of input (${f}) must match `+`input depth for filter ${l.shape[2]}.`),I.assert(vn(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '${o}'`);const h=(e,t)=>{const s=wn(i),c=sn(u.shape,l.shape,n,o,r,a,!1,s),f=e.conv2d(u,l,c);return t([u,l]),f},d={x:u,filter:l},p={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:a},m=b.a.runKernelFunc(h,d,null,v.m,p);return c?K(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const Wn=Object(O.a)({conv2d_:Un}),Vn={kernelName:v.o,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,i]=t,{strides:o,pad:a,dataFormat:s,dimRoundingMode:l}=n;return{dy:()=>Wn(e,i,o,a,s,1,l),filter:()=>Fn(e,r,i.shape,o,a,s,l)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Hn(e,t,n,r,i){let o=e;4===e.rank&&(o=K(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let a=t;4===a.rank&&(a=K(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),I.assert(5===o.rank,()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+`${o.shape}.`),I.assert(5===a.rank,()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+`${a.shape}.`),I.assert(5===n.length,()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+`${n}.`),I.assert(o.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${o.shape[4]}) must `+`match input depth in filter (${n[3]}.`),I.assert(a.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must `+`match output depth for filter (${n[4]}).`);const s=e=>{const t=1,s=ln(o.shape,n,r,1,i);return e.conv3dDerFilter(o,a,s)},l={x:o,y:a},u={strides:r,pad:i};return b.a.runKernelFunc(s,l,null,v.q,u)}const Gn=Object(O.a)({conv3DBackpropFilter_:Hn});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qn(e,t,n,r,i){I.assert(e.length===t.rank,()=>"Length of inShape "+`(${e.length}) and rank of dy (${t.rank}) must match`);let o=e,a=t,s=!1;4===t.rank&&(s=!0,a=K(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],u=a.shape[4];I.assert(5===o.length,()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+`${o.length}.`),I.assert(5===a.rank,()=>"Error in conv3dDerInput: dy must be rank 5, but got "+`rank ${a.rank}`),I.assert(5===n.rank,()=>"Error in conv3dDerInput: filter must be rank 5, but got "+`rank ${n.rank}`),I.assert(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must `+`match input depth for filter ${n.shape[3]}.`),I.assert(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must `+`match output depth for filter ${n.shape[4]}.`);const c=e=>{const t=1,s=ln(o,n.shape,r,1,i);return e.conv3dDerInput(a,n,s)},f={dy:a},h={pad:i},d=b.a.runKernelFunc(c,f,null,v.r,h);return s?K(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const Kn=Object(O.a)({conv3DBackpropInput_:qn}),Yn={kernelName:v.p,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:i,pad:o}=n;I.assert(yn(r),()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+`not yet supported in gradients. Got dilations '${r}'`);const[a,s]=t;return{x:()=>Kn(a.shape,e,s,i,o),filter:()=>Gn(a,e,s.shape,i,o)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Xn(e,t){const n=Object(k.a)(e,"x","transpose");if(null==t&&(t=n.shape.map((e,t)=>t).reverse()),I.assert(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} `+`must match length of perm ${t}.`),t.forEach(e=>{I.assert(e>=0&&e<n.rank,()=>`All entries in 'perm' must be between 0 and ${n.rank-1}`+` but got ${t}`)}),n.rank<=1)return n.clone();const r={perm:t};return b.a.runKernelFunc(e=>e.transpose(n,t),{x:n},null,"Transpose",r)}const Zn=Object(O.a)({transpose_:Xn});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jn(e,t=0,n=!1,r=!1){const i=Object(k.a)(e,"x","cumsum"),o=(e,o)=>{const a=be([t],i.rank);let s=i;null!=a&&(s=Zn(i,a));const l=ve(1,i.rank)[0];let u=e.cumsum(s,l,n,r);return o([i]),null!=a&&(u=Zn(u,a)),u},a={x:i},s={axis:t,exclusive:n,reverse:r};return b.a.runKernelFunc(o,a,null,v.s,s)}const Qn=Object(O.a)({cumsum_:Jn}),er={kernelName:v.s,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:i,exclusive:o,reverse:a}=n;return{x:()=>{const t=be([i],r.rank);let n=Qn(e,i,o,!a);return null!=t&&(n=Zn(n,t)),n}}}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function tr(e,t,n,r){let i=e;3===e.rank&&(i=K(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let o=t;3===o.rank&&(o=K(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const a=e=>e.depthwiseConv2DDerFilter(i,o,r),s={x:i,dy:o};return b.a.runKernelFunc(a,s,null,v.v)}const nr=Object(O.a)({depthwiseConv2dNativeBackpropFilter_:tr});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rr(e,t,n,r){let i=t,o=!1;3===t.rank&&(o=!0,i=K(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const a=e=>e.depthwiseConv2DDerInput(i,n,r),s={dy:i},l=b.a.runKernelFunc(a,s,null,v.w);return o?K(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const ir=Object(O.a)({depthwiseConv2dNativeBackpropInput_:rr}),or={kernelName:v.u,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:i,pad:o,dimRoundingMode:a}=n,s=null==r?[1,1]:r;I.assert(yn(s),()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+`'${s}'`);const[l,u]=t;I.assert(4===l.rank,()=>"Error in gradient of depthwiseConv2dNative: input must be "+`rank 4, but got rank ${l.rank}.`),I.assert(4===u.rank,()=>"Error in gradient of depthwiseConv2dNative: filter must be "+`rank 4, but got rank ${u.rank}.`),I.assert(l.shape[3]===u.shape[2],()=>"Error in gradient of depthwiseConv2d: number of input "+`channels (${l.shape[3]}) must match the inChannels dimension `+`in filter ${u.shape[2]}.`),I.assert(vn(i,s),()=>"Error in gradient of depthwiseConv2d: Either strides or "+`dilations must be  1. Got strides ${i} and dilations `+`'${s}'.`),null!=a&&I.assert(I.isInt(o),()=>"Error in depthwiseConv2d: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${o}.`);const c=sn(l.shape,u.shape,i,s,o,a,!0);return{x:()=>ir(l.shape,e,u,c),filter:()=>nr(l,e,u.shape,c)}}},ar={kernelName:v.y,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{const t=ne(e,r.toFloat()),o=x(n.shape,i);return o.length>0?Be(t,o).reshape(n.shape):t},a=()=>{let t=ie(e,n.toFloat());const o=x(r.shape,i);o.length>0&&(t=K(Be(t,o),r.shape));const a=Ue(r);return $t(ne(t,a.toFloat()))};return{a:o,b:a}}},sr={kernelName:v.z,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r=t=>t.eluDer(e,n),i={dy:e,y:n};return{x:()=>b.a.runKernelFunc(r,i,null,v.A)}}},lr={kernelName:v.D,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{const t=e.div(r.toFloat()),o=x(n.shape,i);return o.length>0?t.sum(o).reshape(n.shape):t},a=()=>{let t=e.mul(n.toFloat());const o=x(r.shape,i);o.length>0&&(t=t.sum(o).reshape(r.shape));const a=r.square();return t.div(a.toFloat()).neg()};return{a:o,b:a}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function ur(e,t){let n=Object(k.a)(e,"a","sub"),r=Object(k.a)(t,"b","sub");[n,r]=Object(C.makeTypesMatch)(n,r);const i=(e,t)=>{const i=e.subtract(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.pb)}const cr=Object(O.a)({sub_:ur});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fr(e,t){const n=null,r=Object(k.a)(e,"x","tile",null);I.assert(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} `+`must match length of reps ${t}.`);const i=(e,n)=>{const i=e.tile(r,t);return n([r]),i},o=[r],a={x:r},s={reps:t};return b.a.runKernelFunc(i,a,null,v.qb,s,o)}const hr=Object(O.a)({tile_:fr}),dr={kernelName:v.F,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[i,o,a,s]=t,l=null==s?Object(M.e)(1):s,u=x(o.shape,i.shape),c=[];if(1===o.rank){for(let e=0;e<i.shape.length-1;++e)c.push(i.shape[e]);c.push(1)}const f=cr(i,o),h=ie(e,l),d=Vt(N(a,Object(M.e)(r))),p=ie(ie(ie(d,d),d),Object(M.e)(-.5)),m=()=>1===o.rank?K(ie(ie(e,hr(d.as4D(1,1,1,o.shape[0]),c)),l),i.shape):K(ie(ie(e,d),l),i.shape),g=()=>{let e=ie(ie(d,Object(M.e)(-1)),h);return 1===o.rank&&(e=Be(e,u)),K(e,o.shape)},b=()=>{let e=ie(ie(p,f),h);return 1===o.rank&&(e=Be(e,u)),K(e,o.shape)},y=()=>{const t=ie(f,d);let n=ie(e,t);return 1===o.rank&&(n=Be(n,u)),K(n,o.shape)},v=()=>{let t=e;return 1===o.rank&&(t=Be(t,u)),K(t,o.shape)};return{x:m,mean:g,variance:b,scale:y,offset:v}}},pr={kernelName:v.I,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Object(M.o)(n),b:()=>Object(M.o)(r)}}},mr={kernelName:v.J,gradFunc:e=>({x:()=>e.toFloat()})};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function gr(e,t,n,r=5,i=1,o=1,a=.5){const s=s=>s.LRNGrad(n,e,t,r,i,o,a),l={x:e,y:t,dy:n},u={depthRadius:r,bias:i,alpha:o,beta:a};return b.a.runKernelFunc(s,l,null,v.M,u)}const br=Object(O.a)({localResponseNormalizationBackprop_:gr}),yr={kernelName:v.L,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,i]=t,{depthRadius:o,bias:a,alpha:s,beta:l}=n;return{x:()=>br(r,i,e,o,a,s,l)}}},vr={kernelName:v.P,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:i}=r,[o,a]=t,s=I.parseAxisParam(i,o.shape),l=be(s,o.rank),u=we(e,a,o,s,l);return{x:()=>{let e=u.x();return null!=l&&(e=Zn(e)),e}}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function wr(e,t){let n=Object(k.a)(e,"a","greaterEqual"),r=Object(k.a)(t,"b","greaterEqual");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=(e,t)=>{const i=e.greaterEqual(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.I)}const xr=Object(O.a)({greaterEqual_:wr});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _r(e,t){let n=Object(k.a)(e,"a","less"),r=Object(k.a)(t,"b","less");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=e=>e.less(n,r),o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.N)}const Sr=Object(O.a)({less_:_r}),Er={kernelName:v.V,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=()=>ie(e,G(xr(n,r),"float32")),o=()=>ie(e,G(Sr(n,r),"float32"));return{a:i,b:o}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Cr(e,t,n,r,i,o=[1,1,1],a,s){const l=Object(k.a)(e,"dy","maxPool3dBackprop"),u=Object(k.a)(t,"input","maxPool3dBackprop"),c=Object(k.a)(n,"output","maxPool3dBackprop");let f=l,h=u,d=c,p=!1;4===u.rank&&(p=!0,f=K(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=K(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=K(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),I.assert(5===f.rank,()=>"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+`${f.rank}.`),I.assert(5===h.rank,()=>"Error in maxPool3dBackprop: input must be rank 5 but got rank "+`${h.rank}.`),I.assert(5===d.rank,()=>"Error in maxPool3dBackprop: output must be rank 5 but got rank "+`${d.rank}.`),I.assert(vn(i,o),()=>"Error in maxPool3dBackprop: Either strides or dilations "+`must be 1. Got strides ${i} and dilations '${o}'`),null!=s&&I.assert(I.isInt(a),()=>"Error in maxPool3dBackprop: pad must be an integer when "+`using, dimRoundingMode ${s} but got pad ${a}.`);const m=e=>{const t=an(h.shape,r,i,o,a,s);return e.maxPool3dBackprop(f,h,d,t)},g={dy:f,input:h,output:d},y={filterSize:r,strides:i,dilations:o,pad:a,dimRoundingMode:s},w=b.a.runKernelFunc(m,g,null,v.S,y);return p?K(w,[w.shape[1],w.shape[2],w.shape[3],w.shape[4]]):w}const kr=Object(O.a)({maxPool3dBackprop_:Cr}),Or={kernelName:v.R,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,i]=t,{filterSize:o,strides:a,dilations:s,pad:l,dimRoundingMode:u}=n,c=null==s?[1,1,1]:s;return{x:()=>kr(e,r,i,o,a,c,l,u)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Tr(e,t,n,r,i,o,a){const s=Object(k.a)(e,"dy","maxPoolBackprop"),l=Object(k.a)(t,"input","maxPoolBackprop"),u=Object(k.a)(n,"output","maxPoolBackprop");I.assert(l.rank===s.rank,()=>`Rank of input (${l.rank}) does not match rank of dy `+`(${s.rank})`),I.assert(4===s.rank,()=>"Error in maxPoolBackprop: dy must be rank 4 but got rank "+`${s.rank}.`),I.assert(4===l.rank,()=>"Error in maxPoolBackprop: input must be rank 4 but got rank "+`${l.rank}.`),null!=a&&I.assert(I.isInt(o),()=>"Error in maxPoolBackprop: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${o}.`);const c=e=>{const t=on(l.shape,r,i,1,o,a);return e.maxPoolBackprop(s,l,u,t)},f={dy:s,input:l,output:u},h={filterSize:r,strides:i,pad:o,dimRoundingMode:a};return b.a.runKernelFunc(c,f,null,v.T,h)}const Nr=Object(O.a)({maxPoolBackprop_:Tr}),Ar={kernelName:v.Q,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,i]=t,{filterSize:o,strides:a,pad:s}=n;return{x:()=>Nr(e,r,i,o,a,s)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Ir(e,t){let n=Object(k.a)(e,"a","greater"),r=Object(k.a)(t,"b","greater");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=e=>e.greater(n,r),o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.H)}const jr=Object(O.a)({greater_:Ir});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rr(e,t){let n=Object(k.a)(e,"a","lessEqual"),r=Object(k.a)(t,"b","lessEqual");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=(e,t)=>{const i=e.lessEqual(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.O)}const Mr=Object(O.a)({lessEqual_:Rr}),Pr={kernelName:v.W,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=()=>ie(e,G(Mr(n,r),"float32")),o=()=>ie(e,G(jr(n,r),"float32"));return{a:i,b:o}}},Dr={kernelName:v.X,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{const t=x(n.shape,i);return t.length>0?K(Be(e,t),n.shape):e},a=()=>{const t=ie(e,$t(Lt(ne(n,r)))),o=x(r.shape,i);return o.length>0?K(Be(t,o),r.shape):t};return{a:o,b:a}}},Lr={kernelName:v.Y,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{const t=ie(e,G(r,"float32")),o=x(n.shape,i);return o.length>0?K(Be(t,o),n.shape):t},a=()=>{const t=ie(e,G(n,"float32")),o=x(r.shape,i);return o.length>0?K(Be(t,o),r.shape):t};return{a:o,b:a}}},Fr={kernelName:v.cb,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>Object(M.n)(n.shape,"float32")}}},Br={kernelName:v.db,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:i}=n,o=i.map(e=>e[0]);return{x:()=>e.slice(o,r.shape)}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function zr(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const r=V(e,"int32"),i=V([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const o=r.indexToLoc(n[t]),a=t*e.length;i.values.set(o,a)}return i.toTensor()}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $r(e){const t=Object(k.a)(e,"x","logicalNot","bool");return b.a.runKernelFunc(e=>e.logicalNot(t),{$x:t})}function Ur(e,t){const n=Object(k.a)(e,"a","logicalAnd","bool"),r=Object(k.a)(t,"b","logicalAnd","bool");return _(n.shape,r.shape),b.a.runKernelFunc(e=>e.logicalAnd(n,r),{a:n,b:r},null,"LogicalAnd")}function Wr(e,t){const n=Object(k.a)(e,"a","logicalOr","bool"),r=Object(k.a)(t,"b","logicalOr","bool");return _(n.shape,r.shape),b.a.runKernelFunc(e=>e.logicalOr(n,r),{$a:n,$b:r})}function Vr(e,t){const n=Object(k.a)(e,"a","logicalXor","bool"),r=Object(k.a)(t,"b","logicalXor","bool");return _(n.shape,r.shape),Yr(e,t).logicalAnd(qr(e,t).logicalNot())}function Hr(e,t,n){const r=Object(k.a)(t,"a","where"),i=Object(k.a)(n,"b","where"),o=Object(k.a)(e,"condition","where","bool");Object(I.assertShapesMatch)(r.shape,i.shape,"Error in where: "),1===o.rank?Object(I.assert)(o.shape[0]===r.shape[0],()=>"The first dimension of `a` must match the size of `condition`."):Object(I.assertShapesMatch)(o.shape,i.shape,"Error in where: ");const a=(e,t)=>{const[n]=t;return{condition:()=>Object(M.o)(n).toFloat(),t:()=>e.mul(n.cast(e.dtype)),e:()=>e.mul(n.logicalNot().cast(e.dtype))}},s={condition:o,t:r,e:i};return b.a.runKernelFunc((e,t)=>{const n=e.select(o,r,i);return t([o]),n},s,a,v.jb)}async function Gr(e){const t=Object(k.a)(e,"condition","whereAsync","bool"),n=await t.data(),r=zr(t.shape,n);return e!==t&&t.dispose(),r}const qr=Object(O.a)({logicalAnd_:Ur}),Kr=Object(O.a)({logicalNot_:$r}),Yr=Object(O.a)({logicalOr_:Wr}),Xr=Object(O.a)({logicalXor_:Vr}),Zr=Object(O.a)({where_:Hr}),Jr=Gr;
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Qr(e,t){let n=Object(k.a)(e,"base","pow"),r=Object(k.a)(t,"exp","pow");[n,r]=Object(C.makeTypesMatch)(n,r);const i={a:n,b:r},o=(e,t)=>{const i=e.pow(n,r);return t([n,r,i]),i};return b.a.runKernelFunc(o,i,null,v.eb)}const ei=Object(O.a)({pow_:Qr}),ti={kernelName:v.eb,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,i]=t,o=n,a=r,s=_(o.shape,a.shape),l=()=>{const t=G(a,"float32");let n=ie(e,ie(t,ei(o,cr(t,Object(M.e)(1)))));const r=x(o.shape,s);return r.length>0&&(n=Be(n,r)),K(n,o.shape)},u=()=>{const t=jr(o,0),n=Zr(t,Ft(o),Object(M.o)(o));let r=ie(e,ie(i,n));const l=x(a.shape,s);return l.length>0&&(r=Be(r,l)),K(r,a.shape)};return{a:l,b:u}}},ni={kernelName:v.fb,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,i=jr(n,0);return{x:()=>Zr(i,e,ie(e,r)),alpha:()=>{let t=Zr(i,Object(M.o)(e),ie(e,n));const o=x(r.shape,e.shape);return o.length>0&&(t=Be(t,o)),K(t,r.shape)}}}},ri={kernelName:v.ib,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=ie(Mr(n,6),en(n));return{x:()=>ie(e,G(r,"float32"))}}},ii={kernelName:v.hb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ie(e,G(en(n),"float32"))}}},oi=1.7580993408473768,ai=1.0507009873554805,si={kernelName:v.kb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=jr(n,Object(M.e)(0)),r=Object(M.e)(oi),i=Object(M.e)(ai),o=ie(e,i),a=ie(ie(e,r),Pt(G(n,"float32")));return Zr(t,o,a)}}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function li(e,t,n){const r=Object(k.a)(e,"x","batchToSpaceND"),i=t.reduce((e,t)=>e*t);I.assert(r.rank>=1+t.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`),I.assert(n.length===t.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`),I.assert(r.shape[0]%i==0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of `+`the elements of blockShape ${t.join(" * ")} === ${i}`);const o=e=>e.batchToSpaceND(r,t,n),a={x:r},s={blockShape:t,crops:n};return b.a.runKernelFunc(o,a,null,v.i,s)}const ui=Object(O.a)({batchToSpaceND_:li}),ci={kernelName:v.lb,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:i}=n;return{x:()=>ui(e,r,i)}}},fi={kernelName:v.mb,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>D(e,r)}}},hi={kernelName:v.nb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>ie(e,ie(n.toFloat(),2))}}},di={kernelName:v.ob,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=Object(M.e)(2),o=()=>ie(e,ie(i,cr(n,r))),a=()=>ie(e,ie(i,cr(r,n)));return{a:o,b:a}}},pi={kernelName:v.pb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,i=_(n.shape,r.shape),o=()=>{let t=e;const r=x(n.shape,i);return r.length>0&&(t=Be(t,r)),K(t,n.shape)},a=()=>{let t=e;const n=x(r.shape,i);return n.length>0&&(t=Be(t,n)),K($t(t),r.shape)};return{a:o,b:a}}};
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function mi(e,t,n=0){const r=Object(k.a)(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i=(e,i)=>(i([r]),e.pad(r,t,n)),o={paddings:t,constantValue:n},a={x:r};return b.a.runKernelFunc(i,a,null,v.db,o)}const gi=Object(O.a)({pad_:mi});
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bi(e,t,n){I.assert(e.rank===t.length,()=>`Error in slice${e.rank}D: Length of begin ${t} must `+`match the rank of the array (${e.rank}).`),I.assert(e.rank===n.length,()=>`Error in slice${e.rank}D: Length of size ${n} must `+`match the rank of the array (${e.rank}).`);for(let r=0;r<e.rank;++r)I.assert(t[r]+n[r]<=e.shape[r],()=>`Error in slice${e.rank}D: begin[${r}] + size[${r}] `+`(${t[r]+n[r]}) would overflow input.shape[${r}] (${e.shape[r]})`)}function yi(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function vi(e,t,n){const r=[];for(let i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function wi(e,t,n){const r=[...e];for(let e=0;e<n;e++)0===e?r[t]=1:(r.splice(t,0,1),r.pop());return r}function xi(e,t,n){const r=[...e];for(let e=0;e<n;e++)0===e?r[t]=0:(r.splice(t,0,0),r.pop());return r}function _i(e,t,n,r){const i=[...e];for(let e=0;e<n;e++)0===e?i[t]=Number.MAX_SAFE_INTEGER:(i.splice(t,0,Number.MAX_SAFE_INTEGER),i.pop());for(let e=0;e<i.length;e++)i[e]=I.clamp(0,i[e],r[e]);return i}function Si(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function Ei(e,t,n,r,i,o){let a=t[i];const s=n[i]||1;(e&1<<i||o&1<<i||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[i];return a<0&&(a+=l),a=I.clamp(0,a,l-1)}function Ci(e,t,n,r,i,o){let a=t[i];const s=n[i]||1;(e&1<<i||o&1<<i||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[i];return a<0&&(a+=l),a=s>0?I.clamp(0,a,l):I.clamp(-1,a,l-1)}function ki(e,t,n){let r=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){r=e;break}for(let i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function Oi(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ti(e,t,n){const r=Object(k.a)(e,"x","slice1d");return I.assert(1===r.rank,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Ri(r,[t],[n])}function Ni(e,t,n){const r=Object(k.a)(e,"x","slice2d");return I.assert(2===r.rank,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Ri(r,t,n)}function Ai(e,t,n){const r=Object(k.a)(e,"x","slice3d");return I.assert(3===r.rank,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Ri(r,t,n)}function Ii(e,t,n){const r=Object(k.a)(e,"x","slice4d");return I.assert(4===r.rank,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Ri(r,t,n)}function ji(e,t,n){const r=Object(k.a)(e,"x","slice");if(0===r.rank)throw new Error("Slicing scalar is not possible");let i,o;(i="number"==typeof t?[t,...new Array(r.rank-1).fill(0)]:t.length<r.rank?t.concat(new Array(r.rank-t.length).fill(0)):t.slice()).forEach(e=>{I.assert(-1!==e,()=>"slice() does not support negative begin indexing.")}),o=(o=null==n?new Array(r.rank).fill(-1):"number"==typeof n?[n,...new Array(r.rank-1).fill(-1)]:n.length<r.rank?n.concat(new Array(r.rank-n.length).fill(-1)):n).map((e,t)=>e>=0?e:(I.assert(-1===e,()=>"Negative size values should be exactly -1 but got "+`${e} for the slice() size at index ${t}.`),r.shape[t]-i[t])),bi(r,i,o);const a=r.shape,s=e=>{const t=[];for(let n=0;n<e.rank;n++)t.push([i[n],a[n]-i[n]-o[n]]);return{x:()=>gi(e,t)}},l={begin:i,size:o};return b.a.runKernelFunc(e=>e.slice(r,i,o),{x:r},s,"Slice",l)}const Ri=Object(O.a)({slice_:ji}),Mi=Object(O.a)({slice1d_:Ti}),Pi=Object(O.a)({slice2d_:Ni}),Di=Object(O.a)({slice3d_:Ai}),Li=Object(O.a)({slice4d_:Ii}),Fi={kernelName:v.qb,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:i}=n,o=()=>{let t=Object(M.o)(r);if(1===r.rank)for(let n=0;n<i[0];++n)t=N(t,Ri(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)t=N(t,Ri(e,[n*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)for(let a=0;a<i[2];++a)t=N(t,Ri(e,[n*r.shape[0],o*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+`${r.rank} tensors yet.`);for(let n=0;n<i[0];++n)for(let o=0;o<i[1];++o)for(let a=0;a<i[2];++a)for(let s=0;s<i[3];++s)t=N(t,Ri(e,[n*r.shape[0],o*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t};return{x:o}}},Bi={kernelName:v.rb,gradFunc:(e,t,n)=>{const r=n,{perm:i}=r,o=ye(i);return{x:()=>Zn(e,o)}}};var zi=n(53);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $i=[S,E,rn,kn,Sn,Nn,jn,Rn,Dn,$n,Vn,Yn,er,or,ar,sr,lr,dr,pr,mr,yr,Fr,Br,fi,vr,ci,vr,Er,Ar,Or,Pr,Dr,Lr,Fr,Br,ti,ni,ii,ri,si,ci,fi,hi,di,Fi,Bi,pi];for(const e of $i)Object(zi.d)(e);var Ui=n(21);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wi{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}Object(Ui.b)().get("IS_BROWSER")&&Object(Ui.b)().setPlatform("browser",new Wi);var Vi=n(620),Hi=n(34);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Gi{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Gi.instance&&(Gi.instance=new Gi),Gi.instance}static registerSaveRouter(e){Gi.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Gi.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Gi.getHandlers(e,"save")}static getLoadHandlers(e,t){return Gi.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[],i="load"===t?Gi.getInstance().loadRouters:Gi.getInstance().saveRouters;return i.forEach(t=>{const i=t(e,n);null!==i&&r.push(i)}),r}}const qi=e=>Gi.registerSaveRouter(e),Ki=e=>Gi.registerLoadRouter(e),Yi=e=>Gi.getSaveHandlers(e),Xi=(e,t)=>Gi.getLoadHandlers(e,t),Zi="://";class Ji{constructor(){this.managers={}}static getInstance(){return null==Ji.instance&&(Ji.instance=new Ji),Ji.instance}static registerManager(e,t){Object(I.assert)(null!=e,()=>"scheme must not be undefined or null."),e.endsWith(Zi)&&(e=e.slice(0,e.indexOf(Zi))),Object(I.assert)(e.length>0,()=>"scheme must not be an empty string.");const n=Ji.getInstance();Object(I.assert)(null==n.managers[e],()=>`A model store manager is already registered for scheme '${e}'.`),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function Qi(e){if(-1===e.indexOf(Zi))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+`${Ji.getSchemes().join(",")}`);return{scheme:e.split(Zi)[0],path:e.split(Zi)[1]}}async function eo(e,t,n=!1){Object(I.assert)(e!==t,()=>`Old path and new path are the same: '${e}'`);const r=Gi.getLoadHandlers(e);Object(I.assert)(r.length>0,()=>`Copying failed because no load handler is found for source URL ${e}.`),Object(I.assert)(r.length<2,()=>`Copying failed because more than one (${r.length}) `+`load handlers for source URL ${e}.`);const i=r[0],o=Gi.getSaveHandlers(t);Object(I.assert)(o.length>0,()=>"Copying failed because no save handler is found for destination "+`URL ${t}.`),Object(I.assert)(o.length<2,()=>`Copying failed because more than one (${r.length}) `+`save handlers for destination URL ${t}.`);const a=o[0],s=Qi(e).scheme,l=Qi(e).path,u=s===Qi(e).scheme,c=await i.load();n&&u&&await Ji.getManager(s).removeModel(l);const f=await a.save(c);return n&&!u&&await Ji.getManager(s).removeModel(l),f.modelArtifactsInfo}async function to(){const e=Ji.getSchemes(),t={};for(const n of e){const e=await Ji.getManager(n).listModels();for(const r in e){const i=n+Zi+r;t[i]=e[r]}}return t}async function no(e){const t=Qi(e),n=Ji.getManager(t.scheme);return n.removeModel(t.path)}async function ro(e,t){const n=!1;return eo(e,t,!1)}async function io(e,t){const n=!0;return eo(e,t,!0)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oo="tensorflowjs",ao=1,so="models_store",lo="model_info_store";async function uo(){const e=co();return new Promise((t,n)=>{const r=e.deleteDatabase(oo);r.onsuccess=(()=>t()),r.onerror=(e=>n(e))})}function co(){if(!Object(Ui.b)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function fo(e){const t=e.result;t.createObjectStore(so,{keyPath:"modelPath"}),t.createObjectStore(lo,{keyPath:"modelPath"})}class ho{constructor(e){if(this.indexedDB=co(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((e,n)=>{const r=this.indexedDB.open(oo,ao);r.onupgradeneeded=(()=>fo(r)),r.onsuccess=(()=>{const i=r.result;if(null==t){const t=i.transaction(so,"readonly"),r=t.objectStore(so),o=r.get(this.modelPath);o.onsuccess=(()=>{if(null==o.result)return i.close(),n(new Error(`Cannot find model with path '${this.modelPath}' `+"in IndexedDB."));e(o.result.modelArtifacts)}),o.onerror=(e=>(i.close(),n(o.error))),t.oncomplete=(()=>i.close())}else{const r=Object(Hi.g)(t),o=i.transaction(lo,"readwrite");let a=o.objectStore(lo);const s=a.put({modelPath:this.modelPath,modelArtifactsInfo:r});let l;s.onsuccess=(()=>{const s=(l=i.transaction(so,"readwrite")).objectStore(so),u=s.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});u.onsuccess=(()=>e({modelArtifactsInfo:r})),u.onerror=(e=>{const t=(a=o.objectStore(lo)).delete(this.modelPath);t.onsuccess=(()=>(i.close(),n(u.error))),t.onerror=(e=>(i.close(),n(u.error)))})}),s.onerror=(e=>(i.close(),n(s.error))),o.oncomplete=(()=>{null==l?i.close():l.oncomplete=(()=>i.close())})}}),r.onerror=(e=>n(r.error))})}}ho.URL_SCHEME="indexeddb://";const po=e=>Object(Ui.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ho.URL_SCHEME)?mo(e.slice(ho.URL_SCHEME.length)):null;function mo(e){return new ho(e)}function go(e){return e.startsWith(ho.URL_SCHEME)?e.slice(ho.URL_SCHEME.length):e}Gi.registerSaveRouter(po),Gi.registerLoadRouter(po);class bo{constructor(){this.indexedDB=co()}async listModels(){return new Promise((e,t)=>{const n=this.indexedDB.open(oo,ao);n.onupgradeneeded=(()=>fo(n)),n.onsuccess=(()=>{const r=n.result,i=r.transaction(lo,"readonly"),o=i.objectStore(lo),a=o.getAll();a.onsuccess=(()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)}),a.onerror=(e=>(r.close(),t(a.error))),i.oncomplete=(()=>r.close())}),n.onerror=(e=>t(n.error))})}async removeModel(e){return e=go(e),new Promise((t,n)=>{const r=this.indexedDB.open(oo,ao);r.onupgradeneeded=(()=>fo(r)),r.onsuccess=(()=>{const i=r.result,o=i.transaction(lo,"readwrite"),a=o.objectStore(lo),s=a.get(e);let l;s.onsuccess=(()=>{if(null==s.result)return i.close(),n(new Error(`Cannot find model with path '${e}' `+"in IndexedDB."));{const r=a.delete(e),o=()=>{const r=(l=i.transaction(so,"readwrite")).objectStore(so),o=r.delete(e);o.onsuccess=(()=>t(s.result.modelArtifactsInfo)),o.onerror=(e=>n(s.error))};r.onsuccess=o,r.onerror=(e=>(o(),i.close(),n(s.error)))}}),s.onerror=(e=>(i.close(),n(s.error))),o.oncomplete=(()=>{null==l?i.close():l.oncomplete=(()=>i.close())})}),r.onerror=(e=>n(r.error))})}}if(Object(Ui.b)().getBool("IS_BROWSER"))try{Ji.registerManager(ho.URL_SCHEME,new bo)}catch(e){}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yo="/",vo="tensorflowjs_models",wo="info",xo="model_topology",_o="weight_specs",So="weight_data",Eo="model_metadata";function Co(){if(!Object(Ui.b)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("purgeLocalStorageModels() cannot proceed because local storage is unavailable in the current environment.");const e=window.localStorage,t=[];for(let n=0;n<e.length;++n){const r=e.key(n),i=vo+yo;if(r.startsWith(i)&&r.length>i.length){e.removeItem(r);const n=Oo(r);-1===t.indexOf(n)&&t.push(n)}}return t}function ko(e){return{info:[vo,e,wo].join(yo),topology:[vo,e,xo].join(yo),weightSpecs:[vo,e,_o].join(yo),weightData:[vo,e,So].join(yo),modelMetadata:[vo,e,Eo].join(yo)}}function Oo(e){const t=e.split(yo);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(yo)}function To(e){return e.startsWith(No.URL_SCHEME)?e.slice(No.URL_SCHEME.length):e}class No{constructor(e){if(!Object(Ui.b)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=ko(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Object(Hi.g)(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,Object(Hi.a)(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),{modelArtifactsInfo:r}}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error(`Failed to save model '${this.modelPath}' to local storage: `+"size quota being exceeded is a possible cause of this failure: "+`modelTopologyBytes=${r.modelTopologyBytes}, `+`weightSpecsBytes=${r.weightSpecsBytes}, `+`weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' `+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' `+"are missing.");t.weightSpecs=r;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const e=JSON.parse(i);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,t.userDefinedMetadata=e.userDefinedMetadata}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error("In local storage, the binary weight values of model "+`'${this.modelPath}' are missing.`);return t.weightData=Object(Hi.b)(o),t}}No.URL_SCHEME="localstorage://";const Ao=e=>Object(Ui.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(No.URL_SCHEME)?Io(e.slice(No.URL_SCHEME.length)):null;function Io(e){return new No(e)}Gi.registerSaveRouter(Ao),Gi.registerLoadRouter(Ao);class jo{constructor(){Object(I.assert)(Object(Ui.b)().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),Object(I.assert)("undefined"==typeof window||void 0!==window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},t=vo+yo,n=yo+wo;for(let r=0;r<this.LS.length;++r){const i=this.LS.key(r);if(i.startsWith(t)&&i.endsWith(n)){const t=Oo(i);e[t]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){const t=ko(e=To(e));if(null==this.LS.getItem(t.info))throw new Error(`Cannot find model at path '${e}'`);const n=JSON.parse(this.LS.getItem(t.info));return this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),n}}if(Object(Ui.b)().getBool("IS_BROWSER"))try{Ji.registerManager(No.URL_SCHEME,new jo)}catch(e){}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ro="model",Mo=".json",Po=".weights.bin";function Do(e){return new Promise(e=>setTimeout(e)).then(e)}class Lo{constructor(e){if(!Object(Ui.b)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Lo.URL_SCHEME)&&(e=e.slice(Lo.URL_SCHEME.length)),null!=e&&0!==e.length||(e=Ro),this.modelTopologyFileName=e+Mo,this.weightDataFileName=e+Po}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor;if(o.download=this.modelTopologyFileName,o.href=i,await Do(()=>o.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await Do(()=>e.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Object(Hi.g)(e)}}}}Lo.URL_SCHEME="downloads://";class Fo{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+`but received ${e}`);this.files=e}async load(){const e=this.files[0],t=this.files.slice(1);return new Promise((n,r)=>{const i=new FileReader;i.onload=(i=>{const o=JSON.parse(i.target.result),a=o.modelTopology;if(null==a)return void r(new Error(`modelTopology field is missing from file ${e.name}`));0===t.length&&n({modelTopology:a});const s=o.weightsManifest;if(null==s)return void r(new Error(`weightManifest field is missing from file ${e.name}`));let l;try{l=this.checkManifestAndWeightFiles(s,t)}catch(e){return void r(e)}const u=[],c=[],f=[];s.forEach(e=>{e.paths.forEach(e=>{c.push(e),f.push(null)}),u.push(...e.weights)}),s.forEach(e=>{e.paths.forEach(e=>{const t=new FileReader;t.onload=(t=>{const r=t.target.result,i=c.indexOf(e);f[i]=r,-1===f.indexOf(null)&&n({modelTopology:a,weightSpecs:u,weightData:Object(Hi.d)(f),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})}),t.onerror=(t=>r(`Failed to weights data from file of path '${e}'.`)),t.readAsArrayBuffer(l[e])})})}),i.onerror=(t=>r("Failed to read model topology and weights manifest JSON "+`from file '${e.name}'. BrowserFiles supports loading `+"Keras-style tf.Model artifacts only.")),i.readAsText(e)})}checkManifestAndWeightFiles(e,t){const n=[],r=t.map(e=>Object(Hi.c)(e.name)),i={};for(const o of e)o.paths.forEach(e=>{const o=Object(Hi.c)(e);if(-1!==n.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: "+`'${o}'`);if(n.push(o),-1===r.indexOf(o))throw new Error(`Weight file with basename '${o}' is not provided.`);i[e]=t[r.indexOf(o)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest "+`(${n.length}) and the number of weight files provided `+`(${t.length}).`);return i}}const Bo=e=>Object(Ui.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Lo.URL_SCHEME)?zo(e.slice(Lo.URL_SCHEME.length)):null;function zo(e="model"){return new Lo(e)}function $o(e){return new Fo(e)}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uo(e,t,n,r){a(e),s(n=null==n?0:n,r=null==r?1:r);let i=0;const o=o=>(o.then(o=>{const a=n+ ++i/e.length*(r-n);return t(a),o}),o);function a(e){Object(I.assert)(null!=e&&Array.isArray(e)&&e.length>0,()=>"promises must be a none empty array")}function s(e,t){Object(I.assert)(e>=0&&e<=1,()=>"Progress fraction must be in range [0, 1], but "+`got startFraction ${e}`),Object(I.assert)(t>=0&&t<=1,()=>"Progress fraction must be in range [0, 1], but "+`got endFraction ${t}`),Object(I.assert)(t>=e,()=>"startFraction must be no more than endFraction, but "+`got startFraction ${e} and endFraction `+`${t}`)}return Promise.all(e.map(o))}Gi.registerSaveRouter(Bo);var Wo=n(118);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Vo(e,t){null==t&&(t={});const n=null==t.fetchFunc?Object(Ui.b)().platform.fetch:t.fetchFunc,r=e.map(e=>n(e,t.requestInit,{isBinary:!0})),i=0,o=.5,a=null==t.onProgress?await Promise.all(r):await Uo(r,t.onProgress,0,.5),s=a.map(e=>e.arrayBuffer()),l=.5,u=1,c=null==t.onProgress?await Promise.all(s):await Uo(s,t.onProgress,.5,1);return c}async function Ho(e,t="",n,r){const i=e=>Vo(e,{requestInit:r}),o=Go(i);return o(e,t,n)}function Go(e){return async(t,n="",r)=>{const i=t.map(()=>!1),o={},a=null!=r?r.map(()=>!1):[],s=[];if(t.forEach((e,t)=>{let n=0;e.weights.forEach(e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=Wo.a[l]*I.sizeFromShape(e.shape),c=()=>{i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach((t,n)=>{t===e.name&&(c(),a[n]=!0)}):c(),s.push(e.name),n+=u})}),!a.every(e=>e)){const e=r.filter((e,t)=>!a[t]);throw new Error("Could not find weights in manifest with names: "+`${e.join(", ")}. \n`+"Manifest JSON has weights with names: "+`${s.join(", ")}.`)}const l=i.reduce((e,t,n)=>(t&&e.push(n),e),[]),u=[];l.forEach(e=>{t[e].paths.forEach(e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)})});const c=await e(u),f={};let h=0;return l.forEach(e=>{const n=t[e].paths.length;let r=0;for(let e=0;e<n;e++)r+=c[h+e].byteLength;const i=new ArrayBuffer(r),a=new Uint8Array(i);let s=0;for(let e=0;e<n;e++){const t=new Uint8Array(c[h+e]);a.set(t,s),s+=t.byteLength}const l=o[e];l.forEach(e=>{const t=i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=Object(Hi.e)(t,[e.manifestEntry]);for(const e in n)f[e]=n[e]}),h+=n}),f}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qo="application/octet-stream",Ko="application/json";class Yo{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(Object(I.assert)("function"==typeof t.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=Object(Ui.b)().platform.fetch,Object(I.assert)(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&Object(I.assert)(2===e.length,()=>"URL paths for http must have a length of 2, "+`(actual length is ${e.length}).`),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n};t.body.append("model.json",new Blob([JSON.stringify(r)],{type:Ko}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:qo}),"model.weights.bin");const i=await this.fetch(this.path,t);if(i.ok)return{modelArtifactsInfo:Object(Hi.g)(e),responses:[i]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+`${i.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code `+`${e.status}. Please verify this URL points to `+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest,i=t.generatedBy,o=t.convertedBy,a=t.format,s=t.userDefinedMetadata;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model `+"topology or manifest for weights.");let l,u;if(null!=r){const e=await this.loadWeights(r);[l,u]=e}return{modelTopology:n,weightSpecs:l,weightData:u,userDefinedMetadata:s,generatedBy:i,convertedBy:o,format:a}}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=Xo(t),i=this.weightPathPrefix||n,o=[];for(const t of e)o.push(...t.weights);const a=[];e.forEach(e=>{e.paths.forEach(e=>{a.push(i+e+r)})});const s=await Vo(a,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,Object(Hi.d)(s)]}}function Xo(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),i=n>t?e.substring(n):"";return[r+"/",i]}function Zo(e){return null!=e.match(Yo.URL_SCHEME_REGEX)}Yo.URL_SCHEME_REGEX=/^https?:\/\//;const Jo=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every(e=>Zo(e)):Zo(e))return Qo(e,t)}return null};function Qo(e,t){return new Yo(e,t)}function ea(e,t){return Qo(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Gi.registerSaveRouter(Jo),Gi.registerLoadRouter(Jo);class ta{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class na{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function ra(e,t,n,r){if(1===arguments.length){const t=null!=e.modelTopology||null!=e.weightSpecs;return t?new ta(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ta({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ta({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function ia(e){return new na(e)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oa(e,t,n=1,r=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);let i=Object(k.a)(e,"indices","oneHot","int32");const o=[...i.shape,t],a=(e,a)=>(a([i]),K(e.oneHot(i,t,n,r),o)),s={indices:i=i.flatten()},l={depth:t,onValue:n,offValue:r};return b.a.runKernelFunc(a,s,null,v.cb,l)}const aa=Object(O.a)({oneHot_:oa});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sa(e,t,n){const r=Object(k.a)(e,"labels","confusionMatrix"),i=Object(k.a)(t,"predictions","confusionMatrix");I.assert(null==n||n>0&&Number.isInteger(n),()=>"If provided, numClasses must be a positive integer, "+`but got ${n}`),I.assert(1===r.rank,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),I.assert(1===i.rank,()=>"Expected the rank of predictions to be 1, "+`but got ${i.rank}`),I.assert(r.shape[0]===i.shape[0],()=>"Mismatch in the number of examples: "+`${r.shape[0]} vs. ${i.shape[0]}. `+"Labels and predictions should have the same number of elements."),I.assert(n>0&&Number.isInteger(n),()=>"numClasses is required to be a positive integer, but got "+`${n}`);const o=aa(r.asType("int32"),n),a=aa(i.asType("int32"),n),s=o.transpose();return s.matMul(a).asType("int32")}const la=Object(O.a)({confusionMatrix_:sa});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ua;function ca(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,i=!1,o=!1,a=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+`but was ${e.constructor.name}`);a=!0}if(i){const t=2;if(i&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}const s=Object(zi.b)(v.E,b.a.backendName);if(null!=s){const n={pixels:e},r={numChannels:t};return b.a.runKernel(v.E,n,r)}const[l,u]=i?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,f;if(a?c=e.getContext("2d").getImageData(0,0,l,u).data:r||n?c=e.data:(o||i)&&(null==ua&&(ua=document.createElement("canvas").getContext("2d")),ua.canvas.width=l,ua.canvas.height=u,ua.drawImage(e,0,0,l,u),c=ua.getImageData(0,0,l,u).data),4===t)f=new Int32Array(c);else{const e=l*u;f=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)f[n*t+e]=c[4*n+e]}const h=[u,l,t];return Object(M.i)(f,h,"int32")}async function fa(e,t){let n=Object(k.a)(e,"img","toPixels");if(!(e instanceof A.a)){const e=n;n=e.toInt(),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,i]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2];if(o>4||2===o)throw new Error("toPixels only supports depth of size "+`1, 3 or 4 but got ${o}`);const a=await n.data(),s=n.min(),l=n.max(),u=await Promise.all([s.data(),l.data()]),c=u[0],f=u[1],h=c[0],d=f[0];if(s.dispose(),l.dispose(),"float32"===n.dtype){if(h<0||d>1)throw new Error("Tensor values for a float32 Tensor must be in the "+`range [0 - 1] but got range [${h} - ${d}].`)}else{if("int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}.`+" Please use float32 or int32 tensors.");if(h<0||d>255)throw new Error("Tensor values for a int32 Tensor must be in the "+`range [0 - 255] but got range [${h} - ${d}].`)}const p="float32"===n.dtype?255:1,m=new Uint8ClampedArray(i*r*4);for(let e=0;e<r*i;++e){let t,n,r,i;1===o?(t=a[e]*p,n=a[e]*p,r=a[e]*p,i=255):3===o?(t=a[3*e]*p,n=a[3*e+1]*p,r=a[3*e+2]*p,i=255):4===o&&(t=a[4*e]*p,n=a[4*e+1]*p,r=a[4*e+2]*p,i=a[4*e+3]*p);const s=4*e;m[s+0]=Math.round(t),m[s+1]=Math.round(n),m[s+2]=Math.round(r),m[s+3]=Math.round(i)}if(null!=t){t.width=i,t.height=r;const e=t.getContext("2d"),n=new ImageData(m,i,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),m}const ha=Object(O.a)({fromPixels_:ca});function da(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+` but the rank was ${e.rank}.`);if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+` but the rank was ${t.rank}.`);if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+` but the dtype was ${t.dtype}.`);if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+`${t.shape[t.rank-1]} vs. ${e.rank}`);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty."+` Input shape: ${e.shape}.`);const n=t.shape,r=n[n.length-1];let i=1;for(let e=0;e<n.length-1;++e)i*=n[e];const o=e.shape,a=n.slice();a.pop();let s=1;for(let t=r;t<e.rank;++t)s*=o[t],a.push(o[t]);const l=[...Object(I.computeStrides)(e.shape).map(e=>e/s),1].slice(0,r);return[a,i,s,l]}function pa(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+`shape[sliceDim:], got updates.shape: ${n.shape}`+`, indices.shape: ${t.shape}, shape: ${e}`+`, sliceDim: ${r}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(o+` update.rank < ${i}. `);if(e.length<r+(n.rank-i))throw new Error(o+` Output shape length < ${r+(n.rank-i)}`);if(n.rank!==i+e.length-r)throw new Error(o+` update.rank != ${i+e.length-r}`);for(let e=0;e<i;++e)if(n.shape[e]!==t.shape[e])throw new Error(o+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-i;++t)if(n.shape[t+i]!==e[t+r])throw new Error(o+` updates.shape[${t+i}] (${n.shape[t+i]}) != shape[${t+i}] (${e[t+i]})`)}function ma(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+` but the rank was ${t.rank}.`);if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+` but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}pa(n,t,e)}function ga(e,t,n){const r=t.shape.length,i=r>1?t.shape[r-1]:1,o=n.length;let a=1;for(let e=i;e<o;++e)a*=n[e];const s=i<1?1:i,l=Object(I.sizeFromShape)(t.shape)/s,u=[...Object(I.computeStrides)(n.slice(0,i)),1],c=Object(I.sizeFromShape)(n);return{sliceRank:i,numUpdates:l,sliceSize:a,strides:u,outputSize:c}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ba{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class ya{constructor(){this.classNameMap={}}static getMap(){return null==ya.instance&&(ya.instance=new ya),ya.instance}static register(e){ya.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function va(e){Object(I.assert)(null!=e.className,()=>"Class being registered does not have the static className property defined."),Object(I.assert)("string"==typeof e.className,()=>"className is required to be a string, but got type "+typeof e.className),Object(I.assert)(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),ya.register(e)}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wa=.001,xa=.1;function _a(e,t,n){return null==n&&(n=Sa()),Ea(e,t,(e,t)=>Ta(e,t,n))}function Sa(){return 32===b.a.backend.floatPrecision()?wa:xa}function Ea(e,t,n){let r=!0;if((Object(I.isTypedArray)(e)||Object(I.isTypedArray)(t))&&(r=!1),Object(I.isTypedArray)(e)&&Object(I.isTypedArray)(t)&&(r=!0),r){const n=e.constructor.name,r=t.constructor.name;if(n!==r)throw new Error(`Arrays are of different type. Actual: ${n}. `+`Expected: ${r}`)}if(Array.isArray(e)&&Array.isArray(t)){const n=Object(k.c)(e),r=Object(k.c)(t);if(!Object(I.arraysEqual)(n,r))throw new Error("Arrays have different shapes. "+`Actual: [${n}]. Expected: [${r}]`)}const i=Object(I.isTypedArray)(e)?e:Object(I.flatten)(e),o=Object(I.isTypedArray)(t)?t:Object(I.flatten)(t);if(i.length!==o.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs `+`expected: ${o.length}.\n`+`Actual:   ${i}.\n`+`Expected: ${o}.`);for(let e=0;e<o.length;++e){const t=i[e],r=o[e];if(!n(t,r))throw new Error(`Arrays differ: actual[${e}] = ${t}, expected[${e}] = ${r}.\n`+`Actual:   ${i}.\n`+`Expected: ${o}.`)}}function Ca(e,t){e().then(()=>t.fail(),()=>t())}function ka(e,t){const n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return Object(I.isString)(e)||Object(I.isString)(e[0])||Object(I.isString)(t)||Object(I.isString)(t[0])?Ea(e,n,(e,t)=>e==t):Ea(e,t,(e,t)=>Ta(e,t,0))}function Oa(e,t,n){if(null==n&&(n=Sa()),!Ta(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`)}function Ta(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function Na(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function Aa(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}
/** @license See the LICENSE file. */const Ia="2.0.1";
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ja(){Object(Ui.b)().set("PROD",!0)}function Ra(){Object(Ui.b)().set("DEBUG",!0)}function Ma(){Object(Ui.b)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Pa(e){Object(Ui.b)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Da(){b.a.disposeVariables()}function La(){return b.a}function Fa(){return b.a.memory()}function Ba(e){return b.a.profile(e)}function za(e,t){return b.a.tidy(e,t)}function $a(e){const t=Object(C.getTensorsInContainer)(e);t.forEach(e=>e.dispose())}function Ua(e){return b.a.keep(e)}function Wa(e){return b.a.time(e)}function Va(e){return b.a.setBackend(e)}function Ha(){return b.a.ready()}function Ga(){return b.a.backendName}function qa(e){b.a.removeBackend(e)}function Ka(e){return b.a.findBackend(e)}function Ya(e){return b.a.findBackendFactory(e)}function Xa(e,t,n=1){return b.a.registerBackend(e,t,n)}function Za(){return b.a.backend}function Ja(e,t){Object(Ui.b)().setPlatform(e,t)}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qa(e){I.assert(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),I.assert(e.length>=1,()=>"Must pass at least one tensor to tf.addN(), but got "+`${e.length}`);const t=e.map((e,t)=>Object(k.a)(e,`tensors${t}`,"addN")),n=t[0];t.forEach(e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(e=>{if(!I.arraysEqual(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=(e,n)=>{const r=e.addN(t);return n(t),r},i=t;return b.a.runKernelFunc(r,i,null,v.b)}Object(A.d)(Pa);const es=Object(O.a)({addN_:Qa});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ts(e,t){let n=Object(k.a)(e,"a","atan2"),r=Object(k.a)(t,"b","atan2");[n,r]=Object(C.makeTypesMatch)(n,r);const i=(e,t)=>{const i=e.atan2(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.c)}const ns=Object(O.a)({atan2_:ts});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rs(e,t,n,r,i){const o=Object(k.a)(e,"x","avgPool","float32"),a=1;I.assert(vn(n,1),()=>"Error in avgPool: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '1'`);let s=o,l=!1;3===o.rank&&(l=!0,s=K(o,[1,o.shape[0],o.shape[1],o.shape[2]])),I.assert(4===s.rank,()=>`Error in avgPool: x must be rank 4 but got rank ${s.rank}.`),null!=i&&I.assert(I.isInt(r),()=>"Error in avgPool: pad must be an integer when using, "+`dimRoundingMode ${i} but got pad ${r}.`);const u=(e,o)=>{const a=on(s.shape,t,n,1,r,i);return o([s]),1===a.filterWidth&&1===a.filterHeight&&I.arraysEqual(a.inShape,a.outShape)?s.clone():e.avgPool(s,a)},c={x:s},f={filterSize:t,strides:n,pad:r,dimRoundingMode:i};let h=b.a.runKernelFunc(u,c,null,v.d,f);return h=G(h,o.dtype),l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}const is=Object(O.a)({avgPool_:rs});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function os(e,t,n,r,i,o="NDHWC",a){null==a?a=[1,1,1]:Pa("dilations is deprecated, this field will be gone in v3.0.0.");const s=Object(k.a)(e,"x","avgPool3d","float32");let l=s,u=!1;4===s.rank&&(u=!0,l=K(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),I.assert(5===l.rank,()=>`Error in avgPool3d: x must be rank 5 but got rank ${l.rank}.`),I.assert("NDHWC"===o,()=>"Error in avgPool3d: Only NDHWC is currently supported, "+`but got dataFormat of ${o}`),I.assert(vn(n,a),()=>"Error in avgPool3d: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '${a}'`),null!=i&&I.assert(I.isInt(r),()=>"Error in avgPool3d: pad must be an integer when using, "+`dimRoundingMode ${i} but got pad ${r}.`);const c=(e,s)=>{null==a&&(a=[1,1,1]);const u=an(l.shape,t,n,a,r,i,o);return s([l]),e.avgPool3d(l,u)},f={x:l},h={filterSize:t,strides:n,pad:r,dimRoundingMode:i,dataFormat:o,dilations:a};let d=b.a.runKernelFunc(c,f,null,v.e,h);return d=G(d,l.dtype),u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}const as=Object(O.a)({avgPool3d_:os});function ss(e){let t;return t=0===e.rank||1===e.rank?e.as4D(1,1,1,e.size):2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ls(e,t,n,r,i,o){null==o&&(o=.001);const a=Object(k.a)(e,"x","batchNorm"),s=Object(k.a)(t,"mean","batchNorm"),l=Object(k.a)(n,"variance","batchNorm");let u,c;null!=i&&(u=Object(k.a)(i,"scale","batchNorm")),null!=r&&(c=Object(k.a)(r,"offset","batchNorm")),I.assert(s.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),I.assert(null==c||s.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),I.assert(null==u||s.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f=ss(a),h=(e,t)=>(t([f,s,l,u]),e.batchNorm(f,us(s),us(l),us(c),us(u),o)),d={x:f,scale:u,offset:c,mean:s,variance:l},p={varianceEpsilon:o},m=b.a.runKernelFunc(h,d,null,v.F,p);return K(m,a.shape)}function us(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}const cs=Object(O.a)({batchNorm_:ls});function fs(e,t,n,r,i,o){const a=Object(k.a)(e,"x","batchNorm"),s=Object(k.a)(t,"mean","batchNorm"),l=Object(k.a)(n,"variance","batchNorm");let u,c;return null!=i&&(u=Object(k.a)(i,"scale","batchNorm")),null!=r&&(c=Object(k.a)(r,"offset","batchNorm")),I.assert(2===a.rank,()=>"Error in batchNorm3D: x must be rank 3 but got rank "+`${a.rank}.`),I.assert(2===s.rank||1===s.rank,()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+`got rank ${s.rank}.`),I.assert(2===l.rank||1===l.rank,()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+`but got rank ${l.rank}.`),null!=u&&I.assert(2===u.rank||1===u.rank,()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+`but got rank ${u.rank}.`),null!=c&&I.assert(2===c.rank||1===c.rank,()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+`but got rank ${c.rank}.`),cs(a,s,l,c,u,o)}const hs=Object(O.a)({batchNorm2d_:fs});function ds(e,t,n,r,i,o){const a=Object(k.a)(e,"x","batchNorm"),s=Object(k.a)(t,"mean","batchNorm"),l=Object(k.a)(n,"variance","batchNorm");let u,c;return null!=i&&(u=Object(k.a)(i,"scale","batchNorm")),null!=r&&(c=Object(k.a)(r,"offset","batchNorm")),I.assert(3===a.rank,()=>"Error in batchNorm3D: x must be rank 3 but got rank "+`${a.rank}.`),I.assert(3===s.rank||1===s.rank,()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+`got rank ${s.rank}.`),I.assert(3===l.rank||1===l.rank,()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+`but got rank ${l.rank}.`),null!=u&&I.assert(3===u.rank||1===u.rank,()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+`but got rank ${u.rank}.`),null!=c&&I.assert(3===c.rank||1===c.rank,()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+`but got rank ${c.rank}.`),cs(a,s,l,c,u,o)}const ps=Object(O.a)({batchNorm3d_:ds});function ms(e,t,n,r,i,o){const a=Object(k.a)(e,"x","batchNorm"),s=Object(k.a)(t,"mean","batchNorm"),l=Object(k.a)(n,"variance","batchNorm");let u,c;return null!=i&&(u=Object(k.a)(i,"scale","batchNorm")),null!=r&&(c=Object(k.a)(r,"offset","batchNorm")),I.assert(4===a.rank,()=>"Error in batchNorm4D: x must be rank 4 but got rank "+`${a.rank}.`),I.assert(4===s.rank||1===s.rank,()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+`got rank ${s.rank}.`),I.assert(4===l.rank||1===l.rank,()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+`but got rank ${l.rank}.`),null!=u&&I.assert(4===u.rank||1===u.rank,()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+`but got rank ${u.rank}.`),null!=c&&I.assert(4===c.rank||1===c.rank,()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+`but got rank ${c.rank}.`),cs(a,s,l,c,u,o)}const gs=Object(O.a)({batchNorm4d_:ms});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bs(e){const t=Object(k.a)(e,"x","clone",null),n=()=>b.a.makeTensorFromDataId(t.dataId,t.shape,t.dtype);return b.a.runKernelFunc(n,{x:t},null,v.J)}const ys=Object(O.a)({clone_:bs});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vs(e,t){let n=Object(k.a)(e,"broadcastTo","x");const r=n.shape;if(t.some(e=>!(e>0)||e%1!=0))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=K(n,e)}const i=n.shape,o=Array.from(t);for(let e=t.length-1;e>=0;e--)if(i[e]===t[e])o[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);const a=o.map((e,t)=>e>1?t:-1).filter(e=>e>=0);if(0===a.length)return ys(n);const s=e=>e.tile(n,o),l={x:n},u={shape:t,inputShape:i};return b.a.runKernelFunc(s,l,null,v.j,u)}const ws=Object(O.a)({broadcastTo_:vs});var xs=n(54);function _s(e){return D(e,0)}const Ss=Object(O.a)({concat1d_:_s});function Es(e,t){return D(e,t)}const Cs=Object(O.a)({concat2d_:Es});function ks(e,t){return D(e,t)}const Os=Object(O.a)({concat3d_:ks});function Ts(e,t){return D(e,t)}const Ns=Object(O.a)({concat4d_:Ts});function As(e,t,n,r,i="NWC",o=1,a){const s=Object(k.a)(e,"x","conv1d"),l=Object(k.a)(t,"filter","conv1d");let u=s,c=!1;2===s.rank&&(c=!0,u=K(s,[1,s.shape[0],s.shape[1]])),I.assert(3===u.rank,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),I.assert(3===l.rank,()=>"Error in conv1d: filter must be rank 3, but got rank "+`${l.rank}.`),null!=a&&I.assert(I.isInt(r),()=>"Error in conv1d: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${r}.`),I.assert(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match `+`input depth for filter ${l.shape[1]}.`),I.assert(vn(n,o),()=>"Error in conv1D: Either stride or dilation must be 1. "+`Got stride ${n} and dilation '${o}'`),I.assert("NWC"===i,()=>`Error in conv1d: got dataFormat of ${i} but only NWC is currently supported.`);const f=K(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=K(u,[u.shape[0],1,u.shape[1],u.shape[2]]),d=[1,n],p=[1,o],m="NHWC",g=Wn(h,f,d,r,"NHWC",p,a);return K(g,c?[g.shape[2],g.shape[3]]:[g.shape[0],g.shape[2],g.shape[3]])}const Is=Object(O.a)({conv1d_:As});function js(e,t,n,r,i,o){const a=Object(k.a)(e,"x","conv2dTranspose"),s=Object(k.a)(t,"filter","conv2dTranspose");return zn(n,a,s,r,i,"NHWC",o)}const Rs=Object(O.a)({conv2dTranspose_:js});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ms(e,t,n,r,i="NDHWC",o=[1,1,1]){const a=Object(k.a)(e,"x","conv3d"),s=Object(k.a)(t,"filter","conv3d");let l=a,u=!1;4===a.rank&&(u=!0,l=K(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),I.assert(5===l.rank,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),I.assert(5===s.rank,()=>"Error in conv3d: filter must be rank 5, but got rank "+`${s.rank}.`),I.assert(l.shape[4]===s.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match `+`input depth for filter ${s.shape[3]}.`),I.assert(vn(n,o),()=>"Error in conv3D: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '${o}'`),I.assert("NDHWC"===i,()=>`Error in conv3d: got dataFormat of ${i} but only NDHWC is currently supported.`);const c=(e,t)=>{const i=ln(l.shape,s.shape,n,o,r),a=e.conv3d(l,s,i);return t([l,s]),a},f={x:l,filter:s},h={strides:n,pad:r,dataFormat:i,dilations:o},d=b.a.runKernelFunc(c,f,null,v.p,h);return u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}const Ps=Object(O.a)({conv3d_:Ms});function Ds(e,t,n,r,i){const o=Object(k.a)(e,"x","conv3dTranspose"),a=Object(k.a)(t,"filter","conv3dTranspose");return Kn(n,o,a,r,i)}const Ls=Object(O.a)({conv3dTranspose_:Ds});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fs(e,t,n="NHWC"){const r=Object(k.a)(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],o="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];I.assert(i*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t}  for depthToSpace with input shape\n    ${r.shape}`),I.assert(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t} for depthToSpace with input shape\n        ${r.shape}`),I.assert(a%(t*t)==0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${a} for depthToSpace with input shape ${r.shape}`);const s=e=>e.depthToSpace(r,t,n),l={x:r},u={blockSize:t,dataFormat:n};return b.a.runKernelFunc(s,l,null,v.t,u)}const Bs=Object(O.a)({depthToSpace_:Fs});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zs(e,t,n,r,i="NHWC",o=[1,1],a){const s=Object(k.a)(e,"x","depthwiseConv2d"),l=Object(k.a)(t,"filter","depthwiseConv2d");let u=s,c=!1;3===s.rank&&(c=!0,u=K(s,[1,s.shape[0],s.shape[1],s.shape[2]])),I.assert(4===u.rank,()=>"Error in depthwiseConv2d: input must be rank 4, but got "+`rank ${u.rank}.`),I.assert(4===l.rank,()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+`${l.rank}.`),I.assert(u.shape[3]===l.shape[2],()=>"Error in depthwiseConv2d: number of input channels "+`(${u.shape[3]}) must match the inChannels dimension in `+`filter ${l.shape[2]}.`),null!=a&&I.assert(I.isInt(r),()=>"Error in depthwiseConv2d: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${r}.`);const f=(e,t)=>{null==o&&(o=[1,1]),I.assert(vn(n,o),()=>"Error in depthwiseConv2d: Either strides or dilations must be "+`1. Got strides ${n} and dilations '${o}'`);const i=sn(u.shape,l.shape,n,o,r,a,!0),s=e.depthwiseConv2D(u,l,i);return t([u,l]),s},h={x:u,filter:l},d={strides:n,pad:r,dataFormat:i,dilations:o,dimRoundingMode:a},p=b.a.runKernelFunc(f,h,null,v.u,d);return c?K(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const $s=Object(O.a)({depthwiseConv2d_:zs});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Us(e){const t=Object(k.a)(e,"x","diag").flatten(),n=n=>{const r=n.diag(t),i=[...e.shape,...e.shape];return K(r,i)},r={x:t};return b.a.runKernelFunc(n,r,null,v.x)}const Ws=Object(O.a)({diag_:Us});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vs(e,t){let n=Object(k.a)(e,"a","div"),r=Object(k.a)(t,"b","div");[n,r]=Object(C.makeTypesMatch)(n,r);const i=ne(n,r),o=Object(M.o)(i),a=r.equal(o);return Zr(a,o,i)}const Hs=Object(O.a)({divNoNan_:Vs});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gs(e,t){const n=Object(k.a)(e,"t1","dot"),r=Object(k.a)(t,"t2","dot");I.assert(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+`${n.rank} and ${r.rank}.`);const i=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(I.assert(i===o,()=>"Error in dot: inner dimensions of inputs must match, but got "+`${i} and ${o}.`),1===n.rank&&1===r.rank){const e=K(n,[1,-1]),t=K(r,[-1,1]),i=Tn(e,t);return K(i,[])}if(1===n.rank&&2===r.rank){const e=K(n,[1,-1]),t=K(r,[r.shape[0],r.shape[1]]),i=Tn(e,t);return K(i,[i.size])}if(2===n.rank&&1===r.rank){const e=K(r,[-1,1]),t=Tn(n,e);return K(t,[t.size])}{const e=K(r,[r.shape[0],r.shape[1]]),t=Tn(n,e);return t}}const qs=Object(O.a)({dot_:Gs});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ks(e){const t=Object(k.a)(e,"x","elu"),n=(e,n)=>{const r=e.elu(t);return n([r]),r},r={x:t};return b.a.runKernelFunc(n,r,null,v.z)}const Ys=Object(O.a)({elu_:Ks});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xs(e,t){let n=Object(k.a)(e,"a","equal"),r=Object(k.a)(t,"b","equal");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=e=>e.equal(n,r),o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.B)}const Zs=Object(O.a)({equal_:Xs});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Js(e,t,n,r="float32"){null==t&&(t=e);const i=V([e,t],r),o=e<=t?e:t;for(let e=0;e<o;++e)i.set(1,e,e);const a=i.toTensor().as2D(e,t);if(null==n)return a;if(1===n.length)return hr(q(a,0),[n[0],1,1]);if(2===n.length)return hr(q(q(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return hr(q(q(q(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+`batchShapes, but received ${n.length}D.`)}const Qs=Object(O.a)({eye_:Js});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function el(e,t,n){const r={shape:e,value:t,dtype:n};return b.a.runKernelFunc(r=>r.fill(e,t,n),{},null,v.C,r)}var tl=n(89);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nl(e,t){let n=Object(k.a)(e,"a","maximum"),r=Object(k.a)(t,"b","maximum");[n,r]=Object(C.makeTypesMatch)(n,r),"bool"===n.dtype&&(n=G(n,"int32"),r=G(r,"int32")),_(n.shape,r.shape);const i=(e,t)=>{const i=e.maximum(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.V)}const rl=Object(O.a)({maximum_:nl});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function il(e,t=.2){const n=Object(k.a)(e,"x","leakyRelu");return rl(ie(Object(M.e)(t),n),n)}const ol=Object(O.a)({leakyRelu_:il});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function al(e,t=5,n=1,r=1,i=.5){const o=Object(k.a)(e,"x","localResponseNormalization");I.assert(4===o.rank||3===o.rank,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${o.rank}.`),I.assert(I.isInt(t),()=>"Error in localResponseNormalization: depthRadius must be an "+`integer but got depthRadius ${t}.`);let a=o,s=!1;3===o.rank&&(s=!0,a=K(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l=(e,o)=>{const s=e.localResponseNormalization4D(a,t,n,r,i);return o([a,s]),s},u={x:a},c={depthRadius:t,bias:n,alpha:r,beta:i},f=b.a.runKernelFunc(l,u,null,v.L,c);return s?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}const sl=Object(O.a)({localResponseNormalization_:al});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ll(e,t=null,n=!1){const r=Object(k.a)(e,"x","max"),i=(e,n)=>{const i=I.parseAxisParam(t,r.shape);let o=i;const a=be(o,r.rank);let s=r;null!=a&&(s=Zn(r,a),o=ve(o.length,s.rank));const l=e.max(s,o);return n([r,l]),null!=a&&e.disposeData(s.dataId),l},o={x:r},a={reductionIndices:t,keepDims:n},s=b.a.runKernelFunc(i,o,null,v.P,a);return n?K(s,me(s.shape,I.parseAxisParam(t,r.shape))):s}const ul=Object(O.a)({max_:ll});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cl(e,t,n,r,i){const o=Object(k.a)(e,"x","maxPool"),a=1;let s=o,l=!1;3===o.rank&&(l=!0,s=K(o,[1,o.shape[0],o.shape[1],o.shape[2]])),I.assert(4===s.rank,()=>`Error in maxPool: input must be rank 4 but got rank ${s.rank}.`),I.assert(vn(n,1),()=>"Error in maxPool: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '1'`),null!=i&&I.assert(I.isInt(r),()=>"Error in maxPool: pad must be an integer when using, "+`dimRoundingMode ${i} but got pad ${r}.`);const u=(e,o)=>{const a=on(s.shape,t,n,1,r,i);let l;return l=1===a.filterWidth&&1===a.filterHeight&&I.arraysEqual(a.inShape,a.outShape)?s.clone():e.maxPool(s,a),o([s,l]),l},c={x:s},f={filterSize:t,strides:n,pad:r,dimRoundingMode:i},h=b.a.runKernelFunc(u,c,null,v.Q,f);return l?K(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const fl=Object(O.a)({maxPool_:cl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hl(e,t=[1,1,1],n,r,i,o="NDHWC",a){null==a?a=[1,1,1]:Pa("dilations is deprecated, this field will be gone in v3.0.0.");const s=Object(k.a)(e,"x","maxPool3d");let l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),I.assert(5===l.rank,()=>`Error in maxPool3d: x must be rank 5 but got rank ${l.rank}.`),I.assert("NDHWC"===o,()=>"Error in maxPool3d: Only NDHWC is currently supported, "+`but got dataFormat of ${o}`),I.assert(vn(n,a),()=>"Error in maxPool3d: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '${a}'`),null!=i&&I.assert(I.isInt(r),()=>"Error in maxPool3d: pad must be an integer when using, "+`dimRoundingMode ${i} but got pad ${r}.`);const c=(e,s)=>{null==a&&(a=[1,1,1]);const u=an(l.shape,t,n,a,r,i,o),c=e.maxPool3d(l,u);return s([l,c]),c},f={x:l},h={filterSize:t,strides:n,pad:r,dimRoundingMode:i,dataFormat:o,dilations:a},d=b.a.runKernelFunc(c,f,null,v.R,h);return u?K(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const dl=Object(O.a)({maxPool3d_:hl});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pl(e,t,n,r,i=!1){const o=Object(k.a)(e,"x","maxPoolWithArgmax"),a={x:o},s={filterSize:t,strides:n,pad:r,includeBatchInIndex:i},l=b.a.runKernel(v.U,a,s);return{result:l[0],indexes:l[1]}}const ml=Object(O.a)({maxPoolWithArgmax_:pl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gl(e,t){let n=Object(k.a)(e,"a","minimum"),r=Object(k.a)(t,"b","minimum");[n,r]=Object(C.makeTypesMatch)(n,r),"bool"===n.dtype&&(n=G(n,"int32"),r=G(r,"int32")),_(n.shape,r.shape);const i=(e,t)=>{const i=e.minimum(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.W)}const bl=Object(O.a)({minimum_:gl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yl(e,t){let n=Object(k.a)(e,"a","mod"),r=Object(k.a)(t,"b","mod");[n,r]=Object(C.makeTypesMatch)(n,r);const i=(e,t)=>{const i=e.mod(n,r);return t([n,r]),i},o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.X)}const vl=Object(O.a)({mod_:yl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wl(e,t,n,r=!1){const i=Object(k.a)(e,"logits","multinomial"),o=i.size,a=i.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+`${o}.`);if(a>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${a}`);n=n||Math.random();const s=1===a?i.as2D(1,-1):i,l=b.a.runKernelFunc(e=>e.multinomial(s,r,t,n),{logits2D:s});return 1===a?l.as1D():l}const xl=Object(O.a)({multinomial_:wl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _l(e,t){let n=Object(k.a)(e,"a","notEqual"),r=Object(k.a)(t,"b","notEqual");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=e=>e.notEqual(n,r),o={a:n,b:r};return b.a.runKernelFunc(i,o,null,v.bb)}const Sl=Object(O.a)({notEqual_:_l});function El(e,t){const n=Object(k.a)(e,"v1","outerProduct"),r=Object(k.a)(t,"v2","outerProduct");I.assert(1===n.rank&&1===r.rank,()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+`${n.rank} and ${r.rank}.`);const i=K(n,[-1,1]),o=K(r,[1,-1]);return Tn(i,o)}const Cl=Object(O.a)({outerProduct_:El});function kl(e,t,n=0){return Object(I.assert)(2===t.length,()=>"Invalid number of paddings. Must be length of 2."),gi(e,[t],n)}const Ol=Object(O.a)({pad1d_:kl});function Tl(e,t,n=0){return Object(I.assert)(2===t.length&&2===t[0].length&&2===t[1].length,()=>"Invalid number of paddings. Must be length of 2 each."),gi(e,t,n)}const Nl=Object(O.a)({pad2d_:Tl});function Al(e,t,n=0){return Object(I.assert)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,()=>"Invalid number of paddings. Must be length of 2 each."),gi(e,t,n)}const Il=Object(O.a)({pad3d_:Al});function jl(e,t,n=0){return Object(I.assert)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,()=>"Invalid number of paddings. Must be length of 2 each."),gi(e,t,n)}const Rl=Object(O.a)({pad4d_:jl});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ml(e,t,n,r,i,o){null==i&&(i=[1,1]),null==o&&(o=1),0===r&&(r="valid");const a=Object(k.a)(e,"x","maxPool");let s=a,l=!1;3===a.rank&&(l=!0,s=K(a,[1,a.shape[0],a.shape[1],a.shape[2]])),I.assert(vn(o,i),()=>"Error in pool: Either strides or dilations must be 1. "+`Got strides ${o} and dilations '${i}'`);const u=on(s.shape,t,o,i,r),c=[u.dilationHeight,u.dilationWidth];let f;f="same"===r?Dl([u.filterHeight,u.filterWidth],c):[[0,0],[0,0]];const h=1===c[0]&&1===c[1],[d,p]=Pl([u.inHeight,u.inWidth],c,f),m=h?r:"valid",g=h?s:In(s,c,d),b="avg"===n?()=>is(g,t,o,m):()=>fl(g,t,o,m),y=b(),v=h?y:ui(y,c,p);return l?K(v,[v.shape[1],v.shape[2],v.shape[3]]):v}function Pl(e,t,n){const r=n.map(e=>e[0]),i=n.map(e=>e[1]),o=e.concat(r,i),a=t.map((e,t)=>(e-o[t]%e)%e),s=i.map((e,t)=>e+a[t]),l=t.map((e,t)=>[r[t],s[t]]),u=t.map((e,t)=>[0,a[t]]);return[l,u]}function Dl(e,t){const n=e.map((e,n)=>e+(e-1)*(t[n]-1)),r=n.map(e=>e-1),i=r.map(e=>Math.floor(e/2)),o=r.map((e,t)=>e-i[t]);return r.map((e,t)=>[i[t],o[t]])}const Ll=Object(O.a)({pool_:Ml});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fl(e,t){const n=Object(k.a)(e,"x","prelu"),r=Object(k.a)(t,"alpha","prelu"),i=(e,t)=>{const i=e.prelu(n,r);return t([n,r]),i},o={x:n,alpha:r};return b.a.runKernelFunc(i,o,null,v.fb)}const Bl=Object(O.a)({prelu_:Fl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zl(e,t,n){const r=Object(I.sizeFromShape)(e);let i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);i=new Uint8Array(r)}for(let e=0;e<r;e++)i[e]=t();return b.a.makeTensor(i,e,n)}const $l=Object(O.a)({rand_:zl});var Ul=n(62);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wl{constructor(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=i||Math.random();this.random=Ul.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,i,o;do{o=(r=2*this.random()-1)*r+(i=2*this.random()-1)*i}while(o>=1||0===o);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*a,t=this.mean+this.stdDev*i*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Vl{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const i=r||Math.random();this.randu=Ul.alea(i.toString()),this.randn=new Wl(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,i,o;for(;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(i=this.randu())<t||Math.log(i)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class Hl{constructor(e=0,t=1,n,r){if(this.canReturnFloat=(()=>null==this.dtype||"float32"===this.dtype),this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=Ul.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function Gl(e){const t=e.length,n=Zl(e),r=Xl(e),i=t/6*(Math.pow(n,2)+.25*Math.pow(r-3,2)),o=5.991;if(i>5.991)throw new Error(`Invalid p-value for JB: ${i}`)}function ql(e,t,n,r){null==r&&(r=Sa());const i=Kl(e);Oa(i,t,r),Oa(Yl(e,i),n,r)}function Kl(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}function Yl(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r]-t;n+=i*i}return Math.sqrt(n/e.length)}function Xl(e){const t=Kl(e),n=e.length;let r=0,i=0;for(let o=0;o<n;o++){const n=e[o]-t;r+=Math.pow(n,2),i+=Math.pow(n,4)}return 1/n*i/Math.pow(1/n*r,2)}function Zl(e){const t=Kl(e),n=e.length;let r=0,i=0;for(let o=0;o<n;o++){const n=e[o]-t;r+=Math.pow(n,2),i+=Math.pow(n,3)}return 1/n*i/Math.pow(1/(n-1)*r,1.5)}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jl(e,t,n=1,r="float32",i){if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const o=new Vl(t,n,r,i),a=V(e,r);for(let e=0;e<a.values.length;e++)a.values[e]=o.nextValue();return a.toTensor()}const Ql=Object(O.a)({randomGamma_:Jl});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eu(e,t=0,n=1,r,i){if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const o=new Wl(t,n,r,!1,i),a=V(e,r);for(let e=0;e<a.values.length;e++)a.values[e]=o.nextValue();return a.toTensor()}const tu=Object(O.a)({randomNormal_:eu});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nu(e,t=0,n=1,r="float32",i){const o=V(e,r),a=new Hl(t,n,null,i);for(let e=0;e<o.values.length;e++)o.values[e]=a.nextValue();return o.toTensor()}const ru=Object(O.a)({randomUniform_:nu});var iu=n(67);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ou(e){const t=Object(k.a)(e,"x","relu"),n=(e,n)=>(n([t]),"bool"===t.dtype?t.toInt():e.relu(t)),r={x:t};return b.a.runKernelFunc(n,r,null,v.hb)}const au=Object(O.a)({relu_:ou});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function su(e){const t=Object(k.a)(e,"x","relu6"),n=(e,n)=>(n([t]),"bool"===t.dtype?G(t,"int32"):e.relu6(t)),r={x:t};return b.a.runKernelFunc(n,r,null,v.ib)}const lu=Object(O.a)({relu6_:su});
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uu(e){const t=Object(k.a)(e,"x","selu"),n=(e,n)=>{const r=e.selu(t);return n([t]),r},r={x:t};return b.a.runKernelFunc(n,r,null,v.kb)}const cu=Object(O.a)({selu_:uu});function fu(e,t,n,r,i,o=[1,1],a="NHWC"){const s=Object(k.a)(e,"x","separableConv2d"),l=Object(k.a)(t,"depthwiseFilter","separableConv2d"),u=Object(k.a)(n,"pointwiseFilter","separableConv2d");let c=s,f=!1;if(3===s.rank&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");I.assert(4===c.rank,()=>"Error in separableConv2d: input must be rank 4, but got "+`rank ${c.rank}.`),I.assert(4===l.rank,()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+`got rank ${l.rank}.`),I.assert(4===u.rank,()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+`got rank ${l.rank}.`),I.assert(1===u.shape[0],()=>"Error in separableConv2d: the first dimension of pointwise filter "+` must be 1, but got ${u.shape[0]}.`),I.assert(1===u.shape[1],()=>"Error in separableConv2d: the second dimension of pointwise "+`filter must be 1, but got ${u.shape[1]}.`);const h=l.shape[2],d=l.shape[3];I.assert(u.shape[2]===h*d,()=>"Error in separableConv2d: the third dimension of pointwise filter "+`must be ${h*d}, `+`but got ${u.shape[2]}.`);const p=$s(c,l,r,i,a,o),m=1,g=Wn(p,u,1,"valid",a);return f?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}const hu=Object(O.a)({separableConv2d_:fu});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function du(e,t){let n=Object(k.a)(e,"a","squaredDifference"),r=Object(k.a)(t,"b","squaredDifference");[n,r]=Object(C.makeTypesMatch)(n,r),_(n.shape,r.shape);const i=(e,t)=>{const i=e.squaredDifference(n,r);return t([n,r]),i},o={a:n,b:r},a={};return b.a.runKernelFunc(i,o,null,v.ob,a)}const pu=Object(O.a)({squaredDifference_:du});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mu(e,t=0,n=1,r,i){if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const o=new Wl(t,n,r,!0,i),a=V(e,r);for(let e=0;e<a.values.length;e++)a.values[e]=o.nextValue();return a.toTensor()}const gu=Object(O.a)({truncatedNormal_:mu}),bu=30;
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yu(e){return e<=bu?e:Object(I.nearestDivisor)(e,Math.floor(Math.sqrt(e)))}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vu(e,t){let n=!1,r;for(e<=bu?(r=e,n=!0):r=Object(I.nearestDivisor)(e,Math.floor(Math.sqrt(e)));!n;)r>t||r===e?n=!0:r=Object(I.nearestDivisor)(e,r+1);return r}function wu(e,t,n){const r=[],i=e.length;for(let o=0;o<i;o++)o!==t?r.push(e[o]):r.push(n);return r}function xu(e,t,n){const r=e.shape[n],i=[];let o=1,a=1;for(let t=0;t<n;t++)i.push(e.shape[t]),o*=e.shape[t];for(let e=0;e<t.rank;e++)i.push(t.shape[e]);for(let t=n+1;t<e.rank;t++)i.push(e.shape[t]),a*=e.shape[t];return{batchSize:o,sliceSize:a,dimSize:r,outputShape:i}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _u(e,t,n){const r=Object(k.a)(e,"x","unsortedSegmentSum"),i=Object(k.a)(t,"segmentIds","unsortedSegmentSum","int32");Object(I.assert)(Object(I.isInt)(n),()=>"numSegments must be of dtype int");const o=(e,t)=>{const[n]=t,r=()=>ku(e,n);return{$x:r}};return b.a.runKernelFunc((e,t)=>{const o=e.unsortedSegmentSum(r,i,n);return t([i]),o},{$x:r},o)}function Su(e,t,n=0){const r=Object(k.a)(e,"x","gather"),i=Object(k.a)(t,"indices","gather","int32");n=Object(I.parseAxisParam)(n,r.shape)[0];const o=xu(r,i,n),a=(e,t)=>{const[i]=t,o=()=>{const t=r.shape,o=i.size,a=t.slice(0,n),s=a.length,l=t.slice(n,t.length).slice(1),u=l.length,c=Eu(0,s),f=Eu(s+1,s+1+u),h=Cu([a,[o],l]),d=e.reshape(h),p=i.reshape([o]),m=Cu([[s],c,f]),g=d.transpose(m);let b=Tu(g,p,r.shape[n]);const y=ye(m);return b=b.transpose(y)};return{x:o,indices:()=>i}};return b.a.runKernelFunc((e,t)=>{const o=e.gather(r,i.flatten(),n);return t([i]),o},{x:r,indices:i},a,"Gather",{axis:n}).reshape(o.outputShape)}function Eu(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function Cu(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}function ku(e,t){const n=rl(t,Object(M.o)(t)),r=Ou(e,n);let i=xr(t,Object(M.e)(0,"int32"));const o=r.rank-i.rank;for(let e=0;e<o;++e)i=q(i,e+1);i=qr(i,Object(M.b)(r.shape,"bool"));const a=Object(M.o)(r);return Zr(i,r,a)}const Ou=Object(O.a)({gather_:Su}),Tu=Object(O.a)({unsortedSegmentSum_:_u});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function Nu(e,t,n){const r=Object(k.a)(e,"tensor","boolMask"),i=Object(k.a)(t,"mask","boolMask","bool"),o=null==n?0:n,a=i.rank,s=r.shape;I.assert(a>0,()=>"mask cannot be scalar"),I.assertShapesMatch(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let e=o;e<o+a;e++)l*=s[e];const u=s.slice(0,o).concat([l],s.slice(o+a)),c=r.reshape(u),f=i.reshape([-1]),h=await Jr(f),d=h.squeeze([1]),p=Ou(c,d,o);return e!==r&&r.dispose(),t!==i&&i.dispose(),d.dispose(),c.dispose(),f.dispose(),h.dispose(),p}const Au=Nu;
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iu(e){const t=Object(k.a)(e,"x","reverse");return I.assert(1===t.rank,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Du(t,0)}function ju(e,t){const n=Object(k.a)(e,"x","reverse");return I.assert(2===n.rank,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Du(n,t)}function Ru(e,t){const n=Object(k.a)(e,"x","reverse");return I.assert(3===n.rank,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Du(n,t)}function Mu(e,t){const n=Object(k.a)(e,"x","reverse");return I.assert(4===n.rank,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Du(n,t)}function Pu(e,t){const n=Object(k.a)(e,"x","reverse");if(0===n.rank)return n.clone();const r=I.parseAxisParam(t,n.shape),i=e=>({$x:()=>e.reverse(r)}),o=b.a.runKernelFunc(e=>e.reverse(n,r),{$x:n},i);return o.reshapeAs(n)}const Du=Object(O.a)({reverse_:Pu}),Lu=Object(O.a)({reverse1d_:Iu}),Fu=Object(O.a)({reverse2d_:ju}),Bu=Object(O.a)({reverse3d_:Ru}),zu=Object(O.a)({reverse4d_:Mu});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function $u(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","notEqualStrict"),r=Object(k.a)(t,"b","notEqualStrict");return Object(I.assertShapesMatch)(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}function Uu(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","lessStrict"),r=Object(k.a)(t,"b","lessStrict");return Object(I.assertShapesMatch)(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}function Wu(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","equalStrict"),r=Object(k.a)(t,"b","equalStrict");return Object(I.assertShapesMatch)(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}function Vu(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","lessEqualStrict"),r=Object(k.a)(t,"b","lessEqualStrict");return Object(I.assertShapesMatch)(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}function Hu(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","greaterStrict"),r=Object(k.a)(t,"b","greaterStrict");return Object(I.assertShapesMatch)(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}function Gu(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","greaterEqualStrict"),r=Object(k.a)(t,"b","greaterEqualStrict");return Object(I.assertShapesMatch)(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}const qu=Object(O.a)({equalStrict_:Wu}),Ku=Object(O.a)({greaterEqualStrict_:Gu}),Yu=Object(O.a)({greaterStrict_:Hu}),Xu=Object(O.a)({lessEqualStrict_:Vu}),Zu=Object(O.a)({lessStrict_:Uu}),Ju=Object(O.a)({notEqualStrict_:$u});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Qu(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","addStrict"),r=Object(k.a)(t,"b","addStrict");return I.assertShapesMatch(n.shape,r.shape,"Error in addStrict: "),n.add(r)}function ec(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","subStrict"),r=Object(k.a)(t,"b","subStrict");return I.assertShapesMatch(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}function tc(e,t){return Pa("strict variants of ops have been deprecated and will be removed in future"),I.assertShapesMatch(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}function nc(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","mul"),r=Object(k.a)(t,"b","mul");return I.assertShapesMatch(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}function rc(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","div"),r=Object(k.a)(t,"b","div");return I.assertShapesMatch(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}function ic(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","modStrict"),r=Object(k.a)(t,"b","modStrict");return I.assertShapesMatch(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}function oc(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","minimumStrict"),r=Object(k.a)(t,"b","minimumStrict");return I.assertShapesMatch(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}function ac(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","maximumStrict"),r=Object(k.a)(t,"b","maximumStrict");return I.assertShapesMatch(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}function sc(e,t){Pa("strict variants of ops have been deprecated and will be removed in future");const n=Object(k.a)(e,"a","squaredDifferenceStrict"),r=Object(k.a)(t,"b","squaredDifferenceStrict");return I.assertShapesMatch(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}const lc=Object(O.a)({addStrict_:Qu}),uc=Object(O.a)({divStrict_:rc}),cc=Object(O.a)({maximumStrict_:ac}),fc=Object(O.a)({minimumStrict_:oc}),hc=Object(O.a)({modStrict_:ic}),dc=Object(O.a)({mulStrict_:nc}),pc=Object(O.a)({powStrict_:tc}),mc=Object(O.a)({squaredDifferenceStrict_:sc}),gc=Object(O.a)({subStrict_:ec});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function bc(e,t=-1){const n=Object(k.a)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+`Logits was rank ${n.rank} and dim was ${t}`);const r=[],i=[!0];return b.a.runKernelFunc((e,r)=>{const i=e.softmax(n,t);return r([i]),i},{logits:n},(e,n)=>{const[r]=n,i=e.mul(r),o=!0;return{logits:()=>i.sub(i.sum([t],!0).mul(r))}},"Softmax",{dim:t},r,i)}function yc(e,t=-1){const n=Object(k.a)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+`Logits was rank ${n.rank} and axis was ${t}`);const r=ce((e,n)=>{const r=!0,i=e.max(t,!0),o=e.sub(i),a=o.toFloat().sub(o.exp().sum(t,!0).log());n([a]);const s=(e,n)=>{const[r]=n,i=r.exp();return e.sub(e.sum(t,!0).mul(i))};return{value:a,gradFunc:s}});return r(n)}const vc=Object(O.a)({softmax_:bc}),wc=Object(O.a)({logSoftmax_:yc});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function xc(e,t="euclidean",n=null,r=!1){const i=_c(e=Object(k.a)(e,"x","norm"),t,n);let o=i.shape;if(r){const t=Object(I.parseAxisParam)(n,e.shape);o=me(i.shape,t)}return i.reshape(o)}function _c(e,t,n=null){if(0===e.rank)return e.abs();if(1!==e.rank&&null===n)return _c(e.reshape([-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return e.abs().sum(n);if(t===1/0)return e.abs().max(n);if(t===-1/0)return e.abs().min(n);if("euclidean"===t||2===t)return e.abs().pow(Object(M.e)(2,"int32")).sum(n).sqrt();throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return e.abs().sum(n[0]).max(n[1]-1);if(t===1/0)return e.abs().sum(n[1]).max(n[0]);if(t===-1/0)return e.abs().sum(n[1]).min(n[0]);if("fro"===t||"euclidean"===t)return e.square().sum(n).sqrt();throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Sc=Object(O.a)({norm_:xc});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ec(e,t,n,r){const i=Object(k.a)(t,"data","multiRNNCell"),o=Object(k.b)(n,"c","multiRNNCell"),a=Object(k.b)(r,"h","multiRNNCell");let s=i;const l=[];for(let t=0;t<e.length;t++){const n=e[t](s,o[t],a[t]);l.push(n[0]),l.push(n[1]),s=n[1]}const u=[],c=[];for(let e=0;e<l.length;e+=2)u.push(l[e]),c.push(l[e+1]);return[u,c]}function Cc(e,t,n,r,i,o){const a=Object(k.a)(e,"forgetBias","basicLSTMCell"),s=Object(k.a)(t,"lstmKernel","basicLSTMCell"),l=Object(k.a)(n,"lstmBias","basicLSTMCell"),u=Object(k.a)(r,"data","basicLSTMCell"),c=Object(k.a)(i,"c","basicLSTMCell"),f=Object(k.a)(o,"h","basicLSTMCell"),h=u.concat(f,1),d=h.matMul(s),p=d.add(l),m=p.shape[0],g=p.shape[1]/4,b=[m,g],y=p.slice([0,0],b),v=p.slice([0,g],b),w=p.slice([0,2*g],b),x=p.slice([0,3*g],b),_=y.sigmoid().mul(v.tanh()).add(c.mul(a.add(w).sigmoid())),S=_.tanh().mul(x.sigmoid());return[_,S]}const kc=Object(O.a)({basicLSTMCell_:Cc}),Oc=Object(O.a)({multiRNNCell_:Ec});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Tc(e,t,n,r,i=!0){const o=Object(k.a)(e,"v","movingAverage"),a=Object(k.a)(t,"x","movingAverage"),s=Object(k.a)(n,"decay","movingAverage");Object(C.assertTypesMatch)(o,a),I.assert(I.arraysEqual(o.shape,a.shape),()=>"Shape mismatch in v and x");const l=Object(M.e)(1),u=l.sub(s);let c=a.sub(o).mul(u);if(i){I.assert(null!=r,()=>"When using zeroDebias: true, step is required.");const e=Object(k.a)(r,"step","movingAverage");c=c.div(l.sub(ei(s,e)))}return o.add(c)}const Nc=Object(O.a)({movingAverage_:Tc});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ac(e,t,n,r,i=0,o=0,a=0,s=0,l=0){null==r&&(r=new Array(t.length));const u=yi(a);if(u.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==a&&0!==s)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==a&&0!==l)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");let c=Object(k.a)(e,"x","stridedSlice");const f=c.rank-t.length,h=yi(s),d=c.shape.slice();h.forEach(e=>{t[e]=0,n[e]=1,d.splice(e,0,1)}),c=c.reshape(d);for(let e=0;e<c.rank;e++)t[e]=Ei(i,t,r,c.shape,e,a),n[e]=Ci(o,n,r,c.shape,e,a),r[e]=Si(r,e,a);if(u.length&&f>0){const e=u[0],i=f+1;t=xi(t,e,i),n=_i(n,e,i,c.shape),r=wi(r,e,i)}const p=yi(l);p.forEach(e=>{n[e]=t[e]+1,r[e]=1});const m=vi(t,n,r),g=m.filter((e,t)=>-1===p.indexOf(t)),y=r.every(e=>1===e);if(y)return Ri(c,t,m).reshape(g);const v=b.a.runKernelFunc(e=>e.stridedSlice(c,t,n,r),{$x:c});return v.reshape(g)}const Ic=Object(O.a)({stridedSlice_:Ac});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jc(e,t=1,n=!0){const r=Object(k.a)(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const i=r.shape[r.shape.length-1];if(t>i)throw new Error(`'k' passed to topk() must be <= the last dimension (${i}) `+`but got ${t}`);const[o,a]=b.a.runKernelFunc(e=>e.topk(r,t,n),{$x:r});return{values:o,indices:a}}const Rc=Object(O.a)({topk_:jc});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mc(e,t,n){const r=Object(k.a)(e,"indices","scatterND","int32"),i=Object(k.a)(t,"updates","scatterND");return ma(i,r,n),b.a.runKernelFunc(e=>e.scatterND(r,i,n),{indices:r,updates:i},null,"ScatterNd",{shape:n})}const Pc=Object(O.a)({scatterND_:Mc});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dc(e){Object(I.assert)("complex64"===e.dtype,()=>"The dtype for tf.spectral.fft() must be complex64 "+`but got ${e.dtype}.`);const t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t),i=b.a.runKernelFunc(e=>e.fft(r),{input:e});return i.reshape(e.shape)}function Lc(e){Object(I.assert)("complex64"===e.dtype,()=>"The dtype for tf.spectral.ifft() must be complex64 "+`but got ${e.dtype}.`);const t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t),i=b.a.runKernelFunc(e=>e.ifft(r),{input:e});return i.reshape(e.shape)}function Fc(e,t){Object(I.assert)("float32"===e.dtype,()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let n=e.shape[e.shape.length-1];const r=e.size/n;let i;if(null!=t&&t<n){const r=e.shape.map(e=>0),o=e.shape.map(e=>e);o[e.shape.length-1]=t,i=e.slice(r,o),n=t}else if(null!=t&&t>n){const r=e.shape.map(e=>e);r[e.shape.length-1]=t-n,i=e.concat(Object(M.n)(r),e.shape.length-1),n=t}else i=e;const o=i.zerosLike(),a=Object(xs.a)(i,o).as2D(r,n),s=zc(a),l=Math.floor(n/2)+1,u=Object(iu.a)(s),c=Object(tl.a)(s),f=u.split([l,n-l],u.shape.length-1),h=c.split([l,n-l],c.shape.length-1),d=i.shape.slice();return d[i.shape.length-1]=l,Object(xs.a)(f[0],h[0]).reshape(d)}function Bc(e){const t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){const r=e.as2D(n,t),i=$c(r);return Object(iu.a)(i)}{const r=[n,2*(t-1)],i=Object(iu.a)(e).as2D(n,t),o=Object(tl.a)(e).as2D(n,t),a=i.slice([0,1],[n,t-2]).reverse(1),s=o.slice([0,1],[n,t-2]).reverse(1).mul(Object(M.e)(-1)),l=i.concat(a,1),u=o.concat(s,1),c=Object(xs.a)(l,u).as2D(r[0],r[1]),f=$c(c);return Object(iu.a)(f)}}const zc=Object(O.a)({fft_:Dc}),$c=Object(O.a)({ifft_:Lc}),Uc=Object(O.a)({rfft_:Fc}),Wc=Object(O.a)({irfft_:Bc});function Vc(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+` but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+` but got shape ${e.shape}.`);const i=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+` ${n.length}, should be: ${o}.`);const a=t.size;if(0!==t.rank&&(1!==t.rank||a!==i))throw new Error("sparseValues has incorrect shape "+`${t.shape}, should be [] or [${i}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hc(e,t,n,r=0){const i=Object(k.a)(e,"sparseIndices","sparseToDense","int32"),o=Object(k.a)(t,"sparseValues","sparseToDense"),a=Object(k.a)(r,"defaultValue","sparseToDense",o.dtype);return Vc(i,o,n,a),b.a.runKernelFunc(e=>e.sparseToDense(i,o,n,a),{$sparseIndices:i,$sparseValues:o,$defaultValue:a})}const Gc=Object(O.a)({sparseToDense_:Hc});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qc(e,t){const n=Object(k.a)(t,"indices","gatherND","int32"),r=Object(k.a)(e,"x","gatherND"),i=e=>e.gatherND(r,n),o={params:r,indices:n};return b.a.runKernelFunc(i,o,null,v.G)}const Kc=Object(O.a)({gatherND_:qc});
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yc(e,t){if(null==t)return e.shape.slice();if(I.arraysEqual(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xc(e,t,n,r){const i=Object(k.a)(e,"x","dropout");if(I.assert("float32"===i.dtype,()=>"x has to be a floating point tensor since it's going to be "+`scaled, but got a ${i.dtype} tensor instead.`),I.assert(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),0===t)return e instanceof A.a?i.clone():i;const o=Yc(i,n),a=1-t,s=ru(o,0,1,"float32",r).add(a).floor().div(a);return i.mul(s)}const Zc=Object(O.a)({dropout_:Xc});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jc(e){return rf(e,.5,.5)}function Qc(e){return rf(e,.54,.46)}function ef(e,t,n,r=!1,i=0){let o=0;const a=[];for(;o+t<=e.size;)a.push(Ri(e,o,t)),o+=n;if(r)for(;o<e.size;){const r=o+t-e.size,s=D([Ri(e,o,t-r),el([r],i)]);a.push(s),o+=n}return 0===a.length?Object(M.h)([],[0,t]):D(a).as2D(a.length,t)}function tf(e,t,n,r,i=of){null==r&&(r=nf(t));const o=sf(e,t,n),a=ie(o,i(t)),s=[];for(let e=0;e<o.shape[0];e++)s.push(Uc(a.slice([e,0],[1,t]),r));return D(s)}function nf(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function rf(e,t,n){const r=1-e%2,i=new Float32Array(e);for(let o=0;o<e;++o){const a=2*Math.PI*o/(e+r-1);i[o]=t-n*Math.cos(a)}return Object(M.g)(i,"float32")}const of=Object(O.a)({hannWindow_:Jc}),af=Object(O.a)({hammingWindow_:Qc}),sf=Object(O.a)({frame_:ef}),lf=Object(O.a)({stft_:tf});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
async function uf(e,t,n=1){const r=Object(k.a)(e,"predictions","inTopK"),i=Object(k.a)(t,"targets","inTopK");Object(I.assert)(r.rank>1,()=>"inTopK() expects the predictions to be of rank 2 or higher, "+`but got ${r.rank}`),Object(I.assert)(r.rank-1===i.rank,()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+`${r.rank} and targets rank ${i.rank}`),Object(I.assertShapesMatch)(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];Object(I.assert)(n>0&&n<=o,()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+`dimension (${o}), but got ${n}`);const a=await r.data(),s=await i.data(),[l,u]=[a.length/o,o],c=Object(I.getTypedArrayFromDType)("bool",l);for(let e=0;e<l;e++){const t=e*u,r=a.subarray(t,t+u),i=[];for(let e=0;e<r.length;e++)i.push({value:r[e],index:e});i.sort((e,t)=>t.value-e.value),c[e]=0;for(let t=0;t<n;t++)if(i[t].index===s[e]){c[e]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),Object(M.f)(c,i.shape,"bool")}const cf=uf;
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ff;function hf(e,t,n=ff.SUM_BY_NONZERO_WEIGHTS){const r=Object(k.a)(e,"losses","computeWeightedLoss");let i=null;null!=t&&(i=Object(k.a)(t,"weights","computeWeightedLoss"));const o=null==i?r:r.mul(i);if(n===ff.NONE)return o;if(n===ff.SUM)return o.sum();if(n===ff.MEAN){if(null==i)return o.mean();{const e=r.size/i.size,t=o.sum().div(i.sum());return e>1?t.div(Object(M.e)(e)):t}}if(n===ff.SUM_BY_NONZERO_WEIGHTS){if(null==i)return o.sum().div(Object(M.e)(r.size));{const e=i.mul(Object(M.b)(r.shape)),t=e.notEqual(Object(M.e)(0)).sum().toFloat();return o.sum().div(t)}}throw Error(`Unknown reduction: ${n}`)}function df(e,t,n,r=ff.SUM_BY_NONZERO_WEIGHTS){const i=Object(k.a)(e,"labels","absoluteDifference"),o=Object(k.a)(t,"predictions","absoluteDifference");let a=null;null!=n&&(a=Object(k.a)(n,"weights","absoluteDifference")),Object(I.assertShapesMatch)(i.shape,o.shape,"Error in absoluteDifference: ");const s=i.sub(o).abs();return Ef(s,a,r)}function pf(e,t,n,r=ff.SUM_BY_NONZERO_WEIGHTS){const i=Object(k.a)(e,"labels","meanSquaredError"),o=Object(k.a)(t,"predictions","meanSquaredError");let a=null;null!=n&&(a=Object(k.a)(n,"weights","meanSquaredError")),Object(I.assertShapesMatch)(i.shape,o.shape,"Error in meanSquaredError: ");const s=i.squaredDifference(o);return Ef(s,a,r)}function mf(e,t,n,r,i=ff.SUM_BY_NONZERO_WEIGHTS){const o=Object(k.a)(e,"labels","cosineDistance"),a=Object(k.a)(t,"predictions","cosineDistance");let s=null;null!=r&&(s=Object(k.a)(r,"weights","cosineDistance")),Object(I.assertShapesMatch)(o.shape,a.shape,"Error in cosineDistance: ");const l=Object(M.e)(1),u=l.sub(o.mul(a).sum(n,!0));return Ef(u,s,i)}function gf(e,t,n,r=ff.SUM_BY_NONZERO_WEIGHTS){let i=Object(k.a)(e,"labels","hingeLoss");const o=Object(k.a)(t,"predictions","hingeLoss");let a=null;null!=n&&(a=Object(k.a)(n,"weights","hingeLoss")),Object(I.assertShapesMatch)(i.shape,o.shape,"Error in hingeLoss: ");const s=Object(M.e)(1);i=Object(M.e)(2).mul(i).sub(s);const l=s.sub(i.mul(o)).relu();return Ef(l,a,r)}function bf(e,t,n,r=1e-7,i=ff.SUM_BY_NONZERO_WEIGHTS){const o=Object(k.a)(e,"labels","logLoss"),a=Object(k.a)(t,"predictions","logLoss");let s=null;null!=n&&(s=Object(k.a)(n,"weights","logLoss")),Object(I.assertShapesMatch)(o.shape,a.shape,"Error in logLoss: ");const l=Object(M.e)(1),u=Object(M.e)(r),c=o.mul(a.add(u).log()).neg().sub(l.sub(o).mul(l.sub(a).add(u).log()));return Ef(c,s,i)}function yf(e,t){const n=Object(k.a)(e,"labels","sigmoidCrossEntropyWithLogits"),r=Object(k.a)(t,"logits","sigmoidCrossEntropyWithLogits");Object(I.assertShapesMatch)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const i=r.relu(),o=r.mul(n),a=r.abs().neg().exp().log1p();return i.sub(o).add(a)}function vf(e,t,n,r=0,i=ff.SUM_BY_NONZERO_WEIGHTS){let o=Object(k.a)(e,"multiClassLabels","sigmoidCrossEntropy");const a=Object(k.a)(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=Object(k.a)(n,"weights","sigmoidCrossEntropy")),Object(I.assertShapesMatch)(o.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=Object(M.e)(r),t=Object(M.e)(1),n=Object(M.e)(.5);o=o.mul(t.sub(e)).add(n.mul(e))}const l=yf(o,a);return Ef(l,s,i)}function wf(e,t,n,r=1,i=ff.SUM_BY_NONZERO_WEIGHTS){const o=Object(k.a)(e,"labels","huberLoss"),a=Object(k.a)(t,"predictions","huberLoss");let s=null;null!=n&&(s=Object(k.a)(n,"weights","huberLoss")),Object(I.assertShapesMatch)(o.shape,a.shape,"Error in huberLoss: ");const l=Object(M.e)(r),u=a.sub(o).abs(),c=bl(u,l),f=u.sub(c),h=Object(M.e)(.5).mul(c.square()).add(l.mul(f));return Ef(h,s,i)}function xf(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+`supported. Labels / logits was rank ${t.rank} `+`and dim was ${n}`);const r=ce((e,t,r)=>{const i=!0,o=t.logSumExp([n],!0),a=t.toFloat().sub(o);r([e,a]);const s=a.mul(e).neg(),l=s.sum([n]),u=(e,t)=>{const[r,i]=t,o=me(e.shape,[n]);return[e.reshape(o).mul(r.toFloat().sub(i.exp())),e.reshape(o).mul(i.exp().sub(r.toFloat()))]};return{value:l,gradFunc:u}});return r(e,t)}function _f(e,t,n,r=0,i=ff.SUM_BY_NONZERO_WEIGHTS){let o=Object(k.a)(e,"onehotLabels","softmaxCrossEntropy");const a=Object(k.a)(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=Object(k.a)(n,"weights","softmaxCrossEntropy")),Object(I.assertShapesMatch)(o.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){const e=Object(M.e)(r),t=Object(M.e)(1),n=Object(M.e)(o.shape[1]);o=o.mul(t.sub(e)).add(e.div(n))}const l=xf(o,a);return Ef(l,s,i)}!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(ff||(ff={}));const Sf=Object(O.a)({absoluteDifference_:df}),Ef=Object(O.a)({computeWeightedLoss_:hf}),Cf=Object(O.a)({cosineDistance_:mf}),kf=Object(O.a)({hingeLoss_:gf}),Of=Object(O.a)({huberLoss_:wf}),Tf=Object(O.a)({logLoss_:bf}),Nf=Object(O.a)({meanSquaredError_:pf}),Af=Object(O.a)({sigmoidCrossEntropy_:vf}),If=Object(O.a)({softmaxCrossEntropy_:_f});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function jf(e,t,n){if(t%1!=0)throw new Error(`bandPart(): numLower must be an integer, got ${t}.`);if(n%1!=0)throw new Error(`bandPart(): numUpper must be an integer, got ${n}.`);const r=Object(k.a)(e,"a","bandPart");if(r.rank<2)throw new Error(`bandPart(): Rank must be at least 2, got ${r.rank}.`);const i=r.shape,[o,a]=r.shape.slice(-2);if(!(t<=o))throw new Error(`bandPart(): numLower (${t})`+` must not be greater than the number of rows (${o}).`);if(!(n<=a))throw new Error(`bandPart(): numUpper (${n})`+` must not be greater than the number of columns (${a}).`);t<0&&(t=o),n<0&&(n=a);const s=Object(M.d)(0,o,1,"int32").reshape([-1,1]),l=Object(M.d)(0,a,1,"int32"),u=cr(s,l),c=qr(u.lessEqual(Object(M.e)(+t,"int32")),u.greaterEqual(Object(M.e)(-n,"int32"))),f=Object(M.n)([o,a],r.dtype);return X(Z(r.reshape([-1,o,a])).map(e=>Zr(c,e,f))).reshape(i)}function Rf(e){let t;if(Array.isArray(e)){t=!1,Object(I.assert)(null!=e&&e.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const n=e[0].shape[0];for(let t=1;t<e.length;++t)Object(I.assert)(e[t].shape[0]===n,()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+`(${e[t].shape[0]} vs. ${n})`)}else t=!0,e=Pn(e,e.shape[0],0).map(e=>Y(e,[0]));Object(I.assert)(e.length<=e[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds `+`number of dimensions (${e[0].shape[0]}).`);const n=[],r=e;for(let t=0;t<e.length;++t)n.push(b.a.tidy(()=>{let e=r[t];if(t>0)for(let r=0;r<t;++r){const t=Be(n[r].mul(e)).mul(n[r]);e=e.sub(t)}return e.div(Sc(e,"euclidean"))}));return t?X(n,0):n}function Mf(e,t=!1){if(e.rank<2)throw new Error(`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`);if(2===e.rank)return Pf(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce((e,t)=>e*t),r=Z(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],o=[];r.forEach(e=>{const[n,r]=Pf(e,t);i.push(n),o.push(r)});const a=X(i,0).reshape(e.shape),s=X(o,0).reshape(e.shape);return[a,s]}}function Pf(e,t=!1){return b.a.tidy(()=>{if(2!==e.shape.length)throw new Error(`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`);const n=e.shape[0],r=e.shape[1];let i=Qs(n),o=e.clone();const a=Object(M.h)([[1]],[1,1]);let s=a.clone();const l=n>=r?r:n;for(let e=0;e<l;++e){const t=o,l=s,u=i;[s,o,i]=b.a.tidy(()=>{const t=o.slice([e,e],[n-e,1]),l=t.norm(),u=o.slice([e,e],[1,1]),c=Object(M.h)([[-1]]).where(u.greater(0),Object(M.h)([[1]])),f=u.sub(c.mul(l)),h=t.div(f);s=1===h.shape[0]?a.clone():a.concat(h.slice([1,0],[h.shape[0]-1,h.shape[1]]),0);const d=c.matMul(f).div(l).neg(),p=o.slice([e,0],[n-e,r]),m=d.mul(s),g=s.transpose();if(0===e)o=p.sub(m.matMul(g.matMul(p)));else{const t=p.sub(m.matMul(g.matMul(p)));o=o.slice([0,0],[e,r]).concat(t,0)}const b=m.transpose(),y=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=y.sub(y.matMul(s).matMul(b));else{const t=y.sub(y.matMul(s).matMul(b));i=i.slice([0,0],[n,e]).concat(t,1)}return[s,o,i]}),$a([t,l,u])}return!t&&n>r&&(i=i.slice([0,0],[n,r]),o=o.slice([0,0],[r,r])),[i,o]})}const Df=Object(O.a)({bandPart_:jf}),Lf=Object(O.a)({gramSchmidt_:Rf}),Ff=Object(O.a)({qr_:Mf});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Bf(e,t,n){const r=zf(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function zf(e,t,n){return Uf(e,t,n||$f)}function $f(e,t){return e>t?1:e<t?-1:0}function Uf(e,t,n){let r=0,i=e.length,o=0,a=!1;for(;r<i;){const s=n(t,e[o=r+(i-r>>>1)]);s>0?r=o+1:(i=o,a=!s)}return a?r:-r-1}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wf(e,t,n,r,i){const o=0,a=Hf(e,t,n,r,i,0);return a.selectedScores.dispose(),a.numValidOutputs.dispose(),a.selectedIndices}function Vf(e,t,n,r,i,o){const a=!0,s=Hf(e,t,n,r,i,o,!0);return s.numValidOutputs.dispose(),{selectedIndices:s.selectedIndices,selectedScores:s.selectedScores}}function Hf(e,t,n,r,i,o,a=!1,s=!1){const l=[];for(let e=0;e<t.length;e++)t[e]>i&&l.push({score:t[e],boxIndex:e,suppressBeginIndex:0});l.sort(Kf);const u=o>0?-.5/o:0,c=[],f=[];for(;c.length<n&&l.length>0;){const t=l.pop(),{score:n,boxIndex:o,suppressBeginIndex:a}=t;if(n<i)break;let s=!1;for(let n=c.length-1;n>=a;--n){const a=Gf(e,o,c[n]);if(a>=r){s=!0;break}if(t.score=t.score*qf(r,u,a),t.score<=i)break}t.suppressBeginIndex=c.length,s||(t.score===n?(c.push(o),f.push(t.score)):t.score>i&&Bf(l,t,Kf))}const h=c.length;return s&&(c.fill(0,h),f.fill(0,h)),{selectedIndices:Object(M.g)(c,"int32"),selectedScores:Object(M.g)(f,"float32"),numValidOutputs:Object(M.e)(h,"int32")}}function Gf(e,t,n){const r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),d=(s-o)*(l-a),p=(f-u)*(h-c);if(d<=0||p<=0)return 0;const m=Math.max(o,u),g=Math.max(a,c),b=Math.min(s,f),y=Math.min(l,h),v=Math.max(b-m,0)*Math.max(y-g,0);return v/(d+p-v)}function qf(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Kf(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yf(e,t,n,r,i,o){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==o&&(o=0);const a=e.shape[0];return n=Math.min(n,a),I.assert(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),I.assert(2===e.rank,()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`),I.assert(4===e.shape[1],()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`),I.assert(1===t.rank,()=>"scores must be a 1D tensor"),I.assert(t.shape[0]===a,()=>`scores has incompatible shape with boxes. Expected ${a}, `+`but was ${t.shape[0]}`),I.assert(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xf(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=Object(k.a)(e,"boxes","nonMaxSuppression"),a=Object(k.a)(t,"scores","nonMaxSuppression"),s=Yf(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return b.a.runKernelFunc(e=>e.nonMaxSuppression(o,a,n,r,i),{boxes:o,scores:a},null,v.Z,l)}const Zf=Object(O.a)({nonMaxSuppression_:Xf});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jf(e,t,n=!1){const r=Object(k.a)(e,"images","resizeBilinear");I.assert(3===r.rank||4===r.rank,()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+`rank ${r.rank}.`),I.assert(2===t.length,()=>"Error in resizeBilinear: new shape must 2D, but got shape "+`${t}.`);let i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));const[a,s]=t,l=(e,t)=>(t([i]),e.resizeBilinear(i,a,s,n)),u=(e,t)=>({x:()=>b.a.runKernelFunc(r=>r.resizeBilinearBackprop(e,t[0],n),{})}),c=b.a.runKernelFunc(l,{x:i},u,"ResizeBilinear",{alignCorners:n,newHeight:a,newWidth:s});return o?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}function Qf(e,t,n=!1){const r=Object(k.a)(e,"images","resizeNearestNeighbor");I.assert(3===r.rank||4===r.rank,()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+`rank ${r.rank}.`),I.assert(2===t.length,()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+`${t}.`),I.assert("float32"===r.dtype||"int32"===r.dtype,()=>"`images` must have `int32` or `float32` as dtype");let i=r,o=!1;3===r.rank&&(o=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));const[a,s]=t,l=(e,t)=>(t([i]),e.resizeNearestNeighbor(i,a,s,n)),u=(e,t)=>({batchImages:()=>b.a.runKernelFunc(r=>r.resizeNearestNeighborBackprop(e,t[0],n),{})}),c=b.a.runKernelFunc(l,{batchImages:i},u);return o?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}async function eh(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=Object(k.a)(e,"boxes","nonMaxSuppressionAsync"),a=Object(k.a)(t,"scores","nonMaxSuppressionAsync"),s=Yf(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const l=await Promise.all([o.data(),a.data()]),u=l[0],c=l[1],f=Wf(u,c,n,r,i);return o!==e&&o.dispose(),a!==t&&a.dispose(),f}function th(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const a=Object(k.a)(e,"boxes","nonMaxSuppression"),s=Object(k.a)(t,"scores","nonMaxSuppression"),l=Yf(a,s,n,r,i,o),u={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:o=l.softNmsSigma},c=b.a.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},u);return{selectedIndices:c[0],selectedScores:c[1]}}async function nh(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const a=Object(k.a)(e,"boxes","nonMaxSuppressionAsync"),s=Object(k.a)(t,"scores","nonMaxSuppressionAsync"),l=Yf(a,s,n,r,i,o);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,o=l.softNmsSigma;const u=await Promise.all([a.data(),s.data()]),c=u[0],f=u[1],h=Vf(c,f,n,r,i,o);return a!==e&&a.dispose(),s!==t&&s.dispose(),h}function rh(e,t,n,r,i,o){const a=Object(k.a)(e,"image","cropAndResize"),s=Object(k.a)(t,"boxes","cropAndResize","float32"),l=Object(k.a)(n,"boxInd","cropAndResize","int32");i=i||"bilinear",o=o||0;const u=s.shape[0];I.assert(4===a.rank,()=>"Error in cropAndResize: image must be rank 4,"+`but got rank ${a.rank}.`),I.assert(2===s.rank&&4===s.shape[1],()=>`Error in cropAndResize: boxes must be have size [${u},4] `+`but had shape ${s.shape}.`),I.assert(1===l.rank&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] `+`but had shape ${s.shape}.`),I.assert(2===r.length,()=>"Error in cropAndResize: cropSize must be of length 2, but got "+`length ${r.length}.`),I.assert(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),I.assert("bilinear"===i||"nearest"===i,()=>`method must be bilinear or nearest, but was ${i}`);const c=(e,t)=>e.cropAndResize(a,s,l,r,i,o),f=b.a.runKernelFunc(c,{images:a,boxes:s,boxInd:l},null,"CropAndResize",{method:i,extrapolationValue:o,cropSize:r});return f}const ih=Object(O.a)({resizeBilinear_:Jf}),oh=Object(O.a)({resizeNearestNeighbor_:Qf}),ah=eh,sh=Object(O.a)({nonMaxSuppressionWithScore_:th}),lh=nh,uh=Object(O.a)({cropAndResize_:rh}),ch=(e,t)=>{const n=e>0;return!n||"linear"===t},fh=(e,t,n)=>{if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error(`Gradient for activation ${n} has not been `+"implemented yet.")},hh=(e,t)=>{let n=t;const r=x(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},dh=(e,t,n)=>{if("linear"===t)return e;if("relu"===t)return au(e);if("elu"===t)return Ys(e);if("relu6"===t)return lu(e);if("prelu"===t)return Bl(e,n);throw new Error(`Unknown fused activation ${t}.`)};function ph({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:i,activation:o="linear",preluActivationWeights:a}){if(!1===ch(b.a.state.gradientDepth,o)){let s=Tn(e,t,n,r);return null!=i&&(s=N(s,i)),dh(s,o,a)}let s=Object(k.a)(e,"a","fused matMul"),l=Object(k.a)(t,"b","fused matMul");[s,l]=Object(C.makeTypesMatch)(s,l);const u=n?s.shape[s.rank-2]:s.shape[s.rank-1],c=r?l.shape[l.rank-1]:l.shape[l.rank-2],f=n?s.shape[s.rank-1]:s.shape[s.rank-2],h=r?l.shape[l.rank-2]:l.shape[l.rank-1],d=s.shape.slice(0,-2),p=l.shape.slice(0,-2),m=I.sizeFromShape(d),g=I.sizeFromShape(p);I.assert(s.rank>=2&&l.rank>=2&&s.rank===l.rank,()=>"Error in fused matMul: inputs must have the same rank of at least "+`2, got ranks ${s.rank} and ${l.rank}.`),I.assert(I.arraysEqual(d,p),()=>`Error in fused matMul: outer dimensions (${d}) and (`+`${p}) of Tensors with shapes ${s.shape} and `+`${l.shape} must match.`),I.assert(u===c,()=>`Error in fused matMul: inner shapes (${u}) and (`+`${c}) of Tensors with shapes ${s.shape} and `+`${l.shape} and transposeA=${n}`+` and transposeB=${r} must match.`);const y=s.shape.slice(0,-2).concat([f,h]),v=n?s.as3D(m,u,f):s.as3D(m,f,u),w=r?l.as3D(g,h,c):l.as3D(g,c,h);let x,S;null!=i&&(x=Object(k.a)(i,"bias","fused matMul"),[x]=Object(C.makeTypesMatch)(x,s),_(y,x.shape)),null!=a&&(S=Object(k.a)(a,"prelu weights","fused matMul"));const E=(e,t)=>{const[a,s,l]=t,u=fh(e,l,o);let c={};return null!=i&&(c={bias:()=>hh(x,u)}),n||r?!n&&r?Object.assign({a:()=>u.matMul(s,!1,!1),b:()=>u.matMul(a,!0,!1)},c):n&&!r?Object.assign({a:()=>s.matMul(u,!1,!0),b:()=>a.matMul(u,!1,!1)},c):Object.assign({a:()=>s.matMul(u,!0,!0),b:()=>u.matMul(a,!0,!0)},c):Object.assign({a:()=>u.matMul(s,!1,!0),b:()=>a.matMul(u,!0,!1)},c)},O={a:v,b:w};null!=i&&(O.bias=x),null!=a&&(O.preluActivationWeights=S);const T=[v,w],A=[!0],j=b.a.runKernelFunc((e,t)=>{const i=e.fusedBatchMatMul({a:v,b:w,transposeA:n,transposeB:r,bias:x,activation:o,preluActivationWeights:S});return t([v,w,i]),i},O,E,"_FusedMatMul",{transposeA:n,transposeB:r,activation:o},T,A);return j.reshape(y)}function mh({x:e,filter:t,strides:n,pad:r,dataFormat:i="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:s,activation:l="linear",preluActivationWeights:u}){if(l=l||"linear",!1===ch(b.a.state.gradientDepth,l)){let c=Wn(e,t,n,r,i,o,a);return null!=s&&(c=N(c,s)),dh(c,l,u)}const c=Object(k.a)(e,"x","conv2d"),f=Object(k.a)(t,"filter","conv2d");let h=c,d=!1;3===c.rank&&(d=!0,h=c.as4D(1,c.shape[0],c.shape[1],c.shape[2])),I.assert(4===h.rank,()=>"Error in fused conv2d: input must be rank 4, but got rank "+`${h.rank}.`),I.assert(4===f.rank,()=>"Error in fused conv2d: filter must be rank 4, but got rank "+`${f.rank}.`),null!=a&&I.assert(I.isInt(r),()=>"Error in fused conv2d: pad must be an integer when using, "+`dimRoundingMode ${a} but got pad ${r}.`),I.assert(h.shape[3]===f.shape[2],()=>`Error in conv2d: depth of input (${h.shape[3]}) must match `+`input depth for filter ${f.shape[2]}.`),I.assert(vn(n,o),()=>"Error in conv2D: Either strides or dilations must be 1. "+`Got strides ${n} and dilations '${o}'`),I.assert("NHWC"===i,()=>`Error in conv2d: got dataFormat of ${i} but only NHWC is currently supported.`);const p=sn(h.shape,f.shape,n,o,r,a);let m,g;null!=s&&(m=Object(k.a)(s,"bias","fused conv2d"),[m]=Object(C.makeTypesMatch)(m,c),_(p.outShape,m.shape)),null!=u&&(g=Object(k.a)(u,"prelu weights","fused conv2d"));const y=(e,t)=>{const[i,a,u]=t,c=fh(e,u,l);I.assert(yn(o),()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+`are not yet supported in gradients. Got dilations '${o}'`);let f={};return null!=s&&(f={bias:()=>hh(m,c)}),Object.assign({x:()=>zn(a.shape,c,i,n,r),filter:()=>Fn(a,c,i.shape,n,r)},f)},v={x:h,filter:f};null!=s&&(v.bias=m),null!=u&&(v.preluActivationWeights=g);const w=[f,h],x=[!0],S=b.a.runKernelFunc((e,t)=>{const n=e.fusedConv2d({input:h,filter:f,convInfo:p,bias:m,activation:l,preluActivationWeights:g});return t([f,h,n]),n},v,y,"FusedConv2D",{convInfo:p,activation:l},w,x);return d?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}function gh({x:e,filter:t,strides:n,pad:r,dataFormat:i="NHWC",dilations:o=[1,1],dimRoundingMode:a,bias:s,activation:l="linear",preluActivationWeights:u}){if(!1===ch(b.a.state.gradientDepth,l)){let c=$s(e,t,n,r,i,o,a);return null!=s&&(c=N(c,s)),dh(c,l,u)}const c=Object(k.a)(e,"x","depthwiseConv2d"),f=Object(k.a)(t,"filter","depthwiseConv2d");let h=c,d=!1;3===c.rank&&(d=!0,h=c.as4D(1,c.shape[0],c.shape[1],c.shape[2])),I.assert(4===h.rank,()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+`rank ${h.rank}.`),I.assert(4===f.rank,()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+`but got rank ${f.rank}.`),I.assert(h.shape[3]===f.shape[2],()=>"Error in fused depthwiseConv2d: number of input channels "+`(${h.shape[3]}) must match the inChannels dimension in `+`filter ${f.shape[2]}.`),null==o&&(o=[1,1]),I.assert(vn(n,o),()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+`be 1. Got strides ${n} and dilations '${o}'`),null!=a&&I.assert(I.isInt(r),()=>"Error in fused depthwiseConv2d: pad must be an integer when "+`using dimRoundingMode ${a} but got pad ${r}.`);const p=sn(h.shape,f.shape,n,o,r,a,!0);let m,g;null!=s&&(m=Object(k.a)(s,"bias","fused conv2d"),[m]=Object(C.makeTypesMatch)(m,c),_(p.outShape,m.shape)),null!=u&&(g=Object(k.a)(u,"prelu weights","fused depthwiseConv2d"));const y=(e,t)=>{I.assert(yn(o),()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+`'${o}'`);const[n,r,i]=t,a=fh(e,i,l);let u={};return null!=s&&(u={bias:()=>hh(m,a)}),Object.assign({x:()=>ir(r.shape,a,n,p),filter:()=>nr(r,a,n.shape,p)},u)},v={x:h,filter:f};null!=s&&(v.bias=m),null!=u&&(v.preluActivationWeights=g);const w=[f,h],x=[!0],S=b.a.runKernelFunc((e,t)=>{const n=e.fusedDepthwiseConv2D({input:h,filter:f,convInfo:p,bias:m,activation:l,preluActivationWeights:g});return t([f,h,n]),n},v,y,"FusedDepthwiseConv2D",{convInfo:p,activation:l},w,x);return d?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}const bh=Object(O.a)({fusedMatMul_:ph}),yh=Object(O.a)({fusedConv2d_:mh}),vh=Object(O.a)({fusedDepthwiseConv2d_:gh});
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class wh extends ba{minimize(e,t=!1,n){const{value:r,grads:i}=this.computeGradients(e,n);if(null!=n){const e=n.map(e=>({name:e.name,tensor:i[e.name]}));this.applyGradients(e)}else this.applyGradients(i);return $a(i),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return ue(e,t)}dispose(){null!=this.iterations_&&$a(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Object(M.e)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+`${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(wh,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class xh extends wh{constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=b.a.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=b.a.registeredVariables[t],i=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:za(()=>Object(M.o)(r).variable(!1))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:za(()=>Object(M.o)(r).variable(!1))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const a=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;za(()=>{const e=a.mul(this.rho).add(o.square().mul(1-this.rho)),t=s.add(this.epsilon).sqrt().div(a.add(this.epsilon).sqrt()).mul(o),n=s.mul(this.rho).add(t.square().mul(1-this.rho));a.assign(e),s.assign(n);const i=t.mul(-this.learningRate).add(r);r.assign(i)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&($a(this.accumulatedGrads.map(e=>e.variable)),$a(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedUpdates=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}xh.className="Adadelta",va(xh);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class _h extends wh{constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=b.a.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:za(()=>el(r.shape,this.initialAccumulatorValue).variable(e))}}const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const o=this.accumulatedGrads[n].variable;za(()=>{const e=o.add(i.square());o.assign(e);const t=i.div(e.add(b.a.backend.epsilon()).sqrt()).mul(-this.learningRate).add(r);r.assign(t)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&$a(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=!1;this.accumulatedGrads=e.map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}_h.className="Adagrad",va(_h);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Sh extends wh{constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],za(()=>{this.accBeta1=Object(M.e)(t).variable(),this.accBeta2=Object(M.e)(n).variable()}),null==r&&(this.epsilon=b.a.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);za(()=>{const n=cr(1,this.accBeta1),r=cr(1,this.accBeta2);t.forEach((t,i)=>{const o=b.a.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:za(()=>Object(M.o)(o).variable(!1))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:`${t}/v`,variable:za(()=>Object(M.o)(o).variable(!1))});const s=Array.isArray(e)?e[i].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[i].variable,u=this.accumulatedSecondMoment[i].variable,c=l.mul(this.beta1).add(s.mul(1-this.beta1)),f=u.mul(this.beta2).add(s.square().mul(1-this.beta2)),h=c.div(n),d=f.div(r);l.assign(c),u.assign(f);const p=h.div(d.sqrt().add(this.epsilon)).mul(-this.learningRate).add(o);o.assign(p)}),this.accBeta1.assign(this.accBeta1.mul(this.beta1)),this.accBeta2.assign(this.accBeta2.mul(this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&$a(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedSecondMoment&&$a(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),za(()=>{this.accBeta1.assign(ei(this.beta1,this.iterations_+1)),this.accBeta2.assign(ei(this.beta2,this.iterations_+1))});const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedSecondMoment=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}Sh.className="Adam",va(Sh);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Eh extends wh{constructor(e,t,n,r=null,i=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],za(()=>{this.iteration=Object(M.e)(0).variable(),this.accBeta1=Object(M.e)(t).variable()}),null==r&&(this.epsilon=b.a.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);za(()=>{const n=cr(1,this.accBeta1),r=ne(-this.learningRate,this.iteration.mul(this.decay).add(1));t.forEach((t,i)=>{const o=b.a.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:Object(M.o)(o).variable(!1)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:`${t}/v`,variable:Object(M.o)(o).variable(!1)});const s=Array.isArray(e)?e[i].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[i].variable,u=this.accumulatedWeightedInfNorm[i].variable,c=l.mul(this.beta1).add(s.mul(1-this.beta1)),f=u.mul(this.beta2),h=s.abs(),d=f.maximum(h);l.assign(c),u.assign(d);const p=r.div(n).mul(c.div(d.add(this.epsilon))).add(o);o.assign(p)}),this.iteration.assign(this.iteration.add(1)),this.accBeta1.assign(this.accBeta1.mul(this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&$a(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedWeightedInfNorm&&$a(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}Eh.className="Adamax",va(Eh);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Ch extends wh{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const i=b.a.registeredVariables[t];za(()=>{const e=this.c.mul(r).add(i);i.assign(e)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Ua(Object(M.e)(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}Ch.className="SGD",va(Ch);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class kh extends Ch{constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=Object(M.e)(this.momentum)}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=b.a.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:za(()=>Object(M.o)(r).variable(e))}}const i=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&za(()=>{let e;const t=this.m.mul(i).add(o);e=this.useNesterov?this.c.mul(o.add(t.mul(this.m))).add(r):this.c.mul(t).add(r),i.assign(t),r.assign(e)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&$a(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=!1;this.accumulations=e.map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}kh.className="Momentum",va(kh);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class Oh extends wh{constructor(e,t=.9,n=0,r=null,i=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==r&&(this.epsilon=b.a.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){const t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,n)=>{const r=b.a.registeredVariables[t],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:za(()=>Object(M.o)(r).variable(!1))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:za(()=>Object(M.o)(r).variable(!1))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:za(()=>Object(M.o)(r).variable(!1))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const a=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;za(()=>{const e=a.mul(this.decay).add(o.square().mul(1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,i=t.mul(this.decay).add(o.mul(1-this.decay)),l=s.mul(this.momentum).add(o.mul(this.learningRate).div(e.sub(i.square().add(this.epsilon)).sqrt()));a.assign(e),t.assign(i),s.assign(l);const u=r.sub(l);r.assign(u)}else{const e=a.mul(this.decay).add(o.square().mul(1-this.decay)),t=s.mul(this.momentum).add(o.mul(this.learningRate).div(e.add(this.epsilon).sqrt()));a.assign(e),s.assign(t);const n=r.sub(t);r.assign(n)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&$a(this.accumulatedMeanSquares.map(e=>e.variable)),null!=this.accumulatedMeanGrads&&this.centered&&$a(this.accumulatedMeanGrads.map(e=>e.variable)),null!=this.accumulatedMoments&&$a(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedMoments=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}Oh.className="RMSProp",va(Oh);var Th=n(79);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nh{static sgd(e){return new Ch(e)}static momentum(e,t,n=!1){return new kh(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,i=!1){return new Oh(e,t,n,r,i)}static adam(e=.001,t=.9,n=.999,r=null){return new Sh(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new xh(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,i=0){return new Eh(e,t,n,r,i)}static adagrad(e,t=.1){return new _h(e,t)}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ah={sgd:Nh.sgd,momentum:Nh.momentum,adadelta:Nh.adadelta,adagrad:Nh.adagrad,rmsprop:Nh.rmsprop,adamax:Nh.adamax,adam:Nh.adam};var Ih=n(263);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jh(e,t,n,r=!0){let i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)i=i.concat([e[r+1]/t[r],t[r]]);i=i.concat(e.slice(n+1))}return i}function Rh(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],i=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?i.push(r):n.push(r);r.push(...n),r.push(0),r.push(...i)}return r}function Mh(e,t,n,r=!0){const i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?r?i.push(t[n-1]*e[n]):i.push(e[n]/t[n-1]):i.push(e[n]);return i}function Ph(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Dh(e,t,n){const r=e.slice(0,1);for(let i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lh=.3275911,Fh=.254829592,Bh=-.284496736,zh=1.421413741,$h=-1.453152027,Uh=1.061405429;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function Wh(...e){Object(Ui.b)().getBool("IS_TEST")||console.warn(...e)}function Vh(...e){Object(Ui.b)().getBool("IS_TEST")||console.log(...e)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hh(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+`${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Gh(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function qh(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function Kh(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function Yh(e,t){const n=e[2*t],r=e[2*t+1];return{real:n,imag:r}}function Xh(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Zh(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let i=0;i<Math.ceil(e/2);i++){const o=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}function Jh(e,t,n){const r=(n?2:-2)*Math.PI*(e/t),i=Math.cos(r),o=Math.sin(r);return{real:i,imag:o}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qh(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();const t=Object(M.n)(e.shape),r=e.toFloat(),i=n.complex(r,t);return t.dispose(),r.dispose(),i}if(!Object(I.hasEncodingLoss)(e.dtype,t))return b.a.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){const r=n.real(e),i=r.cast(t);return r.dispose(),i}if("int32"===t)return n.int(e);if("bool"===t){const t=Object(M.e)(0,e.dtype),r=n.notEqual(e,t);return t.dispose(),r}throw new Error(`Error in Cast: failed to cast ${e.dtype} to ${t}`)}function ed(e,t){return b.a.makeTensorFromDataId(e.dataId,t,e.dtype)}function td(e,t,n){const r=(t-e)/(n-1),i=Object(I.makeZerosTypedArray)(n,"float32");i[0]=e;for(let e=1;e<i.length;e++)i[e]=i[e-1]+r;return Object(M.g)(i,"float32")}var nd=n(140);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rd(e,t,n){const r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map(t=>{const o=[...i];o[n]=t;const a=e.slice(r,o);return r[n]+=t,a})}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function id(e,t){const n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];const r=V(n,e.dtype);for(let t=0;t<r.values.length;++t){const n=r.indexToLoc(t),i=new Array(e.rank);for(let t=0;t<i.length;t++)i[t]=n[t]%e.shape[t];const o=e.locToIndex(i);r.values[t]=e.values[o]}return r.toTensor()}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function od(e,t,n,r,i){const o=t[t.length-1],[a,s]=[e.length/o,o],l=Object(I.getTypedArrayFromDType)(n,a*r),u=Object(I.getTypedArrayFromDType)("int32",a*r);for(let t=0;t<a;t++){const n=t*s,i=e.subarray(n,n+s),o=[];for(let e=0;e<i.length;e++)o.push({value:i[e],index:e});o.sort((e,t)=>t.value-e.value);const a=t*r,c=l.subarray(a,a+r),f=u.subarray(a,a+r);for(let e=0;e<r;e++)c[e]=o[e].value,f[e]=o[e].index}const c=t.slice();return c[c.length-1]=r,[Object(M.f)(l,c,n),Object(M.f)(u,c,"int32")]}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ad=1e-7,sd=1e-4;class ld{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class ud{time(e){return cd("time")}read(e){return cd("read")}readSync(e){return cd("readSync")}numDataIds(){return cd("numDataIds")}disposeData(e){return cd("disposeData")}write(e,t,n){return cd("write")}move(e,t,n,r){return cd("move")}memory(){return cd("memory")}floatPrecision(){return cd("floatPrecision")}epsilon(){return 32===this.floatPrecision()?ad:sd}batchMatMul(e,t,n,r){return cd("batchMatMul")}fusedBatchMatMul({a:e,b:t,transposeA:n,transposeB:r,bias:i,activation:o,preluActivationWeights:a}){return cd("fusedBatchMatMul")}slice(e,t,n){return cd("slice")}stridedSlice(e,t,n,r){return cd("stridedSlice")}unstack(e,t){return cd("unstack")}reverse(e,t){return cd("reverse")}concat(e,t){return cd("concat")}neg(e){return cd("neg")}add(e,t){return cd("add")}addN(e){return cd("addN")}subtract(e,t){return cd("subtract")}multiply(e,t){return cd("multiply")}realDivide(e,t){return cd("realDivide")}floorDiv(e,t){return cd("floorDiv")}sum(e,t){return cd("sum")}prod(e,t){return cd("prod")}unsortedSegmentSum(e,t,n){return cd("unsortedSegmentSum")}argMin(e,t){return cd("argMin")}argMax(e,t){return cd("argMax")}equal(e,t){return cd("equal")}notEqual(e,t){return cd("notEqual")}less(e,t){return cd("less")}lessEqual(e,t){return cd("lessEqual")}greater(e,t){return cd("greater")}greaterEqual(e,t){return cd("greaterEqual")}logicalNot(e){return cd("logicalNot")}logicalAnd(e,t){return cd("logicalAnd")}logicalOr(e,t){return cd("logicalOr")}where(e){return cd("where")}select(e,t,n){return cd("select")}topk(e,t,n){return cd("topk")}min(e,t){return cd("min")}minimum(e,t){return cd("minimum")}mod(e,t){return cd("mod")}max(e,t){return cd("max")}maximum(e,t){return cd("maximum")}all(e,t){return cd("all")}any(e,t){return cd("any")}squaredDifference(e,t){return cd("squaredDifference")}ceil(e){return cd("ceil")}floor(e){return cd("floor")}round(e){return cd("round")}sign(e){return cd("sign")}isNaN(e){return cd("isNaN")}isInf(e){return cd("isInf")}isFinite(e){return cd("isFinite")}pow(e,t){return cd("pow")}exp(e){return cd("exp")}expm1(e){return cd("expm1")}softmax(e,t){return cd("softmax")}log(e){return cd("log")}log1p(e){return cd("log1p")}sqrt(e){return cd("sqrt")}rsqrt(e){return cd("rsqrt")}square(e){return cd("square")}reciprocal(e){return cd("reciprocal")}relu(e){return cd("relu")}relu6(e){return cd("relu6")}prelu(e,t){return cd("prelu")}elu(e){return cd("elu")}eluDer(e,t){return cd("eluDer")}selu(e){return cd("selu")}int(e){return cd("int")}clip(e,t,n){return cd("clip")}abs(e){return cd("abs")}complexAbs(e){return cd("complexAbs")}sigmoid(e){return cd("sigmoid")}softplus(e){return cd("softplus")}sin(e){return cd("sin")}cos(e){return cd("cos")}tan(e){return cd("tan")}asin(e){return cd("asin")}acos(e){return cd("acos")}atan(e){return cd("atan")}atan2(e,t){return cd("atan2")}sinh(e){return cd("sinh")}cosh(e){return cd("cosh")}tanh(e){return cd("tanh")}asinh(e){return cd("asinh")}acosh(e){return cd("acosh")}atanh(e){return cd("atanh")}erf(e){return cd("erf")}step(e,t){return cd("step")}fusedConv2d({input:e,filter:t,convInfo:n,bias:r,activation:i,preluActivationWeights:o}){return cd("fusedConv2d")}conv2d(e,t,n){return cd("conv2d")}conv2dDerInput(e,t,n){return cd("conv2dDerInput")}conv2dDerFilter(e,t,n){return cd("conv2dDerFilter")}fusedDepthwiseConv2D({input:e,filter:t,convInfo:n,bias:r,activation:i,preluActivationWeights:o}){return cd("fusedDepthwiseConv2D")}depthwiseConv2D(e,t,n){return cd("depthwiseConv2D")}depthwiseConv2DDerInput(e,t,n){return cd("depthwiseConv2DDerInput")}depthwiseConv2DDerFilter(e,t,n){return cd("depthwiseConv2DDerFilter")}conv3d(e,t,n){return cd("conv3d")}conv3dDerInput(e,t,n){return cd("conv3dDerInput")}conv3dDerFilter(e,t,n){return cd("conv3dDerFilter")}maxPool(e,t){return cd("maxPool")}maxPoolBackprop(e,t,n,r){return cd("maxPoolBackprop")}avgPool(e,t){return cd("avgPool")}avgPoolBackprop(e,t,n){return cd("avgPoolBackprop")}avgPool3d(e,t){return cd("avgPool3d")}avgPool3dBackprop(e,t,n){return cd("avgPool3dBackprop")}maxPool3d(e,t){return cd("maxPool3d")}maxPool3dBackprop(e,t,n,r){return cd("maxPool3dBackprop")}reshape(e,t){return cd("reshape")}cast(e,t){return cd("cast")}tile(e,t){return cd("tile")}pad(e,t,n){return cd("pad")}transpose(e,t){return cd("transpose")}gather(e,t,n){return cd("gather")}gatherND(e,t){return cd("gatherND")}scatterND(e,t,n){return cd("scatterND")}batchToSpaceND(e,t,n){return cd("batchToSpaceND")}spaceToBatchND(e,t,n){return cd("spaceToBatchND")}resizeBilinear(e,t,n,r){return cd("resizeBilinear")}resizeBilinearBackprop(e,t,n){return cd("resizeBilinearBackprop")}resizeNearestNeighbor(e,t,n,r){return cd("resizeNearestNeighbor")}resizeNearestNeighborBackprop(e,t,n){return cd("resizeNearestNeighborBackprop")}batchNorm(e,t,n,r,i,o){return cd("batchNorm")}localResponseNormalization4D(e,t,n,r,i){return cd("localResponseNormalization4D")}LRNGrad(e,t,n,r,i,o,a){return cd("LRNGrad")}multinomial(e,t,n,r){return cd("multinomial")}oneHot(e,t,n,r){return cd("oneHot")}cumsum(e,t,n,r){return cd("cumsum")}nonMaxSuppression(e,t,n,r,i){return cd("nonMaxSuppression")}fft(e){return cd("fft")}ifft(e){return cd("ifft")}complex(e,t){return cd("complex")}real(e){return cd("real")}imag(e){return cd("imag")}cropAndResize(e,t,n,r,i,o){return cd("cropAndResize")}depthToSpace(e,t,n){return cd("depthToSpace")}split(e,t,n){return cd("split")}sparseToDense(e,t,n,r){return cd("sparseToDense")}diag(e){return cd("diag")}fill(e,t,n){return cd("fill")}onesLike(e){return cd("onesLike")}zerosLike(e){return cd("zerosLike")}linspace(e,t,n){return cd("linspace")}dispose(){return cd("dispose")}}function cd(e){throw new Error(`'${e}' not yet implemented or not found in the registry. `+"Did you forget to import the kernel?")}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */A.a.prototype.add=function(e){return this.throwIfDisposed(),N(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.atan2=function(e){return this.throwIfDisposed(),ns(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),is(this,e,t,n,r)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.batchNorm=function(e,t,n,r,i){return this.throwIfDisposed(),cs(this,e,t,n,r,i)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.broadcastTo=function(e){return this.throwIfDisposed(),ws(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),ui(this,e,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof A.a&&(e=[e]),D([this,...e],t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.conv1d=function(e,t,n,r,i,o){return this.throwIfDisposed(),Is(this,e,t,n,r,i,o)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.conv2d=function(e,t,n,r,i,o){return this.throwIfDisposed(),Wn(this,e,t,n,r,i,o)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),Rs(this,e,t,n,r,i)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),Qn(this,e,t,n)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Bs(this,e,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.depthwiseConv2d=function(e,t,n,r,i,o){return this.throwIfDisposed(),$s(this,e,t,n,r,i,o)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.depthwiseConv2D=function(e,t,n,r,i,o){return Pa("depthwiseConv2D is deprecated, use depthwiseConv2d instead"),this.throwIfDisposed(),$s(this,e,t,n,r,i,o)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.div=function(e){return this.throwIfDisposed(),ne(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.divNoNan=function(e){return this.throwIfDisposed(),Hs(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.dot=function(e){return this.throwIfDisposed(),qs(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.elu=function(){return this.throwIfDisposed(),Ys(this)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.equal=function(e){return this.throwIfDisposed(),Zs(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.floorDiv=function(e){return this.throwIfDisposed(),ee(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.greater=function(e){return this.throwIfDisposed(),jr(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.greaterEqual=function(e){return this.throwIfDisposed(),xr(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.leakyRelu=function(e){return this.throwIfDisposed(),ol(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.less=function(e){return this.throwIfDisposed(),Sr(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.lessEqual=function(e){return this.throwIfDisposed(),Mr(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),sl(this,e,t,n,r)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.matMul=function(e,t,n){return this.throwIfDisposed(),Tn(this,e,t,n)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.max=function(e,t){return this.throwIfDisposed(),ul(this,e,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),fl(this,e,t,n,r)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.maximum=function(e){return this.throwIfDisposed(),rl(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.minimum=function(e){return this.throwIfDisposed(),bl(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.mod=function(e){return this.throwIfDisposed(),vl(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.mul=function(e){return this.throwIfDisposed(),ie(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.notEqual=function(e){return this.throwIfDisposed(),Sl(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),aa(this,e,t,n)},
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.pad=function(e,t){return this.throwIfDisposed(),gi(this,e,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),Ll(this,e,t,n,r,i)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.pow=function(e){return this.throwIfDisposed(),ei(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.prelu=function(e){return this.throwIfDisposed(),Bl(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.relu=function(){return this.throwIfDisposed(),au(this)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.relu6=function(){return this.throwIfDisposed(),lu(this)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.selu=function(){return this.throwIfDisposed(),cu(this)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.separableConv2d=function(e,t,n,r,i,o){return this.throwIfDisposed(),hu(this,e,t,n,r,i,o)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.split=function(e,t){return this.throwIfDisposed(),Pn(this,e,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.squaredDifference=function(e){return this.throwIfDisposed(),pu(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),In(this,e,t)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.sub=function(e){return this.throwIfDisposed(),cr(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.tile=function(e){return this.throwIfDisposed(),hr(this,e)},
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
A.a.prototype.transpose=function(e){return this.throwIfDisposed(),Zn(this,e)},
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */n.d(t,"i",function(){return wh}),n.d(t,"l",function(){return A.a}),n.d(t,"m",function(){return A.b}),n.d(t,"ld",function(){return Th.a}),n.d(t,"Ad",function(){return Th.b}),n.d(t,"r",function(){return N}),n.d(t,"s",function(){return es}),n.d(t,"A",function(){return ns}),n.d(t,"C",function(){return is}),n.d(t,"D",function(){return as}),n.d(t,"K",function(){return ui}),n.d(t,"G",function(){return cs}),n.d(t,"H",function(){return hs}),n.d(t,"I",function(){return ps}),n.d(t,"J",function(){return gs}),n.d(t,"L",function(){return ws}),n.d(t,"R",function(){return xs.a}),n.d(t,"S",function(){return D}),n.d(t,"T",function(){return Ss}),n.d(t,"U",function(){return Cs}),n.d(t,"V",function(){return Os}),n.d(t,"W",function(){return Ns}),n.d(t,"X",function(){return Is}),n.d(t,"Y",function(){return Wn}),n.d(t,"Z",function(){return Rs}),n.d(t,"ab",function(){return Ps}),n.d(t,"db",function(){return Qn}),n.d(t,"eb",function(){return Bs}),n.d(t,"fb",function(){return $s}),n.d(t,"ib",function(){return ne}),n.d(t,"jb",function(){return Hs}),n.d(t,"lb",function(){return Ys}),n.d(t,"ob",function(){return Zs}),n.d(t,"tb",function(){return Qs}),n.d(t,"vb",function(){return el}),n.d(t,"xb",function(){return ee}),n.d(t,"Bb",function(){return jr}),n.d(t,"Cb",function(){return xr}),n.d(t,"Eb",function(){return tl.a}),n.d(t,"Kb",function(){return ol}),n.d(t,"Lb",function(){return Sr}),n.d(t,"Mb",function(){return Mr}),n.d(t,"Pb",function(){return sl}),n.d(t,"Wb",function(){return Tn}),n.d(t,"Xb",function(){return ul}),n.d(t,"Yb",function(){return fl}),n.d(t,"Zb",function(){return dl}),n.d(t,"ac",function(){return ml}),n.d(t,"bc",function(){return rl}),n.d(t,"fc",function(){return bl}),n.d(t,"gc",function(){return vl}),n.d(t,"ic",function(){return ie}),n.d(t,"jc",function(){return xl}),n.d(t,"mc",function(){return Sl}),n.d(t,"nc",function(){return aa}),n.d(t,"qc",function(){return gi}),n.d(t,"rc",function(){return ei}),n.d(t,"sc",function(){return Bl}),n.d(t,"uc",function(){return tu}),n.d(t,"vc",function(){return ru}),n.d(t,"xc",function(){return iu.a}),n.d(t,"Bc",function(){return au}),n.d(t,"Jc",function(){return cu}),n.d(t,"Kc",function(){return hu}),n.d(t,"ad",function(){return In}),n.d(t,"cd",function(){return Pn}),n.d(t,"ed",function(){return Ue}),n.d(t,"fd",function(){return pu}),n.d(t,"jd",function(){return cr}),n.d(t,"ud",function(){return hr}),n.d(t,"yd",function(){return gu}),n.d(t,"Fb",function(){return h}),n.d(t,"Nb",function(){return f}),n.d(t,"yb",function(){return d}),n.d(t,"Dc",function(){return Du}),n.d(t,"Sc",function(){return Ri}),n.d(t,"Tc",function(){return Mi}),n.d(t,"Uc",function(){return Pi}),n.d(t,"Vc",function(){return Di}),n.d(t,"Wc",function(){return Li}),n.d(t,"o",function(){return St}),n.d(t,"p",function(){return Et}),n.d(t,"q",function(){return Ct}),n.d(t,"x",function(){return kt}),n.d(t,"y",function(){return Ot}),n.d(t,"z",function(){return Tt}),n.d(t,"B",function(){return Nt}),n.d(t,"P",function(){return At}),n.d(t,"Q",function(){return It}),n.d(t,"bb",function(){return jt}),n.d(t,"cb",function(){return Rt}),n.d(t,"pb",function(){return Mt}),n.d(t,"qb",function(){return Pt}),n.d(t,"sb",function(){return Dt}),n.d(t,"wb",function(){return Lt}),n.d(t,"Qb",function(){return Ft}),n.d(t,"Rb",function(){return Bt}),n.d(t,"kc",function(){return $t}),n.d(t,"yc",function(){return Ut}),n.d(t,"Fc",function(){return Wt}),n.d(t,"Gc",function(){return Vt}),n.d(t,"Oc",function(){return Ht}),n.d(t,"Pc",function(){return Gt}),n.d(t,"Qc",function(){return Xt}),n.d(t,"Rc",function(){return Zt}),n.d(t,"Zc",function(){return Jt}),n.d(t,"dd",function(){return Qt}),n.d(t,"md",function(){return tn}),n.d(t,"nd",function(){return nn}),n.d(t,"t",function(){return Ie}),n.d(t,"u",function(){return je}),n.d(t,"v",function(){return Re}),n.d(t,"w",function(){return Me}),n.d(t,"cc",function(){return De}),n.d(t,"ec",function(){return Le}),n.d(t,"hc",function(){return Fe}),n.d(t,"kd",function(){return Be}),n.d(t,"tc",function(){return ze}),n.d(t,"Tb",function(){return qr}),n.d(t,"Ub",function(){return Kr}),n.d(t,"Vb",function(){return Yr}),n.d(t,"Fd",function(){return Zr}),n.d(t,"Gd",function(){return Jr}),n.d(t,"N",function(){return V}),n.d(t,"O",function(){return G}),n.d(t,"rb",function(){return q}),n.d(t,"Cc",function(){return K}),n.d(t,"gd",function(){return Y}),n.d(t,"hd",function(){return X}),n.d(t,"zd",function(){return Z}),n.d(t,"Nc",function(){return J}),n.d(t,"Ob",function(){return M.a}),n.d(t,"oc",function(){return M.b}),n.d(t,"wc",function(){return M.d}),n.d(t,"Hc",function(){return M.e}),n.d(t,"od",function(){return M.f}),n.d(t,"pd",function(){return M.g}),n.d(t,"qd",function(){return M.h}),n.d(t,"rd",function(){return M.j}),n.d(t,"Cd",function(){return M.m}),n.d(t,"Hd",function(){return M.n}),n.d(t,"pc",function(){return M.c}),n.d(t,"Id",function(){return M.o}),n.d(t,"xd",function(){return Zn}),n.d(t,"Yc",function(){return vc}),n.d(t,"Sb",function(){return wc}),n.d(t,"zb",function(){return Ou}),n.d(t,"id",function(){return Ic}),n.d(t,"vd",function(){return Rc}),n.d(t,"Ic",function(){return Pc}),n.d(t,"ub",function(){return zc}),n.d(t,"Db",function(){return $c}),n.d(t,"Ec",function(){return Uc}),n.d(t,"Hb",function(){return Wc}),n.d(t,"bd",function(){return Gc}),n.d(t,"Ab",function(){return Kc}),n.d(t,"kb",function(){return Zc}),n.d(t,"wd",function(){return Ah}),n.d(t,"mb",function(){return La}),n.d(t,"dc",function(){return Fa}),n.d(t,"td",function(){return za}),n.d(t,"hb",function(){return $a}),n.d(t,"Ib",function(){return Ua}),n.d(t,"Mc",function(){return Va}),n.d(t,"zc",function(){return Xa}),n.d(t,"E",function(){return Za}),n.d(t,"Ac",function(){return zi.e}),n.d(t,"Dd",function(){return ue}),n.d(t,"nb",function(){return Ui.b}),n.d(t,"Ed",function(){return"2.0.1"}),n.d(t,"lc",function(){return Ih.a}),n.d(t,"M",function(){return o}),n.d(t,"Gb",function(){return i}),n.d(t,"Lc",function(){return a}),n.d(t,"Bd",function(){return I}),n.d(t,"F",function(){return m}),n.d(t,"sd",function(){return C}),n.d(t,"Xc",function(){return r}),n.d(t,"gb",function(){return nd}),n.d(t,"Jb",function(){return g}),n.d(t,"d",function(){return ud}),n.d(t,"a",function(){return ld}),n.d(t,"b",function(){return v.y}),n.d(t,"e",function(){return v.P}),n.d(t,"f",function(){return v.U}),n.d(t,"g",function(){return v.Z}),n.d(t,"h",function(){return v.ab}),n.d(t,"k",function(){return v.ob}),n.d(t,"j",function(){return v.nb}),n.d(t,"n",function(){return v.rb}),n.d(t,"c",function(){return v.E}),
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
Object(A.e)(p)},function(e,t,n){"use strict";e.exports=n(522)},function(e,t,n){"use strict";n.r(t),n.d(t,"shuffle",function(){return i}),n.d(t,"clamp",function(){return o}),n.d(t,"nearestLargerEven",function(){return a}),n.d(t,"sum",function(){return s}),n.d(t,"randUniform",function(){return l}),n.d(t,"distSquared",function(){return u}),n.d(t,"assert",function(){return c}),n.d(t,"assertShapesMatch",function(){return f}),n.d(t,"assertNonNull",function(){return h}),n.d(t,"flatten",function(){return d}),n.d(t,"sizeFromShape",function(){return p}),n.d(t,"isScalarShape",function(){return m}),n.d(t,"arraysEqual",function(){return g}),n.d(t,"isInt",function(){return b}),n.d(t,"tanh",function(){return y}),n.d(t,"sizeToSquarishShape",function(){return v}),n.d(t,"createShuffledIndices",function(){return w}),n.d(t,"rightPad",function(){return x}),n.d(t,"repeatedTry",function(){return _}),n.d(t,"inferFromImplicitShape",function(){return S}),n.d(t,"parseAxisParam",function(){return E}),n.d(t,"squeezeShape",function(){return C}),n.d(t,"getTypedArrayFromDType",function(){return k}),n.d(t,"getArrayFromDType",function(){return O}),n.d(t,"checkConversionForErrors",function(){return T}),n.d(t,"isValidDtype",function(){return N}),n.d(t,"hasEncodingLoss",function(){return A}),n.d(t,"isTypedArray",function(){return I}),n.d(t,"bytesPerElement",function(){return j}),n.d(t,"bytesFromStringArray",function(){return R}),n.d(t,"isString",function(){return M}),n.d(t,"isBoolean",function(){return P}),n.d(t,"isNumber",function(){return D}),n.d(t,"inferDtype",function(){return L}),n.d(t,"isFunction",function(){return F}),n.d(t,"nearestDivisor",function(){return B}),n.d(t,"computeStrides",function(){return z}),n.d(t,"toTypedArray",function(){return $}),n.d(t,"toNestedArray",function(){return W}),n.d(t,"makeOnesTypedArray",function(){return H}),n.d(t,"makeZerosTypedArray",function(){return G}),n.d(t,"now",function(){return q}),n.d(t,"assertNonNegativeIntegerDimensions",function(){return K}),n.d(t,"fetch",function(){return Y}),n.d(t,"encodeString",function(){return X}),n.d(t,"decodeString",function(){return Z}),n.d(t,"locToIndex",function(){return J}),n.d(t,"indexToLoc",function(){return Q});var r=n(21);
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i(e){let t=e.length,n=0,r=0;for(;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function o(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e%2==0?e:e+1}function s(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function l(e,t){const n=Math.random();return t*n+(1-n)*e}function u(e,t){let n=0;for(let r=0;r<e.length;r++){const i=Number(e[r])-Number(t[r]);n+=i*i}return n}function c(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function f(e,t,n=""){c(g(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function h(e){c(null!=e,()=>"The input to the tensor constructor must be a non-null value.")}function d(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||I(e)&&!n)for(let r=0;r<e.length;++r)d(e[r],t,n);else t.push(e);return t}function p(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function b(e){return e%1==0}function y(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function v(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function w(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return i(t),t}function x(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function _(e,t=(e=>0),n){return new Promise((r,i)=>{let o=0;const a=()=>{if(e())return void r();const s=t(++o);null!=n&&o>=n?i():setTimeout(a,s)};a()})}function S(e,t){let n=1,r=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+`Found -1 at dim ${r} and dim ${t}`);r=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when `+"there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. "+`Got ${t} / ${n}`);const i=e.slice();return i[r]=t/n,i}function E(e,t){const n=t.length;return c((e=null==e?t.map((e,t)=>t):[].concat(e)).every(e=>e>=-n&&e<n),()=>`All values in axis param must be in range [-${n}, ${n}) but `+`got axis ${e}`),c(e.every(e=>b(e)),()=>"All values in axis param must be integers but "+`got axis ${e}`),e.map(e=>e<0?n+e:e)}function C(e,t){const n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||i?null:E(t,e).sort();let a=0;for(let t=0;t<e.length;++t){if(null!=o){if(o[a]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==o[a]||o[a]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),o[a]<=t&&a++}1!==e[t]&&(n.push(e[t]),r.push(t))}return{newShape:n,keptDims:r}}function k(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function O(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function T(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function N(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function A(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function I(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function j(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function R(e){if(null==e)return 0;let t=0;return e.forEach(e=>t+=e.length),t}function M(e){return"string"==typeof e||e instanceof String}function P(e){return"boolean"==typeof e}function D(e){return"number"==typeof e}function L(e){return Array.isArray(e)?L(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":D(e)?"float32":M(e)?"string":P(e)?"bool":"float32"}function F(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function z(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function $(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=d(e)),n&&T(e,t),V(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function U(e,t,n){const r=new Array;if(1===t.length){const i=t[0];for(let t=0;t<i;t++)r[t]=n[e+t]}else{const i=t[0],o=t.slice(1),a=o.reduce((e,t)=>e*t);for(let t=0;t<i;t++)r[t]=U(e+t*a,o,n)}return r}function W(e,t){if(0===e.length)return t[0];const n=e.reduce((e,t)=>e*t);if(0===n)return[];if(n!==t.length)throw new Error(`[${e}] does not match the input size.`);return U(0,e,t)}function V(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}function H(e,t){const n=G(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function G(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function q(){return Object(r.b)().platform.now()}function K(e){e.forEach(t=>{c(Number.isInteger(t)&&t>=0,()=>"Tensor must have a shape comprised of positive integers but got "+`shape [${e}].`)})}function Y(e,t){return Object(r.b)().platform.fetch(e,t)}function X(e,t="utf-8"){return t=t||"utf-8",Object(r.b)().platform.encode(e,t)}function Z(e,t="utf-8"){return t=t||"utf-8",Object(r.b)().platform.decode(e,t)}function J(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let t=0;t<e.length-1;++t)r+=n[t]*e[t];return r}function Q(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let t=0;t<r.length-1;++t)r[t]=Math.floor(e/n[t]),e-=r[t]*n[t];return r[r.length-1]=e,r}},function(e,t,n){"use strict";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function r(e,t,n,r){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,a=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd;if("tensor"===o.type)return i(t.inputNames[o.inputIndexStart],n,r);if("tensors"===o.type){const o=t.inputNames.slice(e,a);return o.map(e=>i(e,n,r))}const s=Array.prototype.slice.call(i(t.inputNames.slice(e)[0],n,r).dataSync());return"number"===o.type?s[0]:s}const a=t.attrParams[e];return a&&a.value}function i(e,t,n){const[r,i]=l(e),o=n.currentContextIds.find(e=>!!t[s(r,e)]);return void 0!==o?t[s(r,o)][i]:void 0}function o(e,t,n){return t[s(e,n.currentContextId)]}function a(e,t){const[n,r]=l(e);return[s(n,t&&t.currentContextId),r]}function s(e,t){return t?`${e}-${t}`:e}function l(e){const t=e.split(":");if(1===t.length)return[e,0];const n=t[0];return[n,Number(t[t.length-1])]}function u(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u})},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return f});var r=n(8),i=n(21),o=n(15),a=n(3);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(e,t){let n=e;if(Object(a.isTypedArray)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||Object(a.isTypedArray)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Object(i.b)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&l(e,r,[]),r}function l(e,t,n){if(n=n||[],!Array.isArray(e)&&!Object(a.isTypedArray)(e))return void Object(a.assert)(0===t.length,()=>`Element arr[${n.join("][")}] is a primitive, `+`but should be an array/TypedArray of ${t[0]} elements`);Object(a.assert)(t.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, `+`but is an array of ${e.length} elements`),Object(a.assert)(e.length===t[0],()=>`Element arr[${n.join("][")}] should have ${t[0]} `+`elements, but has ${e.length} elements`);const r=t.slice(1);for(let t=0;t<e.length;++t)l(e[t],r,n.concat(t))}function u(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error(`Argument '${n}' passed to '${r}' must `+`be ${e} tensor, but got ${t} tensor`)}function c(e,t,n,l="numeric"){if(e instanceof o.a)return u(l,e.dtype,t,n),e;let c=Object(a.inferDtype)(e);if("string"!==c&&["bool","int32","float32"].indexOf(l)>=0&&(c=l),u(l,c,t,n),null==e||!Object(a.isTypedArray)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a `+`Tensor or TensorLike, but got '${r}'`)}const f=s(e,c);Object(a.isTypedArray)(e)||Array.isArray(e)||(e=[e]);const h=!0,d="string"!==c?Object(a.toTypedArray)(e,c,Object(i.b)().getBool("DEBUG")):Object(a.flatten)(e,[],!0);return r.a.makeTensor(d,f,c)}function f(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a `+"`Tensor[]` or `TensorLike[]`");const i=e;return i.map((e,r)=>c(e,`${t}[${r}]`,n),r)}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=o(n(535));function o(e){return e&&e.__esModule?e:{default:e}}t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(8);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+`${t.length} keys.`);let n=t[0];const i=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));const o=(...e)=>{r.a.startScope(n);try{const t=i(...e);return t instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r.a.endScope(t),t}catch(e){throw r.a.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}},function(e,t,n){"use strict";var r=n(21),i=n(117),o=n(53),a=n(3);
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class s{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new u)}profileKernel(e,t,n){let r;const i=()=>{r=n()},o=this.backendTimer.time(i);return r.forEach(n=>{n.data().then(r=>{l(r,n.dtype,e),o.then(i=>{let o="";null!=i.getExtraProfileInfo&&(o=i.getExtraProfileInfo()),this.logger.logKernelProfile(e,n,r,i.kernelMs,t,o)})})}),r}}function l(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}class u{logKernelProfile(e,t,n,r,i,o){const s="number"==typeof r?a.rightPad(`${r}ms`,9):r.error,l=a.rightPad(e,25),u=t.rank,c=t.size,f=a.rightPad(t.shape.toString(),14);let h="";for(const e in i){const n=i[e],r=n.shape||t.shape,o=r.length;h+=`${e}: ${o}D ${o>0?r:""} `}console.log(`%c${l}\t%c${s}\t%c${u}D ${f}\t%c${c}\t%c${h}\t%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c(e,t,n){const r={},i={};for(let e=0;e<t.length;e++)r[t[e].id]=!0;for(let n=0;n<e.length;n++){const o=e[n],a=o.inputs;for(const e in a){const n=a[e];let s=!1;for(let e=0;e<t.length;e++)if(r[n.id]){o.outputs.forEach(e=>r[e.id]=!0),s=!0,i[o.id]=!0;break}if(s)break}}const o={};o[n.id]=!0;const a={};for(let t=e.length-1;t>=0;t--){const n=e[t],r=n.inputs;for(let e=0;e<n.outputs.length;e++)if(o[n.outputs[e].id]){for(const e in r)o[r[e].id]=!0,a[n.id]=!0;break}}const s=[];for(let t=0;t<e.length;t++){const n=e[t];if(i[n.id]&&a[n.id]){const e={};for(const t in n.inputs){const i=n.inputs[t];r[i.id]&&(e[t]=i)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,s.push(t)}}return s}function f(e,t,n){for(let r=t.length-1;r>=0;r--){const i=t[r],o=[];if(i.outputs.forEach(t=>{const n=e[t.id];null!=n?o.push(n):o.push(null)}),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+`for ${i.kernelName}.`);const s=i.gradient(o);for(const t in i.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. `+`Available gradients found: ${Object.keys(s)}.`);const r=n(()=>s[t]());if("float32"!==r.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input `+`${t} must have 'float32' dtype, but has '${r.dtype}'`);const o=i.inputs[t];if(!a.arraysEqual(r.shape,o.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input `+`'${t}' has shape '${r.shape}', which does not match `+`the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=r;else{const t=e[o.id];e[o.id]=t.add(r),t.dispose()}}}}var h=n(15),d=n(22);n.d(t,"a",function(){return y});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class p{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class m{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new p}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],r=await this.initializeBackend(n).success;if(r)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make `+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been `+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(console.warn(`${e} backend was already registered. `+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e),r=n?await t:t;if(!r)return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new s(this.backendInstance),!0}setupRegisteredKernels(){const e=Object(o.c)(this.backendName);e.forEach(e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){const t=Object(o.c)(e);t.forEach(t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])})}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(Promise.resolve(n)===n){const t=++this.pendingBackendInitId,r=n.then(n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0)).catch(n=>!(t<this.pendingBackendInitId)&&(this.pendingBackendInit=null,console.warn(`Initialization of backend ${e} failed`),console.warn(n.stack||n.message),!1));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}return this.registry[e]=n,{success:!0,asyncInit:!1}}catch(t){return console.warn(`Initialization of backend ${e} failed`),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:i}=this.initializeBackend(n);if(i||r)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n=null,r;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");n=e}return this.scopedRun(()=>this.startScope(n),()=>this.endScope(r),()=>((r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return m.nextTensorId++}nextVariableId(){return m.nextVariableId++}clone(e){const t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e},r=e=>({x:()=>e.toFloat()}),i=[];return this.addTapeNode(this.state.activeScope.name,n,[t],r,i,{}),t}runKernel(e,t,n,r,i){const o=null,a=null;return this.runKernelFunc(null,t,null,e,n,r,i)}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let i=0;n.forEach(e=>{i+="complex64"===e.dtype?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak `+`(${a} data ids) after running '${e}'`)}runKernelFunc(e,t,n,r,i,a,s){let l,u=[];const c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");const f=this.state.numBytes,h=this.state.numTensors;let d;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);const p=Object(o.b)(r,this.backendName);let m;if(null!=p)d=(()=>{const e=this.backend.numDataIds();m=p.kernelFunc({inputs:t,attrs:i,backend:this.backend});const n=Array.isArray(m)?m:[m];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,e,n);const o=n.map(({dataId:e,shape:t,dtype:n})=>this.makeTensorFromDataId(e,t,n));if(c){let e=this.getTensorsForGradient(r,t,o);if(null==e){null==s&&(s=[]);const t=o.filter((e,t)=>s[t]);e=(a||[]).slice().concat(t)}u=this.saveTensorsForBackwardMode(e)}return o});else{const t=e=>{c&&(u=e.map(e=>this.keep(this.clone(e))))};d=(()=>{const n=this.backend.numDataIds();m=this.tidy(()=>e(this.backend,t));const i=Array.isArray(m)?m:[m];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,n,i),i})}return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{l=this.ENV.getBool("DEBUG")?this.profiler.profileKernel(r,t,()=>d()):d()}),c&&this.addTapeNode(r,t,l,n,u,i),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-f,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(e=>t[e].shape),outputShapes:l.map(e=>e.shape)}),Array.isArray(m)?l:l[0]}saveTensorsForBackwardMode(e){const t=e.map(e=>this.keep(this.clone(e)));return t}getTensorsForGradient(e,t,n){const r=Object(o.a)(e);if(null!=r){const e=r.inputsToSave||[],i=r.outputsToSave||[];let o;r.saveAllInputs?(a.assert(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(t).map(e=>t[e])):o=e.map(e=>t[e]);const s=n.filter((e,t)=>i[t]);return o.concat(s)}return null}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let i=e;"string"===n&&a.isString(e[0])&&(i=e.map(e=>a.encodeString(e)));const o=r.write(i,t,n),s=new h.a(t,n,o,this.nextTensorId());if(this.incRef(s,r),"string"===n){const e=this.state.tensorInfo.get(o),t=Object(a.bytesFromStringArray)(i);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,r){n=n||"float32";const i=new h.a(t,n,e,this.nextTensorId());return this.incRef(i,r),i}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));const i=new h.c(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}incRef(e,t){const n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*a.bytesPerElement(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n,refCount:0}),this.state.numBytes+=n}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof h.c||this.track(e)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;const t=this.state.tensorInfo.get(e.dataId),n=t.refCount;n<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;return this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(e=>e.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,i,s){const l={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=Object(o.a)(e);null!=u&&(r=u.gradFunc),null!=r&&(l.gradient=(e=>(e=e.map((e,t)=>{if(null==e){const e=n[t],r=a.makeZerosTypedArray(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e}),r(e.length>1?e:e[0],i,s)))),this.state.activeTape.push(l)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=Object(d.getTensorsInContainer)(e),n=new Set(t.map(e=>e.id));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(e=>{e.kept||e.scopeId!==r.id||this.track(e)})}gradients(e,t,n,r=!1){if(a.assert(t.length>0,()=>"gradients() received an empty list of xs."),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));a.assert(i instanceof h.a,()=>"The result y returned by f() must be a tensor.");const o=c(this.state.activeTape,t,i);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const e={};e[i.id]=null==n?g(i.shape):n,f(e,o,e=>this.tidy(e));const r=t.map(t=>e[t.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(e=>{for(const t of e.saved)t.dispose()}),this.state.activeTape=null),{value:i,grads:r}})}customGrad(e){return a.assert(a.isFunction(e),()=>"The f passed in customGrad(f) must be a function."),(...t)=>{let n;a.assert(t.every(e=>e instanceof h.a),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");const r={};return t.forEach((e,t)=>{r[t]=e}),this.runKernelFunc((r,i)=>(n=e(...[...t,i]),a.assert(n.value instanceof h.a,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),a.assert(a.isFunction(n.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),n.value),r,(e,r)=>{const i=n.gradFunc(e,r),o=Array.isArray(i)?i:[i];a.assert(o.length===t.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),a.assert(o.every(e=>e instanceof h.a),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const s={};return o.forEach((e,t)=>{s[t]=(()=>e)}),s})}}readSync(e){const t=this.state.tensorInfo.get(e);return t.backend.readSync(e)}read(e){const t=this.state.tensorInfo.get(e);return t.backend.read(e)}async time(e){const t=Object(a.now)(),n=await this.backend.time(e);return n.wallMs=Object(a.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new p;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function g(e){const t=Object(a.makeOnesTypedArray)(Object(a.sizeFromShape)(e),"float32");return y.makeTensor(t,e,"float32")}function b(){const e=Object(i.b)();if(null==e._tfengine){const t=new r.a(e);e._tfengine=new m(t)}return Object(r.c)(e._tfengine.ENV),Object(h.f)(()=>e._tfengine),e._tfengine}m.nextTensorId=0,m.nextVariableId=0;const y=b()},function(e,t,n){"use strict";t.__esModule=!0;var r,i=o(n(26));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"m",function(){return m}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return b}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return v}),n.d(t,"r",function(){return w}),n.d(t,"s",function(){return x}),n.d(t,"t",function(){return _}),n.d(t,"u",function(){return S}),n.d(t,"v",function(){return E}),n.d(t,"w",function(){return C}),n.d(t,"x",function(){return k}),n.d(t,"y",function(){return O}),n.d(t,"z",function(){return T}),n.d(t,"A",function(){return N}),n.d(t,"B",function(){return A}),n.d(t,"D",function(){return I}),n.d(t,"C",function(){return j}),n.d(t,"F",function(){return R}),n.d(t,"G",function(){return M}),n.d(t,"H",function(){return P}),n.d(t,"I",function(){return D}),n.d(t,"J",function(){return L}),n.d(t,"K",function(){return F}),n.d(t,"N",function(){return B}),n.d(t,"O",function(){return z}),n.d(t,"L",function(){return $}),n.d(t,"M",function(){return U}),n.d(t,"P",function(){return W}),n.d(t,"V",function(){return V}),n.d(t,"Q",function(){return H}),n.d(t,"T",function(){return G}),n.d(t,"R",function(){return q}),n.d(t,"S",function(){return K}),n.d(t,"U",function(){return Y}),n.d(t,"W",function(){return X}),n.d(t,"X",function(){return Z}),n.d(t,"Y",function(){return J}),n.d(t,"bb",function(){return Q}),n.d(t,"Z",function(){return ee}),n.d(t,"ab",function(){return te}),n.d(t,"cb",function(){return ne}),n.d(t,"db",function(){return re}),n.d(t,"eb",function(){return oe}),n.d(t,"fb",function(){return ae}),n.d(t,"gb",function(){return se}),n.d(t,"hb",function(){return le}),n.d(t,"ib",function(){return ue}),n.d(t,"jb",function(){return ce}),n.d(t,"kb",function(){return fe}),n.d(t,"lb",function(){return he}),n.d(t,"mb",function(){return de}),n.d(t,"ob",function(){return pe}),n.d(t,"nb",function(){return me}),n.d(t,"pb",function(){return ge}),n.d(t,"qb",function(){return be}),n.d(t,"rb",function(){return ye}),n.d(t,"E",function(){return ve});const r="Add",i="AddN",o="Atan2",a="AvgPool",s="AvgPoolBackprop",l="AvgPool3D",u="AvgPool3DBackprop",c="BatchMatMul",f="BatchToSpaceND",h="BroadcastTo",d="Complex",p="Concat",m="Conv2D",g="Conv2DBackpropFilter",b="Conv2DBackpropInput",y="Conv3D",v="Conv3DBackpropFilterV2",w="Conv3DBackpropInputV2",x="Cumsum",_="DepthToSpace",S="DepthwiseConv2dNative",E="DepthwiseConv2dNativeBackpropFilter",C="DepthwiseConv2dNativeBackpropInput",k="Diag",O="Div",T="Elu",N="EluGrad",A="Equal",I="FloorDiv",j="Fill",R="FusedBatchNorm",M="GatherNd",P="Greater",D="GreaterEqual",L="Identity",F="Imag",B="Less",z="LessEqual",$="LRN",U="LRNBackprop",W="Max",V="Maximum",H="MaxPool",G="MaxPoolBackprop",q="MaxPool3D",K="MaxPool3DBackprop",Y="MaxPoolWithArgmax",X="Minimum",Z="Mod",J="Multiply",Q="NotEqual",ee="NonMaxSuppressionV3",te="NonMaxSuppressionV5",ne="OneHot",re="PadV2",ie="Pool",oe="Pow",ae="Prelu",se="Real",le="Relu",ue="Relu6",ce="SelectV2",fe="Selu",he="SpaceToBatchND",de="SplitV",pe="SquaredDifference",me="Square",ge="Sub",be="Tile",ye="Transpose",ve="FromPixels"},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=u(n(565)),o,a=u(n(569)),s,l=u(n(26));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,l.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},function(e,t,n){var r,i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,r=[]))||(e.exports=i)}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";var r=n(3);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i=20,o=3,a=7;function s(e,t,n,i){const o=Object(r.computeStrides)(t),a=l(e,t,n,o),s=t.length,u=f(e,t,n,o,a),c=["Tensor"];return i&&(c.push(`  dtype: ${n}`),c.push(`  rank: ${s}`),c.push(`  shape: [${t}]`),c.push("  values:")),c.push(u.map(e=>"    "+e).join("\n")),c.join("\n")}function l(e,t,n,i){const o=Object(r.sizeFromShape)(t),a=i[i.length-1],s=new Array(a).fill(0),l=t.length,c="complex64"===n?h(e):e;if(l>1)for(let e=0;e<o/a;e++){const t=e*a;for(let e=0;e<a;e++)s[e]=Math.max(s[e],u(c[t+e],0,n).length)}return s}function u(e,t,n){let i;return i=Array.isArray(e)?`${parseFloat(e[0].toFixed(a))} + `+`${parseFloat(e[1].toFixed(a))}j`:Object(r.isString)(e)?`'${e}'`:"bool"===n?c(e):parseFloat(e.toFixed(a)).toString(),Object(r.rightPad)(i,t)}function c(e){return 0===e?"false":"true"}function f(e,t,n,r,a,s=!0){const l="complex64"===n?2:1,d=t[0],p=t.length;if(0===p){if("complex64"===n){const t=h(e);return[u(t[0],0,n)]}return"bool"===n?[c(e[0])]:[e[0].toString()]}if(1===p){if(d>i){const t=o*l;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((d-o)*l,d*l));return"complex64"===n&&(r=h(r),i=h(i)),["["+r.map((e,t)=>u(e,a[t],n)).join(", ")+", ..., "+i.map((e,t)=>u(e,a[d-o+t],n)).join(", ")+"]"]}const t="complex64"===n?h(e):Array.from(e);return["["+t.map((e,t)=>u(e,a[t],n)).join(", ")+"]"]}const m=t.slice(1),g=r.slice(1),b=r[0]*l,y=[];if(d>i){for(let t=0;t<o;t++){const r=t*b,i=r+b;y.push(...f(e.slice(r,i),m,n,g,a,!1))}y.push("...");for(let t=d-o;t<d;t++){const r=t*b,i=r+b;y.push(...f(e.slice(r,i),m,n,g,a,t===d-1))}}else for(let t=0;t<d;t++){const r=t*b,i=r+b;y.push(...f(e.slice(r,i),m,n,g,a,t===d-1))}const v=2===p?",":"";y[0]="["+y[0]+v;for(let e=1;e<y.length-1;e++)y[e]=" "+y[e]+v;let w=",\n";for(let e=2;e<p;e++)w+="\n";return y[y.length-1]=" "+y[y.length-1]+"]"+(s?"":w),y}function h(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}n.d(t,"b",function(){return d}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"a",function(){return w}),n.d(t,"c",function(){return x});
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class d{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=r.sizeFromShape(e),null!=n){const e=n.length;r.assert(e===this.size,()=>`Length of values '${e}' does not match the size `+`inferred by the shape '${this.size}'.`)}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||r.getArrayFromDType(t,this.size),this.strides=Object(r.computeStrides)(e)}set(e,...t){0===t.length&&(t=[0]),r.assert(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must `+`match the rank (${this.rank})`);const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}. `+`  Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return p().makeTensor(this.values,this.shape,this.dtype)}}let p=null,m=null,g=null;function b(e){p=e}function y(e){m=e}function v(e){g=e}class w{constructor(e,t,n,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=r.sizeFromShape(e),this.strides=Object(r.computeStrides)(e),this.dataId=n,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}flatten(){return this.throwIfDisposed(),this.as1D()}asScalar(){return this.throwIfDisposed(),r.assert(1===this.size,()=>"The array must have only 1 element."),this.reshape([])}as1D(){return this.throwIfDisposed(),this.reshape([this.size])}as2D(e,t){return this.throwIfDisposed(),this.reshape([e,t])}as3D(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])}as4D(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])}as5D(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])}asType(e){return this.throwIfDisposed(),m.cast(this,e)}get rank(){return this.shape.length}async buffer(){const e=await this.data();return m.buffer(this.shape,this.dtype,e)}bufferSync(){return m.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Object(r.toNestedArray)(this.shape,e)}arraySync(){return Object(r.toNestedArray)(this.shape,this.dataSync())}async data(){this.throwIfDisposed();const e=p().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map(e=>r.decodeString(e))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataSync(){this.throwIfDisposed();const e=p().readSync(this.dataId);if("string"===this.dtype)try{return e.map(e=>r.decodeString(e))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await p().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(p().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}toFloat(){return this.asType("float32")}toInt(){return this.asType("int32")}toBool(){return this.asType("bool")}print(e=!1){return m.print(this,e)}reshape(e){return this.throwIfDisposed(),m.reshape(this,e)}reshapeAs(e){return this.throwIfDisposed(),this.reshape(e.shape)}expandDims(e=0){return m.expandDims(this,e)}squeeze(e){return this.throwIfDisposed(),m.squeeze(this,e)}clone(){return this.throwIfDisposed(),m.clone(this)}toString(e=!1){const t=this.dataSync();return s(t,this.shape,this.dtype,e)}gather(e,t=0){return this.throwIfDisposed(),m.gather(this,e,t)}norm(e="euclidean",t=null,n=!1){return this.throwIfDisposed(),m.norm(this,e,t,n)}slice(e,t){return this.throwIfDisposed(),m.slice(this,e,t)}reverse(e){return this.throwIfDisposed(),m.reverse(this,e)}stack(e,t=0){return m.stack([this,e],t)}unstack(e=0){return m.unstack(this,e)}all(e=null,t=!1){return this.throwIfDisposed(),m.all(this,e,t)}any(e=null,t=!1){return this.throwIfDisposed(),m.any(this,e,t)}logSumExp(e=null,t=!1){return this.throwIfDisposed(),m.logSumExp(this,e,t)}sum(e=null,t=!1){return this.throwIfDisposed(),m.sum(this,e,t)}prod(e=null,t=!1){return this.throwIfDisposed(),m.prod(this,e,t)}mean(e=null,t=!1){return this.throwIfDisposed(),m.mean(this,e,t)}min(e=null,t=!1){return this.throwIfDisposed(),m.min(this,e,t)}argMin(e=null){return this.throwIfDisposed(),m.argMin(this,e)}argMax(e=null){return this.throwIfDisposed(),m.argMax(this,e)}cast(e){return this.throwIfDisposed(),m.cast(this,e)}addStrict(e){return this.throwIfDisposed(),m.addStrict(this,e)}subStrict(e){return this.throwIfDisposed(),m.subStrict(this,e)}powStrict(e){return this.throwIfDisposed(),m.powStrict(this,e)}mulStrict(e){return this.throwIfDisposed(),m.mulStrict(this,e)}divStrict(e){return this.throwIfDisposed(),m.divStrict(this,e)}minimumStrict(e){return this.throwIfDisposed(),m.minimumStrict(this,e)}maximumStrict(e){return this.throwIfDisposed(),m.maximumStrict(this,e)}modStrict(e){return this.throwIfDisposed(),m.modStrict(this,e)}squaredDifferenceStrict(e){return this.throwIfDisposed(),m.squaredDifferenceStrict(this,e)}notEqualStrict(e){return this.throwIfDisposed(),m.notEqualStrict(this,e)}lessStrict(e){return this.throwIfDisposed(),m.lessStrict(this,e)}equalStrict(e){return this.throwIfDisposed(),m.equalStrict(this,e)}lessEqualStrict(e){return this.throwIfDisposed(),m.lessEqualStrict(this,e)}greaterStrict(e){return this.throwIfDisposed(),m.greaterStrict(this,e)}greaterEqualStrict(e){return this.throwIfDisposed(),m.greaterEqualStrict(this,e)}logicalAnd(e){return this.throwIfDisposed(),m.logicalAnd(this,e)}logicalOr(e){return this.throwIfDisposed(),m.logicalOr(this,e)}logicalNot(){return this.throwIfDisposed(),m.logicalNot(this)}logicalXor(e){return this.throwIfDisposed(),m.logicalXor(this,e)}where(e,t){return this.throwIfDisposed(),m.where(e,this,t)}neg(){return this.throwIfDisposed(),m.neg(this)}ceil(){return this.throwIfDisposed(),m.ceil(this)}floor(){return this.throwIfDisposed(),m.floor(this)}sign(){return this.throwIfDisposed(),m.sign(this)}isNaN(){return this.throwIfDisposed(),m.isNaN(this)}isInf(){return this.throwIfDisposed(),m.isInf(this)}isFinite(){return this.throwIfDisposed(),m.isFinite(this)}exp(){return this.throwIfDisposed(),m.exp(this)}expm1(){return this.throwIfDisposed(),m.expm1(this)}log(){return this.throwIfDisposed(),m.log(this)}log1p(){return this.throwIfDisposed(),m.log1p(this)}sqrt(){return this.throwIfDisposed(),m.sqrt(this)}rsqrt(){return this.throwIfDisposed(),m.rsqrt(this)}square(){return this.throwIfDisposed(),m.square(this)}reciprocal(){return this.throwIfDisposed(),m.reciprocal(this)}abs(){return this.throwIfDisposed(),m.abs(this)}clipByValue(e,t){return this.throwIfDisposed(),m.clipByValue(this,e,t)}sigmoid(){return this.throwIfDisposed(),m.sigmoid(this)}logSigmoid(){return this.throwIfDisposed(),m.logSigmoid(this)}softplus(){return this.throwIfDisposed(),m.softplus(this)}zerosLike(){return this.throwIfDisposed(),m.zerosLike(this)}onesLike(){return this.throwIfDisposed(),m.onesLike(this)}sin(){return this.throwIfDisposed(),m.sin(this)}cos(){return this.throwIfDisposed(),m.cos(this)}tan(){return this.throwIfDisposed(),m.tan(this)}asin(){return this.throwIfDisposed(),m.asin(this)}acos(){return this.throwIfDisposed(),m.acos(this)}atan(){return this.throwIfDisposed(),m.atan(this)}sinh(){return this.throwIfDisposed(),m.sinh(this)}cosh(){return this.throwIfDisposed(),m.cosh(this)}tanh(){return this.throwIfDisposed(),m.tanh(this)}asinh(){return this.throwIfDisposed(),m.asinh(this)}acosh(){return this.throwIfDisposed(),m.acosh(this)}atanh(){return this.throwIfDisposed(),m.atanh(this)}erf(){return this.throwIfDisposed(),m.erf(this)}round(){return this.throwIfDisposed(),m.round(this)}step(e=0){return this.throwIfDisposed(),m.step(this,e)}softmax(e=-1){return this.throwIfDisposed(),m.softmax(this,e)}logSoftmax(e=-1){return this.throwIfDisposed(),m.logSoftmax(this,e)}resizeBilinear(e,t=!1){return this.throwIfDisposed(),m.image.resizeBilinear(this,e,t)}resizeNearestNeighbor(e,t=!1){return this.throwIfDisposed(),m.image.resizeNearestNeighbor(this,e,t)}variable(e=!0,t,n){return this.throwIfDisposed(),p().makeVariable(this,e,t,n)}unsortedSegmentSum(e,t){return this.throwIfDisposed(),m.unsortedSegmentSum(this,e,t)}topk(e=1,t=!0){return this.throwIfDisposed(),m.topk(this,e,t)}stridedSlice(e,t,n,r=0,i=0,o=0,a=0,s=0){return this.throwIfDisposed(),m.stridedSlice(this,e,t,n,r,i,o,a,s)}fft(){return this.throwIfDisposed(),m.spectral.fft(this)}ifft(){return this.throwIfDisposed(),m.spectral.ifft(this)}rfft(){return this.throwIfDisposed(),m.spectral.rfft(this)}irfft(){return this.throwIfDisposed(),m.spectral.irfft(this)}}Object.defineProperty(w,Symbol.hasInstance,{value:e=>!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype});class x extends w{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and `+`previous value (${this.dtype}) must match`);if(!r.arraysEqual(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and `+`previous value (${this.shape}) must match`);p().disposeTensor(this),this.dataId=e.dataId,p().incRef(this,null)}dispose(){p().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(x,Symbol.hasInstance,{value:e=>e instanceof w&&null!=e.assign&&e.assign instanceof Function})},function(e,t,n){var r=n(23),i=n(37).f,o=n(40),a=n(38),s=n(146),l=n(194),u=n(106);e.exports=function(e,t){var n=e.target,c=e.global,f=e.stat,h,d,p,m,g,b;if(d=c?r:f?r[n]||s(n,{}):(r[n]||{}).prototype)for(p in t){if(g=t[p],m=e.noTargetGet?(b=i(d,p))&&b.value:d[p],!(h=u(c?p:n+(f?".":"#")+p,e.forced))&&void 0!==m){if(typeof g==typeof m)continue;l(g,m)}(e.sham||m&&m.sham)&&o(g,"sham",!0),a(d,p,g,e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return x}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return y}),n.d(t,"l",function(){return v}),n.d(t,"m",function(){return w}),n.d(t,"n",function(){return _}),n.d(t,"c",function(){return O}),n.d(t,"o",function(){return T});var r=n(8),i=n(21),o=n(5),a=n(3),s=n(54),l=n(89),u=n(7),c=n(67);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function f(e,t,n){const r=Object(o.c)(e,n);return h(e,t,r,n)}function h(e,t,n,o){if(null==o&&(o=Object(a.inferDtype)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Object(a.isTypedArray)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Object(a.assertNonNegativeIntegerDimensions)(t);const e=Object(a.sizeFromShape)(t),r=Object(a.sizeFromShape)(n);Object(a.assert)(e===r,()=>`Based on the provided shape, [${t}], the tensor should have `+`${e} values but has ${r}`);for(let e=0;e<n.length;++e){const r=n[e],i=e!==n.length-1||r!==Object(a.sizeFromShape)(t.slice(e));Object(a.assert)(n[e]===t[e]||!i,()=>"Error creating a new Tensor. Inferred shape "+`(${n}) does not match the provided `+`shape (${t}). `)}}return Object(a.isTypedArray)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?Object(a.toTypedArray)(e,o,Object(i.b)().getBool("DEBUG")):Object(a.flatten)(e,[],!0),r.a.makeTensor(e,t,o)}function d(e,t){if((Object(a.isTypedArray)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&Object(a.isTypedArray)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");const n=[],r=[];return h(e,n,r,t)}function p(e,t){Object(a.assertNonNull)(e);const n=Object(o.c)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");const r=null;return h(e,null,n,t)}function m(e,t,n){if(Object(a.assertNonNull)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=Object(o.c)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return h(e,t,r,n)}function g(e,t,n){if(Object(a.assertNonNull)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=Object(o.c)(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return h(e,t,r,n)}function b(e,t,n){if(Object(a.assertNonNull)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=Object(o.c)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return h(e,t,r,n)}function y(e,t,n){if(Object(a.assertNonNull)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=Object(o.c)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return h(e,t,r,n)}function v(e,t,n){if(Object(a.assertNonNull)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=Object(o.c)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return h(e,t=t||r,r,n)}function w(e,t=!0,n,i){return r.a.makeVariable(e,t,n,i)}function x(e,t="float32"){if("complex64"===t){const t=x(e,"float32"),n=_(e,"float32");return Object(s.a)(t,n)}const n=Object(a.makeOnesTypedArray)(Object(a.sizeFromShape)(e),t);return r.a.makeTensor(n,e,t)}function _(e,t="float32"){if("complex64"===t){const t=_(e,"float32"),n=_(e,"float32");return Object(s.a)(t,n)}const n=Object(a.makeZerosTypedArray)(Object(a.sizeFromShape)(e),t);return r.a.makeTensor(n,e,t)}function S(e){const t=Object(o.a)(e,"x","onesLike");if("complex64"===t.dtype){const e=O(Object(c.a)(t)),n=T(Object(l.a)(t));return Object(s.a)(e,n)}const n=(e,t)=>({x:()=>T(e)});return r.a.runKernelFunc(e=>e.onesLike(t),{x:t},n,"OnesLike")}function E(e){const t=Object(o.a)(e,"x","zerosLike"),n=(e,t)=>({x:()=>T(e)});return r.a.runKernelFunc(e=>e.zerosLike(t),{x:t},n,"ZerosLike")}function C(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return r.a.runKernelFunc(r=>r.linspace(e,t,n),{})}function k(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const i=e===t,o=e<t&&n<0,s=t<e&&n>1;if(i||o||s)return _([0],r);const l=Math.abs(Math.ceil((t-e)/n)),u=Object(a.makeZerosTypedArray)(l,r);t<e&&1===n&&(n=-1),u[0]=e;for(let e=1;e<u.length;e++)u[e]=u[e-1]+n;return p(u,r)}const O=Object(u.a)({onesLike_:S}),T=Object(u.a)({zerosLike_:E})},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}}r(),e.exports=n(521)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){function t(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}this.setState(t.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function e(t,n,r){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,t,n,i)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r="tfjsflags";class i{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&console.warn(`Platform ${this.platformName} has already been set. `+`Overwriting the platform with ${t}.`),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(t instanceof Promise)throw new Error(`Flag ${e} cannot be synchronously evaluated. `+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=o(this.global.location.search);if(r in e){const t=e[r].split(",");t.forEach(e=>{const[t,n]=e.split(":");this.urlFlags[t]=s(t,n)})}}}function o(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...n)=>(a(t,n[0],n[1]),n.join("="))),t}function a(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function s(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(`${+t}`===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}function l(){return u}let u=null;function c(e){u=e}},function(e,t,n){"use strict";n.r(t),n.d(t,"makeTypesMatch",function(){return a}),n.d(t,"assertTypesMatch",function(){return s}),n.d(t,"isTensorInList",function(){return l}),n.d(t,"getTensorsInContainer",function(){return u});var r=n(15),i=n(79),o=n(3);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function a(e,t){if(e.dtype===t.dtype)return[e,t];const n=Object(i.b)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){Object(o.assert)(e.dtype===t.dtype,()=>`The dtypes of the first(${e.dtype}) and`+` second(${t.dtype}) input must match`)}function l(e,t){return t.some(t=>t.id===e.id)}function u(e){const t=[],n=new Set;return c(e,t,n),t}function c(e,t,n){if(null==e)return;if(e instanceof r.a)return void t.push(e);if(!f(e))return;const i=e;for(const e in i){const r=i[e];n.has(r)||(n.add(r),c(r,t,n))}}function f(e){return Array.isArray(e)||"object"==typeof e}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(64))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=l(n(543)),o,a=l(n(555)),s="function"==typeof a.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function l(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,n){var r=n(23),i=n(148),o=n(33),a=n(103),s=n(152),l=n(197),u=i("wks"),c=r.Symbol,f=l?c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)||(s&&o(c,e)?u[e]=c[e]:u[e]=f("Symbol."+e)),u[e]}},function(e,t,n){"use strict";var r=n(160),i=n(29),o=n(23),a=n(24),s=n(33),l=n(112),u=n(40),c=n(38),f=n(31).f,h=n(59),d=n(83),p=n(27),m=n(103),g=o.Int8Array,b=g&&g.prototype,y=o.Uint8ClampedArray,v=y&&y.prototype,w=g&&h(g),x=b&&h(b),_=Object.prototype,S=_.isPrototypeOf,E=p("toStringTag"),C=m("TYPED_ARRAY_TAG"),k=r&&!!d&&"Opera"!==l(o.opera),O=!1,T,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A=function e(t){var n=l(t);return"DataView"===n||s(N,n)},I=function(e){return a(e)&&s(N,l(e))},j=function(e){if(I(e))return e;throw TypeError("Target is not a typed array")},R=function(e){if(d){if(S.call(w,e))return e}else for(var t in N)if(s(N,T)){var n=o[t];if(n&&(e===n||S.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},M=function(e,t,n){if(i){if(n)for(var r in N){var a=o[r];a&&s(a.prototype,e)&&delete a.prototype[e]}x[e]&&!n||c(x,e,n?t:k&&b[e]||t)}},P=function(e,t,n){var r,a;if(i){if(d){if(n)for(r in N)(a=o[r])&&s(a,e)&&delete a[e];if(w[e]&&!n)return;try{return c(w,e,n?t:k&&g[e]||t)}catch(e){}}for(r in N)!(a=o[r])||a[e]&&!n||c(a,e,t)}};for(T in N)o[T]||(k=!1);if((!k||"function"!=typeof w||w===Function.prototype)&&(w=function e(){throw TypeError("Incorrect invocation")},k))for(T in N)o[T]&&d(o[T],w);if((!k||!x||x===_)&&(x=w.prototype,k))for(T in N)o[T]&&d(o[T].prototype,x);if(k&&h(v)!==x&&d(v,x),i&&!s(x,E))for(T in O=!0,f(x,E,{get:function(){return a(this)?this[C]:void 0}}),N)o[T]&&u(o[T],C,T);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:O&&C,aTypedArray:j,aTypedArrayConstructor:R,exportTypedArrayMethod:M,exportTypedArrayStaticMethod:P,isView:A,isTypedArray:I,TypedArray:w,TypedArrayPrototype:x}},function(e,t,n){var r=n(19);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t,n){var r=n(49),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(29),i=n(191),o=n(25),a=n(57),s=Object.defineProperty;t.f=r?s:function e(t,n,r){if(o(t),n=a(n,!0),o(r),i)try{return s(t,n,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},function(e,t,n){var r=n(39);e.exports=function(e){return Object(r(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";(function(e){n.d(t,"f",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"g",function(){return b});var r=n(54),i=n(17),o=n(3),a=n(118);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const s=4;async function l(e,t){const n=[],r=[],i=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);for(let o=0;o<i.length;++o){const a=i[o],l=Array.isArray(e)?e[o].tensor:e[a];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype&&"complex64"!==l.dtype)throw new Error(`Unsupported dtype in weight '${a}': ${l.dtype}`);const u={name:a,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){const e=new Promise(async e=>{const t=await l.bytes(),n=t.reduce((e,t)=>e+t.length,0)+s*t.length,r=new Uint8Array(n);let i=0;for(let e=0;e<t.length;e++){const n=t[e],o=new Uint8Array(new Uint32Array([n.length]).buffer);r.set(o,i),i+=s,r.set(n,i),i+=n.length}e(r)});r.push(e)}else r.push(l.data());null!=t&&(u.group=t),n.push(u)}const o=await Promise.all(r);return{data:c(o),specs:n}}function u(e,t){const n={};let l,u=0;for(const c of t){const t=c.name,f=c.dtype,h=c.shape,d=Object(o.sizeFromShape)(h);let p;if("quantization"in c){const n=c.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n&&"scale"in n))throw new Error(`Weight ${c.name} with quantization ${n.dtype} `+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==n.dtype)throw new Error(`Weight ${c.name} has unknown `+`quantization dtype ${n.dtype}. `+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==f)throw new Error(`Weight ${c.name} is quantized with ${n.dtype} `+`which only supports weights of type float32 not ${f}.`)}const r=a.a[n.dtype],i=e.slice(u,u+d*r),o="uint8"===n.dtype?new Uint8Array(i):new Uint16Array(i);if("float32"===f)if("uint8"===n.dtype||"uint16"===n.dtype){p=new Float32Array(o.length);for(let e=0;e<o.length;e++){const t=o[e];p[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} `+"for weight type float32.");void 0===l&&(l=x()),p=l(o)}else{if("int32"!==f)throw new Error(`Unsupported dtype in weight '${t}': ${f}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} `+"for weight type int32.");p=new Int32Array(o.length);for(let e=0;e<o.length;e++){const t=o[e];p[e]=Math.round(t*n.scale+n.min)}}u+=d*r}else if("string"===f){const t=Object(o.sizeFromShape)(c.shape);p=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(u,u+s))[0];u+=s;const n=new Uint8Array(e.slice(u,u+t));p.push(n),u+=t}}else{const o=a.a[f],s=e.slice(u,u+d*o);if("float32"===f)p=new Float32Array(s);else if("int32"===f)p=new Int32Array(s);else if("bool"===f)p=new Uint8Array(s);else{if("complex64"!==f)throw new Error(`Unsupported dtype in weight '${t}': ${f}`);{p=new Float32Array(s);const e=new Float32Array(p.length/2),o=new Float32Array(p.length/2);for(let t=0;t<e.length;t++)e[t]=p[2*t],o[t]=p[2*t+1];const a=Object(i.f)(e,h,"float32"),l=Object(i.f)(o,h,"float32");n[t]=Object(r.a)(a,l)}}u+=d*o}"complex64"!==f&&(n[t]=Object(i.f)(p,h,f))}return n}function c(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach(e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)});const r=new Uint8Array(t);let i=0;return n.forEach(e=>{r.set(new Uint8Array(e.buffer),i),i+=e.byteLength}),r.buffer}const f=void 0!==e&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function h(t){return f?e.byteLength(t):new Blob([t]).size}function d(t){if(f)return e.from(t).toString("base64");const n=new Uint8Array(t);let r="";for(let e=0,t=n.length;e<t;e++)r+=String.fromCharCode(n[e]);return btoa(r)}function p(t){if(f){const n=e.from(t,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}const n=atob(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r.set([n.charCodeAt(e)],e);return r.buffer}function m(e){if(1===e.length)return e[0];let t=0;e.forEach(e=>{t+=e.byteLength});const n=new Uint8Array(t);let r=0;return e.forEach(e=>{n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function g(e){const t="/";for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const n=e.split("/");return n[n.length-1]}function b(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:h(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:h(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function y(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|(n+=947912704)},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}function v(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}function w(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}function x(){const e=y(),t=v(),n=w();return r=>{const i=new ArrayBuffer(4*r.length),o=new Uint32Array(i);for(let i=0;i<r.length;i++){const a=r[i],s=e[n[a>>10]+(1023&a)]+t[a>>10];o[i]=s}return new Float32Array(i)}}}).call(this,n(188).Buffer)},function(e,t,n){"use strict";var r=n(1),i=n(62),o=n(55),a;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
function s(e){return Object(o.b)(e,l)}function l(e){return e instanceof r.l?{value:e.clone(),recurse:!1}:Object(o.e)(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class u{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class c extends u{constructor(){super(c.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let e=0;e<n;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
function f(e){return new y(e)}function h(e){let t=e;return d(()=>({value:t++,done:!1}))}function d(e){return new v(e)}function p(e,t){return new A(e,t)}function m(e,t,n){return p(d(e).take(t),n)}function g(e,t=a.FAIL){return new I(e,t)}c.INITIAL_CAPACITY=32,n.d(t,"f",function(){return f}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return T}),n.d(t,"c",function(){return a});class b{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)n=e((t=await this.next()).value)}handleErrors(e){return new k(this,e)}filter(e){return new E(this,e)}map(e){return new C(this,e)}mapAsync(e){return new O(this,e)}serialMapAsync(e){return new O(this,e).serial()}flatmap(e){return new N(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(e=>!0===e)}rowMajorBatch(e,t=!0){return new S(this,e,t)}columnMajorBatch(e,t=!0,n=o.f){const r=this.rowMajorBatch(e,t);return r.map(e=>Object(o.d)(e,n))}concatenate(e,t){return new A(f([this,e]),t)}take(e){return e<0||null==e?this:new _(this,e)}skip(e){return e<0||null==e?this:new x(this,e)}prefetch(e){return new j(this,e)}shuffle(e,t){return new R(this,e,t)}serial(){return new w(this)}}class y extends b{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:s(e),done:!1}}}class v extends b{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class w extends b{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class x extends b{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;r.hb(e.value)}return this.upstream.next()}}class _ extends b{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class S extends b{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class E extends b{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;r.hb(e.value)}}}class C extends b{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=r.sd.getTensorsInContainer(e.value),n=this.transform(e.value),i=r.sd.getTensorsInContainer(n);for(const e of t)r.sd.isTensorInList(e,i)||e.dispose();return{value:n,done:!1}}}class k extends b{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class O extends b{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=r.sd.getTensorsInContainer(e.value),n=await this.transform(e.value),i=r.sd.getTensorsInContainer(n);for(const e of t)r.sd.isTensorInList(e,i)||e.dispose();return{value:n,done:!1}}}class T extends b{constructor(){super(),this.outputQueue=new c,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class N extends T{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=r.sd.getTensorsInContainer(e.value),n=this.transform(e.value),i=r.sd.getTensorsInContainer(n);this.outputQueue.pushAll(n);for(const e of t)r.sd.isTensorInList(e,i)||e.dispose();return!0}}class A extends b{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){const e="TODO: fill in upstream of chained summaries";return`${e} -> Chained`}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(a||(a={}));class I extends b{constructor(e,t=a.FAIL){super(),this.iterators=e,this.mismatchMode=t,this.count=0,this.currentPromise=null}summary(){const e="TODO: fill in upstream of zip summaries";return`{${e}} -> Zip`}async nextState(e){await e;let t=0,n=0;function r(e){if(e instanceof b){const r=e.next();return{value:r.then(e=>(t++,e.done&&n++,e.value)),recurse:!1}}return{value:null,recurse:!0}}const i=await Object(o.c)(this.iterators,r);if(t===n)return{value:null,done:!0};if(n>0)switch(this.mismatchMode){case a.FAIL:throw new Error("Zipped streams should have the same length. "+`Mismatched at element ${this.count}.`);case a.SHORTEST:return{value:null,done:!0};case a.LONGEST:}return this.count++,{value:i,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class j extends b{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new u(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class R extends j{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=i.alea(n||r.Bd.now().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}},function(e,t,n){var r=n(71),i=n(102),o=n(32),a=n(30),s=n(108),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,f=6==e,h=5==e||f;return function(d,p,m,g){for(var b=o(d),y=i(b),v=r(p,m,3),w=a(y.length),x=0,_=g||s,S=t?_(d,w):n?_(d,0):void 0,E,C;w>x;x++)if((h||x in y)&&(C=v(E=y[x],x,b),e))if(t)S[x]=C;else if(C)switch(e){case 3:return!0;case 5:return E;case 6:return x;case 2:l.call(S,E)}else if(c)return!1;return f?-1:u||c?c:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){var r=n(29),i=n(119),o=n(68),a=n(42),s=n(57),l=n(33),u=n(191),c=Object.getOwnPropertyDescriptor;t.f=r?c:function e(t,n){if(t=a(t),n=s(n,!0),u)try{return c(t,n)}catch(e){}if(l(t,n))return o(!i.f.call(t,n),t[n])}},function(e,t,n){var r=n(23),i=n(40),o=n(33),a=n(146),s=n(147),l=n(43),u=l.get,c=l.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c(n).source=f.join("string"==typeof t?t:"")),e!==r?(l?!h&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",function e(){return"function"==typeof this&&u(this).source||s(this)})},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(29),i=n(31),o=n(68);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(29),i=n(19),o=n(33),a=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:l,f=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i(function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,c,f)})}},function(e,t,n){var r=n(102),i=n(39);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(193),i=n(23),o=n(24),a=n(40),s=n(33),l=n(120),u=n(104),c=i.WeakMap,f,h,d,p=function(e){return d(e)?h(e):f(e,{})},m=function(e){return function(t){var n;if(!o(t)||(n=h(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(r){var g=new c,b=g.get,y=g.has,v=g.set;f=function(e,t){return v.call(g,e,t),t},h=function(e){return b.call(g,e)||{}},d=function(e){return y.call(g,e)}}else{var w=l("state");u[w]=!0,f=function(e,t){return a(e,w,t),t},h=function(e){return s(e,w)?e[w]:{}},d=function(e){return s(e,w)}}e.exports={set:f,get:h,has:d,enforce:p,getterFor:m}},function(e,t,n){var r=n(195),i=n(33),o=n(201),a=n(31).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(39),i=/"/g;e.exports=function(e,t,n,o){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var r=n(19);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return S}),n.d(t,"i",function(){return k}),n.d(t,"c",function(){return O}),n.d(t,"f",function(){return T}),n.d(t,"e",function(){return I}),n.d(t,"d",function(){return j}),n.d(t,"k",function(){return M}),n.d(t,"g",function(){return P}),n.d(t,"h",function(){return D}),n.d(t,"j",function(){return L}),n.d(t,"b",function(){return F});var r=n(1),i=n(63),o=n(88),a=n(4),s=n(273),l=n(274),u=n(275),c=n(276),f=n(277),h=n(278),d=n(279),p=n(280),m=n(281),g=n(282),b=n(283),y=n(284),v=n(285),w=n(286),x=n(287),_=n(288);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class S{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[s,l,u,c,f,h,d,g,m,p,b,y,v,w,x,_],t=[].concat(...e.map(e=>e.json));this.opMappers=t.reduce((e,t)=>(e[t.tfOpName]=t,e),{})}transformGraph(e,t={}){const n=e.node,r=[],i=[],o=n.reduce((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")&&r.push(e[t.name]),"Const"===t.op&&i.push(e[t.name]),e),{});let s=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const f=Object.keys(o);f.forEach(e=>{const t=o[e];t.inputNames.forEach(e=>{const[n]=Object(a.a)(e);t.inputs.push(o[n]),o[n].children.push(t)})}),0===Object.keys(c).length?f.forEach(e=>{const t=o[e];0===t.children.length&&l.push(t)}):Object.keys(c).forEach(e=>{const[t]=Object(a.a)(e),n=o[t];null!=n&&(n.signatureKey=c[e],l.push(n))}),Object.keys(u).length>0?Object.keys(u).forEach(e=>{const[t]=Object(a.a)(e),n=o[t];n&&(n.signatureKey=u[e],s.push(n))}):s=r;let h={};return null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce((e,t)=>(e[t.signature.name]=this.mapFunction(t),e),{})),{nodes:o,inputs:s,outputs:l,weights:i,placeholders:r,signature:t,functions:h}}mapSignatureEntries(e){return Object.keys(e||{}).reduce((t,n)=>(t[e[n].name]=n,t),{})}mapNode(e){const t=Object(o.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map(e=>e.startsWith("^")?e.substr(1):e),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((t,n)=>{const r=n.type;let i=void 0;switch(n.type){case"string":void 0===(i=k(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=k(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=D(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=D(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=T(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=T(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=P(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=P(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=O(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=O(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=F(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=F(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=M(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=M(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=I(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=I(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=j(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=j(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(i=A(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=A(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:i,type:r},t},{})),n}mapFunction(e){const t=e.nodeDef,n=[],r=[];let i={};null!=t&&(i=t.reduce((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&r.push(e[t.name]),e),{}));const o=[],s=[];e.signature.inputArg.forEach(e=>{const[t]=Object(a.a)(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:N(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,o.push(n),i[t]=n});const l=Object.keys(i);l.forEach(e=>{const t=i[e];t.inputNames.forEach(e=>{const[n]=Object(a.a)(e);t.inputs.push(i[n]),i[n].children.push(t)})});const u=e.ret;e.signature.outputArg.forEach(e=>{const[t,n]=Object(a.a)(u[e.name]),r=i[t];null!=r&&(r.defaultOutput=n,s.push(r))});const c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:s,weights:r,placeholders:n,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e),{}),outputs:e.signature.outputArg.reduce((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function E(t){const n=Object(r.nb)().global;if(void 0!==n.atob)return n.atob(t);if(void 0!==e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function C(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):E(e);return t?n:n.toLowerCase()}function k(e,t,n,r=!1){const i=e[t];return null!=i?C(i.s,r):n}function O(e,t,n){const r=e[t];return r?r.b:n}function T(e,t,n){const r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof i?i:parseInt(i,10)}function N(e){switch("string"==typeof e&&(e=i.a[e]),e){case i.a.DT_FLOAT:return"float32";case i.a.DT_INT32:case i.a.DT_INT64:case i.a.DT_INT8:case i.a.DT_UINT8:return"int32";case i.a.DT_BOOL:return"bool";case i.a.DT_DOUBLE:return"float32";case i.a.DT_STRING:return"string";default:return null}}function A(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function I(e,t,n){const r=e[t];return r&&r.type?N(r.type):n}function j(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map(e=>N(e)):n}function R(e){if(!e.unknownRank)return null!=e.dim?e.dim.map(e=>"number"==typeof e.size?e.size:parseInt(e.size,10)):[]}function M(e,t,n){const r=e[t];return r&&r.shape?R(r.shape):n}function P(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(e=>"number"==typeof e?e:parseInt(e,10)):n}function D(e,t,n,r=!1){const i=e[t];return i&&i.list&&i.list.s?i.list.s.map(e=>C(e,r)):n}function L(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map(e=>R(e)):n}function F(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(188).Buffer)},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(255),i=n(600),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return"[object ArrayBuffer]"===o.call(e)}function l(e){return"undefined"!=typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function c(e){return"string"==typeof e}function f(e){return"number"==typeof e}function h(e){return void 0===e}function d(e){return null!==e&&"object"==typeof e}function p(e){return"[object Date]"===o.call(e)}function m(e){return"[object File]"===o.call(e)}function g(e){return"[object Blob]"===o.call(e)}function b(e){return"[object Function]"===o.call(e)}function y(e){return d(e)&&b(e.pipe)}function v(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function _(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function S(){var e={};function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=S(e[n],t):e[n]=t}for(var n=0,r=arguments.length;n<r;n++)_(arguments[n],t);return e}function E(e,t,n){return _(t,function t(i,o){e[o]=n&&"function"==typeof i?r(i,n):i}),e}e.exports={isArray:a,isArrayBuffer:s,isBuffer:i,isFormData:l,isArrayBufferView:u,isString:c,isNumber:f,isObject:d,isUndefined:h,isDate:p,isFile:m,isBlob:g,isFunction:b,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:x,forEach:_,merge:S,extend:E,trim:w}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c});var r=n(117);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i=Object(r.a)("kernelRegistry",()=>new Map),o=Object(r.a)("gradRegistry",()=>new Map);function a(e,t){const n=d(e,t);return i.get(n)}function s(e){return o.get(e)}function l(e){const t=i.entries(),n=[];for(;;){const{done:r,value:i}=t.next();if(r)break;const[o,a]=i,[s]=o.split("_");s===e&&n.push(a)}return n}function u(e){const{kernelName:t,backendName:n}=e,r=d(t,n);i.has(r)&&console.warn(`The kernel '${t}' for backend `+`'${n}' is already registered`),i.set(r,e)}function c(e){const{kernelName:t}=e;o.has(t)&&console.warn(`Overriding the gradient for '${t}'`),o.set(t,e)}function f(e,t){const n=d(e,t);if(!i.has(n))throw new Error(`The kernel '${e}' for backend `+`'${t}' is not registered`);i.delete(n)}function h(e){if(!o.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);o.delete(e)}function d(e,t){return`${t}_${e}`}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(8),i=n(10),o=n(5),a=n(3),s=n(7);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function l(e,t){const n=Object(o.a)(e,"real","complex"),s=Object(o.a)(t,"imag","complex");a.assertShapesMatch(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, `+"must match in call to tf.complex().");const l=e=>e.complex(n,s),u={real:n,imag:s};return r.a.runKernelFunc(l,u,null,i.k)}const u=Object(s.a)({complex_:l})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return f});var r=n(1);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function i(e,t){return o(e,t)}function o(e,t,n=new Map,r=new Set){if(null==e)return null;if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(c(e)){const i=Array.isArray(e)?[]:{};r.add(e);for(const a in e){const s=e[a],l=o(s,t,n,r);i[a]=l}return r.delete(e),i}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,i.value),i.value}function a(e,t=l){return s(e,t)}function s(e,t,n=new Set){const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(c(r)){const i=Array.isArray(r)?[]:{};n.add(r);for(const o in r){const r=e.map(e=>e[o]),a=s(r,t,n);i[o]=a}return n.delete(r),i}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return i.value}function l(e){return null===e?null:c(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}async function u(e,t){const n=new Map;o(e,t,n);for(const e of Array.from(n.keys())){const t=n.get(e);if(t instanceof Promise){const r=await t;n.set(e,r)}}const r=o(e,t,n);return r}function c(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof r.l))}function f(e){return null==e||h(e)||Array.isArray(e)||"object"==typeof e&&e instanceof r.l||r.Bd.isTypedArray(e)}function h(e){return null===e||"object"!=typeof e&&"function"!=typeof e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(24);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(195),i=n(23),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(33),i=n(32),o=n(120),a=n(159),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t){e.exports=!1},function(e,t,n){var r=n(31).f,i=n(33),o,a=n(27)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(626),i=n(627),o=n(628),a=n(629),s=n(630),l=n(631),u=n(632);u.alea=r,u.xor128=i,u.xorwow=o,u.xorshift7=a,u.xor4096=s,u.tychei=l,e.exports=u},function(e,t,n){"use strict";
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
var r,i;n.d(t,"a",function(){return r}),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(r||(r={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(i||(i={}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){"use strict";var r=n(16),i=n(23),o=n(29),a=n(170),s=n(28),l=n(124),u=n(73),c=n(68),f=n(40),h=n(30),d=n(211),p=n(230),m=n(57),g=n(33),b=n(112),y=n(24),v=n(70),w=n(83),x=n(81).f,_=n(231),S=n(36).forEach,E=n(92),C=n(31),k=n(37),O=n(43),T=n(126),N=O.get,A=O.set,I=C.f,j=k.f,R=Math.round,M=i.RangeError,P=l.ArrayBuffer,D=l.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,B=s.TypedArray,z=s.TypedArrayPrototype,$=s.aTypedArrayConstructor,U=s.isTypedArray,W="BYTES_PER_ELEMENT",V="Wrong length",H=function(e,t){for(var n=0,r=t.length,i=new($(e))(r);r>n;)i[n]=t[n++];return i},G=function(e,t){I(e,t,{get:function(){return N(this)[t]}})},q=function(e){var t;return e instanceof P||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},K=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function e(t,n){return K(t,n=m(n,!0))?c(2,t[n]):j(t,n)},X=function e(t,n,r){return!(K(t,n=m(n,!0))&&y(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?I(t,n,r):(t[n]=r.value,t)};o?(L||(k.f=Y,C.f=X,G(z,"buffer"),G(z,"byteOffset"),G(z,"byteLength"),G(z,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:Y,defineProperty:X}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,c="set"+e,m=i[s],g=m,b=g&&g.prototype,C={},k=function(e,t){var n=N(e);return n.view[l](t*o+n.byteOffset,!0)},O=function(e,t,r){var i=N(e);n&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[c](t*o+i.byteOffset,r,!0)},j=function(e,t){I(e,t,{get:function(){return k(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};L?a&&(g=t(function(e,t,n,r){return u(e,g,s),T(y(t)?q(t)?void 0!==r?new m(t,p(n,o),r):void 0!==n?new m(t,p(n,o)):new m(t):U(t)?H(g,t):_.call(g,t):new m(d(t)),e,g)}),w&&w(g,B),S(x(m),function(e){e in g||f(g,e,m[e])}),g.prototype=b):(g=t(function(e,t,n,r){u(e,g,s);var i=0,a=0,l,c,f;if(y(t)){if(!q(t))return U(t)?H(g,t):_.call(g,t);l=t,a=p(n,o);var m=t.byteLength;if(void 0===r){if(m%o)throw M(V);if((c=m-a)<0)throw M(V)}else if((c=h(r)*o)+a>m)throw M(V);f=c/o}else f=d(t),l=new P(c=f*o);for(A(e,{buffer:l,byteOffset:a,byteLength:c,length:f,view:new D(l)});i<f;)j(e,i++)}),w&&w(g,B),b=g.prototype=v(z)),b.constructor!==g&&f(b,"constructor",g),F&&f(b,F,s),C[s]=g,r({global:!0,forced:g!=m,sham:!L},C),W in g||f(g,W,o),W in b||f(b,W,o),E(s)}):e.exports=function(){}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(8),i=n(10),o=n(5),a=n(7);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(e){const t=Object(o.a)(e,"input","real"),n=e=>e.real(t),a={input:t};return r.a.runKernelFunc(n,a,null,i.gb)}const l=Object(a.a)({real_:s})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(49),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(25),i=n(198),o=n(150),a=n(104),s=n(199),l=n(145),u,c=">",f="<",h="prototype",d="script",p=n(120)("IE_PROTO"),m=function(){},g=function(e){return"<script>"+e+f+"/"+d+c},b=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e=l("iframe"),t="javascript:",n;return e.style.display="none",s.appendChild(e),e.src=String(t),(n=e.contentWindow.document).open(),n.write(g("document.F=Object")),n.close(),n.F},v,w=function(){try{v=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=v?b(v):y();for(var e=o.length;e--;)delete w.prototype[o[e]];return w()};a[p]=!0,e.exports=Object.create||function e(t,n){var o;return null!==t?(m.prototype=r(t),o=new m,m.prototype=null,o[p]=t):o=w(),void 0===n?o:i(o,n)}},function(e,t,n){var r=n(50);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(27),i=n(70),o=n(31),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(25),i=n(50),o,a=n(27)("species");e.exports=function(e,t){var n=r(e).constructor,o;return void 0===n||void 0==(o=r(n)[a])?t:i(o)}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(116)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var r,i,o,a,s;n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(o||(o={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));const l={float32:a,int32:i,bool:o,complex64:s};function u(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return l[e][t]}function c(e){return u(e,"int32")}},function(e,t,n){(function(t){var n,n,r,i;if((void 0===o||!o)&&"undefined"!=typeof self)var o=self;r=function(){var e,r,i;return function(){function e(t,r,i){function o(s,l){if(!r[s]){if(!t[s]){var u;if(!l&&("function"==typeof n&&n))return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var n;return o(t[s][1][e]||e)},f,f.exports,e,t,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}return e}()({1:[function(e,t,n){function r(e){if(Array.isArray(e))return e}t.exports=r},{}],2:[function(e,t,n){function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}t.exports=r},{}],3:[function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.exports=r},{}],4:[function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports=r},{}],5:[function(e,t,n){var r=e("./setPrototypeOf");function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function o(e,n,a){return i()?t.exports=o=Reflect.construct:t.exports=o=function e(t,n,i){var o=[null];o.push.apply(o,n);var a,s=new(Function.bind.apply(t,o));return i&&r(s,i.prototype),s},o.apply(null,arguments)}t.exports=o},{"./setPrototypeOf":17}],6:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.exports=i},{}],7:[function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.exports=r},{}],8:[function(e,t,n){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},{}],9:[function(e,t,n){var r=e("./setPrototypeOf");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}t.exports=i},{"./setPrototypeOf":17}],10:[function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}t.exports=r},{}],11:[function(e,t,n){var r=e("../helpers/typeof");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function t(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}t.exports=o},{"../helpers/typeof":20}],12:[function(e,t,n){function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}t.exports=r},{}],13:[function(e,t,n){function r(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}t.exports=r},{}],14:[function(e,t,n){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=r},{}],15:[function(e,t,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=r},{}],16:[function(e,t,n){var r=e("../helpers/typeof"),i=e("./assertThisInitialized");function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}t.exports=o},{"../helpers/typeof":20,"./assertThisInitialized":3}],17:[function(e,t,n){function r(e,n){return t.exports=r=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t},r(e,n)}t.exports=r},{}],18:[function(e,t,n){var r=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),o=e("./nonIterableRest");function a(e,t){return r(e)||i(e,t)||o()}t.exports=a},{"./arrayWithHoles":1,"./iterableToArrayLimit":13,"./nonIterableRest":14}],19:[function(e,t,n){var r=e("./arrayWithoutHoles"),i=e("./iterableToArray"),o=e("./nonIterableSpread");function a(e){return r(e)||i(e)||o()}t.exports=a},{"./arrayWithoutHoles":2,"./iterableToArray":12,"./nonIterableSpread":15}],20:[function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=i=function e(t){return r(t)}:t.exports=i=function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},i(e)}t.exports=i},{}],21:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":332}],22:[function(e,t,n){var r=e("./src/converter");function i(e,t){var n=new r(e,t);return function(e){return n.convert(e)}}i.BIN="01",i.OCT="01234567",i.DEC="0123456789",i.HEX="0123456789abcdef",t.exports=i},{"./src/converter":23}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e&&t&&e.length&&t.length))throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}r.prototype.convert=function(e){var t,n,r,i={},o=this.srcAlphabet.length,a=this.dstAlphabet.length,s=e.length,l="string"==typeof e?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<s;t++)i[t]=this.srcAlphabet.indexOf(e[t]);do{for(n=0,r=0,t=0;t<s;t++)(n=n*o+i[t])>=a?(i[r++]=parseInt(n/a,10),n%=a):r>0&&(i[r++]=0);s=r,l=this.dstAlphabet.slice(n,n+1).concat(l)}while(0!==r);return l},r.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(-1===this.srcAlphabet.indexOf(e[t]))return!1;return!0},t.exports=r},{}],24:[function(e,n,r){(function(t){"use strict";var r=e("object-assign");
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=e("util/"),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,u="foo"===function e(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=n.exports=v,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(a.isFunction(e)){if(u)return e.name;var t,n=e.toString().match(d);return n&&n[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!a.isFunction(e))return a.inspect(e);var t=p(e),n;return"[Function"+(t?": "+t:"")+"]"}function b(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}function y(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||y(e,!0,t,"==",h.ok)}function w(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),_(e,t,n,r))}return n?e===t:e==t}function x(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=x(e),o=x(t);if(i&&!o||!i&&o)return!1;if(i)return w(e=l.call(e),t=l.call(t),n);var s=T(e),u=T(t),c,f;if(s.length!==u.length)return!1;for(s.sort(),u.sort(),f=s.length-1;f>=0;f--)if(s[f]!==u[f])return!1;for(f=s.length-1;f>=0;f--)if(!w(e[c=s[f]],t[c],n,r))return!1;return!0}function S(e,t,n){w(e,t,!0)&&y(e,t,n,"notDeepStrictEqual",S)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e){var t;try{e()}catch(e){t=e}return t}function k(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=C(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&y(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&a.isError(i),l=!e&&i&&!n;if((s&&o&&E(i,n)||l)&&y(i,n,"Got unwanted exception"+r),e&&i&&n&&!E(i,n)||!e&&i)throw i}function O(e,t){e||y(e,!0,t,"==",O)}h.AssertionError=function e(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=b(this),this.generatedMessage=!0);var n=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=p(n),a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},a.inherits(h.AssertionError,Error),h.fail=y,h.ok=v,h.equal=function e(t,n,r){t!=n&&y(t,n,r,"==",h.equal)},h.notEqual=function e(t,n,r){t==n&&y(t,n,r,"!=",h.notEqual)},h.deepEqual=function e(t,n,r){w(t,n,!1)||y(t,n,r,"deepEqual",h.deepEqual)},h.deepStrictEqual=function e(t,n,r){w(t,n,!0)||y(t,n,r,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function e(t,n,r){w(t,n,!1)&&y(t,n,r,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=S,h.strictEqual=function e(t,n,r){t!==n&&y(t,n,r,"===",h.strictEqual)},h.notStrictEqual=function e(t,n,r){t===n&&y(t,n,r,"!==",h.notStrictEqual)},h.throws=function(e,t,n){k(!0,e,t,n)},h.doesNotThrow=function(e,t,n){k(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=r(O,h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var T=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"object-assign":263,"util/":27}],25:[function(e,t,n){"function"==typeof Object.create?t.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],26:[function(e,t,n){t.exports=function e(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],27:[function(e,n,r){(function(t,n){var i=/%[sdj%]/g;r.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])v(l)||!k(l)?a+=" "+l:a+=" "+s(l);return a},r.deprecate=function(e,i){if(E(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;function a(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}return a};var o={},a;function s(e,t){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function f(e,t,n){if(e.customInspect&&t&&N(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return _(i)||(i=f(e,i,n)),i}var o=h(e,t);if(o)return o;var a=Object.keys(t),s=c(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),T(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(t);if(0===a.length){if(N(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(C(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(O(t))return e.stylize(Date.prototype.toString.call(t),"date");if(T(t))return d(t)}var u="",y=!1,v=["{","}"],w,x;(b(t)&&(y=!0,v=["[","]"]),N(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return C(t)&&(u=" "+RegExp.prototype.toString.call(t)),O(t)&&(u=" "+Date.prototype.toUTCString.call(t)),T(t)&&(u=" "+d(t)),0!==a.length||y&&0!=t.length?n<0?C(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=y?p(e,t,n,s,a):a.map(function(r){return m(e,t,n,s,r,y)}),e.seen.pop(),g(x,u,v)):v[0]+u+v[1]}function h(e,t){if(E(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)P(t,String(a))?o.push(m(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(m(e,t,n,r,i,!0))}),o}function m(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=v(n)?f(e,l.value,null):f(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),E(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function g(e,t,n){var r=0,i;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function b(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function w(e){return null==e}function x(e){return"number"==typeof e}function _(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function E(e){return void 0===e}function C(e){return k(e)&&"[object RegExp]"===I(e)}function k(e){return"object"==typeof e&&null!==e}function O(e){return k(e)&&"[object Date]"===I(e)}function T(e){return k(e)&&("[object Error]"===I(e)||e instanceof Error)}function N(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function I(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(E(a)&&(a=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=b,r.isBoolean=y,r.isNull=v,r.isNullOrUndefined=w,r.isNumber=x,r.isString=_,r.isSymbol=S,r.isUndefined=E,r.isRegExp=C,r.isObject=k,r.isDate=O,r.isError=T,r.isFunction=N,r.isPrimitive=A,r.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){console.log("%s - %s",M(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"./support/isBuffer":26,_process:312,inherits:25}],28:[function(e,t,n){"use strict";n.byteLength=c,n.toByteArray=h,n.fromByteArray=m;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("="),r;return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n=u(e),r=n[0],a=n[1],s=new o(f(e,r,a)),l=0,c=a>0?r-4:r,h;for(h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=16383)o.push(p(e,s,s+16383>l?l:s+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],29:[function(e,t,n){var r=e("./lib/encoder"),i=e("./lib/decoder");t.exports={encode:r,decode:i}},{"./lib/decoder":30,"./lib/encoder":31}],30:[function(e,t,n){(function(e){function n(e,t){if(this.pos=0,this.buffer=e,this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}n.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},n.prototype.parseRGBA=function(){var t="bit"+this.bitPP,n=this.width*this.height*4;this.data=new e(n),this[t]()},n.prototype.bit1=function(){for(var e=Math.ceil(this.width/8),t=e%4,n=this.height>=0?this.height-1:-this.height,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.buffer.readUInt8(this.pos++),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[o>>7-s&1];this.data[a+4*s]=0,this.data[a+4*s+1]=l.blue,this.data[a+4*s+2]=l.green,this.data[a+4*s+3]=l.red}0!=t&&(this.pos+=4-t)}},n.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var e=0,t=this.bottom_up?this.height-1:0,n=!1;e<this.data.length;){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(0==r){if(0==i){this.bottom_up?t--:t++,e=t*this.width*4,n=!1;continue}if(1==i)break;if(2==i){var o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?t-=a:t+=a,e+=a*this.width*4+4*o}else{for(var s=this.buffer.readUInt8(this.pos++),l=0;l<i;l++)n?u.call(this,15&s):u.call(this,(240&s)>>4),1&l&&l+1<i&&(s=this.buffer.readUInt8(this.pos++)),n=!n;1==(i+1>>1&1)&&this.pos++}}else for(var l=0;l<r;l++)n?u.call(this,15&i):u.call(this,(240&i)>>4),n=!n}function u(t){var n=this.palette[t];this.data[e]=0,this.data[e+1]=n.blue,this.data[e+2]=n.green,this.data[e+3]=n.red,e+=4}}else for(var c=Math.ceil(this.width/2),f=c%4,a=this.height-1;a>=0;a--){for(var h=this.bottom_up?a:this.height-1-a,o=0;o<c;o++){var i=this.buffer.readUInt8(this.pos++),e=h*this.width*4+2*o*4,d=i>>4,p=15&i,m=this.palette[d];if(this.data[e]=0,this.data[e+1]=m.blue,this.data[e+2]=m.green,this.data[e+3]=m.red,2*o+1>=this.width)break;m=this.palette[p],this.data[e+4]=0,this.data[e+4+1]=m.blue,this.data[e+4+2]=m.green,this.data[e+4+3]=m.red}0!=f&&(this.pos+=4-f)}},n.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var e=0,t=this.bottom_up?this.height-1:0;e<this.data.length;){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(0==n){if(0==r){this.bottom_up?t--:t++,e=t*this.width*4;continue}if(1==r)break;if(2==r){var i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.bottom_up?t-=o:t+=o,e+=o*this.width*4+4*i}else{for(var a=0;a<r;a++){var s=this.buffer.readUInt8(this.pos++);l.call(this,s)}!0&r&&this.pos++}}else for(var a=0;a<n;a++)l.call(this,r)}function l(t){var n=this.palette[t];this.data[e]=0,this.data[e+1]=n.blue,this.data[e+2]=n.green,this.data[e+3]=n.red,e+=4}}else for(var u=this.width%4,o=this.height-1;o>=0;o--){for(var c=this.bottom_up?o:this.height-1-o,i=0;i<this.width;i++){var r=this.buffer.readUInt8(this.pos++),e=c*this.width*4+4*i;if(r<this.palette.length){var f=this.palette[r];this.data[e]=0,this.data[e+1]=f.blue,this.data[e+2]=f.green,this.data[e+3]=f.red}else this.data[e]=0,this.data[e+1]=255,this.data[e+2]=255,this.data[e+3]=255}0!=u&&(this.pos+=4-u)}},n.prototype.bit15=function(){for(var e=this.width%3,t,n=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,u=(a>>10&n)/n*255|0,c=a>>15?255:0,f=i*this.width*4+4*o;this.data[f]=c,this.data[f+1]=s,this.data[f+2]=l,this.data[f+3]=u}this.pos+=e}},n.prototype.bit16=function(){var e=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var t=[0,0,0],n=0;n<16;n++)this.maskRed>>n&1&&t[0]++,this.maskGreen>>n&1&&t[1]++,this.maskBlue>>n&1&&t[2]++;t[1]+=t[0],t[2]+=t[1],t[0]=8-t[0],t[1]-=8,t[2]-=8;for(var r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&this.maskBlue)<<t[0],l=(a&this.maskGreen)>>t[1],u=(a&this.maskRed)>>t[2],c=i*this.width*4+4*o;this.data[c]=0,this.data[c+1]=s,this.data[c+2]=l,this.data[c+3]=u}this.pos+=e}},n.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=t*this.width*4+4*n;this.data[a]=0,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}this.pos+=this.width%4}},n.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),s=t*this.width*4+4*n;this.data[s]=r,this.data[s+1]=i,this.data[s+2]=o,this.data[s+3]=a}}else for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),s=t*this.width*4+4*n;this.data[s]=r,this.data[s+1]=i,this.data[s+2]=o,this.data[s+3]=a}},n.prototype.getData=function(){return this.data},t.exports=function(e){var t;return new n(e)}}).call(this,e("buffer").Buffer)},{buffer:47}],31:[function(e,t,n){(function(e){function n(e){this.buffer=e.data,this.width=e.width,this.height=e.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}n.prototype.encode=function(){var t=new e(this.offset+this.rgbSize);this.pos=0,t.write(this.flag,this.pos,2),this.pos+=2,t.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,t.writeUInt32LE(this.reserved,this.pos),this.pos+=4,t.writeUInt32LE(this.offset,this.pos),this.pos+=4,t.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,t.writeUInt32LE(this.width,this.pos),this.pos+=4,t.writeInt32LE(-this.height,this.pos),this.pos+=4,t.writeUInt16LE(this.planes,this.pos),this.pos+=2,t.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,t.writeUInt32LE(this.compress,this.pos),this.pos+=4,t.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,t.writeUInt32LE(this.hr,this.pos),this.pos+=4,t.writeUInt32LE(this.vr,this.pos),this.pos+=4,t.writeUInt32LE(this.colors,this.pos),this.pos+=4,t.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var n=0,r=3*this.width+this.extraBytes,i=0;i<this.height;i++){for(var o=0;o<this.width;o++){var a=this.pos+i*r+3*o;n++,t[a]=this.buffer[n++],t[a+1]=this.buffer[n++],t[a+2]=this.buffer[n++]}if(this.extraBytes>0){var s=this.pos+i*r+3*this.width;t.fill(0,s,s+this.extraBytes)}}return t},t.exports=function(e,t){var r,i;return void 0===t&&(t=100),{data:new n(e).encode(),width:e.width,height:e.height}}}).call(this,e("buffer").Buffer)},{buffer:47}],32:[function(e,t,n){},{}],33:[function(e,t,n){(function(t,r){"use strict";var i=e("assert"),o=e("pako/lib/zlib/zstream"),a=e("pako/lib/zlib/deflate.js"),s=e("pako/lib/zlib/inflate.js"),l=e("pako/lib/zlib/constants");for(var u in l)n[u]=l[u];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7;var c=31,f=139;function h(e){if("number"!=typeof e||e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||s.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},h.prototype.write=function(e,t,n,r,i,o,a){return this._write(!0,e,t,n,r,i,o,a)},h.prototype.writeSync=function(e,t,n,r,i,o,a){return this._write(!1,e,t,n,r,i,o,a)},h.prototype._write=function(e,o,a,s,l,u,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==n.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==n.Z_NO_FLUSH&&o!==n.Z_PARTIAL_FLUSH&&o!==n.Z_SYNC_FLUSH&&o!==n.Z_FULL_FLUSH&&o!==n.Z_FINISH&&o!==n.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=r.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=u,this.strm.next_out=c,this.flush=o,!e)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return t.nextTick(function(){h._process(),h._after()}),this},h.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},h.prototype._process=function(){var e=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},h.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(e,t,r,o,a){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(t>=-1&&t<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(o===n.Z_FILTERED||o===n.Z_HUFFMAN_ONLY||o===n.Z_RLE||o===n.Z_FIXED||o===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(t,e,r,o,a),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(e,t,r,i,l){switch(this.level=e,this.windowBits=t,this.memLevel=r,this.strategy=i,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=a.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=h}).call(this,e("_process"),e("buffer").Buffer)},{_process:312,assert:24,buffer:47,"pako/lib/zlib/constants":37,"pako/lib/zlib/deflate.js":39,"pako/lib/zlib/inflate.js":41,"pako/lib/zlib/zstream":45}],34:[function(e,t,n){(function(t){"use strict";var r=e("buffer").Buffer,i=e("stream").Transform,o=e("./binding"),a=e("util"),s=e("assert").ok,l=e("buffer").kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(o),f=0;f<c.length;f++){var h=c[f];h.match(/^Z/)&&Object.defineProperty(n,h,{enumerable:!0,value:o[h],writable:!1})}for(var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},p=Object.keys(d),m=0;m<p.length;m++){var g=p[m];d[d[g]]=g}function b(e,t,n){var i=[],o=0;function a(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",a)}function s(t){e.removeListener("end",c),e.removeListener("readable",a),n(t)}function c(){var t,a=null;o>=l?a=new RangeError(u):t=r.concat(i,o),i=[],e.close(),n(a,t)}e.on("error",s),e.on("end",c),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function v(e){if(!(this instanceof v))return new v(e);O.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);O.call(this,e,o.INFLATE)}function x(e){if(!(this instanceof x))return new x(e);O.call(this,e,o.GZIP)}function _(e){if(!(this instanceof _))return new _(e);O.call(this,e,o.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);O.call(this,e,o.DEFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);O.call(this,e,o.INFLATERAW)}function C(e){if(!(this instanceof C))return new C(e);O.call(this,e,o.UNZIP)}function k(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function O(e,t){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!k(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!k(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(t);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){T(s),s._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],s.emit("error",r)};var l=n.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(l=e.level);var u=n.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,l,e.memLevel||n.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function T(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function N(e){e.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),n.Deflate=v,n.Inflate=w,n.Gzip=x,n.Gunzip=_,n.DeflateRaw=S,n.InflateRaw=E,n.Unzip=C,n.createDeflate=function(e){return new v(e)},n.createInflate=function(e){return new w(e)},n.createDeflateRaw=function(e){return new S(e)},n.createInflateRaw=function(e){return new E(e)},n.createGzip=function(e){return new x(e)},n.createGunzip=function(e){return new _(e)},n.createUnzip=function(e){return new C(e)},n.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new v(t),e,n)},n.deflateSync=function(e,t){return y(new v(t),e)},n.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new x(t),e,n)},n.gzipSync=function(e,t){return y(new x(t),e)},n.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new S(t),e,n)},n.deflateRawSync=function(e,t){return y(new S(t),e)},n.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new C(t),e,n)},n.unzipSync=function(e,t){return y(new C(t),e)},n.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new w(t),e,n)},n.inflateSync=function(e,t){return y(new w(t),e)},n.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new _(t),e,n)},n.gunzipSync=function(e,t){return y(new _(t),e)},n.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),b(new E(t),e,n)},n.inflateRawSync=function(e,t){return y(new E(t),e)},a.inherits(O,i),O.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(e,r),a._hadError||(a._level=e,a._strategy=r,i&&i())})}else t.nextTick(i)},O.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},O.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},O.prototype.flush=function(e,n){var i=this,a=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),a.ended?n&&t.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",function(){return i.flush(e,n)}):(this._flushFlag=e,this.write(r.alloc(0),"",n))},O.prototype.close=function(e){T(this,e),t.nextTick(N,this)},O.prototype._transform=function(e,t,n){var i,a=this._writableState,s,l=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||r.isBuffer(e)?this._handle?(l?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},O.prototype._processChunk=function(e,t,n){var i=e&&e.length,o=this._chunkSize-this._offset,a=0,c=this,f="function"==typeof n;if(!f){var h=[],d=0,p;this.on("error",function(e){p=e}),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw p;if(d>=l)throw T(this),new RangeError(u);var g=r.concat(h,d);return T(this),g}s(this._handle,"zlib binding closed");var b=this._handle.write(t,e,a,i,this._buffer,this._offset,o);function y(l,u){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var p=o-u;if(s(p>=0,"have should not go down"),p>0){var m=c._buffer.slice(c._offset,c._offset+p);c._offset+=p,f?c.push(m):(h.push(m),d+=m.length)}if((0===u||c._offset>=c._chunkSize)&&(o=c._chunkSize,c._offset=0,c._buffer=r.allocUnsafe(c._chunkSize)),0===u){if(a+=i-l,i=l,!f)return!0;var g=c._handle.write(t,e,a,i,c._buffer,c._offset,c._chunkSize);return g.callback=y,void(g.buffer=e)}if(!f)return!1;n()}}b.buffer=e,b.callback=y},a.inherits(v,O),a.inherits(w,O),a.inherits(x,O),a.inherits(_,O),a.inherits(S,O),a.inherits(E,O),a.inherits(C,O)}).call(this,e("_process"))},{"./binding":33,_process:312,assert:24,buffer:47,stream:334,util:365}],35:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],36:[function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}t.exports=r},{}],37:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],38:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function o(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}t.exports=o},{}],39:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./trees"),o=e("./adler32"),a=e("./crc32"),s=e("./messages"),l=0,u=1,c=3,f=4,h=5,d=0,p=1,m=-2,g=-3,b=-5,y=-1,v=1,w=2,x=3,_=4,S=0,E=2,C=8,k=9,O=15,T=8,N=29,A=256,I=286,j=30,R=19,M=2*I+1,P=15,D=3,L=258,F=L+D+1,B=32,z=42,$=69,U=73,W=91,V=103,H=113,G=666,q=1,K=2,Y=3,X=4,Z=3,J;function Q(e,t){return e.msg=s[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){for(var t=e.length;--t>=0;)e[t]=0}function ne(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function re(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ne(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function oe(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,n,i){var s=e.avail_in;return s>i&&(s=i),0===s?0:(e.avail_in-=s,r.arraySet(t,e.input,e.next_in,s,n),1===e.state.wrap?e.adler=o(e.adler,t,s,n):2===e.state.wrap&&(e.adler=a(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}function se(e,t){var n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,u=e.window,c=e.w_mask,f=e.prev,h=e.strstart+L,d=u[r+a-1],p=u[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(i=t)+a]===p&&u[i+a-1]===d&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<h);if(o=L-(h-r),r=h-L,o>a){if(e.match_start=t,a=o,o>=s)break;d=u[r+a-1],p=u[r+a]}}}while((t=f[t&c])>l&&0!=--n);return a<=e.lookahead?a:e.lookahead}function le(e){var t=e.w_size,n,i,o,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-F)){r.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=i=e.hash_size;do{o=e.head[--n],e.head[n]=o>=t?o-t:0}while(--i);n=i=t;do{o=e.prev[--n],e.prev[n]=o>=t?o-t:0}while(--i);a+=t}if(0===e.strm.avail_in)break;if(i=ae(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=D)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+D-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function ue(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(le(e),0===e.lookahead&&t===l)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,re(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-F&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):(e.strstart>e.block_start&&(re(e,!1),e.strm.avail_out),q)}function ce(e,t){for(var n,r;;){if(e.lookahead<F){if(le(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n)),e.match_length>=D)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function fe(e,t){for(var n,r,o;;){if(e.lookahead<F){if(le(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n),e.match_length<=5&&(e.strategy===v||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-D,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(re(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&re(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function he(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=L){if(le(e),e.lookahead<=L&&t===l)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+L;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=L-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=i._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function de(e,t){for(var n;;){if(0===e.lookahead&&(le(e),0===e.lookahead)){if(t===l)return q;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function pe(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function me(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=J[e.level].max_lazy,e.good_match=J[e.level].good_length,e.nice_match=J[e.level].nice_length,e.max_chain_length=J[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*M),this.dyn_dtree=new r.Buf16(2*(2*j+1)),this.bl_tree=new r.Buf16(2*(2*R+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(P+1),this.heap=new r.Buf16(2*I+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*I+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:H,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),d):Q(e,m)}function ye(e){var t=be(e);return t===d&&me(e.state),t}function ve(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,d):m}function we(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===y&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>k||n!==C||i<8||i>15||t<0||t>9||a<0||a>_)return Q(e,m);8===i&&(i=9);var l=new ge;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+D-1)/D),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,ye(e)}function xe(e,t){return we(e,t,C,O,T,S)}function _e(e,t){var n,r,o,s;if(!e||!e.state||t>h||t<0)return e?Q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===G&&t!==f)return Q(e,0===e.avail_out?b:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===z)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,r.gzhead.time>>8&255),ie(r,r.gzhead.time>>16&255),ie(r,r.gzhead.time>>24&255),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=$):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,Z),r.status=H);else{var g=C+(r.w_bits-8<<4)<<8,y=-1;g|=(y=r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=B),g+=31-g%31,r.status=H,oe(r,g),0!==r.strstart&&(oe(r,e.adler>>>16),oe(r,65535&e.adler)),e.adler=1}if(r.status===$)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending!==r.pending_buf_size));)ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ne(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,e.adler>>8&255),e.adler=0,r.status=H)):r.status=H),0!==r.pending){if(ne(e),0===e.avail_out)return r.last_flush=-1,d}else if(0===e.avail_in&&ee(t)<=ee(n)&&t!==f)return Q(e,b);if(r.status===G&&0!==e.avail_in)return Q(e,b);if(0!==e.avail_in||0!==r.lookahead||t!==l&&r.status!==G){var v=r.strategy===w?de(r,t):r.strategy===x?he(r,t):J[r.level].func(r,t);if(v!==Y&&v!==X||(r.status=G),v===q||v===Y)return 0===e.avail_out&&(r.last_flush=-1),d;if(v===K&&(t===u?i._tr_align(r):t!==h&&(i._tr_stored_block(r,0,0,!1),t===c&&(te(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ne(e),0===e.avail_out))return r.last_flush=-1,d}return t!==f?d:r.wrap<=0?p:(2===r.wrap?(ie(r,255&e.adler),ie(r,e.adler>>8&255),ie(r,e.adler>>16&255),ie(r,e.adler>>24&255),ie(r,255&e.total_in),ie(r,e.total_in>>8&255),ie(r,e.total_in>>16&255),ie(r,e.total_in>>24&255)):(oe(r,e.adler>>>16),oe(r,65535&e.adler)),ne(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?d:p)}function Se(e){var t;return e&&e.state?(t=e.state.status)!==z&&t!==$&&t!==U&&t!==W&&t!==V&&t!==H&&t!==G?Q(e,m):(e.state=null,t===H?Q(e,g):d):m}function Ee(e,t){var n=t.length,i,a,s,l,u,c,f,h;if(!e||!e.state)return m;if(2===(l=(i=e.state).wrap)||1===l&&i.status!==z||i.lookahead)return m;for(1===l&&(e.adler=o(e.adler,t,n,0)),i.wrap=0,n>=i.w_size&&(0===l&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new r.Buf8(i.w_size),r.arraySet(h,t,n-i.w_size,i.w_size,0),t=h,n=i.w_size),u=e.avail_in,c=e.next_in,f=e.input,e.avail_in=n,e.next_in=0,e.input=t,le(i);i.lookahead>=D;){a=i.strstart,s=i.lookahead-(D-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+D-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++}while(--s);i.strstart=a,i.lookahead=D-1,le(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=D-1,i.match_available=0,e.next_in=c,e.input=f,e.avail_in=u,i.wrap=l,d}J=[new pe(0,0,0,0,ue),new pe(4,4,8,4,ce),new pe(4,5,16,8,ce),new pe(4,6,32,32,ce),new pe(4,4,16,16,fe),new pe(8,16,32,32,fe),new pe(8,16,128,128,fe),new pe(8,32,128,256,fe),new pe(32,128,258,1024,fe),new pe(32,258,258,4096,fe)],n.deflateInit=xe,n.deflateInit2=we,n.deflateReset=ye,n.deflateResetKeep=be,n.deflateSetHeader=ve,n.deflate=_e,n.deflateEnd=Se,n.deflateSetDictionary=Ee,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":35,"./adler32":36,"./crc32":38,"./messages":43,"./trees":44}],40:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function e(t,n){var r,i,o,a,s,l,u,c,f,h,d,p,m,g,b,y,v,w,x,_,S,E,C,k,O;r=t.state,i=t.next_in,k=t.input,o=i+(t.avail_in-5),a=t.next_out,O=t.output,s=a-(n-t.avail_out),l=a+(t.avail_out-257),u=r.dmax,c=r.wsize,f=r.whave,h=r.wnext,d=r.window,p=r.hold,m=r.bits,g=r.lencode,b=r.distcode,y=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{m<15&&(p+=k[i++]<<m,m+=8,p+=k[i++]<<m,m+=8),w=g[p&y];t:for(;;){if(p>>>=x=w>>>24,m-=x,0===(x=w>>>16&255))O[a++]=65535&w;else{if(!(16&x)){if(0==(64&x)){w=g[(65535&w)+(p&(1<<x)-1)];continue t}if(32&x){r.mode=12;break e}t.msg="invalid literal/length code",r.mode=30;break e}_=65535&w,(x&=15)&&(m<x&&(p+=k[i++]<<m,m+=8),_+=p&(1<<x)-1,p>>>=x,m-=x),m<15&&(p+=k[i++]<<m,m+=8,p+=k[i++]<<m,m+=8),w=b[p&v];n:for(;;){if(p>>>=x=w>>>24,m-=x,!(16&(x=w>>>16&255))){if(0==(64&x)){w=b[(65535&w)+(p&(1<<x)-1)];continue n}t.msg="invalid distance code",r.mode=30;break e}if(S=65535&w,m<(x&=15)&&(p+=k[i++]<<m,(m+=8)<x&&(p+=k[i++]<<m,m+=8)),(S+=p&(1<<x)-1)>u){t.msg="invalid distance too far back",r.mode=30;break e}if(p>>>=x,m-=x,S>(x=a-s)){if((x=S-x)>f&&r.sane){t.msg="invalid distance too far back",r.mode=30;break e}if(E=0,C=d,0===h){if(E+=c-x,x<_){_-=x;do{O[a++]=d[E++]}while(--x);E=a-S,C=O}}else if(h<x){if(E+=c+h-x,(x-=h)<_){_-=x;do{O[a++]=d[E++]}while(--x);if(E=0,h<_){_-=x=h;do{O[a++]=d[E++]}while(--x);E=a-S,C=O}}}else if(E+=h-x,x<_){_-=x;do{O[a++]=d[E++]}while(--x);E=a-S,C=O}for(;_>2;)O[a++]=C[E++],O[a++]=C[E++],O[a++]=C[E++],_-=3;_&&(O[a++]=C[E++],_>1&&(O[a++]=C[E++]))}else{E=a-S;do{O[a++]=O[E++],O[a++]=O[E++],O[a++]=O[E++],_-=3}while(_>2);_&&(O[a++]=O[E++],_>1&&(O[a++]=O[E++]))}break}}break}}while(i<o&&a<l);i-=_=m>>3,p&=(1<<(m-=_<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=a<l?l-a+257:257-(a-l),r.hold=p,r.bits=m}},{}],41:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=0,u=1,c=2,f=4,h=5,d=6,p=0,m=1,g=2,b=-2,y=-3,v=-4,w=-5,x=8,_=1,S=2,E=3,C=4,k=5,O=6,T=7,N=8,A=9,I=10,j=11,R=12,M=13,P=14,D=15,L=16,F=17,B=18,z=19,$=20,U=21,W=22,V=23,H=24,G=25,q=26,K=27,Y=28,X=29,Z=30,J=31,Q=32,ee=852,te=592,ne=15,re=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=_,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):b}function se(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):b}function le(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?b:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,se(e))):b}function ue(e,t){var n,r;return e?(r=new oe,e.state=r,r.window=null,(n=le(e,t))!==p&&(e.state=null),n):b}function ce(e){return ue(e,re)}var fe=!0,he,de;function pe(e){if(fe){var t;for(he=new r.Buf32(512),de=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,he,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,de,0,e.work,{bits:5}),fe=!1}e.lencode=he,e.lenbits=9,e.distcode=de,e.distbits=5}function me(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}function ge(e,t){var n,ee,te,ne,re,oe,ae,se,le,ue,ce,fe,he,de,ge=0,be,ye,ve,we,xe,_e,Se,Ee,Ce=new r.Buf8(4),ke,Oe,Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(n=e.state).mode===R&&(n.mode=M),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,ue=oe,ce=ae,Ee=p;e:for(;;)switch(n.mode){case _:if(0===n.wrap){n.mode=M;break}for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Ce[0]=255&se,Ce[1]=se>>>8&255,n.check=o(n.check,Ce,2,0),se=0,le=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=Z;break}if((15&se)!==x){e.msg="unknown compression method",n.mode=Z;break}if(le-=4,Se=8+(15&(se>>>=4)),0===n.wbits)n.wbits=Se;else if(Se>n.wbits){e.msg="invalid window size",n.mode=Z;break}n.dmax=1<<Se,e.adler=n.check=1,n.mode=512&se?I:R,se=0,le=0;break;case S:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,n.check=o(n.check,Ce,2,0)),se=0,le=0,n.mode=E;case E:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,Ce[2]=se>>>16&255,Ce[3]=se>>>24&255,n.check=o(n.check,Ce,4,0)),se=0,le=0,n.mode=C;case C:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,n.check=o(n.check,Ce,2,0)),se=0,le=0,n.mode=k;case k:if(1024&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Ce[0]=255&se,Ce[1]=se>>>8&255,n.check=o(n.check,Ce,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=O;case O:if(1024&n.flags&&((fe=n.length)>oe&&(fe=oe),fe&&(n.head&&(Se=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,fe,Se)),512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,n.length-=fe),n.length))break e;n.length=0,n.mode=T;case T:if(2048&n.flags){if(0===oe)break e;fe=0;do{Se=ee[ne+fe++],n.head&&Se&&n.length<65536&&(n.head.name+=String.fromCharCode(Se))}while(Se&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,Se)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=N;case N:if(4096&n.flags){if(0===oe)break e;fe=0;do{Se=ee[ne+fe++],n.head&&Se&&n.length<65536&&(n.head.comment+=String.fromCharCode(Se))}while(Se&&fe<oe);if(512&n.flags&&(n.check=o(n.check,ee,fe,ne)),oe-=fe,ne+=fe,Se)break e}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Z;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=R;break;case I:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(se),se=0,le=0,n.mode=j;case j:if(0===n.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,g;e.adler=n.check=1,n.mode=R;case R:if(t===h||t===d)break e;case M:if(n.last){se>>>=7&le,le-=7&le,n.mode=K;break}for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=P;break;case 1:if(pe(n),n.mode=$,t===d){se>>>=2,le-=2;break e}break;case 2:n.mode=F;break;case 3:e.msg="invalid block type",n.mode=Z}se>>>=2,le-=2;break;case P:for(se>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&se,se=0,le=0,n.mode=D,t===d)break e;case D:n.mode=L;case L:if(fe=n.length){if(fe>oe&&(fe=oe),fe>ae&&(fe=ae),0===fe)break e;r.arraySet(te,ee,ne,fe,re),oe-=fe,ne+=fe,ae-=fe,re+=fe,n.length-=fe;break}n.mode=R;break;case F:for(;le<14;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.lens[Te[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ke={bits:n.lenbits},Ee=s(l,n.lens,0,19,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ee){e.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;ye=(ge=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&ge,!((be=ge>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ve<16)se>>>=be,le-=be,n.lens[n.have++]=ve;else{if(16===ve){for(Oe=be+2;le<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se>>>=be,le-=be,0===n.have){e.msg="invalid bit length repeat",n.mode=Z;break}Se=n.lens[n.have-1],fe=3+(3&se),se>>>=2,le-=2}else if(17===ve){for(Oe=be+3;le<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=be,Se=0,fe=3+(7&(se>>>=be)),se>>>=3,le-=3}else{for(Oe=be+7;le<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=be,Se=0,fe=11+(127&(se>>>=be)),se>>>=7,le-=7}if(n.have+fe>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Z;break}for(;fe--;)n.lens[n.have++]=Se}}if(n.mode===Z)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,ke={bits:n.lenbits},Ee=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,ke),n.lenbits=ke.bits,Ee){e.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,ke={bits:n.distbits},Ee=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ke),n.distbits=ke.bits,Ee){e.msg="invalid distances set",n.mode=Z;break}if(n.mode=$,t===d)break e;case $:n.mode=U;case U:if(oe>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,a(e,ce),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,n.mode===R&&(n.back=-1);break}for(n.back=0;ye=(ge=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&ge,!((be=ge>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ye&&0==(240&ye)){for(we=be,xe=ye,_e=ve;ye=(ge=n.lencode[_e+((se&(1<<we+xe)-1)>>we)])>>>16&255,ve=65535&ge,!(we+(be=ge>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=we,le-=we,n.back+=we}if(se>>>=be,le-=be,n.back+=be,n.length=ve,0===ye){n.mode=q;break}if(32&ye){n.back=-1,n.mode=R;break}if(64&ye){e.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&ye,n.mode=W;case W:if(n.extra){for(Oe=n.extra;le<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;ye=(ge=n.distcode[se&(1<<n.distbits)-1])>>>16&255,ve=65535&ge,!((be=ge>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(0==(240&ye)){for(we=be,xe=ye,_e=ve;ye=(ge=n.distcode[_e+((se&(1<<we+xe)-1)>>we)])>>>16&255,ve=65535&ge,!(we+(be=ge>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=we,le-=we,n.back+=we}if(se>>>=be,le-=be,n.back+=be,64&ye){e.msg="invalid distance code",n.mode=Z;break}n.offset=ve,n.extra=15&ye,n.mode=H;case H:if(n.extra){for(Oe=n.extra;le<Oe;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Z;break}n.mode=G;case G:if(0===ae)break e;if(fe=ce-ae,n.offset>fe){if((fe=n.offset-fe)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Z;break}fe>n.wnext?(fe-=n.wnext,he=n.wsize-fe):he=n.wnext-fe,fe>n.length&&(fe=n.length),de=n.window}else de=te,he=re-n.offset,fe=n.length;fe>ae&&(fe=ae),ae-=fe,n.length-=fe;do{te[re++]=de[he++]}while(--fe);0===n.length&&(n.mode=U);break;case q:if(0===ae)break e;te[re++]=n.length,ae--,n.mode=U;break;case K:if(n.wrap){for(;le<32;){if(0===oe)break e;oe--,se|=ee[ne++]<<le,le+=8}if(ce-=ae,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?o(n.check,te,ce,re-ce):i(n.check,te,ce,re-ce)),ce=ae,(n.flags?se:ie(se))!==n.check){e.msg="incorrect data check",n.mode=Z;break}se=0,le=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Z;break}se=0,le=0}n.mode=X;case X:Ee=m;break e;case Z:Ee=y;break e;case J:return v;case Q:default:return b}return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,(n.wsize||ce!==e.avail_out&&n.mode<Z&&(n.mode<K||t!==f))&&me(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=J,v):(ue-=e.avail_in,ce-=e.avail_out,e.total_in+=ue,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?o(n.check,te,ce,e.next_out-ce):i(n.check,te,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===R?128:0)+(n.mode===$||n.mode===D?256:0),(0===ue&&0===ce||t===f)&&Ee===p&&(Ee=w),Ee)}function be(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,p}function ye(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?b:(n.head=t,t.done=!1,p):b}function ve(e,t){var n=t.length,r,o,a;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==j?b:r.mode===j&&(o=i(o=1,t,n,0))!==r.check?y:(a=me(e,t,n,n))?(r.mode=J,v):(r.havedict=1,p):b}n.inflateReset=se,n.inflateReset2=le,n.inflateResetKeep=ae,n.inflateInit=ce,n.inflateInit2=ue,n.inflate=ge,n.inflateEnd=be,n.inflateGetHeader=ye,n.inflateSetDictionary=ve,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":35,"./adler32":36,"./crc32":38,"./inffast":40,"./inftrees":42}],42:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function e(t,n,i,o,a,s,l,u){var p=u.bits,m=0,g=0,b=0,y=0,v=0,w=0,x=0,_=0,S=0,E=0,C,k,O,T,N,A=null,I=0,j,R=new r.Buf16(16),M=new r.Buf16(16),P=null,D=0,L,F,B;for(m=0;m<=15;m++)R[m]=0;for(g=0;g<o;g++)R[n[i+g]]++;for(v=p,y=15;y>=1&&0===R[y];y--);if(v>y&&(v=y),0===y)return a[s++]=20971520,a[s++]=20971520,u.bits=1,0;for(b=1;b<y&&0===R[b];b++);for(v<b&&(v=b),_=1,m=1;m<=15;m++)if(_<<=1,(_-=R[m])<0)return-1;if(_>0&&(0===t||1!==y))return-1;for(M[1]=0,m=1;m<15;m++)M[m+1]=M[m]+R[m];for(g=0;g<o;g++)0!==n[i+g]&&(l[M[n[i+g]]++]=g);if(0===t?(A=P=l,j=19):1===t?(A=c,I-=257,P=f,D-=257,j=256):(A=h,P=d,j=-1),E=0,g=0,m=b,N=s,w=v,x=0,O=-1,T=(S=1<<v)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){L=m-x,l[g]<j?(F=0,B=l[g]):l[g]>j?(F=P[D+l[g]],B=A[I+l[g]]):(F=96,B=0),C=1<<m-x,b=k=1<<w;do{a[N+(E>>x)+(k-=C)]=L<<24|F<<16|B|0}while(0!==k);for(C=1<<m-1;E&C;)C>>=1;if(0!==C?(E&=C-1,E+=C):E=0,g++,0==--R[m]){if(m===y)break;m=n[i+l[g]]}if(m>v&&(E&T)!==O){for(0===x&&(x=v),N+=b,_=1<<(w=m-x);w+x<y&&!((_-=R[w+x])<=0);)w++,_<<=1;if(S+=1<<w,1===t&&S>852||2===t&&S>592)return 1;a[O=E&T]=v<<24|w<<16|N-s|0}}return 0!==E&&(a[N+E]=m-x<<24|64<<16|0),u.bits=v,0}},{"../utils/common":35}],43:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],44:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var u=0,c=1,f=2,h=3,d=258,p=29,m=256,g=m+1+p,b=30,y=19,v=2*g+1,w=15,x=16,_=7,S=256,E=16,C=17,k=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,j=new Array(2*(g+2));l(j);var R=new Array(2*b);l(R);var M=new Array(512);l(M);var P=new Array(256);l(P);var D=new Array(p);l(D);var L=new Array(b),F,B,z;function $(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function W(e){return e<256?M[e]:M[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function G(e,t,n){H(e,n[2*t],n[2*t+1])}function q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function K(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length,u,c,f,h,d,p,m=0;for(h=0;h<=w;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<v;u++)(h=n[2*n[2*(c=e.heap[u])+1]+1]+1)>l&&(h=l,m++),n[2*c+1]=h,c>r||(e.bl_count[h]++,d=0,c>=s&&(d=a[c-s]),p=n[2*c],e.opt_len+=p*(h+d),o&&(e.static_len+=p*(i[2*c+1]+d)));if(0!==m){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(c=e.bl_count[h];0!==c;)(f=e.heap[--u])>r||(n[2*f+1]!==h&&(e.opt_len+=(h-n[2*f+1])*n[2*f],n[2*f+1]=h),c--)}}function X(e,t,n){var r=new Array(w+1),i=0,o,a;for(o=1;o<=w;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=q(r[s]++,s))}}function Z(){var e,t,n,r,i,o=new Array(w+1);for(n=0,r=0;r<p-1;r++)for(D[r]=n,e=0;e<1<<O[r];e++)P[n++]=r;for(P[n-1]=r,i=0,r=0;r<16;r++)for(L[r]=i,e=0;e<1<<T[r];e++)M[i++]=r;for(i>>=7;r<b;r++)for(L[r]=i<<7,e=0;e<1<<T[r]-7;e++)M[256+i++]=r;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)j[2*e+1]=8,e++,o[8]++;for(;e<=255;)j[2*e+1]=9,e++,o[9]++;for(;e<=279;)j[2*e+1]=7,e++,o[7]++;for(;e<=287;)j[2*e+1]=8,e++,o[8]++;for(X(j,g+1,o),e=0;e<b;e++)R[2*e+1]=5,R[2*e]=q(e,5);F=new $(j,O,m+1,g,w),B=new $(R,T,0,b,w),z=new $(new Array(0),N,0,y,_)}function J(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<b;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){Q(e),i&&(V(e,n),V(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o=0,a,s;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?G(e,i,t):(G(e,(a=P[i])+m+1,t),0!==(s=O[a])&&H(e,i-=D[a],s),G(e,a=W(--r),n),0!==(s=T[a])&&H(e,r-=L[a],s))}while(o<e.last_lit);G(e,S,t)}function ie(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,l=-1,u;for(e.heap_len=0,e.heap_max=v,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)n[2*(u=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[2*u+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)ne(e,n,a);u=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*u]=n[2*a]+n[2*s],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=u,e.heap[1]=u++,ne(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),X(n,l,e.bl_count)}function oe(e,t,n){var r,i=-1,o,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*C]++:e.bl_tree[2*k]++,s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))}function ae(e,t,n){var r,i=-1,o,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<u)do{G(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(G(e,o,e.bl_tree),s--),G(e,E,e.bl_tree),H(e,s-3,2)):s<=10?(G(e,C,e.bl_tree),H(e,s-3,3)):(G(e,k,e.bl_tree),H(e,s-11,7));s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(H(e,t-257,5),H(e,n-1,5),H(e,r-4,4),i=0;i<r;i++)H(e,e.bl_tree[2*A[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function ue(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(n=32;n<m;n++)if(0!==e.dyn_ltree[2*n])return a;return o}l(L);var ce=!1;function fe(e){ce||(Z(),ce=!0),e.l_desc=new U(e.dyn_ltree,F),e.d_desc=new U(e.dyn_dtree,B),e.bl_desc=new U(e.bl_tree,z),e.bi_buf=0,e.bi_valid=0,J(e)}function he(e,t,n,r){H(e,(u<<1)+(r?1:0),3),ee(e,t,n,!0)}function de(e){H(e,c<<1,3),G(e,S,j),K(e)}function pe(e,t,n,r){var o,a,l=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ue(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?he(e,t,n,r):e.strategy===i||a===o?(H(e,(c<<1)+(r?1:0),3),re(e,j,R)):(H(e,(f<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&Q(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+m+1)]++,e.dyn_dtree[2*W(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=fe,n._tr_stored_block=he,n._tr_flush_block=pe,n._tr_tally=me,n._tr_align=de},{"../utils/common":35}],45:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],46:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],47:[function(e,t,n){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=t,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function l(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,t.prototype),n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,n)}function u(e,n,r){if("string"==typeof e)return d(e,n);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return m(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,n,r);var o=g(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e,t,n){return c(e),e<=0?l(e):void 0!==t?"string"==typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}function h(e){return c(e),l(e<0?0:0|b(e))}function d(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|v(e,n),i=l(r),o=i.write(e,n);return o!==r&&(i=i.slice(0,o)),i}function p(e){for(var t=e.length<0?0:0|b(e.length),n=l(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function m(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Object.setPrototypeOf(i,t.prototype),i}function g(e){if(t.isBuffer(e)){var n=0|b(e.length),r=l(n);return 0===r.length?r:(e.copy(r,0,0,n),r)}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?l(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}function b(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),t.alloc(+e)}function v(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(o)return i?-1:H(e).length;n=(""+n).toLowerCase(),o=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:S(e,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):S(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,i){var o=1,a=e.length,s=t.length,l;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(l=n;l<a;l++)if(u(e,l)===u(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===s)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+s>a&&(n=a-s),l=n;l>=0;l--){for(var f=!0,h=0;h<s;h++)if(u(e,l+h)!==u(t,h)){f=!1;break}if(f)return l}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(Z(s))return a;e[n+a]=s}return a}function C(e,t,n,r){return Y(H(t,e.length-n),e,n,r)}function k(e,t,n,r){return Y(G(t),e,n,r)}function O(e,t,n,r){return k(e,t,n,r)}function T(e,t,n,r){return Y(K(t),e,n,r)}function N(e,t,n,r){return Y(q(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1,l,u,c,f;if(i+s<=n)switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(l=e[i+1]))&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return R(r)}n.kMaxLength=a,t.TYPED_ARRAY_SUPPORT=s(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,n){return f(e,t,n)},t.allocUnsafe=function(e){return h(e)},t.allocUnsafeSlow=function(e){return h(e)},t.isBuffer=function e(n){return null!=n&&!0===n._isBuffer&&n!==t.prototype},t.compare=function e(n,r){if(X(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),X(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(n)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===r)return 0;for(var i=n.length,o=r.length,a=0,s=Math.min(i,o);a<s;++a)if(n[a]!==r[a]){i=n[a],o=r[a];break}return i<o?-1:o<i?1:0},t.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function e(n,r){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return t.alloc(0);var i;if(void 0===r)for(r=0,i=0;i<n.length;++i)r+=n[i].length;var o=t.allocUnsafe(r),a=0;for(i=0;i<n.length;++i){var s=n[i];if(X(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,a),a+=s.length}return o},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function e(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)x(this,n,n+1);return this},t.prototype.swap32=function e(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)x(this,n,n+3),x(this,n+1,n+2);return this},t.prototype.swap64=function e(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)x(this,n,n+7),x(this,n+1,n+6),x(this,n+2,n+5),x(this,n+3,n+4);return this},t.prototype.toString=function e(){var t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):w.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function e(n){if(!t.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===t.compare(this,n)},t.prototype.inspect=function e(){var t="",r=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function e(n,r,i,o,a){if(X(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===r&&(r=0),void 0===i&&(i=n?n.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),r<0||i>n.length||o<0||a>this.length)throw new RangeError("out of range index");if(o>=a&&r>=i)return 0;if(o>=a)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,o>>>=0,a>>>=0,this===n)return 0;for(var s=a-o,l=i-r,u=Math.min(s,l),c=this.slice(o,a),f=n.slice(r,i),h=0;h<u;++h)if(c[h]!==f[h]){s=c[h],l=f[h];break}return s<l?-1:l<s?1:0},t.prototype.includes=function e(t,n,r){return-1!==this.indexOf(t,n,r)},t.prototype.indexOf=function e(t,n,r){return _(this,t,n,r,!0)},t.prototype.lastIndexOf=function e(t,n,r){return _(this,t,n,r,!1)},t.prototype.write=function e(t,n,r,i){if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)i=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return E(this,t,n,r);case"utf8":case"utf-8":return C(this,t,n,r);case"ascii":return k(this,t,n,r);case"latin1":case"binary":return O(this,t,n,r);case"base64":return T(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},t.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function R(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=J[e[o]];return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,o){return t=+t,n>>>=0,o||z(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return t=+t,n>>>=0,o||z(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,n,r,52,8),n+8}t.prototype.slice=function e(n,r){var i=this.length;n=~~n,r=void 0===r?i:~~r,n<0?(n+=i)<0&&(n=0):n>i&&(n=i),r<0?(r+=i)<0&&(r=0):r>i&&(r=i),r<n&&(r=n);var o=this.subarray(n,r);return Object.setPrototypeOf(o,t.prototype),o},t.prototype.readUIntLE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i},t.prototype.readUIntBE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=this[t+--n],o=1;n>0&&(o*=256);)i+=this[t+--n]*o;return i},t.prototype.readUInt8=function e(t,n){return t>>>=0,n||F(t,1,this.length),this[t]},t.prototype.readUInt16LE=function e(t,n){return t>>>=0,n||F(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function e(t,n){return t>>>=0,n||F(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function e(t,n){return t>>>=0,n||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function e(t,n){return t>>>=0,n||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},t.prototype.readIntBE=function e(t,n,r){t>>>=0,n>>>=0,r||F(t,n,this.length);for(var i=n,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*n)),a},t.prototype.readInt8=function e(t,n){return t>>>=0,n||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function e(t,n){t>>>=0,n||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function e(t,n){t>>>=0,n||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function e(t,n){return t>>>=0,n||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function e(t,n){return t>>>=0,n||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function e(t,n){return t>>>=0,n||F(t,4,this.length),i.read(this,t,!0,23,4)},t.prototype.readFloatBE=function e(t,n){return t>>>=0,n||F(t,4,this.length),i.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function e(t,n){return t>>>=0,n||F(t,8,this.length),i.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function e(t,n){return t>>>=0,n||F(t,8,this.length),i.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function e(t,n,r,i){var o;(t=+t,n>>>=0,r>>>=0,i)||B(this,t,n,r,Math.pow(2,8*r)-1,0);var a=1,s=0;for(this[n]=255&t;++s<r&&(a*=256);)this[n+s]=t/a&255;return n+r},t.prototype.writeUIntBE=function e(t,n,r,i){var o;(t=+t,n>>>=0,r>>>=0,i)||B(this,t,n,r,Math.pow(2,8*r)-1,0);var a=r-1,s=1;for(this[n+a]=255&t;--a>=0&&(s*=256);)this[n+a]=t/s&255;return n+r},t.prototype.writeUInt8=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,1,255,0),this[n]=255&t,n+1},t.prototype.writeUInt16LE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},t.prototype.writeUInt16BE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},t.prototype.writeUInt32LE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},t.prototype.writeUInt32BE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},t.prototype.writeIntLE=function e(t,n,r,i){if(t=+t,n>>>=0,!i){var o=Math.pow(2,8*r-1);B(this,t,n,r,o-1,-o)}var a=0,s=1,l=0;for(this[n]=255&t;++a<r&&(s*=256);)t<0&&0===l&&0!==this[n+a-1]&&(l=1),this[n+a]=(t/s>>0)-l&255;return n+r},t.prototype.writeIntBE=function e(t,n,r,i){if(t=+t,n>>>=0,!i){var o=Math.pow(2,8*r-1);B(this,t,n,r,o-1,-o)}var a=r-1,s=1,l=0;for(this[n+a]=255&t;--a>=0&&(s*=256);)t<0&&0===l&&0!==this[n+a+1]&&(l=1),this[n+a]=(t/s>>0)-l&255;return n+r},t.prototype.writeInt8=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},t.prototype.writeInt16LE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},t.prototype.writeInt16BE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},t.prototype.writeInt32LE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},t.prototype.writeInt32BE=function e(t,n,r){return t=+t,n>>>=0,r||B(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},t.prototype.writeFloatLE=function e(t,n,r){return $(this,t,n,!0,r)},t.prototype.writeFloatBE=function e(t,n,r){return $(this,t,n,!1,r)},t.prototype.writeDoubleLE=function e(t,n,r){return U(this,t,n,!0,r)},t.prototype.writeDoubleBE=function e(t,n,r){return U(this,t,n,!1,r)},t.prototype.copy=function e(n,r,i,o){if(!t.isBuffer(n))throw new TypeError("argument should be a Buffer");if(i||(i=0),o||0===o||(o=this.length),r>=n.length&&(r=n.length),r||(r=0),o>0&&o<i&&(o=i),o===i)return 0;if(0===n.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),n.length-r<o-i&&(o=n.length-r+i);var a=o-i;if(this===n&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,i,o);else if(this===n&&i<r&&r<o)for(var s=a-1;s>=0;--s)n[s+r]=this[s+i];else Uint8Array.prototype.set.call(n,this.subarray(i,o),r);return a},t.prototype.fill=function e(n,r,i,o){if("string"==typeof n){if("string"==typeof r?(o=r,r=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===n.length){var a=n.charCodeAt(0);("utf8"===o&&a<128||"latin1"===o)&&(n=a)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;var s;if(r>>>=0,i=void 0===i?this.length:i>>>0,n||(n=0),"number"==typeof n)for(s=r;s<i;++s)this[s]=n;else{var l=t.isBuffer(n)?n:t.from(n,o),u=l.length;if(0===u)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(s=0;s<i-r;++s)this[s+r]=l[s%u]}return this};var W=/[^+/0-9A-Za-z-_]/g;function V(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function K(e){return r.toByteArray(V(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}var J=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()}).call(this,e("buffer").Buffer)},{"base64-js":28,buffer:47,ieee754:253}],48:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},{buffer:47}],49:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],50:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],51:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},{"../internals/is-object":105}],52:[function(e,t,n){var r=e("../internals/well-known-symbol"),i=e("../internals/object-create"),o=e("../internals/create-non-enumerable-property"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o(s,a,i(null)),t.exports=function(e){s[a][e]=!0}},{"../internals/create-non-enumerable-property":76,"../internals/object-create":118,"../internals/well-known-symbol":169}],53:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt;t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{"../internals/string-multibyte":151}],54:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},{}],55:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":105}],56:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/global"),o=e("../internals/is-object"),a=e("../internals/has"),s=e("../internals/classof"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/redefine"),c=e("../internals/object-define-property").f,f=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/well-known-symbol"),p=e("../internals/uid"),m=i.DataView,g=m&&m.prototype,b=i.Int8Array,y=b&&b.prototype,v=i.Uint8ClampedArray,w=v&&v.prototype,x=b&&f(b),_=y&&f(y),S=Object.prototype,E=S.isPrototypeOf,C=d("toStringTag"),k=p("TYPED_ARRAY_TAG"),O=!(!i.ArrayBuffer||!m),T=O&&!!h&&"Opera"!==s(i.opera),N=!1,A,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j=function e(t){var n=s(t);return"DataView"===n||a(I,n)},R=function(e){return o(e)&&a(I,s(e))},M=function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},P=function(e){if(h){if(E.call(x,e))return e}else for(var t in I)if(a(I,A)){var n=i[t];if(n&&(e===n||E.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},D=function(e,t,n){if(r){if(n)for(var o in I){var s=i[o];s&&a(s.prototype,e)&&delete s.prototype[e]}_[e]&&!n||u(_,e,n?t:T&&y[e]||t)}},L=function(e,t,n){var o,s;if(r){if(h){if(n)for(o in I)(s=i[o])&&a(s,e)&&delete s[e];if(x[e]&&!n)return;try{return u(x,e,n?t:T&&b[e]||t)}catch(e){}}for(o in I)!(s=i[o])||s[e]&&!n||u(s,e,t)}};for(A in I)i[A]||(T=!1);if((!T||"function"!=typeof x||x===Function.prototype)&&(x=function e(){throw TypeError("Incorrect invocation")},T))for(A in I)i[A]&&h(i[A],x);if((!T||!_||_===S)&&(_=x.prototype,T))for(A in I)i[A]&&h(i[A].prototype,_);if(T&&f(w)!==_&&h(w,_),r&&!a(_,C))for(A in N=!0,c(_,C,{get:function(){return o(this)?this[k]:void 0}}),I)i[A]&&l(i[A],k,A);O&&h&&f(g)!==S&&h(g,S),t.exports={NATIVE_ARRAY_BUFFER:O,NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:N&&k,aTypedArray:M,aTypedArrayConstructor:P,exportProto:D,exportStatic:L,isView:j,isTypedArray:R,TypedArray:x,TypedArrayPrototype:_}},{"../internals/classof":71,"../internals/create-non-enumerable-property":76,"../internals/descriptors":81,"../internals/global":92,"../internals/has":93,"../internals/is-object":105,"../internals/object-define-property":120,"../internals/object-get-prototype-of":125,"../internals/object-set-prototype-of":129,"../internals/redefine":138,"../internals/uid":166,"../internals/well-known-symbol":169}],57:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/descriptors"),o=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER,a=e("../internals/create-non-enumerable-property"),s=e("../internals/redefine-all"),l=e("../internals/fails"),u=e("../internals/an-instance"),c=e("../internals/to-integer"),f=e("../internals/to-length"),h=e("../internals/to-index"),d=e("../internals/object-get-own-property-names").f,p=e("../internals/object-define-property").f,m=e("../internals/array-fill"),g=e("../internals/set-to-string-tag"),b=e("../internals/internal-state"),y=b.get,v=b.set,w="ArrayBuffer",x="DataView",_="prototype",S="Wrong length",E="Wrong index",C=r.ArrayBuffer,k=C,O=r.DataView,T=r.Math,N=r.RangeError,A=1/0,I=T.abs,j=T.pow,R=T.floor,M=T.log,P=T.LN2,D=function(e,t,n){var r=new Array(n),i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=23===t?j(2,-24)-j(2,-77):0,l=e<0||0===e&&1/e<0?1:0,u=0,c,f,h;for((e=I(e))!=e||e===1/0?(f=e!=e?1:0,c=o):(c=R(M(e)/P),e*(h=j(2,-c))<1&&(c--,h*=2),(e+=c+a>=1?s/h:s*j(2,1-a))*h>=2&&(c++,h/=2),c+a>=o?(f=0,c=o):c+a>=1?(f=(e*h-1)*j(2,t),c+=a):(f=e*j(2,a-1)*j(2,t),c=0));t>=8;r[u++]=255&f,f/=256,t-=8);for(c=c<<t|f,i+=t;i>0;r[u++]=255&c,c/=256,i-=8);return r[--u]|=128*l,r},L=function(e,t){var n=e.length,r=8*n-t-1,i=(1<<r)-1,o=i>>1,a=r-7,s=n-1,l=e[s--],u=127&l,c;for(l>>=7;a>0;u=256*u+e[s],s--,a-=8);for(c=u&(1<<-a)-1,u>>=-a,a+=t;a>0;c=256*c+e[s],s--,a-=8);if(0===u)u=1-o;else{if(u===i)return c?NaN:l?-1/0:1/0;c+=j(2,t),u-=o}return(l?-1:1)*c*j(2,u-t)},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},B=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},$=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},U=function(e){return D(e,23,4)},W=function(e){return D(e,52,8)},V=function(e,t){p(e.prototype,t,{get:function(){return y(this)[t]}})},H=function(e,t,n,r){var i,o=h(+n),a=y(e);if(o+t>a.byteLength)throw N(E);var s=y(a.buffer).bytes,l=o+a.byteOffset,u=s.slice(l,l+t);return r?u:u.reverse()},G=function(e,t,n,r,i,o){var a,s=h(+n),l=y(e);if(s+t>l.byteLength)throw N(E);for(var u=y(l.buffer).bytes,c=s+l.byteOffset,f=r(+i),d=0;d<t;d++)u[c+d]=f[o?d:t-d-1]};if(o){if(!l(function(){C(1)})||!l(function(){new C(-1)})||l(function(){return new C,new C(1.5),new C(NaN),C.name!=w})){for(var q=(k=function e(t){return u(this,k),new C(h(t))}).prototype=C.prototype,K=d(C),Y=0,X;K.length>Y;)(X=K[Y++])in k||a(k,X,C[X]);q.constructor=k}var Z=new O(new k(2)),J=O.prototype.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||s(O.prototype,{setInt8:function e(t,n){J.call(this,t,n<<24>>24)},setUint8:function e(t,n){J.call(this,t,n<<24>>24)}},{unsafe:!0})}else k=function e(t){u(this,k,w);var n=h(t);v(this,{bytes:m.call(new Array(n),0),byteLength:n}),i||(this.byteLength=n)},O=function e(t,n,r){u(this,O,x),u(t,k,x);var o=y(t).byteLength,a=c(n);if(a<0||a>o)throw N("Wrong offset");if(a+(r=void 0===r?o-a:f(r))>o)throw N(S);v(this,{buffer:t,byteLength:r,byteOffset:a}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=a)},i&&(V(k,"byteLength"),V(O,"buffer"),V(O,"byteLength"),V(O,"byteOffset")),s(O.prototype,{getInt8:function e(t){return H(this,1,t)[0]<<24>>24},getUint8:function e(t){return H(this,1,t)[0]},getInt16:function e(t){var n=H(this,2,t,arguments.length>1?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function e(t){var n=H(this,2,t,arguments.length>1?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function e(t){return F(H(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function e(t){return F(H(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function e(t){return L(H(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function e(t){return L(H(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function e(t,n){G(this,1,t,B,n)},setUint8:function e(t,n){G(this,1,t,B,n)},setInt16:function e(t,n){G(this,2,t,z,n,arguments.length>2?arguments[2]:void 0)},setUint16:function e(t,n){G(this,2,t,z,n,arguments.length>2?arguments[2]:void 0)},setInt32:function e(t,n){G(this,4,t,$,n,arguments.length>2?arguments[2]:void 0)},setUint32:function e(t,n){G(this,4,t,$,n,arguments.length>2?arguments[2]:void 0)},setFloat32:function e(t,n){G(this,4,t,U,n,arguments.length>2?arguments[2]:void 0)},setFloat64:function e(t,n){G(this,8,t,W,n,arguments.length>2?arguments[2]:void 0)}});g(k,w),g(O,x),t.exports={ArrayBuffer:k,DataView:O}},{"../internals/an-instance":54,"../internals/array-buffer-view-core":56,"../internals/array-fill":59,"../internals/create-non-enumerable-property":76,"../internals/descriptors":81,"../internals/fails":86,"../internals/global":92,"../internals/internal-state":100,"../internals/object-define-property":120,"../internals/object-get-own-property-names":123,"../internals/redefine-all":137,"../internals/set-to-string-tag":145,"../internals/to-index":155,"../internals/to-integer":157,"../internals/to-length":158}],58:[function(e,t,n){"use strict";var r=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length"),a=Math.min;t.exports=[].copyWithin||function e(t,n){var s=r(this),l=o(s.length),u=i(t,l),c=i(n,l),f=arguments.length>2?arguments[2]:void 0,h=a((void 0===f?l:i(f,l))-c,l-u),d=1;for(c<u&&u<c+h&&(d=-1,c+=h-1,u+=h-1);h-- >0;)c in s?s[u]=s[c]:delete s[u],u+=d,c+=d;return s}},{"../internals/to-absolute-index":154,"../internals/to-length":158,"../internals/to-object":159}],59:[function(e,t,n){"use strict";var r=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length");t.exports=function e(t){for(var n=r(this),a=o(n.length),s=arguments.length,l=i(s>1?arguments[1]:void 0,a),u=s>2?arguments[2]:void 0,c=void 0===u?a:i(u,a);c>l;)n[l++]=t;return n}},{"../internals/to-absolute-index":154,"../internals/to-length":158,"../internals/to-object":159}],60:[function(e,t,n){"use strict";var r=e("../internals/array-iteration").forEach,i=e("../internals/sloppy-array-method");t.exports=i("forEach")?function e(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},{"../internals/array-iteration":62,"../internals/sloppy-array-method":149}],61:[function(e,t,n){var r=e("../internals/to-indexed-object"),i=e("../internals/to-length"),o=e("../internals/to-absolute-index"),a=function(e){return function(t,n,a){var s=r(t),l=i(s.length),u=o(a,l),c;if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":154,"../internals/to-indexed-object":156,"../internals/to-length":158}],62:[function(e,t,n){var r=e("../internals/bind-context"),i=e("../internals/indexed-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/array-species-create"),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,f=6==e,h=5==e||f;return function(d,p,m,g){for(var b=o(d),y=i(b),v=r(p,m,3),w=a(y.length),x=0,_=g||s,S=t?_(d,w):n?_(d,0):void 0,E,C;w>x;x++)if((h||x in y)&&(C=v(E=y[x],x,b),e))if(t)S[x]=C;else if(C)switch(e){case 3:return!0;case 5:return E;case 6:return x;case 2:l.call(S,E)}else if(c)return!1;return f?-1:u||c?c:S}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},{"../internals/array-species-create":66,"../internals/bind-context":67,"../internals/indexed-object":98,"../internals/to-length":158,"../internals/to-object":159}],63:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/to-integer"),o=e("../internals/to-length"),a=e("../internals/sloppy-array-method"),s=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");t.exports=u||c?function e(t){if(u)return l.apply(this,arguments)||0;var n=r(this),a=o(n.length),c=a-1;for(arguments.length>1&&(c=s(c,i(arguments[1]))),c<0&&(c=a+c);c>=0;c--)if(c in n&&n[c]===t)return c||0;return-1}:l},{"../internals/sloppy-array-method":149,"../internals/to-indexed-object":156,"../internals/to-integer":157,"../internals/to-length":158}],64:[function(e,t,n){var r=e("../internals/fails"),i=e("../internals/well-known-symbol"),o=e("../internals/v8-version"),a=i("species");t.exports=function(e){return o>=51||!r(function(){var t=[],n;return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},{"../internals/fails":86,"../internals/v8-version":168,"../internals/well-known-symbol":169}],65:[function(e,t,n){var r=e("../internals/a-function"),i=e("../internals/to-object"),o=e("../internals/indexed-object"),a=e("../internals/to-length"),s=function(e){return function(t,n,s,l){r(n);var u=i(t),c=o(u),f=a(u.length),h=e?f-1:0,d=e?-1:1;if(s<2)for(;;){if(h in c){l=c[h],h+=d;break}if(h+=d,e?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=d)h in c&&(l=n(l,c[h],h,u));return l}};t.exports={left:s(!1),right:s(!0)}},{"../internals/a-function":50,"../internals/indexed-object":98,"../internals/to-length":158,"../internals/to-object":159}],66:[function(e,t,n){var r=e("../internals/is-object"),i=e("../internals/is-array"),o,a=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},{"../internals/is-array":102,"../internals/is-object":105,"../internals/well-known-symbol":169}],67:[function(e,t,n){var r=e("../internals/a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":50}],68:[function(e,t,n){var r=e("../internals/an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},{"../internals/an-object":55}],69:[function(e,t,n){var r,i=e("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},{"../internals/well-known-symbol":169}],70:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],71:[function(e,t,n){var r=e("../internals/classof-raw"),i,o=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},{"../internals/classof-raw":70,"../internals/well-known-symbol":169}],72:[function(e,t,n){var r=e("../internals/has"),i=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");t.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},{"../internals/has":93,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/own-keys":132}],73:[function(e,t,n){var r,i=e("../internals/well-known-symbol")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},{"../internals/well-known-symbol":169}],74:[function(e,t,n){var r=e("../internals/fails");t.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"../internals/fails":86}],75:[function(e,t,n){"use strict";var r=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),s=e("../internals/iterators"),l=function(){return this};t.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=l,e}},{"../internals/create-property-descriptor":77,"../internals/iterators":110,"../internals/iterators-core":109,"../internals/object-create":118,"../internals/set-to-string-tag":145}],76:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"../internals/create-property-descriptor":77,"../internals/descriptors":81,"../internals/object-define-property":120}],77:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],78:[function(e,t,n){"use strict";var r=e("../internals/to-primitive"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},{"../internals/create-property-descriptor":77,"../internals/object-define-property":120,"../internals/to-primitive":162}],79:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/create-iterator-constructor"),o=e("../internals/object-get-prototype-of"),a=e("../internals/object-set-prototype-of"),s=e("../internals/set-to-string-tag"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/redefine"),c=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),h=e("../internals/iterators"),d=e("../internals/iterators-core"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),b="keys",y="values",v="entries",w=function(){return this};t.exports=function(e,t,n,c,d,x,_){i(n,t,c);var S=function(e){if(e===d&&T)return T;if(!m&&e in k)return k[e];switch(e){case b:return function t(){return new n(this,e)};case y:return function t(){return new n(this,e)};case v:return function t(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",C=!1,k=e.prototype,O=k[g]||k["@@iterator"]||d&&k[d],T=!m&&O||S(d),N="Array"==t&&k.entries||O,A,I,j;if(N&&(A=o(N.call(new e)),p!==Object.prototype&&A.next&&(f||o(A)===p||(a?a(A,p):"function"!=typeof A[g]&&l(A,g,w)),s(A,E,!0,!0),f&&(h[E]=w))),d==y&&O&&O.name!==y&&(C=!0,T=function e(){return O.call(this)}),f&&!_||k[g]===T||l(k,g,T),h[t]=T,d)if(I={values:S(y),keys:x?T:S(b),entries:S(v)},_)for(j in I)!m&&!C&&j in k||u(k,j,I[j]);else r({target:t,proto:!0,forced:m||C},I);return I}},{"../internals/create-iterator-constructor":75,"../internals/create-non-enumerable-property":76,"../internals/export":85,"../internals/is-pure":106,"../internals/iterators":110,"../internals/iterators-core":109,"../internals/object-get-prototype-of":125,"../internals/object-set-prototype-of":129,"../internals/redefine":138,"../internals/set-to-string-tag":145,"../internals/well-known-symbol":169}],80:[function(e,t,n){var r=e("../internals/path"),i=e("../internals/has"),o=e("../internals/wrapped-well-known-symbol"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},{"../internals/has":93,"../internals/object-define-property":120,"../internals/path":134,"../internals/wrapped-well-known-symbol":171}],81:[function(e,t,n){var r=e("../internals/fails");t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"../internals/fails":86}],82:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/is-object"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(e){return a?o.createElement(e):{}}},{"../internals/global":92,"../internals/is-object":105}],83:[function(e,t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],84:[function(e,t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],85:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),s=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),u=e("../internals/is-forced");t.exports=function(e,t){var n=e.target,c=e.global,f=e.stat,h,d,p,m,g,b;if(d=c?r:f?r[n]||s(n,{}):(r[n]||{}).prototype)for(p in t){if(g=t[p],m=e.noTargetGet?(b=i(d,p))&&b.value:d[p],!(h=u(c?p:n+(f?".":"#")+p,e.forced))&&void 0!==m){if(typeof g==typeof m)continue;l(g,m)}(e.sham||m&&m.sham)&&o(g,"sham",!0),a(d,p,g,e)}}},{"../internals/copy-constructor-properties":72,"../internals/create-non-enumerable-property":76,"../internals/global":92,"../internals/is-forced":103,"../internals/object-get-own-property-descriptor":121,"../internals/redefine":138,"../internals/set-global":143}],86:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],87:[function(e,t,n){"use strict";var r=e("../internals/create-non-enumerable-property"),i=e("../internals/redefine"),o=e("../internals/fails"),a=e("../internals/well-known-symbol"),s=e("../internals/regexp-exec"),l=a("species"),u=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),c=!o(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(e,t,n,f){var h=a(e),d=!o(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),p=d&&!o(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t});if(!d||!p||"replace"===e&&!u||"split"===e&&!c){var m=/./[h],g=n(h,""[e],function(e,t,n,r,i){return t.exec===s?d&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),b=g[0],y=g[1];i(String.prototype,e,b),i(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)}),f&&r(RegExp.prototype[h],"sham",!0)}}},{"../internals/create-non-enumerable-property":76,"../internals/fails":86,"../internals/redefine":138,"../internals/regexp-exec":140,"../internals/well-known-symbol":169}],88:[function(e,t,n){"use strict";var r=e("../internals/a-function"),i=e("../internals/is-object"),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};t.exports=Function.bind||function e(t){var n=r(this),a=o.call(arguments,1),l=function e(){var r=a.concat(o.call(arguments));return this instanceof l?s(n,r.length,r):n.apply(t,r)};return i(n.prototype)&&(l.prototype=n.prototype),l}},{"../internals/a-function":50,"../internals/is-object":105}],89:[function(e,t,n){var r=e("../internals/shared");t.exports=r("native-function-to-string",Function.toString)},{"../internals/shared":148}],90:[function(e,t,n){var r=e("../internals/path"),i=e("../internals/global"),o=function(e){return"function"==typeof e?e:void 0};t.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},{"../internals/global":92,"../internals/path":134}],91:[function(e,t,n){var r=e("../internals/classof"),i=e("../internals/iterators"),o,a=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},{"../internals/classof":71,"../internals/iterators":110,"../internals/well-known-symbol":169}],92:[function(e,n,r){(function(e){var t=function(e){return e&&e.Math==Math&&e};n.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof o&&o)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],93:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],94:[function(e,t,n){t.exports={}},{}],95:[function(e,t,n){var r=e("../internals/global");t.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},{"../internals/global":92}],96:[function(e,t,n){var r=e("../internals/get-built-in");t.exports=r("document","documentElement")},{"../internals/get-built-in":90}],97:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":81,"../internals/document-create-element":82,"../internals/fails":86}],98:[function(e,t,n){var r=e("../internals/fails"),i=e("../internals/classof-raw"),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},{"../internals/classof-raw":70,"../internals/fails":86}],99:[function(e,t,n){var r=e("../internals/is-object"),i=e("../internals/object-set-prototype-of");t.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},{"../internals/is-object":105,"../internals/object-set-prototype-of":129}],100:[function(e,t,n){var r=e("../internals/native-weak-map"),i=e("../internals/global"),o=e("../internals/is-object"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),l=e("../internals/shared-key"),u=e("../internals/hidden-keys"),c=i.WeakMap,f,h,d,p=function(e){return d(e)?h(e):f(e,{})},m=function(e){return function(t){var n;if(!o(t)||(n=h(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(r){var g=new c,b=g.get,y=g.has,v=g.set;f=function(e,t){return v.call(g,e,t),t},h=function(e){return b.call(g,e)||{}},d=function(e){return y.call(g,e)}}else{var w=l("state");u[w]=!0,f=function(e,t){return a(e,w,t),t},h=function(e){return s(e,w)?e[w]:{}},d=function(e){return s(e,w)}}t.exports={set:f,get:h,has:d,enforce:p,getterFor:m}},{"../internals/create-non-enumerable-property":76,"../internals/global":92,"../internals/has":93,"../internals/hidden-keys":94,"../internals/is-object":105,"../internals/native-weak-map":114,"../internals/shared-key":146}],101:[function(e,t,n){var r=e("../internals/well-known-symbol"),i=e("../internals/iterators"),o=r("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},{"../internals/iterators":110,"../internals/well-known-symbol":169}],102:[function(e,t,n){var r=e("../internals/classof-raw");t.exports=Array.isArray||function e(t){return"Array"==r(t)}},{"../internals/classof-raw":70}],103:[function(e,t,n){var r=e("../internals/fails"),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},{"../internals/fails":86}],104:[function(e,t,n){var r=e("../internals/user-agent");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},{"../internals/user-agent":167}],105:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],106:[function(e,t,n){t.exports=!1},{}],107:[function(e,t,n){var r=e("../internals/is-object"),i=e("../internals/classof-raw"),o,a=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},{"../internals/classof-raw":70,"../internals/is-object":105,"../internals/well-known-symbol":169}],108:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/is-array-iterator-method"),o=e("../internals/to-length"),a=e("../internals/bind-context"),s=e("../internals/get-iterator-method"),l=e("../internals/call-with-safe-iteration-closing"),u=function(e,t){this.stopped=e,this.result=t},c;(t.exports=function(e,t,n,c,f){var h=a(t,n,c?2:1),d,p,m,g,b,y,v;if(f)d=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(i(p)){for(m=0,g=o(e.length);g>m;m++)if((b=c?h(r(v=e[m])[0],v[1]):h(e[m]))&&b instanceof u)return b;return new u(!1)}d=p.call(e)}for(y=d.next;!(v=y.call(d)).done;)if("object"==typeof(b=l(d,h,v.value,c))&&b&&b instanceof u)return b;return new u(!1)}).stop=function(e){return new u(!0,e)}},{"../internals/an-object":55,"../internals/bind-context":67,"../internals/call-with-safe-iteration-closing":68,"../internals/get-iterator-method":91,"../internals/is-array-iterator-method":101,"../internals/to-length":158}],109:[function(e,t,n){"use strict";var r=e("../internals/object-get-prototype-of"),i=e("../internals/create-non-enumerable-property"),o=e("../internals/has"),a=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),l=a("iterator"),u=!1,c=function(){return this},f,h,d;[].keys&&("next"in(d=[].keys())?(h=r(r(d)))!==Object.prototype&&(f=h):u=!0),void 0==f&&(f={}),s||o(f,l)||i(f,l,c),t.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":76,"../internals/has":93,"../internals/is-pure":106,"../internals/object-get-prototype-of":125,"../internals/well-known-symbol":169}],110:[function(e,t,n){arguments[4][94][0].apply(n,arguments)},{dup:94}],111:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/classof-raw"),a=e("../internals/task").set,s=e("../internals/is-ios"),l=r.MutationObserver||r.WebKitMutationObserver,u=r.process,c=r.Promise,f="process"==o(u),h=i(r,"queueMicrotask"),d=h&&h.value,p,m,g,b,y,v,w,x;d||(p=function(){var e,t;for(f&&(e=u.domain)&&e.exit();m;){t=m.fn,m=m.next;try{t()}catch(e){throw m?b():g=void 0,e}}g=void 0,e&&e.enter()},f?b=function(){u.nextTick(p)}:l&&!s?(y=!0,v=document.createTextNode(""),new l(p).observe(v,{characterData:!0}),b=function(){v.data=y=!y}):c&&c.resolve?(w=c.resolve(void 0),x=w.then,b=function(){x.call(w,p)}):b=function(){a.call(r,p)}),t.exports=d||function(e){var t={fn:e,next:void 0};g&&(g.next=t),m||(m=t,b()),g=t}},{"../internals/classof-raw":70,"../internals/global":92,"../internals/is-ios":104,"../internals/object-get-own-property-descriptor":121,"../internals/task":153}],112:[function(e,t,n){var r=e("../internals/global");t.exports=r.Promise},{"../internals/global":92}],113:[function(e,t,n){var r=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},{"../internals/fails":86}],114:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/function-to-string"),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},{"../internals/function-to-string":89,"../internals/global":92}],115:[function(e,t,n){"use strict";var r=e("../internals/a-function"),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};t.exports.f=function(e){return new i(e)}},{"../internals/a-function":50}],116:[function(e,t,n){var r=e("../internals/is-regexp");t.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":107}],117:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),s=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),u=e("../internals/indexed-object"),c=Object.assign;t.exports=!c||i(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||o(c({},t)).join("")!=r})?function e(t,n){for(var i=l(t),c=arguments.length,f=1,h=a.f,d=s.f;c>f;)for(var p=u(arguments[f++]),m=h?o(p).concat(h(p)):o(p),g=m.length,b=0,y;g>b;)y=m[b++],r&&!d.call(p,y)||(i[y]=p[y]);return i}:c},{"../internals/descriptors":81,"../internals/fails":86,"../internals/indexed-object":98,"../internals/object-get-own-property-symbols":124,"../internals/object-keys":127,"../internals/object-property-is-enumerable":128,"../internals/to-object":159}],118:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/object-define-properties"),o=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),s=e("../internals/html"),l=e("../internals/document-create-element"),u,c=e("../internals/shared-key")("IE_PROTO"),f="prototype",h=function(){},d=function(){var e=l("iframe"),t=o.length,n="<",r="script",i=">",a="javascript:",u;for(e.style.display="none",s.appendChild(e),e.src=String(a),(u=e.contentWindow.document).open(),u.write("<script>document.F=Object<\/script>"),u.close(),d=u.F;t--;)delete d.prototype[o[t]];return d()};t.exports=Object.create||function e(t,n){var o;return null!==t?(h.prototype=r(t),o=new h,h.prototype=null,o[c]=t):o=d(),void 0===n?o:i(o,n)},a[c]=!0},{"../internals/an-object":55,"../internals/document-create-element":82,"../internals/enum-bug-keys":84,"../internals/hidden-keys":94,"../internals/html":96,"../internals/object-define-properties":119,"../internals/shared-key":146}],119:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/an-object"),a=e("../internals/object-keys");t.exports=r?Object.defineProperties:function e(t,n){o(t);for(var r=a(n),s=r.length,l=0,u;s>l;)i.f(t,u=r[l++],n[u]);return t}},{"../internals/an-object":55,"../internals/descriptors":81,"../internals/object-define-property":120,"../internals/object-keys":127}],120:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),o=e("../internals/an-object"),a=e("../internals/to-primitive"),s=Object.defineProperty;n.f=r?s:function e(t,n,r){if(o(t),n=a(n,!0),o(r),i)try{return s(t,n,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},{"../internals/an-object":55,"../internals/descriptors":81,"../internals/ie8-dom-define":97,"../internals/to-primitive":162}],121:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),s=e("../internals/to-primitive"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function e(t,n){if(t=a(t),n=s(n,!0),u)try{return c(t,n)}catch(e){}if(l(t,n))return o(!i.f.call(t,n),t[n])}},{"../internals/create-property-descriptor":77,"../internals/descriptors":81,"../internals/has":93,"../internals/ie8-dom-define":97,"../internals/object-property-is-enumerable":128,"../internals/to-indexed-object":156,"../internals/to-primitive":162}],122:[function(e,t,n){var r=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,a={}.toString,s="object"==typeof o&&o&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(o):[],l=function(e){try{return i(e)}catch(e){return s.slice()}};t.exports.f=function e(t){return s&&"[object Window]"==a.call(t)?l(t):i(r(t))}},{"../internals/object-get-own-property-names":123,"../internals/to-indexed-object":156}],123:[function(e,t,n){var r=e("../internals/object-keys-internal"),i,o=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function e(t){return r(t,o)}},{"../internals/enum-bug-keys":84,"../internals/object-keys-internal":126}],124:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],125:[function(e,t,n){var r=e("../internals/has"),i=e("../internals/to-object"),o=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),s=o("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},{"../internals/correct-prototype-getter":74,"../internals/has":93,"../internals/shared-key":146,"../internals/to-object":159}],126:[function(e,t,n){var r=e("../internals/has"),i=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys");t.exports=function(e,t){var n=i(e),s=0,l=[],u;for(u in n)!r(a,u)&&r(n,u)&&l.push(u);for(;t.length>s;)r(n,u=t[s++])&&(~o(l,u)||l.push(u));return l}},{"../internals/array-includes":61,"../internals/has":93,"../internals/hidden-keys":94,"../internals/to-indexed-object":156}],127:[function(e,t,n){var r=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function e(t){return r(t,i)}},{"../internals/enum-bug-keys":84,"../internals/object-keys-internal":126}],128:[function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);n.f=o?function e(t){var n=i(this,t);return!!n&&n.enumerable}:r},{}],129:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),e=t instanceof Array}catch(e){}return function t(o,a){return r(o),i(a),e?n.call(o,a):o.__proto__=a,o}}():void 0)},{"../internals/a-possible-prototype":51,"../internals/an-object":55}],130:[function(e,t,n){var r=e("../internals/descriptors"),i=e("../internals/object-keys"),o=e("../internals/to-indexed-object"),a=e("../internals/object-property-is-enumerable").f,s=function(e){return function(t){for(var n=o(t),s=i(n),l=s.length,u=0,c=[],f;l>u;)f=s[u++],r&&!a.call(n,f)||c.push(e?[f,n[f]]:n[f]);return c}};t.exports={entries:s(!0),values:s(!1)}},{"../internals/descriptors":81,"../internals/object-keys":127,"../internals/object-property-is-enumerable":128,"../internals/to-indexed-object":156}],131:[function(e,t,n){"use strict";var r=e("../internals/classof"),i,o,a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"!==String(a)?function e(){return"[object "+r(this)+"]"}:a.toString},{"../internals/classof":71,"../internals/well-known-symbol":169}],132:[function(e,t,n){var r=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=r("Reflect","ownKeys")||function e(t){var n=i.f(a(t)),r=o.f;return r?n.concat(r(t)):n}},{"../internals/an-object":55,"../internals/get-built-in":90,"../internals/object-get-own-property-names":123,"../internals/object-get-own-property-symbols":124}],133:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/string-trim").trim,o=e("../internals/whitespaces"),a=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");t.exports=l?function e(t,n){var r=i(String(t));return a(r,n>>>0||(s.test(r)?16:10))}:a},{"../internals/global":92,"../internals/string-trim":152,"../internals/whitespaces":170}],134:[function(e,t,n){t.exports=e("../internals/global")},{"../internals/global":92}],135:[function(e,t,n){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],136:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a;return(0,n.resolve)(t),n.promise}},{"../internals/an-object":55,"../internals/is-object":105,"../internals/new-promise-capability":115}],137:[function(e,t,n){var r=e("../internals/redefine");t.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},{"../internals/redefine":138}],138:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/shared"),o=e("../internals/create-non-enumerable-property"),a=e("../internals/has"),s=e("../internals/set-global"),l=e("../internals/function-to-string"),u=e("../internals/internal-state"),c=u.get,f=u.enforce,h=String(l).split("toString");i("inspectSource",function(e){return l.call(e)}),(t.exports=function(e,t,n,i){var l=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),f(n).source=h.join("string"==typeof t?t:"")),e!==r?(l?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=n:o(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",function e(){return"function"==typeof this&&c(this).source||l.call(this)})},{"../internals/create-non-enumerable-property":76,"../internals/function-to-string":89,"../internals/global":92,"../internals/has":93,"../internals/internal-state":100,"../internals/set-global":143,"../internals/shared":148}],139:[function(e,t,n){var r=e("./classof-raw"),i=e("./regexp-exec");t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./classof-raw":70,"./regexp-exec":140}],140:[function(e,t,n){"use strict";var r=e("./regexp-flags"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=(l=/a/,u=/b*/g,i.call(l,"a"),i.call(u,"a"),0!==l.lastIndex||0!==u.lastIndex),l,u,c=void 0!==/()??/.exec("")[1],f;(s||c)&&(a=function e(t){var n=this,a,l,u,f;return c&&(l=new RegExp("^"+n.source+"$(?!\\s)",r.call(n))),s&&(a=n.lastIndex),u=i.call(n,t),s&&u&&(n.lastIndex=n.global?u.index+u[0].length:a),c&&u&&u.length>1&&o.call(u[0],l,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)}),u}),t.exports=a},{"./regexp-flags":141}],141:[function(e,t,n){"use strict";var r=e("../internals/an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":55}],142:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},{}],143:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},{"../internals/create-non-enumerable-property":76,"../internals/global":92}],144:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),i=e("../internals/object-define-property"),o=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),s=o("species");t.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":81,"../internals/get-built-in":90,"../internals/object-define-property":120,"../internals/well-known-symbol":169}],145:[function(e,t,n){var r=e("../internals/object-define-property").f,i=e("../internals/has"),o,a=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},{"../internals/has":93,"../internals/object-define-property":120,"../internals/well-known-symbol":169}],146:[function(e,t,n){var r=e("../internals/shared"),i=e("../internals/uid"),o=r("keys");t.exports=function(e){return o[e]||(o[e]=i(e))}},{"../internals/shared":148,"../internals/uid":166}],147:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/set-global"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},{"../internals/global":92,"../internals/set-global":143}],148:[function(e,t,n){var r=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":106,"../internals/shared-store":147}],149:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},{"../internals/fails":86}],150:[function(e,t,n){var r=e("../internals/an-object"),i=e("../internals/a-function"),o,a=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n=r(e).constructor,o;return void 0===n||void 0==(o=r(n)[a])?t:i(o)}},{"../internals/a-function":50,"../internals/an-object":55,"../internals/well-known-symbol":169}],151:[function(e,t,n){var r=e("../internals/to-integer"),i=e("../internals/require-object-coercible"),o=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,l,u;return a<0||a>=s?e?"":void 0:(l=o.charCodeAt(a))<55296||l>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?e?o.charAt(a):l:e?o.slice(a,a+2):u-56320+(l-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":142,"../internals/to-integer":157}],152:[function(e,t,n){var r=e("../internals/require-object-coercible"),i,o="["+e("../internals/whitespaces")+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},{"../internals/require-object-coercible":142,"../internals/whitespaces":170}],153:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/fails"),o=e("../internals/classof-raw"),a=e("../internals/bind-context"),s=e("../internals/html"),l=e("../internals/document-create-element"),u=e("../internals/is-ios"),c=r.location,f=r.setImmediate,h=r.clearImmediate,d=r.process,p=r.MessageChannel,m=r.Dispatch,g=0,b={},y="onreadystatechange",v,w,x,_=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){_(e)}},E=function(e){_(e.data)},C=function(e){r.postMessage(e+"",c.protocol+"//"+c.host)};f&&h||(f=function e(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return b[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},v(g),g},h=function e(t){delete b[t]},"process"==o(d)?v=function(e){d.nextTick(S(e))}:m&&m.now?v=function(e){m.now(S(e))}:p&&!u?(x=(w=new p).port2,w.port1.onmessage=E,v=a(x.postMessage,x,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(C)?v=y in l("script")?function(e){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),_(e)}}:function(e){setTimeout(S(e),0)}:(v=C,r.addEventListener("message",E,!1))),t.exports={set:f,clear:h}},{"../internals/bind-context":67,"../internals/classof-raw":70,"../internals/document-create-element":82,"../internals/fails":86,"../internals/global":92,"../internals/html":96,"../internals/is-ios":104}],154:[function(e,t,n){var r=e("../internals/to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},{"../internals/to-integer":157}],155:[function(e,t,n){var r=e("../internals/to-integer"),i=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},{"../internals/to-integer":157,"../internals/to-length":158}],156:[function(e,t,n){var r=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return r(i(e))}},{"../internals/indexed-object":98,"../internals/require-object-coercible":142}],157:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],158:[function(e,t,n){var r=e("../internals/to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"../internals/to-integer":157}],159:[function(e,t,n){var r=e("../internals/require-object-coercible");t.exports=function(e){return Object(r(e))}},{"../internals/require-object-coercible":142}],160:[function(e,t,n){var r=e("../internals/to-positive-integer");t.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},{"../internals/to-positive-integer":161}],161:[function(e,t,n){var r=e("../internals/to-integer");t.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},{"../internals/to-integer":157}],162:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":105}],163:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/global"),o=e("../internals/descriptors"),a=e("../internals/typed-arrays-constructors-requires-wrappers"),s=e("../internals/array-buffer-view-core"),l=e("../internals/array-buffer"),u=e("../internals/an-instance"),c=e("../internals/create-property-descriptor"),f=e("../internals/create-non-enumerable-property"),h=e("../internals/to-length"),d=e("../internals/to-index"),p=e("../internals/to-offset"),m=e("../internals/to-primitive"),g=e("../internals/has"),b=e("../internals/classof"),y=e("../internals/is-object"),v=e("../internals/object-create"),w=e("../internals/object-set-prototype-of"),x=e("../internals/object-get-own-property-names").f,_=e("../internals/typed-array-from"),S=e("../internals/array-iteration").forEach,E=e("../internals/set-species"),C=e("../internals/object-define-property"),k=e("../internals/object-get-own-property-descriptor"),O=e("../internals/internal-state"),T=e("../internals/inherit-if-required"),N=O.get,A=O.set,I=C.f,j=k.f,R=Math.round,M=i.RangeError,P=l.ArrayBuffer,D=l.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,B=s.TypedArray,z=s.TypedArrayPrototype,$=s.aTypedArrayConstructor,U=s.isTypedArray,W="BYTES_PER_ELEMENT",V="Wrong length",H=function(e,t){for(var n=0,r=t.length,i=new($(e))(r);r>n;)i[n]=t[n++];return i},G=function(e,t){I(e,t,{get:function(){return N(this)[t]}})},q=function(e){var t;return e instanceof P||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},K=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Y=function e(t,n){return K(t,n=m(n,!0))?c(2,t[n]):j(t,n)},X=function e(t,n,r){return!(K(t,n=m(n,!0))&&y(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?I(t,n,r):(t[n]=r.value,t)};o?(L||(k.f=Y,C.f=X,G(z,"buffer"),G(z,"byteOffset"),G(z,"byteLength"),G(z,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:Y,defineProperty:X}),t.exports=function(e,t,n,o){var s=e+(o?"Clamped":"")+"Array",l="get"+e,c="set"+e,m=i[s],g=m,b=g&&g.prototype,C={},k=function(e,n){var r=N(e);return r.view[l](n*t+r.byteOffset,!0)},O=function(e,n,r){var i=N(e);o&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[c](n*t+i.byteOffset,r,!0)},j=function(e,t){I(e,t,{get:function(){return k(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};L?a&&(g=n(function(e,n,r,i){return u(e,g,s),T(y(n)?q(n)?void 0!==i?new m(n,p(r,t),i):void 0!==r?new m(n,p(r,t)):new m(n):U(n)?H(g,n):_.call(g,n):new m(d(n)),e,g)}),w&&w(g,B),S(x(m),function(e){e in g||f(g,e,m[e])}),g.prototype=b):(g=n(function(e,n,r,i){u(e,g,s);var o=0,a=0,l,c,f;if(y(n)){if(!q(n))return U(n)?H(g,n):_.call(g,n);l=n,a=p(r,t);var m=n.byteLength;if(void 0===i){if(m%t)throw M(V);if((c=m-a)<0)throw M(V)}else if((c=h(i)*t)+a>m)throw M(V);f=c/t}else f=d(n),l=new P(c=f*t);for(A(e,{buffer:l,byteOffset:a,byteLength:c,length:f,view:new D(l)});o<f;)j(e,o++)}),w&&w(g,B),b=g.prototype=v(z)),b.constructor!==g&&f(b,"constructor",g),F&&f(b,F,s),C[s]=g,r({global:!0,forced:g!=m,sham:!L},C),W in g||f(g,W,t),W in b||f(b,W,t),E(s)}):t.exports=function(){}},{"../internals/an-instance":54,"../internals/array-buffer":57,"../internals/array-buffer-view-core":56,"../internals/array-iteration":62,"../internals/classof":71,"../internals/create-non-enumerable-property":76,"../internals/create-property-descriptor":77,"../internals/descriptors":81,"../internals/export":85,"../internals/global":92,"../internals/has":93,"../internals/inherit-if-required":99,"../internals/internal-state":100,"../internals/is-object":105,"../internals/object-create":118,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/object-get-own-property-names":123,"../internals/object-set-prototype-of":129,"../internals/set-species":144,"../internals/to-index":155,"../internals/to-length":158,"../internals/to-offset":160,"../internals/to-primitive":162,"../internals/typed-array-from":164,"../internals/typed-arrays-constructors-requires-wrappers":165}],164:[function(e,t,n){var r=e("../internals/to-object"),i=e("../internals/to-length"),o=e("../internals/get-iterator-method"),a=e("../internals/is-array-iterator-method"),s=e("../internals/bind-context"),l=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function e(t){var n=r(t),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,h=o(n),d,p,m,g,b,y;if(void 0!=h&&!a(h))for(y=(b=h.call(n)).next,n=[];!(g=y.call(b)).done;)n.push(g.value);for(f&&u>2&&(c=s(c,arguments[2],2)),p=i(n.length),m=new(l(this))(p),d=0;p>d;d++)m[d]=f?c(n[d],d):n[d];return m}},{"../internals/array-buffer-view-core":56,"../internals/bind-context":67,"../internals/get-iterator-method":91,"../internals/is-array-iterator-method":101,"../internals/to-length":158,"../internals/to-object":159}],165:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/fails"),o=e("../internals/check-correctness-of-iteration"),a=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;t.exports=!a||!i(function(){l(1)})||!i(function(){new l(-1)})||!o(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||i(function(){return 1!==new l(new s(2),1,void 0).length})},{"../internals/array-buffer-view-core":56,"../internals/check-correctness-of-iteration":69,"../internals/fails":86,"../internals/global":92}],166:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+i).toString(36)}},{}],167:[function(e,t,n){var r=e("../internals/get-built-in");t.exports=r("navigator","userAgent")||""},{"../internals/get-built-in":90}],168:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/user-agent"),o=r.process,a=o&&o.versions,s=a&&a.v8,l,u;s?u=(l=s.split("."))[0]+l[1]:i&&(!(l=i.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=i.match(/Chrome\/(\d+)/))&&(u=l[1]),t.exports=u&&+u},{"../internals/global":92,"../internals/user-agent":167}],169:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/shared"),o=e("../internals/uid"),a=e("../internals/native-symbol"),s=r.Symbol,l=i("wks");t.exports=function(e){return l[e]||(l[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},{"../internals/global":92,"../internals/native-symbol":113,"../internals/shared":148,"../internals/uid":166}],170:[function(e,t,n){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],171:[function(e,t,n){n.f=e("../internals/well-known-symbol")},{"../internals/well-known-symbol":169}],172:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/array-buffer"),a=e("../internals/an-object"),s=e("../internals/to-absolute-index"),l=e("../internals/to-length"),u=e("../internals/species-constructor"),c=o.ArrayBuffer,f=o.DataView,h=c.prototype.slice,d;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new c(2).slice(1,void 0).byteLength})},{slice:function e(t,n){if(void 0!==h&&void 0===n)return h.call(a(this),t);for(var r=a(this).byteLength,i=s(t,r),o=s(void 0===n?r:n,r),d=new(u(this,c))(l(o-i)),p=new f(this),m=new f(d),g=0;i<o;)m.setUint8(g++,p.getUint8(i++));return d}})},{"../internals/an-object":55,"../internals/array-buffer":57,"../internals/export":85,"../internals/fails":86,"../internals/species-constructor":150,"../internals/to-absolute-index":154,"../internals/to-length":158}],173:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/is-array"),a=e("../internals/is-object"),s=e("../internals/to-object"),l=e("../internals/to-length"),u=e("../internals/create-property"),c=e("../internals/array-species-create"),f=e("../internals/array-method-has-species-support"),h=e("../internals/well-known-symbol"),d=e("../internals/v8-version"),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",b=d>=51||!i(function(){var e=[];return e[p]=!1,e.concat()[0]!==e}),y=f("concat"),v=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},w;r({target:"Array",proto:!0,forced:!b||!y},{concat:function e(t){var n=s(this),r=c(n,0),i=0,o,a,f,h,d;for(o=-1,f=arguments.length;o<f;o++)if(d=-1===o?n:arguments[o],v(d)){if(i+(h=l(d.length))>9007199254740991)throw TypeError(g);for(a=0;a<h;a++,i++)a in d&&u(r,i,d[a])}else{if(i>=9007199254740991)throw TypeError(g);u(r,i++,d)}return r.length=i,r}})},{"../internals/array-method-has-species-support":64,"../internals/array-species-create":66,"../internals/create-property":78,"../internals/export":85,"../internals/fails":86,"../internals/is-array":102,"../internals/is-object":105,"../internals/to-length":158,"../internals/to-object":159,"../internals/v8-version":168,"../internals/well-known-symbol":169}],174:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/array-fill"),o=e("../internals/add-to-unscopables");r({target:"Array",proto:!0},{fill:i}),o("fill")},{"../internals/add-to-unscopables":52,"../internals/array-fill":59,"../internals/export":85}],175:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").filter,o;r({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("filter")},{filter:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":62,"../internals/array-method-has-species-support":64,"../internals/export":85}],176:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),a="findIndex",s=!0;a in[]&&Array(1).findIndex(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},{"../internals/add-to-unscopables":52,"../internals/array-iteration":62,"../internals/export":85}],177:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),a="find",s=!0;a in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},{"../internals/add-to-unscopables":52,"../internals/array-iteration":62,"../internals/export":85}],178:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-for-each");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},{"../internals/array-for-each":60,"../internals/export":85}],179:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-includes").includes,o=e("../internals/add-to-unscopables");r({target:"Array",proto:!0},{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":52,"../internals/array-includes":61,"../internals/export":85}],180:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-includes").indexOf,o=e("../internals/sloppy-array-method"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf");r({target:"Array",proto:!0,forced:s||l},{indexOf:function e(t){return s?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-includes":61,"../internals/export":85,"../internals/sloppy-array-method":149}],181:[function(e,t,n){var r,i;e("../internals/export")({target:"Array",stat:!0},{isArray:e("../internals/is-array")})},{"../internals/export":85,"../internals/is-array":102}],182:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),a=e("../internals/internal-state"),s=e("../internals/define-iterator"),l="Array Iterator",u=a.set,c=a.getterFor(l);t.exports=s(Array,"Array",function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":52,"../internals/define-iterator":79,"../internals/internal-state":100,"../internals/iterators":110,"../internals/to-indexed-object":156}],183:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/indexed-object"),o=e("../internals/to-indexed-object"),a=e("../internals/sloppy-array-method"),s=[].join,l=i!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:l||u},{join:function e(t){return s.call(o(this),void 0===t?",":t)}})},{"../internals/export":85,"../internals/indexed-object":98,"../internals/sloppy-array-method":149,"../internals/to-indexed-object":156}],184:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/array-iteration").map,o;r({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("map")},{map:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":62,"../internals/array-method-has-species-support":64,"../internals/export":85}],185:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-array"),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function e(){return i(this)&&(this.length=this.length),o.call(this)}})},{"../internals/export":85,"../internals/is-array":102}],186:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-object"),o=e("../internals/is-array"),a=e("../internals/to-absolute-index"),s=e("../internals/to-length"),l=e("../internals/to-indexed-object"),u=e("../internals/create-property"),c=e("../internals/array-method-has-species-support"),f,h=e("../internals/well-known-symbol")("species"),d=[].slice,p=Math.max;r({target:"Array",proto:!0,forced:!c("slice")},{slice:function e(t,n){var r=l(this),c=s(r.length),f=a(t,c),m=a(void 0===n?c:n,c),g,b,y;if(o(r)&&("function"!=typeof(g=r.constructor)||g!==Array&&!o(g.prototype)?i(g)&&null===(g=g[h])&&(g=void 0):g=void 0,g===Array||void 0===g))return d.call(r,f,m);for(b=new(void 0===g?Array:g)(p(m-f,0)),y=0;f<m;f++,y++)f in r&&u(b,y,r[f]);return b.length=y,b}})},{"../internals/array-method-has-species-support":64,"../internals/create-property":78,"../internals/export":85,"../internals/is-array":102,"../internals/is-object":105,"../internals/to-absolute-index":154,"../internals/to-indexed-object":156,"../internals/to-length":158,"../internals/well-known-symbol":169}],187:[function(e,t,n){var r=e("../internals/redefine"),i=Date.prototype,o="Invalid Date",a="toString",s=i.toString,l=i.getTime;new Date(NaN)+""!=o&&r(i,a,function e(){var t=l.call(this);return t==t?s.call(this):o})},{"../internals/redefine":138}],188:[function(e,t,n){var r,i;e("../internals/export")({target:"Function",proto:!0},{bind:e("../internals/function-bind")})},{"../internals/export":85,"../internals/function-bind":88}],189:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),i=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/redefine"),s=e("../internals/has"),l=e("../internals/classof-raw"),u=e("../internals/inherit-if-required"),c=e("../internals/to-primitive"),f=e("../internals/fails"),h=e("../internals/object-create"),d=e("../internals/object-get-own-property-names").f,p=e("../internals/object-get-own-property-descriptor").f,m=e("../internals/object-define-property").f,g=e("../internals/string-trim").trim,b="Number",y=i.Number,v=y.prototype,w=l(h(v))==b,x=function(e){var t=c(e,!1),n,r,i,o,a,s,l,u;if("string"==typeof t&&t.length>2)if(43===(n=(t=g(t)).charCodeAt(0))||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(s=(a=t.slice(2)).length,l=0;l<s;l++)if((u=a.charCodeAt(l))<48||u>o)return NaN;return parseInt(a,i)}return+t};if(o(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof _&&(w?f(function(){v.valueOf.call(r)}):l(r)!=b)?u(new y(x(n)),r,_):x(n)},S=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0,C;S.length>E;E++)s(y,C=S[E])&&!s(_,C)&&m(_,C,p(y,C));_.prototype=v,v.constructor=_,a(i,b,_)}},{"../internals/classof-raw":70,"../internals/descriptors":81,"../internals/fails":86,"../internals/global":92,"../internals/has":93,"../internals/inherit-if-required":99,"../internals/is-forced":103,"../internals/object-create":118,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/object-get-own-property-names":123,"../internals/redefine":138,"../internals/string-trim":152,"../internals/to-primitive":162}],190:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/object-assign");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},{"../internals/export":85,"../internals/object-assign":117}],191:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/descriptors"),o;r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:e("../internals/object-define-properties")})},{"../internals/descriptors":81,"../internals/export":85,"../internals/object-define-properties":119}],192:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/descriptors"),o;r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:e("../internals/object-define-property").f})},{"../internals/descriptors":81,"../internals/export":85,"../internals/object-define-property":120}],193:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/object-to-array").entries;r({target:"Object",stat:!0},{entries:function e(t){return i(t)}})},{"../internals/export":85,"../internals/object-to-array":130}],194:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/descriptors"),l=i(function(){a(1)}),u;r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function e(t,n){return a(o(t),n)}})},{"../internals/descriptors":81,"../internals/export":85,"../internals/fails":86,"../internals/object-get-own-property-descriptor":121,"../internals/to-indexed-object":156}],195:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/descriptors"),o=e("../internals/own-keys"),a=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-descriptor"),l=e("../internals/create-property");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function e(t){for(var n=a(t),r=s.f,i=o(n),u={},c=0,f,h;i.length>c;)void 0!==(h=r(n,f=i[c++]))&&l(u,f,h);return u}})},{"../internals/create-property":78,"../internals/descriptors":81,"../internals/export":85,"../internals/object-get-own-property-descriptor":121,"../internals/own-keys":132,"../internals/to-indexed-object":156}],196:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/to-object"),o=e("../internals/object-keys"),a,s;r({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function e(t){return o(i(t))}})},{"../internals/export":85,"../internals/fails":86,"../internals/object-keys":127,"../internals/to-object":159}],197:[function(e,t,n){var r=e("../internals/redefine"),i=e("../internals/object-to-string"),o=Object.prototype;i!==o.toString&&r(o,"toString",i,{unsafe:!0})},{"../internals/object-to-string":131,"../internals/redefine":138}],198:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/parse-int");r({global:!0,forced:parseInt!=i},{parseInt:i})},{"../internals/export":85,"../internals/parse-int":133}],199:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/is-pure"),o=e("../internals/global"),a=e("../internals/get-built-in"),s=e("../internals/native-promise-constructor"),l=e("../internals/redefine"),u=e("../internals/redefine-all"),c=e("../internals/shared"),f=e("../internals/set-to-string-tag"),h=e("../internals/set-species"),d=e("../internals/is-object"),p=e("../internals/a-function"),m=e("../internals/an-instance"),g=e("../internals/classof-raw"),b=e("../internals/iterate"),y=e("../internals/check-correctness-of-iteration"),v=e("../internals/species-constructor"),w=e("../internals/task").set,x=e("../internals/microtask"),_=e("../internals/promise-resolve"),S=e("../internals/host-report-errors"),E=e("../internals/new-promise-capability"),C=e("../internals/perform"),k=e("../internals/internal-state"),O=e("../internals/is-forced"),T=e("../internals/well-known-symbol"),N=e("../internals/v8-version"),A=T("species"),I="Promise",j=k.get,R=k.set,M=k.getterFor(I),P=s,D=o.TypeError,L=o.document,F=o.process,B=c("inspectSource"),z=a("fetch"),$=E.f,U=$,W="process"==g(F),V=!!(L&&L.createEvent&&o.dispatchEvent),H="unhandledrejection",G="rejectionhandled",q=0,K=1,Y=2,X=1,Z=2,J,Q,ee,te,ne=O(I,function(){var e=B(P)!==String(P);if(66===N)return!0;if(!e&&!W&&"function"!=typeof PromiseRejectionEvent)return!0;if(i&&!P.prototype.finally)return!0;if(N>=51&&/native code/.test(P))return!1;var t=P.resolve(1),n=function(e){e(function(){},function(){})},r;return(t.constructor={})[A]=n,!(t.then(function(){})instanceof n)}),re=ne||!y(function(e){P.all(e).catch(function(){})}),ie=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},oe=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;x(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s=r[a++],l=o?s.ok:s.fail,u=s.resolve,c=s.reject,f=s.domain,h,d,p;try{l?(o||(2===t.rejection&&ue(e,t),t.rejection=1),!0===l?h=i:(f&&f.enter(),h=l(i),f&&(f.exit(),p=!0)),h===s.promise?c(D("Promise-chain cycle")):(d=ie(h))?d.call(h,u,c):u(h)):c(i)}catch(e){f&&!p&&f.exit(),c(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&se(e,t)})}},ae=function(e,t,n){var r,i;V?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o.dispatchEvent(r)):r={promise:t,reason:n},(i=o["on"+e])?i(r):e===H&&S("Unhandled promise rejection",n)},se=function(e,t){w.call(o,function(){var n=t.value,r,i;if(le(t)&&(i=C(function(){W?F.emit("unhandledRejection",n,e):ae(H,e,n)}),t.rejection=W||le(t)?2:1,i.error))throw i.value})},le=function(e){return 1!==e.rejection&&!e.parent},ue=function(e,t){w.call(o,function(){W?F.emit("rejectionHandled",e):ae(G,e,t.value)})},ce=function(e,t,n,r){return function(i){e(t,n,i,r)}},fe=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,oe(e,t,!0))},he=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw D("Promise can't be resolved itself");var i=ie(n);i?x(function(){var r={done:!1};try{i.call(n,ce(he,e,r,t),ce(fe,e,r,t))}catch(n){fe(e,r,n,t)}}):(t.value=n,t.state=1,oe(e,t,!1))}catch(n){fe(e,{done:!1},n,t)}}};ne&&(P=function e(t){m(this,P,I),p(t),J.call(this);var n=j(this);try{t(ce(he,this,n),ce(fe,this,n))}catch(e){fe(this,n,e)}},(J=function e(t){R(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(P.prototype,{then:function e(t,n){var r=M(this),i=$(v(this,P));return i.ok="function"!=typeof t||t,i.fail="function"==typeof n&&n,i.domain=W?F.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&oe(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),Q=function(){var e=new J,t=j(e);this.promise=e,this.resolve=ce(he,e,t),this.reject=ce(fe,e,t)},E.f=$=function(e){return e===P||e===ee?new Q(e):U(e)},i||"function"!=typeof s||(te=s.prototype.then,l(s.prototype,"then",function e(t,n){var r=this;return new P(function(e,t){te.call(r,e,t)}).then(t,n)},{unsafe:!0}),"function"==typeof z&&r({global:!0,enumerable:!0,forced:!0},{fetch:function e(t){return _(P,z.apply(o,arguments))}}))),r({global:!0,wrap:!0,forced:ne},{Promise:P}),f(P,I,!1,!0),h(I),ee=a(I),r({target:I,stat:!0,forced:ne},{reject:function e(t){var n=$(this);return n.reject.call(void 0,t),n.promise}}),r({target:I,stat:!0,forced:i||ne},{resolve:function e(t){return _(i&&this===ee?P:this,t)}}),r({target:I,stat:!0,forced:re},{all:function e(t){var n=this,r=$(n),i=r.resolve,o=r.reject,a=C(function(){var e=p(n.resolve),r=[],a=0,s=1;b(t,function(t){var l=a++,u=!1;r.push(void 0),s++,e.call(n,t).then(function(e){u||(u=!0,r[l]=e,--s||i(r))},o)}),--s||i(r)});return a.error&&o(a.value),r.promise},race:function e(t){var n=this,r=$(n),i=r.reject,o=C(function(){var e=p(n.resolve);b(t,function(t){e.call(n,t).then(r.resolve,i)})});return o.error&&i(o.value),r.promise}})},{"../internals/a-function":50,"../internals/an-instance":54,"../internals/check-correctness-of-iteration":69,"../internals/classof-raw":70,"../internals/export":85,"../internals/get-built-in":90,"../internals/global":92,"../internals/host-report-errors":95,"../internals/internal-state":100,"../internals/is-forced":103,"../internals/is-object":105,"../internals/is-pure":106,"../internals/iterate":108,"../internals/microtask":111,"../internals/native-promise-constructor":112,"../internals/new-promise-capability":115,"../internals/perform":135,"../internals/promise-resolve":136,"../internals/redefine":138,"../internals/redefine-all":137,"../internals/set-species":144,"../internals/set-to-string-tag":145,"../internals/shared":148,"../internals/species-constructor":150,"../internals/task":153,"../internals/v8-version":168,"../internals/well-known-symbol":169}],200:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/regexp-exec");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},{"../internals/export":85,"../internals/regexp-exec":140}],201:[function(e,t,n){"use strict";var r=e("../internals/redefine"),i=e("../internals/an-object"),o=e("../internals/fails"),a=e("../internals/regexp-flags"),s="toString",l=RegExp.prototype,u=l.toString,c=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),f=u.name!=s;(c||f)&&r(RegExp.prototype,s,function e(){var t=i(this),n=String(t.source),r=t.flags,o;return"/"+n+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in l)?a.call(t):r)},{unsafe:!0})},{"../internals/an-object":55,"../internals/fails":86,"../internals/redefine":138,"../internals/regexp-flags":141}],202:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible"),a;r({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function e(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":73,"../internals/export":85,"../internals/not-a-regexp":116,"../internals/require-object-coercible":142}],203:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt,i=e("../internals/internal-state"),o=e("../internals/define-iterator"),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",function(e){s(this,{type:a,string:String(e),index:0})},function e(){var t=l(this),n=t.string,i=t.index,o;return i>=n.length?{value:void 0,done:!0}:(o=r(n,i),t.index+=o.length,{value:o,done:!1})})},{"../internals/define-iterator":79,"../internals/internal-state":100,"../internals/string-multibyte":151}],204:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-length"),a=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),l=e("../internals/regexp-exec-abstract");r("match",1,function(e,t,n){return[function t(n){var r=a(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this);if(!a.global)return l(a,u);var c=a.unicode;a.lastIndex=0;for(var f=[],h=0,d;null!==(d=l(a,u));){var p=String(d[0]);f[h]=p,""===p&&(a.lastIndex=s(u,o(a.lastIndex),c)),h++}return 0===h?null:f}]})},{"../internals/advance-string-index":53,"../internals/an-object":55,"../internals/fix-regexp-well-known-symbol-logic":87,"../internals/regexp-exec-abstract":139,"../internals/require-object-coercible":142,"../internals/to-length":158}],205:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/to-integer"),l=e("../internals/require-object-coercible"),u=e("../internals/advance-string-index"),c=e("../internals/regexp-exec-abstract"),f=Math.max,h=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,function(e,t,n){return[function n(r,i){var o=l(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):t.call(String(o),r,i)},function(e,o){var l=n(t,e,this,o);if(l.done)return l.value;var d=i(e),p=String(this),m="function"==typeof o;m||(o=String(o));var b=d.global;if(b){var y=d.unicode;d.lastIndex=0}for(var v=[];;){var w=c(d,p),x;if(null===w)break;if(v.push(w),!b)break;""===String(w[0])&&(d.lastIndex=u(p,a(d.lastIndex),y))}for(var _="",S=0,E=0;E<v.length;E++){w=v[E];for(var C=String(w[0]),k=f(h(s(w.index),p.length),0),O=[],T=1;T<w.length;T++)O.push(g(w[T]));var N=w.groups;if(m){var A=[C].concat(O,k,p);void 0!==N&&A.push(N);var I=String(o.apply(void 0,A))}else I=r(C,p,k,O,N,o);k>=S&&(_+=p.slice(S,k)+I,S=k+C.length)}return _+p.slice(S)}];function r(e,n,r,i,a,s){var l=r+e.length,u=i.length,c=m;return void 0!==a&&(a=o(a),c=p),t.call(s,c,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>u){var f=d(c/10);return 0===f?t:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s})}})},{"../internals/advance-string-index":53,"../internals/an-object":55,"../internals/fix-regexp-well-known-symbol-logic":87,"../internals/regexp-exec-abstract":139,"../internals/require-object-coercible":142,"../internals/to-integer":157,"../internals/to-length":158,"../internals/to-object":159}],206:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/is-regexp"),o=e("../internals/an-object"),a=e("../internals/require-object-coercible"),s=e("../internals/species-constructor"),l=e("../internals/advance-string-index"),u=e("../internals/to-length"),c=e("../internals/regexp-exec-abstract"),f=e("../internals/regexp-exec"),h=e("../internals/fails"),d=[].push,p=Math.min,m=4294967295,g=!h(function(){return!RegExp(4294967295,"y")});r("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=new RegExp(e.source,l+"g"),h,p,m;(h=f.call(c,r))&&!((p=c.lastIndex)>u&&(s.push(r.slice(u,h.index)),h.length>1&&h.index<r.length&&d.apply(s,h.slice(1)),m=h[0].length,u=p,s.length>=o));)c.lastIndex===h.index&&c.lastIndex++;return u===r.length?!m&&c.test("")||s.push(""):s.push(r.slice(u)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function t(n,i){var o=a(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),h=String(this),d=s(f,RegExp),m=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),y=new d(g?f:"^(?:"+f.source+")",b),v=void 0===i?4294967295:i>>>0;if(0===v)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var w=0,x=0,_=[];x<h.length;){y.lastIndex=g?x:0;var S=c(y,g?h:h.slice(x)),E;if(null===S||(E=p(u(y.lastIndex+(g?0:x)),h.length))===w)x=l(h,x,m);else{if(_.push(h.slice(w,x)),_.length===v)return _;for(var C=1;C<=S.length-1;C++)if(_.push(S[C]),_.length===v)return _;x=w=E}}return _.push(h.slice(w)),_}]},!g)},{"../internals/advance-string-index":53,"../internals/an-object":55,"../internals/fails":86,"../internals/fix-regexp-well-known-symbol-logic":87,"../internals/is-regexp":107,"../internals/regexp-exec":140,"../internals/regexp-exec-abstract":139,"../internals/require-object-coercible":142,"../internals/species-constructor":150,"../internals/to-length":158}],207:[function(e,t,n){"use strict";var r=e("../internals/export"),i=e("../internals/global"),o=e("../internals/get-built-in"),a=e("../internals/is-pure"),s=e("../internals/descriptors"),l=e("../internals/native-symbol"),u=e("../internals/fails"),c=e("../internals/has"),f=e("../internals/is-array"),h=e("../internals/is-object"),d=e("../internals/an-object"),p=e("../internals/to-object"),m=e("../internals/to-indexed-object"),g=e("../internals/to-primitive"),b=e("../internals/create-property-descriptor"),y=e("../internals/object-create"),v=e("../internals/object-keys"),w=e("../internals/object-get-own-property-names"),x=e("../internals/object-get-own-property-names-external"),_=e("../internals/object-get-own-property-symbols"),S=e("../internals/object-get-own-property-descriptor"),E=e("../internals/object-define-property"),C=e("../internals/object-property-is-enumerable"),k=e("../internals/create-non-enumerable-property"),O=e("../internals/redefine"),T=e("../internals/shared"),N=e("../internals/shared-key"),A=e("../internals/hidden-keys"),I=e("../internals/uid"),j=e("../internals/well-known-symbol"),R=e("../internals/wrapped-well-known-symbol"),M=e("../internals/define-well-known-symbol"),P=e("../internals/set-to-string-tag"),D=e("../internals/internal-state"),L=e("../internals/array-iteration").forEach,F=N("hidden"),B="Symbol",z="prototype",$=j("toPrimitive"),U=D.set,W=D.getterFor(B),V=Object.prototype,H=i.Symbol,G=o("JSON","stringify"),q=S.f,K=E.f,Y=x.f,X=C.f,Z=T("symbols"),J=T("op-symbols"),Q=T("string-to-symbol-registry"),ee=T("symbol-to-string-registry"),te=T("wks"),ne=i.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,ie=s&&u(function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=q(V,t);r&&delete V[t],K(e,t,n),r&&e!==V&&K(V,t,r)}:K,oe=function(e,t){var n=Z[e]=y(H.prototype);return U(n,{type:B,tag:e,description:t}),s||(n.description=t),n},ae=l&&"symbol"==typeof H.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},se=function e(t,n,r){t===V&&se(J,n,r),d(t);var i=g(n,!0);return d(r),c(Z,i)?(r.enumerable?(c(t,F)&&t[F][i]&&(t[F][i]=!1),r=y(r,{enumerable:b(0,!1)})):(c(t,F)||K(t,F,b(1,{})),t[F][i]=!0),ie(t,i,r)):K(t,i,r)},le=function e(t,n){d(t);var r=m(n),i=v(r).concat(de(r));return L(i,function(e){s&&!ce.call(r,e)||se(t,e,r[e])}),t},ue=function e(t,n){return void 0===n?y(t):le(y(t),n)},ce=function e(t){var n=g(t,!0),r=X.call(this,n);return!(this===V&&c(Z,n)&&!c(J,n))&&(!(r||!c(this,n)||!c(Z,n)||c(this,F)&&this[F][n])||r)},fe=function e(t,n){var r=m(t),i=g(n,!0);if(r!==V||!c(Z,i)||c(J,i)){var o=q(r,i);return!o||!c(Z,i)||c(r,F)&&r[F][i]||(o.enumerable=!0),o}},he=function e(t){var n=Y(m(t)),r=[];return L(n,function(e){c(Z,e)||c(A,e)||r.push(e)}),r},de=function e(t){var n=t===V,r=Y(n?J:m(t)),i=[];return L(r,function(e){!c(Z,e)||n&&!c(V,e)||i.push(Z[e])}),i},pe;(l||(O((H=function e(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=I(t),r=function(e){this===V&&r.call(J,e),c(this,F)&&c(this[F],n)&&(this[F][n]=!1),ie(this,n,b(1,e))};return s&&re&&ie(V,n,{configurable:!0,set:r}),oe(n,t)}).prototype,"toString",function e(){return W(this).tag}),C.f=ce,E.f=se,S.f=fe,w.f=x.f=he,_.f=de,s&&(K(H.prototype,"description",{configurable:!0,get:function e(){return W(this).description}}),a||O(V,"propertyIsEnumerable",ce,{unsafe:!0})),R.f=function(e){return oe(j(e),e)}),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),L(v(te),function(e){M(e)}),r({target:B,stat:!0,forced:!l},{for:function(e){var t=String(e);if(c(Q,t))return Q[t];var n=H(t);return Q[t]=n,ee[n]=t,n},keyFor:function e(t){if(!ae(t))throw TypeError(t+" is not a symbol");if(c(ee,t))return ee[t]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:ue,defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:u(function(){_.f(1)})},{getOwnPropertySymbols:function e(t){return _.f(p(t))}}),G)&&r({target:"JSON",stat:!0,forced:!l||u(function(){var e=H();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))})},{stringify:function e(t,n,r){for(var i=[t],o=1,a;arguments.length>o;)i.push(arguments[o++]);if(a=n,(h(n)||void 0!==t)&&!ae(t))return f(n)||(n=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!ae(t))return t}),i[1]=n,G.apply(null,i)}});H.prototype[$]||k(H.prototype,$,H.prototype.valueOf),P(H,B),A[F]=!0},{"../internals/an-object":55,"../internals/array-iteration":62,"../internals/create-non-enumerable-property":76,"../internals/create-property-descriptor":77,"../internals/define-well-known-symbol":80,"../internals/descriptors":81,"../internals/export":85,"../internals/fails":86,"../internals/get-built-in":90,"../internals/global":92,"../internals/has":93,"../internals/hidden-keys":94,"../internals/internal-state":100,"../internals/is-array":102,"../internals/is-object":105,"../internals/is-pure":106,"../internals/native-symbol":113,"../internals/object-create":118,"../internals/object-define-property":120,"../internals/object-get-own-property-descriptor":121,"../internals/object-get-own-property-names":123,"../internals/object-get-own-property-names-external":122,"../internals/object-get-own-property-symbols":124,"../internals/object-keys":127,"../internals/object-property-is-enumerable":128,"../internals/redefine":138,"../internals/set-to-string-tag":145,"../internals/shared":148,"../internals/shared-key":146,"../internals/to-indexed-object":156,"../internals/to-object":159,"../internals/to-primitive":162,"../internals/uid":166,"../internals/well-known-symbol":169,"../internals/wrapped-well-known-symbol":171}],208:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-copy-within"),o=r.aTypedArray;r.exportProto("copyWithin",function e(t,n){return i.call(o(this),t,n,arguments.length>2?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-copy-within":58}],209:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").every,o=r.aTypedArray;r.exportProto("every",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],210:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-fill"),o=r.aTypedArray;r.exportProto("fill",function e(t){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":56,"../internals/array-fill":59}],211:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").filter,o=e("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("filter",function e(t){for(var n=i(a(this),t,arguments.length>1?arguments[1]:void 0),r=o(this,this.constructor),l=0,u=n.length,c=new(s(r))(u);u>l;)c[l]=n[l++];return c})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62,"../internals/species-constructor":150}],212:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").findIndex,o=r.aTypedArray;r.exportProto("findIndex",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],213:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").find,o=r.aTypedArray;r.exportProto("find",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],214:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Float32",4,function(e){return function t(n,r,i){return e(this,n,r,i)}})},{"../internals/typed-array-constructor":163}],215:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Float64",8,function(e){return function t(n,r,i){return e(this,n,r,i)}})},{"../internals/typed-array-constructor":163}],216:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").forEach,o=r.aTypedArray;r.exportProto("forEach",function e(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],217:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").includes,o=r.aTypedArray;r.exportProto("includes",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-includes":61}],218:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").indexOf,o=r.aTypedArray;r.exportProto("indexOf",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-includes":61}],219:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=e("../modules/es.array.iterator"),a,s=e("../internals/well-known-symbol")("iterator"),l=r.Uint8Array,u=o.values,c=o.keys,f=o.entries,h=i.aTypedArray,d=i.exportProto,p=l&&l.prototype[s],m=!!p&&("values"==p.name||void 0==p.name),g=function e(){return u.call(h(this))};d("entries",function e(){return f.call(h(this))}),d("keys",function e(){return c.call(h(this))}),d("values",g,!m),d(s,g,!m)},{"../internals/array-buffer-view-core":56,"../internals/global":92,"../internals/well-known-symbol":169,"../modules/es.array.iterator":182}],220:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=r.aTypedArray,o=[].join;r.exportProto("join",function e(t){return o.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":56}],221:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-last-index-of"),o=r.aTypedArray;r.exportProto("lastIndexOf",function e(t){return i.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":56,"../internals/array-last-index-of":63}],222:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").map,o=e("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("map",function e(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(o(e,e.constructor)))(t)})})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62,"../internals/species-constructor":150}],223:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").right,o=r.aTypedArray;r.exportProto("reduceRight",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-reduce":65}],224:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").left,o=r.aTypedArray;r.exportProto("reduce",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-reduce":65}],225:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=r.aTypedArray,o=Math.floor;r.exportProto("reverse",function e(){for(var t=this,n=i(this).length,r=o(n/2),a=0,s;a<r;)s=this[a],this[a++]=this[--n],this[n]=s;return this})},{"../internals/array-buffer-view-core":56}],226:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-offset"),a=e("../internals/to-object"),s=e("../internals/fails"),l=r.aTypedArray,u=s(function(){new Int8Array(1).set({})});r.exportProto("set",function e(t){l(this);var n=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,s=a(t),u=i(s.length),c=0;if(u+n>r)throw RangeError("Wrong length");for(;c<u;)this[n+c]=s[c++]},u)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/to-length":158,"../internals/to-object":159,"../internals/to-offset":160}],227:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/species-constructor"),o=e("../internals/fails"),a=r.aTypedArray,s=r.aTypedArrayConstructor,l=[].slice,u=o(function(){new Int8Array(1).slice()});r.exportProto("slice",function e(t,n){for(var r=l.call(a(this),t,n),o=i(this,this.constructor),u=0,c=r.length,f=new(s(o))(c);c>u;)f[u]=r[u++];return f},u)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/species-constructor":150}],228:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").some,o=r.aTypedArray;r.exportProto("some",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":56,"../internals/array-iteration":62}],229:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=r.aTypedArray,o=[].sort;r.exportProto("sort",function e(t){return o.call(i(this),t)})},{"../internals/array-buffer-view-core":56}],230:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-absolute-index"),a=e("../internals/species-constructor"),s=r.aTypedArray;r.exportProto("subarray",function e(t,n){var r=s(this),l=r.length,u=o(t,l);return new(a(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,i((void 0===n?l:o(n,l))-u))})},{"../internals/array-buffer-view-core":56,"../internals/species-constructor":150,"../internals/to-absolute-index":154,"../internals/to-length":158}],231:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=e("../internals/fails"),a=r.Int8Array,s=i.aTypedArray,l=[].toLocaleString,u=[].slice,c=!!a&&o(function(){l.call(new a(1))}),f=o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])});i.exportProto("toLocaleString",function e(){return l.apply(c?u.call(s(this)):s(this),arguments)},f)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/global":92}],232:[function(e,t,n){"use strict";var r=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=e("../internals/fails"),a=r.Uint8Array,s=a&&a.prototype,l=[].toString,u=[].join;o(function(){l.call({})})&&(l=function e(){return u.call(this)}),i.exportProto("toString",l,(s||{}).toString!=l)},{"../internals/array-buffer-view-core":56,"../internals/fails":86,"../internals/global":92}],233:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Uint8",1,function(e){return function t(n,r,i){return e(this,n,r,i)}})},{"../internals/typed-array-constructor":163}],234:[function(e,t,n){var r;e("../internals/typed-array-constructor")("Uint8",1,function(e){return function t(n,r,i){return e(this,n,r,i)}},!0)},{"../internals/typed-array-constructor":163}],235:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/dom-iterables"),o=e("../internals/array-for-each"),a=e("../internals/create-non-enumerable-property");for(var s in i){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(e){u.forEach=o}}},{"../internals/array-for-each":60,"../internals/create-non-enumerable-property":76,"../internals/dom-iterables":83,"../internals/global":92}],236:[function(e,t,n){var r=e("../internals/global"),i=e("../internals/dom-iterables"),o=e("../modules/es.array.iterator"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/well-known-symbol"),l=s("iterator"),u=s("toStringTag"),c=o.values;for(var f in i){var h=r[f],d=h&&h.prototype;if(d){if(d[l]!==c)try{a(d,l,c)}catch(e){d[l]=c}if(d[u]||a(d,u,f),i[f])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(e){d[p]=o[p]}}}},{"../internals/create-non-enumerable-property":76,"../internals/dom-iterables":83,"../internals/global":92,"../internals/well-known-symbol":169,"../modules/es.array.iterator":182}],237:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/global"),o=e("../internals/user-agent"),a=[].slice,s,l=function(e){return function(t,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},{"../internals/export":85,"../internals/global":92,"../internals/user-agent":167}],238:[function(e,t,n){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function f(e){return"object"==typeof e&&null!==e}function h(e){return"[object Date]"===g(e)}function d(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=l,n.isUndefined=u,n.isRegExp=c,n.isObject=f,n.isDate=h,n.isError=d,n.isFunction=p,n.isPrimitive=m,n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":255}],239:[function(e,t,n){var r=Object.create||E,i=Object.keys||C,o=Function.prototype.bind||k;function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s=10,l;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),l=0===u.x}catch(e){l=!1}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n){if(t)e.call(n);else for(var r=e.length,i=_(e,r),o=0;o<r;++o)i[o].call(n)}function h(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].call(n,r)}function d(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=_(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function p(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=_(e,a),l=0;l<a;++l)s[l].call(n,r,i,o)}function m(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=_(e,i),a=0;a<i;++a)o[a].apply(n,r)}function g(e,t,n,i){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=c(e))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=n,++e._eventsCount;return e}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function y(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(b,r);return i.listener=n,r.wrapFn=i,i}function v(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?S(i):_(i,i.length):[]}function w(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function x(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function S(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function E(e){var t=function(){};return t.prototype=e,new t}function C(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function k(e){var t=this;return function(){return t.apply(e,arguments)}}l?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):a.defaultMaxListeners=s,a.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},a.prototype.getMaxListeners=function e(){return c(this)},a.prototype.emit=function e(t){var n,r,i,o,a,s,l="error"===t;if(s=this._events)l=l&&null==s.error;else if(!l)return!1;if(l){if(arguments.length>1&&(n=arguments[1]),n instanceof Error)throw n;var u=new Error('Unhandled "error" event. ('+n+")");throw u.context=n,u}if(!(r=s[t]))return!1;var c="function"==typeof r;switch(i=arguments.length){case 1:f(r,c,this);break;case 2:h(r,c,this,arguments[1]);break;case 3:d(r,c,this,arguments[1],arguments[2]);break;case 4:p(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];m(r,c,this,o)}return!0},a.prototype.addListener=function e(t,n){return g(this,t,n,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function e(t,n){return g(this,t,n,!0)},a.prototype.once=function e(t,n){if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return this.on(t,y(this,t,n)),this},a.prototype.prependOnceListener=function e(t,n){if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,y(this,t,n)),this},a.prototype.removeListener=function e(t,n){var i,o,a,s,l;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(!(o=this._events))return this;if(!(i=o[t]))return this;if(i===n||i.listener===n)0==--this._eventsCount?this._events=r(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(a=-1,s=i.length-1;s>=0;s--)if(i[s]===n||i[s].listener===n){l=i[s].listener,a=s;break}if(a<0)return this;0===a?i.shift():x(i,a),1===i.length&&(o[t]=i[0]),o.removeListener&&this.emit("removeListener",t,l||n)}return this},a.prototype.removeAllListeners=function e(t){var n,o,a;if(!(o=this._events))return this;if(!o.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):o[t]&&(0==--this._eventsCount?this._events=r(null):delete o[t]),this;if(0===arguments.length){var s=i(o),l;for(a=0;a<s.length;++a)"removeListener"!==(l=s[a])&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(n=o[t]))this.removeListener(t,n);else if(n)for(a=n.length-1;a>=0;a--)this.removeListener(t,n[a]);return this},a.prototype.listeners=function e(t){return v(this,t,!0)},a.prototype.rawListeners=function e(t){return v(this,t,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):w.call(e,t)},a.prototype.listenerCount=w,a.prototype.eventNames=function e(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],240:[function(e,t,n){var r=e("./lib/parser");function i(){return(0,eval)("this")}t.exports={create:function(t,n){if(t instanceof(n=n||i()).ArrayBuffer){var o=e("./lib/dom-bufferstream");return new r(new o(t,0,t.byteLength,!0,n))}var a=e("./lib/bufferstream");return new r(new a(t,0,t.length,!0))}}},{"./lib/bufferstream":241,"./lib/dom-bufferstream":243,"./lib/parser":247}],241:[function(e,t,n){function r(e,t,n,r){this.buffer=e,this.offset=t||0,n="number"==typeof n?n:e.length,this.endPosition=this.offset+n,this.setBigEndian(r)}r.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(t){return t=(t||0)+this.offset,new r(e.buffer,t,e.endPosition-t,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,t){return t="number"==typeof t?t:this.endPosition-(this.offset+e),new r(this.buffer,this.offset+e,t,this.bigEndian)}},t.exports=r},{}],242:[function(e,t,n){function r(e){return parseInt(e,10)}var i=3600,o=60;function a(e,t){e=e.map(r),t=t.map(r);var n=e[0],i=e[1]-1,o=e[2],a=t[0],s=t[1],l=t[2],u,c;return Date.UTC(n,i,o,a,s,l,0)/1e3}function s(e){var t=e.substr(0,10).split("-"),n=e.substr(11,8).split(":"),s,l=e.substr(19,6).split(":").map(r),u=l[0]*i+l[1]*o,c=a(t,n);if("number"==typeof(c-=u)&&!isNaN(c))return c}function l(e){var t=e.split(" "),n,r,i=a(t[0].split(":"),t[1].split(":"));if("number"==typeof i&&!isNaN(i))return i}function u(e){var t=19===e.length&&":"===e.charAt(4),n,r;return 25===e.length&&"T"===e.charAt(10)?s(e):t?l(e):void 0}t.exports={parseDateWithSpecFormat:l,parseDateWithTimezoneFormat:s,parseExifDate:u}},{}],243:[function(e,t,n){function r(e,t,n,r,i,o){this.global=i,t=t||0,n=n||e.byteLength-t,this.arrayBuffer=e.slice(t,t+n),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(r),this.offset=0,this.parentOffset=(o||0)+t}r.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(t){return t=(t||0)+this.offset,new r(e.arrayBuffer,t,e.arrayBuffer.byteLength-t,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,t){return t="number"==typeof t?t:this.arrayBuffer.byteLength-(this.offset+e),new r(this.arrayBuffer,this.offset+e,t,!this.littleEndian,this.global,this.parentOffset)}},t.exports=r},{}],244:[function(e,t,n){t.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65000:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],245:[function(e,t,n){function r(e,t){switch(e){case 1:return t.nextUInt8();case 3:return t.nextUInt16();case 4:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 8:return t.nextUInt16();case 9:return t.nextUInt32();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function i(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function o(e,t){var n=t.nextUInt16(),o=t.nextUInt16(),a=i(o),s=t.nextUInt32(),l=a*s,u,c,f;if(l>4&&(t=e.openWithOffset(t.nextUInt32())),2===o){var h=(u=t.nextString(s)).indexOf("\0");-1!==h&&(u=u.substr(0,h))}else if(7===o)u=t.nextBuffer(s);else if(0!==o)for(u=[],f=0;f<s;++f)u.push(r(o,t));return l<4&&t.skip(4-l),[n,u,o]}function a(e,t,n){var r=t.nextUInt16(),i,a;for(a=0;a<r;++a)n((i=o(e,t))[0],i[1],i[2])}function s(e){var t;if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var n=e.mark(),r=e.nextUInt16();if(18761===r)e.setBigEndian(!1);else{if(19789!==r)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return n}t.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,r,i,o;try{n=s(e)}catch(e){return!1}var l=n.openWithOffset(e.nextUInt32()),u=this.IFD0;a(n,l,function(e,n,o){switch(e){case 34853:i=n[0];break;case 34665:r=n[0];break;default:t(u,e,n,o)}});var c=l.nextUInt32(),f,h,d;0!==c&&a(n,n.openWithOffset(c),t.bind(null,this.IFD1));i&&a(n,n.openWithOffset(i),t.bind(null,this.GPSIFD));if(r){var p=n.openWithOffset(r),m=this.InteropIFD;a(n,p,function(e,n,r){40965===e?o=n[0]:t(m,e,n,r)})}o&&a(n,n.openWithOffset(o),t.bind(null,this.InteropIFD));return!0}}},{}],246:[function(e,t,n){t.exports={parseSections:function(e,t){var n,r;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==r;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");n=(r=e.nextUInt8())>=208&&r<=217||218===r?0:e.nextUInt16()-2,t(r,e.branch(0,n)),e.skip(n)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,n;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",n=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",n=e-192):e>=208&&e<=215&&(t="RST",n=e-208)}var r={name:t};return"number"==typeof n&&(r.index=n),r}}},{}],247:[function(e,t,n){var r=e("./jpeg"),i=e("./exif"),o=e("./simplify");function a(e,t,n,r,i,o,a){this.startMarker=e,this.tags=t,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=a}function s(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}a.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&("string"!=typeof e||("image/jpeg"===e.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===e.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e=this._getThumbnailStream(),t;return r.parseSections(e,function(e,n){"SOF"===r.getSectionName(e).name&&(t=r.getSizeFromSOFSection(n))}),t}},s.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var t=this.stream.mark(),n=t.openWithOffset(0),s=this.flags,l,u,c,f,h,d,p,m,g;return s.resolveTagNames&&(p=e("./exif-tags")),s.resolveTagNames?(l={},m=function(e){return l[e.name]},g=function(e,t){l[e.name]=t}):(l=[],m=function(e){var t;for(t=0;t<l.length;++t)if(l[t].type===e.type&&l[t].section===e.section)return l.value},g=function(e,t){var n;for(n=0;n<l.length;++n)if(l[n].type===e.type&&l[n].section===e.section)return void(l.value=t)}),r.parseSections(n,function(e,n){var a,m=n.offsetFrom(t);225===e?(a=i.parseTags(n,function(e,t,n,r){if(s.readBinaryTags||7!==r){if(513===t){if(c=n[0],s.hidePointers)return}else if(514===t){if(f=n[0],s.hidePointers)return}else if(259===t&&(h=n[0],s.hidePointers))return;if(s.returnTags)if(s.simplifyValues&&(n=o.simplifyValue(n,r)),s.resolveTagNames){var a,u=(e===i.GPSIFD?p.gps:p.exif)[t];u||(u=p.exif[t]),l.hasOwnProperty(u)||(l[u]=n)}else l.push({section:e,type:t,value:n})}}))&&(d=m):s.imageSize&&"SOF"===r.getSectionName(e).name&&(u=r.getSizeFromSOFSection(n))}),s.simplifyValues&&(o.castDegreeValues(m,g),o.castDateValues(m,g)),new a(t,l,u,c,f,h,d)}},t.exports=s},{"./exif":245,"./exif-tags":244,"./jpeg":246,"./simplify":248}],248:[function(e,t,n){var r=e("./exif"),i=e("./date"),o=[{section:r.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:r.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],a=[{section:r.SubIFD,type:306,name:"ModifyDate"},{section:r.SubIFD,type:36867,name:"DateTimeOriginal"},{section:r.SubIFD,type:36868,name:"CreateDate"},{section:r.SubIFD,type:306,name:"ModifyDate"}];t.exports={castDegreeValues:function(e,t){o.forEach(function(n){var r=e(n);if(r){var i,o=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,a=(r[0]+r[1]/60+r[2]/3600)*o;t(n,a)}})},castDateValues:function(e,t){a.forEach(function(n){var r=e(n);if(r){var o=i.parseExifDate(r);void 0!==o&&t(n,o)}})},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map(function(e){return 10===t||5===t?e[0]/e[1]:e})).length&&(e=e[0]),e}}},{"./date":242,"./exif":245}],249:[function(e,t,n){"use strict";var r,i=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/toConsumableArray")),o=function e(t){return(0,i.default)(t).map(function(e){return e.charCodeAt(0)})},a=o("META-INF/mozilla.rsa"),s=o("[Content_Types].xml"),l=o("_rels/.rels");t.exports=function(e){var t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return null;var n=function e(n,r){r=Object.assign({offset:0},r);for(var i=0;i<n.length;i++)if(r.mask){if(n[i]!==(r.mask[i]&t[i+r.offset]))return!1}else if(n[i]!==t[i+r.offset])return!1;return!0},r=function e(t,r){return n(o(t),r)};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(a,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex(function(e,t,r){return t>=n&&80===r[t]&&75===r[t+1]&&3===r[t+2]&&4===r[t+3]})},c=0,f=!1,h=null;do{var d=c+30;if(f||(f=n(s,{offset:d})||n(l,{offset:d})),h||(r("word/",{offset:d})?h={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:d})?h={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:d})&&(h={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),f&&h)return h;c=u(t,d)}while(c>=0);if(h)return h}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){var p=t.subarray(4,4100),m=p.findIndex(function(e,t,n){return 66===n[t]&&130===n[t+1]});if(-1!==m){var g=m+3,b=function e(t){return(0,i.default)(t).every(function(e,t){return p[g+t]===e.charCodeAt(0)})};if(b("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(b("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var y=0;y<2&&y<t.length-16;y++){if(n([73,68,51],{offset:y})||n([255,226],{offset:y,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:y,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:y,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:y,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([102,116,121,112,77,52,65],{offset:4})||n([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(n([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([102,116,121,112],{offset:4})){if(n([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(n([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(n([104,101,105,99],{offset:8})||n([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(n([104,101,118,99],{offset:8})||n([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19}],250:[function(e,t,n){"use strict";var r=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function e(t,n,r){for(var i=0,a=t.length;i<a;i++)o.call(t,i)&&(null==r?n(t[i],i,t):n.call(r,t[i],i,t))},s=function e(t,n,r){for(var i=0,o=t.length;i<o;i++)null==r?n(t.charAt(i),i,t):n.call(r,t.charAt(i),i,t)},l=function e(t,n,r){for(var i in t)o.call(t,i)&&(null==r?n(t[i],i,t):n.call(r,t[i],i,t))},u=function e(t,n,o){if(!r(n))throw new TypeError("iterator must be a function");var u;arguments.length>=3&&(u=o),"[object Array]"===i.call(t)?a(t,n,u):"string"==typeof t?s(t,n,u):l(t,n,u)};t.exports=u},{"is-callable":256}],251:[function(e,n,r){(function(e){var t;t=void 0!==o?o:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],252:[function(e,t,n){var r=e("http"),i=e("url"),o=t.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),r.request.call(this,e,t)},o.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},{http:335,url:359}],253:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},{}],254:[function(e,t,n){"function"==typeof Object.create?t.exports=function e(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function e(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],255:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],256:[function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function e(t){try{var n=r.call(t);return i.test(n)}catch(e){return!1}},a=function e(t){try{return!o(t)&&(r.call(t),!0)}catch(e){return!1}},s=Object.prototype.toString,l="[object Function]",u="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function e(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(c)return a(t);if(o(t))return!1;var n=s.call(t);return n===l||n===u}},{}],257:[function(e,t,n){t.exports=i;var r=Object.prototype.toString;function i(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||void 0!==o&&(e===o.setTimeout||e===o.alert||e===o.confirm||e===o.prompt)}},{}],258:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],259:[function(e,t,n){var r=e("./lib/encoder"),i=e("./lib/decoder");t.exports={encode:r,decode:i}},{"./lib/decoder":260,"./lib/encoder":261}],260:[function(e,t,n){(function(e){var n=function e(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),n=4017,r=799,i=3406,o=2276,a=1567,s=3784,l=5793,u=2896;function c(){}function f(e,t){for(var n=0,r=[],i,o,a=16;a>0&&!e[a-1];)a--;r.push({children:[],index:0});var s=r[0],l;for(i=0;i<a;i++){for(o=0;o<e[i];o++){for((s=r.pop()).children[s.index]=t[n];s.index>0;)s=r.pop();for(s.index++,r.push(s);r.length<=i;)r.push(l={children:[],index:0}),s.children[s.index]=l.children,s=l;n++}i+1<a&&(r.push(l={children:[],index:0}),s.children[s.index]=l.children,s=l)}return r[0].children}function h(e,n,r,i,o,a,s,l,u){var c=r.precision,f=r.samplesPerLine,h=r.scanLines,d=r.mcusPerLine,p=r.progressive,m=r.maxH,g=r.maxV,b=n,y=0,v=0;function w(){if(v>0)return y>>--v&1;if(255==(y=e[n++])){var t=e[n++];if(t)throw new Error("unexpected marker: "+(y<<8|t).toString(16))}return v=7,y>>>7}function x(e){for(var t=e,n;null!==(n=w());){if("number"==typeof(t=t[n]))return t;if("object"!=typeof t)throw new Error("invalid huffman sequence")}return null}function _(e){for(var t=0;e>0;){var n=w();if(null===n)return;t=t<<1|n,e--}return t}function S(e){var t=_(e);return t>=1<<e-1?t:t+(-1<<e)+1}function E(e,n){var r=x(e.huffmanTableDC),i=0===r?0:S(r);n[0]=e.pred+=i;for(var o=1;o<64;){var a=x(e.huffmanTableAC),s=15&a,l=a>>4;if(0!==s){var u;n[t[o+=l]]=S(s),o++}else{if(l<15)break;o+=16}}}function C(e,t){var n=x(e.huffmanTableDC),r=0===n?0:S(n)<<u;t[0]=e.pred+=r}function k(e,t){t[0]|=w()<<u}var O=0;function T(e,n){if(O>0)O--;else for(var r=a,i=s;r<=i;){var o=x(e.huffmanTableAC),l=15&o,c=o>>4;if(0!==l){var f;n[t[r+=c]]=S(l)*(1<<u),r++}else{if(c<15){O=_(c)+(1<<c)-1;break}r+=16}}}var N=0,A;function I(e,n){for(var r=a,i=s,o=0;r<=i;){var l=t[r],c=n[l]<0?-1:1;switch(N){case 0:var f=x(e.huffmanTableAC),h=15&f,o=f>>4;if(0===h)o<15?(O=_(o)+(1<<o),N=4):(o=16,N=1);else{if(1!==h)throw new Error("invalid ACn encoding");A=S(h),N=o?2:3}continue;case 1:case 2:n[l]?n[l]+=(w()<<u)*c:0===--o&&(N=2==N?3:0);break;case 3:n[l]?n[l]+=(w()<<u)*c:(n[l]=A<<u,N=0);break;case 4:n[l]&&(n[l]+=(w()<<u)*c)}r++}4===N&&0===--O&&(N=0)}function j(e,t,n,r,i){var o,a=n%d,s=(n/d|0)*e.v+r,l=a*e.h+i;t(e,e.blocks[s][l])}function R(e,t,n){var r=n/e.blocksPerLine|0,i=n%e.blocksPerLine;t(e,e.blocks[r][i])}var M=i.length,P,D,L,F,B,z;z=p?0===a?0===l?C:k:0===l?T:I:E;var $=0,U,W,V,H;for(W=1==M?i[0].blocksPerLine*i[0].blocksPerColumn:d*r.mcusPerColumn,o||(o=W);$<W;){for(D=0;D<M;D++)i[D].pred=0;if(O=0,1==M)for(P=i[0],B=0;B<o;B++)R(P,z,$),$++;else for(B=0;B<o;B++){for(D=0;D<M;D++)for(V=(P=i[D]).h,H=P.v,L=0;L<H;L++)for(F=0;F<V;F++)j(P,z,$,L,F);if(++$===W)break}if(v=0,(U=e[n]<<8|e[n+1])<65280)throw new Error("marker was not found");if(!(U>=65488&&U<=65495))break;n+=2}return n-b}function d(e,t){var c=[],f=t.blocksPerLine,h=t.blocksPerColumn,d=f<<3,p=new Int32Array(64),m=new Uint8Array(64),g,b;function y(e,c,f){var h=t.quantizationTable,d,p,m,g,b,y,v,w,x,_=f,S;for(S=0;S<64;S++)_[S]=e[S]*h[S];for(S=0;S<8;++S){var E=8*S;0!=_[1+E]||0!=_[2+E]||0!=_[3+E]||0!=_[4+E]||0!=_[5+E]||0!=_[6+E]||0!=_[7+E]?(d=l*_[0+E]+128>>8,p=l*_[4+E]+128>>8,m=_[2+E],g=_[6+E],b=u*(_[1+E]-_[7+E])+128>>8,w=u*(_[1+E]+_[7+E])+128>>8,y=_[3+E]<<4,v=_[5+E]<<4,x=d-p+1>>1,d=d+p+1>>1,p=x,x=m*s+g*a+128>>8,m=m*a-g*s+128>>8,g=x,x=b-v+1>>1,b=b+v+1>>1,v=x,x=w+y+1>>1,y=w-y+1>>1,w=x,x=d-g+1>>1,d=d+g+1>>1,g=x,x=p-m+1>>1,p=p+m+1>>1,m=x,x=b*o+w*i+2048>>12,b=b*i-w*o+2048>>12,w=x,x=y*r+v*n+2048>>12,y=y*n-v*r+2048>>12,v=x,_[0+E]=d+w,_[7+E]=d-w,_[1+E]=p+v,_[6+E]=p-v,_[2+E]=m+y,_[5+E]=m-y,_[3+E]=g+b,_[4+E]=g-b):(x=l*_[0+E]+512>>10,_[0+E]=x,_[1+E]=x,_[2+E]=x,_[3+E]=x,_[4+E]=x,_[5+E]=x,_[6+E]=x,_[7+E]=x)}for(S=0;S<8;++S){var C=S;0!=_[8+C]||0!=_[16+C]||0!=_[24+C]||0!=_[32+C]||0!=_[40+C]||0!=_[48+C]||0!=_[56+C]?(d=l*_[0+C]+2048>>12,p=l*_[32+C]+2048>>12,m=_[16+C],g=_[48+C],b=u*(_[8+C]-_[56+C])+2048>>12,w=u*(_[8+C]+_[56+C])+2048>>12,y=_[24+C],v=_[40+C],x=d-p+1>>1,d=d+p+1>>1,p=x,x=m*s+g*a+2048>>12,m=m*a-g*s+2048>>12,g=x,x=b-v+1>>1,b=b+v+1>>1,v=x,x=w+y+1>>1,y=w-y+1>>1,w=x,x=d-g+1>>1,d=d+g+1>>1,g=x,x=p-m+1>>1,p=p+m+1>>1,m=x,x=b*o+w*i+2048>>12,b=b*i-w*o+2048>>12,w=x,x=y*r+v*n+2048>>12,y=y*n-v*r+2048>>12,v=x,_[0+C]=d+w,_[56+C]=d-w,_[8+C]=p+v,_[48+C]=p-v,_[16+C]=m+y,_[40+C]=m-y,_[24+C]=g+b,_[32+C]=g-b):(x=l*f[S+0]+8192>>14,_[0+C]=x,_[8+C]=x,_[16+C]=x,_[24+C]=x,_[32+C]=x,_[40+C]=x,_[48+C]=x,_[56+C]=x)}for(S=0;S<64;++S){var k=128+(_[S]+8>>4);c[S]=k<0?0:k>255?255:k}}for(var v=0;v<h;v++){var w=v<<3;for(g=0;g<8;g++)c.push(new Uint8Array(d));for(var x=0;x<f;x++){y(t.blocks[v][x],m,p);var _=0,S=x<<3;for(b=0;b<8;b++){var E=c[w+b];for(g=0;g<8;g++)E[S+g]=m[_++]}}}return c}function p(e){return e<0?0:e>255?255:e}return c.prototype={load:function e(t){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var e=new Uint8Array(n.response||n.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),n.send(null)},parse:function e(n){var r=0,i=n.length;function o(){var e=n[r]<<8|n[r+1];return r+=2,e}function a(){var e=o(),t=n.subarray(r,r+e-2);return r+=t.length,t}function s(e){var t=0,n=0,r,i;for(i in e.components)e.components.hasOwnProperty(i)&&(t<(r=e.components[i]).h&&(t=r.h),n<r.v&&(n=r.v));var o=Math.ceil(e.samplesPerLine/8/t),a=Math.ceil(e.scanLines/8/n);for(i in e.components)if(e.components.hasOwnProperty(i)){r=e.components[i];for(var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*r.h/t),l=Math.ceil(Math.ceil(e.scanLines/8)*r.v/n),u=o*r.h,c=a*r.v,f=[],h=0;h<c;h++){for(var d=[],p=0;p<u;p++)d.push(new Int32Array(64));f.push(d)}r.blocksPerLine=s,r.blocksPerColumn=l,r.blocks=f}e.maxH=t,e.maxV=n,e.mcusPerLine=o,e.mcusPerColumn=a}var l=null,u=null,c=null,p,m,g=[],b=[],y=[],v=[],w=o();if(65496!=w)throw new Error("SOI not found");for(w=o();65497!=w;){var x,_,S;switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=a();65504===w&&74===E[0]&&70===E[1]&&73===E[2]&&70===E[3]&&0===E[4]&&(l={version:{major:E[5],minor:E[6]},densityUnits:E[7],xDensity:E[8]<<8|E[9],yDensity:E[10]<<8|E[11],thumbWidth:E[12],thumbHeight:E[13],thumbData:E.subarray(14,14+3*E[12]*E[13])}),65518===w&&65===E[0]&&100===E[1]&&111===E[2]&&98===E[3]&&101===E[4]&&0===E[5]&&(u={version:E[6],flags0:E[7]<<8|E[8],flags1:E[9]<<8|E[10],transformCode:E[11]});break;case 65499:for(var C,k=o()+r-2;r<k;){var O=n[r++],T=new Int32Array(64);if(O>>4==0)for(_=0;_<64;_++){var N;T[N=t[_]]=n[r++]}else{if(O>>4!=1)throw new Error("DQT: invalid table spec");for(_=0;_<64;_++){var N;T[N=t[_]]=o()}}g[15&O]=T}break;case 65472:case 65473:case 65474:o(),(p={}).extended=65473===w,p.progressive=65474===w,p.precision=n[r++],p.scanLines=o(),p.samplesPerLine=o(),p.components={},p.componentsOrder=[];var A=n[r++],I,j=0,R=0;for(x=0;x<A;x++){I=n[r];var M=n[r+1]>>4,P=15&n[r+1],D=n[r+2];p.componentsOrder.push(I),p.components[I]={h:M,v:P,quantizationIdx:D},r+=3}s(p),b.push(p);break;case 65476:var L=o();for(x=2;x<L;){var F=n[r++],B=new Uint8Array(16),z=0;for(_=0;_<16;_++,r++)z+=B[_]=n[r];var $=new Uint8Array(z);for(_=0;_<z;_++,r++)$[_]=n[r];x+=17+z,(F>>4==0?v:y)[15&F]=f(B,$)}break;case 65501:o(),m=o();break;case 65498:var U=o(),W=n[r++],V=[],H;for(x=0;x<W;x++){H=p.components[n[r++]];var G=n[r++];H.huffmanTableDC=v[G>>4],H.huffmanTableAC=y[15&G],V.push(H)}var q=n[r++],K=n[r++],Y=n[r++],X=h(n,r,p,V,m,q,K,Y>>4,15&Y);r+=X;break;case 65535:255!==n[r]&&r--;break;default:if(255==n[r-3]&&n[r-2]>=192&&n[r-2]<=254){r-=3;break}throw new Error("unknown JPEG marker "+w.toString(16))}w=o()}if(1!=b.length)throw new Error("only single frame JPEGs supported");for(var x=0;x<b.length;x++){var Z=b[x].components;for(var _ in Z)Z[_].quantizationTable=g[Z[_].quantizationIdx],delete Z[_].quantizationIdx}this.width=p.samplesPerLine,this.height=p.scanLines,this.jfif=l,this.adobe=u,this.components=[];for(var x=0;x<p.componentsOrder.length;x++){var H=p.components[p.componentsOrder[x]];this.components.push({lines:d(p,H),scaleX:H.h/p.maxH,scaleY:H.v/p.maxV})}},getData:function e(t,n){var r=this.width/t,i=this.height/n,o,a,s,l,u,c,f,h,d,m,g=0,b,y,v,w,x,_,S,E,C,k,O,T=t*n*this.components.length,N=new Uint8Array(T);switch(this.components.length){case 1:for(o=this.components[0],m=0;m<n;m++)for(u=o.lines[0|m*o.scaleY*i],d=0;d<t;d++)b=u[0|d*o.scaleX*r],N[g++]=b;break;case 2:for(o=this.components[0],a=this.components[1],m=0;m<n;m++)for(u=o.lines[0|m*o.scaleY*i],c=a.lines[0|m*a.scaleY*i],d=0;d<t;d++)b=u[0|d*o.scaleX*r],N[g++]=b,b=c[0|d*a.scaleX*r],N[g++]=b;break;case 3:for(O=!0,this.adobe&&this.adobe.transformCode?O=!0:void 0!==this.colorTransform&&(O=!!this.colorTransform),o=this.components[0],a=this.components[1],s=this.components[2],m=0;m<n;m++)for(u=o.lines[0|m*o.scaleY*i],c=a.lines[0|m*a.scaleY*i],f=s.lines[0|m*s.scaleY*i],d=0;d<t;d++)O?(b=u[0|d*o.scaleX*r],y=c[0|d*a.scaleX*r],E=p(b+1.402*((v=f[0|d*s.scaleX*r])-128)),C=p(b-.3441363*(y-128)-.71413636*(v-128)),k=p(b+1.772*(y-128))):(E=u[0|d*o.scaleX*r],C=c[0|d*a.scaleX*r],k=f[0|d*s.scaleX*r]),N[g++]=E,N[g++]=C,N[g++]=k;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(O=!1,this.adobe&&this.adobe.transformCode?O=!0:void 0!==this.colorTransform&&(O=!!this.colorTransform),o=this.components[0],a=this.components[1],s=this.components[2],l=this.components[3],m=0;m<n;m++)for(u=o.lines[0|m*o.scaleY*i],c=a.lines[0|m*a.scaleY*i],f=s.lines[0|m*s.scaleY*i],h=l.lines[0|m*l.scaleY*i],d=0;d<t;d++)O?(b=u[0|d*o.scaleX*r],y=c[0|d*a.scaleX*r],v=f[0|d*s.scaleX*r],w=h[0|d*l.scaleX*r],x=255-p(b+1.402*(v-128)),_=255-p(b-.3441363*(y-128)-.71413636*(v-128)),S=255-p(b+1.772*(y-128))):(x=u[0|d*o.scaleX*r],_=c[0|d*a.scaleX*r],S=f[0|d*s.scaleX*r],w=h[0|d*l.scaleX*r]),N[g++]=255-x,N[g++]=255-_,N[g++]=255-S,N[g++]=255-w;break;default:throw"Unsupported color mode"}return N},copyToImageData:function e(t){var n=t.width,r=t.height,i=t.data,o=this.getData(n,r),a=0,s=0,l,u,c,f,h,d,m,g,b;switch(this.components.length){case 1:for(u=0;u<r;u++)for(l=0;l<n;l++)c=o[a++],i[s++]=c,i[s++]=c,i[s++]=c,i[s++]=255;break;case 3:for(u=0;u<r;u++)for(l=0;l<n;l++)m=o[a++],g=o[a++],b=o[a++],i[s++]=m,i[s++]=g,i[s++]=b,i[s++]=255;break;case 4:for(u=0;u<r;u++)for(l=0;l<n;l++)h=o[a++],d=o[a++],c=o[a++],m=255-p(h*(1-(f=o[a++])/255)+f),g=255-p(d*(1-f/255)+f),b=255-p(c*(1-f/255)+f),i[s++]=m,i[s++]=g,i[s++]=b,i[s++]=255;break;default:throw"Unsupported color mode"}}},c}();function r(t,r){var i=new Uint8Array(t),o=new n;o.parse(i);var a={width:o.width,height:o.height,data:r?new Uint8Array(o.width*o.height*4):new e(o.width*o.height*4)};return o.copyToImageData(a),a}t.exports=r}).call(this,e("buffer").Buffer)},{buffer:47}],261:[function(e,t,n){(function(e){var n=n||function(t){return new e(t).toString("base64")};function r(t){var n=this,r=Math.round,i=Math.floor,o=new Array(64),a=new Array(64),s=new Array(64),l=new Array(64),u,c,f,h,d=new Array(65535),p=new Array(65535),m=new Array(64),g=new Array(64),b=[],y=0,v=7,w=new Array(64),x=new Array(64),_=new Array(64),S=new Array(256),E=new Array(2048),C,k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function P(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),o[k[n]]=r}for(var u=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],c=0;c<64;c++){var f=i((u[c]*e+50)/100);f<1?f=1:f>255&&(f=255),a[k[c]]=f}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)s[d]=1/(o[k[d]]*h[p]*h[m]*8),l[d]=1/(a[k[d]]*h[p]*h[m]*8),d++}function D(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function L(){u=D(O,T),c=D(I,j),f=D(N,A),h=D(R,M)}function F(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)p[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)p[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=t-1+i;e<<=1,t<<=1}}function B(){for(var e=0;e<256;e++)E[e]=19595*e,E[e+256>>0]=38470*e,E[e+512>>0]=7471*e+32768,E[e+768>>0]=-11059*e,E[e+1024>>0]=-21709*e,E[e+1280>>0]=32768*e+8421375,E[e+1536>>0]=-27439*e,E[e+1792>>0]=-5329*e}function z(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(y|=1<<v),n--,--v<0&&(255==y?($(255),$(0)):$(y),v=7,y=0)}function $(e){b.push(e)}function U(e){$(e>>8&255),$(255&e)}function W(e,t){var n,r,i,o,a,s,l,u,c=0,f,h=8,d=64,p;for(f=0;f<8;++f){n=e[c],r=e[c+1],i=e[c+2],o=e[c+3],a=e[c+4],s=e[c+5],l=e[c+6];var g=n+(u=e[c+7]),b=n-u,y=r+l,v=r-l,w=i+s,x=i-s,_=o+a,S=o-a,E=g+_,C=g-_,k=y+w,O=y-w;e[c]=E+k,e[c+4]=E-k;var T=.707106781*(O+C);e[c+2]=C+T,e[c+6]=C-T;var N=.382683433*((E=S+x)-(O=v+b)),A=.5411961*E+N,I=1.306562965*O+N,j=.707106781*(k=x+v),R=b+j,M=b-j;e[c+5]=M+A,e[c+3]=M-A,e[c+1]=R+I,e[c+7]=R-I,c+=8}for(c=0,f=0;f<8;++f){n=e[c],r=e[c+8],i=e[c+16],o=e[c+24],a=e[c+32],s=e[c+40],l=e[c+48];var P=n+(u=e[c+56]),D=n-u,L=r+l,F=r-l,B=i+s,z=i-s,$=o+a,U=o-a,W=P+$,V=P-$,H=L+B,G=L-B;e[c]=W+H,e[c+32]=W-H;var q=.707106781*(G+V);e[c+16]=V+q,e[c+48]=V-q;var K=.382683433*((W=U+z)-(G=F+D)),Y=.5411961*W+K,X=1.306562965*G+K,Z=.707106781*(H=z+F),J=D+Z,Q=D-Z;e[c+40]=Q+Y,e[c+24]=Q-Y,e[c+8]=J+X,e[c+56]=J-X,c++}for(f=0;f<64;++f)p=e[f]*t[f],m[f]=p>0?p+.5|0:p-.5|0;return m}function V(){U(65504),U(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),U(1),U(1),$(0),$(0)}function H(e,t){U(65472),U(17),$(8),U(t),U(e),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}function G(){U(65499),U(132),$(0);for(var e=0;e<64;e++)$(o[e]);$(1);for(var t=0;t<64;t++)$(a[t])}function q(){U(65476),U(418),$(0);for(var e=0;e<16;e++)$(O[e+1]);for(var t=0;t<=11;t++)$(T[t]);$(16);for(var n=0;n<16;n++)$(N[n+1]);for(var r=0;r<=161;r++)$(A[r]);$(1);for(var i=0;i<16;i++)$(I[i+1]);for(var o=0;o<=11;o++)$(j[o]);$(17);for(var a=0;a<16;a++)$(R[a+1]);for(var s=0;s<=161;s++)$(M[s])}function K(){U(65498),U(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0)}function Y(e,t,n,r,i){for(var o=i[0],a=i[240],s,l=16,u=63,c=64,f=W(e,t),h=0;h<64;++h)g[k[h]]=f[h];var m=g[0]-n;n=g[0],0==m?z(r[0]):(z(r[p[s=32767+m]]),z(d[s]));for(var b=63;b>0&&0==g[b];b--);if(0==b)return z(o),n;for(var y=1,v;y<=b;){for(var w=y;0==g[y]&&y<=b;++y);var x=y-w;if(x>=16){v=x>>4;for(var _=1;_<=v;++_)z(a);x&=15}s=32767+g[y],z(i[(x<<4)+p[s]]),z(d[s]),y++}return 63!=b&&z(o),n}function X(){for(var e=String.fromCharCode,t=0;t<256;t++)S[t]=e(t)}function Z(e){if(e<=0&&(e=1),e>100&&(e=100),C!=e){var t=0;P(t=e<50?Math.floor(5e3/e):Math.floor(200-2*e)),C=e}}function J(){var e=(new Date).getTime();t||(t=50),X(),L(),F(),B(),Z(t);var n=(new Date).getTime()-e}this.encode=function(t,n){var r=(new Date).getTime();n&&Z(n),b=new Array,y=0,v=7,U(65496),V(),G(),H(t.width,t.height),q(),K();var i=0,o=0,a=0;y=0,v=7,this.encode.displayName="_encode_";for(var d=t.data,p=t.width,m=t.height,g=4*p,S=3*p,C,k=0,O,T,N,A,I,j,R,M,P,D;k<m;){for(C=0;C<g;){for(I=A=g*k+C,j=-1,R=0,M=0;M<64;M++)I=A+(R=M>>3)*g+(j=4*(7&M)),k+R>=m&&(I-=g*(k+1+R-m)),C+j>=g&&(I-=C+j-g+4),O=d[I++],T=d[I++],N=d[I++],w[M]=(E[O]+E[T+256>>0]+E[N+512>>0]>>16)-128,x[M]=(E[O+768>>0]+E[T+1024>>0]+E[N+1280>>0]>>16)-128,_[M]=(E[O+1280>>0]+E[T+1536>>0]+E[N+1792>>0]>>16)-128;i=Y(w,s,i,u,f),o=Y(x,l,o,c,h),a=Y(_,l,a,c,h),C+=32}k+=8}if(v>=0){var L=[];L[1]=v+1,L[0]=(1<<v+1)-1,z(L)}return U(65497),new e(b)},J()}function i(e,t){var n,i;return void 0===t&&(t=50),{data:new r(t).encode(e,t),width:e.width,height:e.height}}function o(e){var t="string"==typeof e?document.getElementById(e):e,n=document.createElement("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d");return r.drawImage(t,0,0),r.getImageData(0,0,n.width,n.height)}t.exports=i}).call(this,e("buffer").Buffer)},{buffer:47}],262:[function(e,t,n){(function(n){var r=e("path"),i=e("fs"),o=parseInt("0777",8);function a(e,t,s,l){"function"==typeof t?(s=t,t={}):t&&"object"==typeof t||(t={mode:t});var u=t.mode,c=t.fs||i;void 0===u&&(u=o&~n.umask()),l||(l=null);var f=s||function(){};e=r.resolve(e),c.mkdir(e,u,function(n){if(!n)return f(null,l=l||e);switch(n.code){case"ENOENT":a(r.dirname(e),t,function(n,r){n?f(n,r):a(e,t,f,r)});break;default:c.stat(e,function(e,t){e||!t.isDirectory()?f(n,l):f(null,l)})}})}t.exports=a.mkdirp=a.mkdirP=a,a.sync=function e(t,a,s){a&&"object"==typeof a||(a={mode:a});var l=a.mode,u=a.fs||i;void 0===l&&(l=o&~n.umask()),s||(s=null),t=r.resolve(t);try{u.mkdirSync(t,l),s=s||t}catch(n){switch(n.code){case"ENOENT":e(t,a,s=e(r.dirname(t),a,s));break;default:var c;try{c=u.statSync(t)}catch(e){throw n}if(!c.isDirectory())throw n}}return s}}).call(this,e("_process"))},{_process:312,fs:46,path:286}],263:[function(e,t,n){
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}t.exports=s()?Object.assign:function(e,t){for(var n,s=a(e),l,u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){l=r(n);for(var f=0;f<l.length;f++)o.call(n,l[f])&&(s[l[f]]=n[l[f]])}}return s}},{}],264:[function(e,t,n){"use strict";function r(e,t,n,r){var o=0,r,a=void 0===(r=void 0===r?{}:r).loop?null:r.loop,s=void 0===r.palette?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw new Error("Width/Height invalid.");function l(e){var t=e.length;if(t<2||t>256||t&t-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return t}e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;var u=0,c=0;if(null!==s){for(var f=l(s);f>>=1;)++u;if(f=1<<u,--u,void 0!==r.background){if((c=r.background)>=f)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=(null!==s?128:0)|u,e[o++]=c,e[o++]=0,null!==s)for(var h=0,d=s.length;h<d;++h){var p=s[h];e[o++]=p>>16&255,e[o++]=p>>8&255,e[o++]=255&p}if(null!==a){if(a<0||a>65535)throw new Error("Loop count invalid.");e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&a,e[o++]=a>>8&255,e[o++]=0}var m=!1;this.addFrame=function(t,n,r,a,u,c){if(!0===m&&(--o,m=!1),c=void 0===c?{}:c,t<0||n<0||t>65535||n>65535)throw new Error("x/y invalid.");if(r<=0||a<=0||r>65535||a>65535)throw new Error("Width/Height invalid.");if(u.length<r*a)throw new Error("Not enough pixels for the frame size.");var f=!0,h=c.palette;if(void 0!==h&&null!==h||(f=!1,h=s),void 0===h||null===h)throw new Error("Must supply either a local or global palette.");for(var d=l(h),p=0;d>>=1;)++p;d=1<<p;var g=void 0===c.delay?0:c.delay,b=void 0===c.disposal?0:c.disposal;if(b<0||b>3)throw new Error("Disposal out of range.");var y=!1,v=0;if(void 0!==c.transparent&&null!==c.transparent&&(y=!0,(v=c.transparent)<0||v>=d))throw new Error("Transparent color index.");if((0!==b||y||0!==g)&&(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=b<<2|(!0===y?1:0),e[o++]=255&g,e[o++]=g>>8&255,e[o++]=v,e[o++]=0),e[o++]=44,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=255&a,e[o++]=a>>8&255,e[o++]=!0===f?128|p-1:0,!0===f)for(var w=0,x=h.length;w<x;++w){var _=h[w];e[o++]=_>>16&255,e[o++]=_>>8&255,e[o++]=255&_}return o=i(e,o,p<2?2:p,u)},this.end=function(){return!1===m&&(e[o++]=59,m=!0),o},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(e){o=e}}function i(e,t,n,r){e[t++]=n;var i=t++,o=1<<n,a=o-1,s=o+1,l=s+1,u=n+1,c=0,f=0;function h(n){for(;c>=n;)e[t++]=255&f,f>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function d(e){f|=e<<c,c+=u,h(8)}var p=r[0]&a,m={};d(o);for(var g=1,b=r.length;g<b;++g){var y=r[g]&a,v=p<<8|y,w=m[v];if(void 0===w){for(f|=p<<c,c+=u;c>=8;)e[t++]=255&f,f>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);4096===l?(d(o),l=s+1,u=n+1,m={}):(l>=1<<u&&++u,m[v]=l++),p=y}else p=w}return d(p),d(s),h(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}function o(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s,l=1<<(7&i)+1,u=e[t++];e[t++];var c=null,f=null;o&&(c=t,f=l,t+=3*l);var h=!0,d=[],p=0,m=null,g=0,b=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(0===y)break;t+=y}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var v=e[t++];p=e[t++]|e[t++]<<8,m=e[t++],0==(1&v)&&(m=null),g=v>>2&7,t++;break;case 254:for(;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(0===y)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,E=e[t++],C,k=E>>6&1,O,T=1<<(7&E)+1,N=c,A=f,I=!1;if(E>>7){var I=!0;N=t,A=T,t+=3*T}var j=t;for(t++;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(0===y)break;t+=y}d.push({x:w,y:x,width:_,height:S,has_local_palette:I,palette_offset:N,palette_size:A,data_offset:j,data_length:t-j,transparent_index:m,interlaced:!!k,delay:p,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);a(e,i.data_offset,s,o);var l=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,f=n-c,h=c,d=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),m=d,g=4*f;!0===i.interlaced&&(g+=4*n*7);for(var b=8,y=0,v=s.length;y<v;++y){var w=s[y];if(0===h&&(h=c,(m+=g)>=p&&(g=4*f+4*n*(b-1),m=d+(c+f)*(b<<1),b>>=1)),w===u)m+=4;else{var x=e[l+3*w],_=e[l+3*w+1],S=e[l+3*w+2];r[m++]=S,r[m++]=_,r[m++]=x,r[m++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);a(e,i.data_offset,s,o);var l=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,f=n-c,h=c,d=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),m=d,g=4*f;!0===i.interlaced&&(g+=4*n*7);for(var b=8,y=0,v=s.length;y<v;++y){var w=s[y];if(0===h&&(h=c,(m+=g)>=p&&(g=4*f+4*n*(b-1),m=d+(c+f)*(b<<1),b>>=1)),w===u)m+=4;else{var x=e[l+3*w],_=e[l+3*w+1],S=e[l+3*w+2];r[m++]=x,r[m++]=_,r[m++]=S,r[m++]=255}--h}}}function a(e,t,n,r){for(var i=e[t++],o=1<<i,a=o+1,s=a+1,l=i+1,u=(1<<l)-1,c=0,f=0,h=0,d=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&0!==d;)f|=e[t++]<<c,c+=8,1===d?d=e[t++]:--d;if(c<l)break;var g=f&u;if(f>>=l,c-=l,g!==o){if(g===a)break;for(var b=g<s?g:m,y=0,v=b;v>o;)v=p[v]>>8,++y;var w=v,x;if(h+y+(b!==g?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[h++]=w;var _=h+=y;for(b!==g&&(n[h++]=w),v=b;y--;)v=p[v],n[--_]=255&v,v>>=8;null!==m&&s<4096&&(p[s++]=m<<8|w,s>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else s=a+1,u=(1<<(l=i+1))-1,m=null}return h!==r&&console.log("Warning, gif stream shorter than expected."),n}try{n.GifWriter=r,n.GifReader=o}catch(e){}},{}],265:[function(e,t,n){"use strict";var r,i,o,a,s={};(0,e("./lib/utils/common").assign)(s,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=s},{"./lib/deflate":266,"./lib/inflate":267,"./lib/utils/common":268,"./lib/zlib/constants":271}],266:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=4,f=0,h=1,d=2,p=-1,m=0,g=8;function b(e){if(!(this instanceof b))return new b(e);this.options=i.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,u))!==f)throw new Error(a[n]);this._dict_set=!0}}function y(e,t){var n=new b(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}function v(e,t){return(t=t||{}).raw=!0,y(e,t)}function w(e,t){return(t=t||{}).gzip=!0,y(e,t)}b.prototype.push=function(e,t){var n=this.strm,a=this.options.chunkSize,s,u;if(this.ended)return!1;u=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new i.Buf8(a),n.next_out=0,n.avail_out=a),1!==(s=r.deflate(n,u))&&s!==f)return this.onEnd(s),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==u&&2!==u)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(n.output,n.next_out))):this.onData(i.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==s);return 4===u?(s=r.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===f):2!==u||(this.onEnd(f),n.avail_out=0,!0)},b.prototype.onData=function(e){this.chunks.push(e)},b.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=b,n.deflate=y,n.deflateRaw=v,n.gzip=w},{"./utils/common":268,"./utils/strings":269,"./zlib/deflate":273,"./zlib/messages":278,"./zlib/zstream":280}],267:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}function d(e,t){return(t=t||{}).raw=!0,h(e,t)}f.prototype.push=function(e,t){var n=this.strm,s=this.options.chunkSize,l=this.options.dictionary,u,f,h,d,p,m,g=!1;if(this.ended)return!1;f=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?n.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new i.Buf8(s),n.next_out=0,n.avail_out=s),(u=r.inflate(n,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&l&&(m="string"==typeof l?o.string2buf(l):"[object ArrayBuffer]"===c.call(l)?new Uint8Array(l):l,u=r.inflateSetDictionary(this.strm,m)),u===a.Z_BUF_ERROR&&!0===g&&(u=a.Z_OK,g=!1),u!==a.Z_STREAM_END&&u!==a.Z_OK)return this.onEnd(u),this.ended=!0,!1;n.next_out&&(0!==n.avail_out&&u!==a.Z_STREAM_END&&(0!==n.avail_in||f!==a.Z_FINISH&&f!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=o.utf8border(n.output,n.next_out),d=n.next_out-h,p=o.buf2string(n.output,h),n.next_out=d,n.avail_out=s-d,d&&i.arraySet(n.output,n.output,h,d,0),this.onData(p)):this.onData(i.shrinkBuf(n.output,n.next_out)))),0===n.avail_in&&0===n.avail_out&&(g=!0)}while((n.avail_in>0||0===n.avail_out)&&u!==a.Z_STREAM_END);return u===a.Z_STREAM_END&&(f=a.Z_FINISH),f===a.Z_FINISH?(u=r.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===a.Z_OK):f!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),n.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=h,n.inflateRaw=d,n.ungzip=h},{"./utils/common":268,"./utils/strings":269,"./zlib/constants":271,"./zlib/gzheader":274,"./zlib/inflate":276,"./zlib/messages":278,"./zlib/zstream":280}],268:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{dup:35}],269:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},{"./common":268}],270:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{dup:36}],271:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],272:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{dup:38}],273:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./trees"),o=e("./adler32"),a=e("./crc32"),s=e("./messages"),l=0,u=1,c=3,f=4,h=5,d=0,p=1,m=-2,g=-3,b=-5,y=-1,v=1,w=2,x=3,_=4,S=0,E=2,C=8,k=9,O=15,T=8,N=29,A=256,I=286,j=30,R=19,M=2*I+1,P=15,D=3,L=258,F=L+D+1,B=32,z=42,$=69,U=73,W=91,V=103,H=113,G=666,q=1,K=2,Y=3,X=4,Z=3,J;function Q(e,t){return e.msg=s[t],t}function ee(e){return(e<<1)-(e>4?9:0)}function te(e){for(var t=e.length;--t>=0;)e[t]=0}function ne(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function re(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ne(e.strm)}function ie(e,t){e.pending_buf[e.pending++]=t}function oe(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t,n,i){var s=e.avail_in;return s>i&&(s=i),0===s?0:(e.avail_in-=s,r.arraySet(t,e.input,e.next_in,s,n),1===e.state.wrap?e.adler=o(e.adler,t,s,n):2===e.state.wrap&&(e.adler=a(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)}function se(e,t){var n=e.max_chain_length,r=e.strstart,i,o,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,u=e.window,c=e.w_mask,f=e.prev,h=e.strstart+L,d=u[r+a-1],p=u[r+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(i=t)+a]===p&&u[i+a-1]===d&&u[i]===u[r]&&u[++i]===u[r+1]){r+=2,i++;do{}while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<h);if(o=L-(h-r),r=h-L,o>a){if(e.match_start=t,a=o,o>=s)break;d=u[r+a-1],p=u[r+a]}}}while((t=f[t&c])>l&&0!=--n);return a<=e.lookahead?a:e.lookahead}function le(e){var t=e.w_size,n,i,o,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-F)){r.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=i=e.hash_size;do{o=e.head[--n],e.head[n]=o>=t?o-t:0}while(--i);n=i=t;do{o=e.prev[--n],e.prev[n]=o>=t?o-t:0}while(--i);a+=t}if(0===e.strm.avail_in)break;if(i=ae(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=D)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+D-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<F&&0!==e.strm.avail_in)}function ue(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(le(e),0===e.lookahead&&t===l)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,re(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-F&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):(e.strstart>e.block_start&&(re(e,!1),e.strm.avail_out),q)}function ce(e,t){for(var n,r;;){if(e.lookahead<F){if(le(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n)),e.match_length>=D)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function fe(e,t){for(var n,r,o;;){if(e.lookahead<F){if(le(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-F&&(e.match_length=se(e,n),e.match_length<=5&&(e.strategy===v||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-D,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(re(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&re(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function he(e,t){for(var n,r,o,a,s=e.window;;){if(e.lookahead<=L){if(le(e),e.lookahead<=L&&t===l)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(r=s[o=e.strstart-1])===s[++o]&&r===s[++o]&&r===s[++o]){a=e.strstart+L;do{}while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<a);e.match_length=L-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=i._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function de(e,t){for(var n;;){if(0===e.lookahead&&(le(e),0===e.lookahead)){if(t===l)return q;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(re(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===f?(re(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(re(e,!1),0===e.strm.avail_out)?q:K}function pe(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function me(e){e.window_size=2*e.w_size,te(e.head),e.max_lazy_match=J[e.level].max_lazy,e.good_match=J[e.level].good_length,e.nice_match=J[e.level].nice_length,e.max_chain_length=J[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*M),this.dyn_dtree=new r.Buf16(2*(2*j+1)),this.bl_tree=new r.Buf16(2*(2*R+1)),te(this.dyn_ltree),te(this.dyn_dtree),te(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(P+1),this.heap=new r.Buf16(2*I+1),te(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*I+1),te(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=E,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:H,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),d):Q(e,m)}function ye(e){var t=be(e);return t===d&&me(e.state),t}function ve(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,d):m}function we(e,t,n,i,o,a){if(!e)return m;var s=1;if(t===y&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>k||n!==C||i<8||i>15||t<0||t>9||a<0||a>_)return Q(e,m);8===i&&(i=9);var l=new ge;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+D-1)/D),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,ye(e)}function xe(e,t){return we(e,t,C,O,T,S)}function _e(e,t){var n,r,o,s;if(!e||!e.state||t>h||t<0)return e?Q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===G&&t!==f)return Q(e,0===e.avail_out?b:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===z)if(2===r.wrap)e.adler=0,ie(r,31),ie(r,139),ie(r,8),r.gzhead?(ie(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ie(r,255&r.gzhead.time),ie(r,r.gzhead.time>>8&255),ie(r,r.gzhead.time>>16&255),ie(r,r.gzhead.time>>24&255),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ie(r,255&r.gzhead.extra.length),ie(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=$):(ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,0),ie(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),ie(r,Z),r.status=H);else{var g=C+(r.w_bits-8<<4)<<8,y=-1;g|=(y=r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=B),g+=31-g%31,r.status=H,oe(r,g),0!==r.strstart&&(oe(r,e.adler>>>16),oe(r,65535&e.adler)),e.adler=1}if(r.status===$)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending!==r.pending_buf_size));)ie(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),ne(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ie(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=a(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ne(e),r.pending+2<=r.pending_buf_size&&(ie(r,255&e.adler),ie(r,e.adler>>8&255),e.adler=0,r.status=H)):r.status=H),0!==r.pending){if(ne(e),0===e.avail_out)return r.last_flush=-1,d}else if(0===e.avail_in&&ee(t)<=ee(n)&&t!==f)return Q(e,b);if(r.status===G&&0!==e.avail_in)return Q(e,b);if(0!==e.avail_in||0!==r.lookahead||t!==l&&r.status!==G){var v=r.strategy===w?de(r,t):r.strategy===x?he(r,t):J[r.level].func(r,t);if(v!==Y&&v!==X||(r.status=G),v===q||v===Y)return 0===e.avail_out&&(r.last_flush=-1),d;if(v===K&&(t===u?i._tr_align(r):t!==h&&(i._tr_stored_block(r,0,0,!1),t===c&&(te(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ne(e),0===e.avail_out))return r.last_flush=-1,d}return t!==f?d:r.wrap<=0?p:(2===r.wrap?(ie(r,255&e.adler),ie(r,e.adler>>8&255),ie(r,e.adler>>16&255),ie(r,e.adler>>24&255),ie(r,255&e.total_in),ie(r,e.total_in>>8&255),ie(r,e.total_in>>16&255),ie(r,e.total_in>>24&255)):(oe(r,e.adler>>>16),oe(r,65535&e.adler)),ne(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?d:p)}function Se(e){var t;return e&&e.state?(t=e.state.status)!==z&&t!==$&&t!==U&&t!==W&&t!==V&&t!==H&&t!==G?Q(e,m):(e.state=null,t===H?Q(e,g):d):m}function Ee(e,t){var n=t.length,i,a,s,l,u,c,f,h;if(!e||!e.state)return m;if(2===(l=(i=e.state).wrap)||1===l&&i.status!==z||i.lookahead)return m;for(1===l&&(e.adler=o(e.adler,t,n,0)),i.wrap=0,n>=i.w_size&&(0===l&&(te(i.head),i.strstart=0,i.block_start=0,i.insert=0),h=new r.Buf8(i.w_size),r.arraySet(h,t,n-i.w_size,i.w_size,0),t=h,n=i.w_size),u=e.avail_in,c=e.next_in,f=e.input,e.avail_in=n,e.next_in=0,e.input=t,le(i);i.lookahead>=D;){a=i.strstart,s=i.lookahead-(D-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+D-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++}while(--s);i.strstart=a,i.lookahead=D-1,le(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=D-1,i.match_available=0,e.next_in=c,e.input=f,e.avail_in=u,i.wrap=l,d}J=[new pe(0,0,0,0,ue),new pe(4,4,8,4,ce),new pe(4,5,16,8,ce),new pe(4,6,32,32,ce),new pe(4,4,16,16,fe),new pe(8,16,32,32,fe),new pe(8,16,128,128,fe),new pe(8,32,128,256,fe),new pe(32,128,258,1024,fe),new pe(32,258,258,4096,fe)],n.deflateInit=xe,n.deflateInit2=we,n.deflateReset=ye,n.deflateResetKeep=be,n.deflateSetHeader=ve,n.deflate=_e,n.deflateEnd=Se,n.deflateSetDictionary=Ee,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":268,"./adler32":270,"./crc32":272,"./messages":278,"./trees":279}],274:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],275:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40}],276:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"../utils/common":268,"./adler32":270,"./crc32":272,"./inffast":275,"./inftrees":277,dup:41}],277:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{"../utils/common":268,dup:42}],278:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],279:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var u=0,c=1,f=2,h=3,d=258,p=29,m=256,g=m+1+p,b=30,y=19,v=2*g+1,w=15,x=16,_=7,S=256,E=16,C=17,k=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=512,j=new Array(2*(g+2));l(j);var R=new Array(2*b);l(R);var M=new Array(512);l(M);var P=new Array(256);l(P);var D=new Array(p);l(D);var L=new Array(b),F,B,z;function $(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function W(e){return e<256?M[e]:M[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function H(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function G(e,t,n){H(e,n[2*t],n[2*t+1])}function q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function K(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length,u,c,f,h,d,p,m=0;for(h=0;h<=w;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<v;u++)(h=n[2*n[2*(c=e.heap[u])+1]+1]+1)>l&&(h=l,m++),n[2*c+1]=h,c>r||(e.bl_count[h]++,d=0,c>=s&&(d=a[c-s]),p=n[2*c],e.opt_len+=p*(h+d),o&&(e.static_len+=p*(i[2*c+1]+d)));if(0!==m){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(c=e.bl_count[h];0!==c;)(f=e.heap[--u])>r||(n[2*f+1]!==h&&(e.opt_len+=(h-n[2*f+1])*n[2*f],n[2*f+1]=h),c--)}}function X(e,t,n){var r=new Array(w+1),i=0,o,a;for(o=1;o<=w;o++)r[o]=i=i+n[o-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=q(r[s]++,s))}}function Z(){var e,t,n,r,i,o=new Array(w+1);for(n=0,r=0;r<p-1;r++)for(D[r]=n,e=0;e<1<<O[r];e++)P[n++]=r;for(P[n-1]=r,i=0,r=0;r<16;r++)for(L[r]=i,e=0;e<1<<T[r];e++)M[i++]=r;for(i>>=7;r<b;r++)for(L[r]=i<<7,e=0;e<1<<T[r]-7;e++)M[256+i++]=r;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)j[2*e+1]=8,e++,o[8]++;for(;e<=255;)j[2*e+1]=9,e++,o[9]++;for(;e<=279;)j[2*e+1]=7,e++,o[7]++;for(;e<=287;)j[2*e+1]=8,e++,o[8]++;for(X(j,g+1,o),e=0;e<b;e++)R[2*e+1]=5,R[2*e]=q(e,5);F=new $(j,O,m+1,g,w),B=new $(R,T,0,b,w),z=new $(new Array(0),N,0,y,_)}function J(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<b;t++)e.dyn_dtree[2*t]=0;for(t=0;t<y;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){Q(e),i&&(V(e,n),V(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function ne(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!te(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function re(e,t,n){var r,i,o=0,a,s;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?G(e,i,t):(G(e,(a=P[i])+m+1,t),0!==(s=O[a])&&H(e,i-=D[a],s),G(e,a=W(--r),n),0!==(s=T[a])&&H(e,r-=L[a],s))}while(o<e.last_lit);G(e,S,t)}function ie(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,l=-1,u;for(e.heap_len=0,e.heap_max=v,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)n[2*(u=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[2*u+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)ne(e,n,a);u=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*u]=n[2*a]+n[2*s],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=u,e.heap[1]=u++,ne(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),X(n,l,e.bl_count)}function oe(e,t,n){var r,i=-1,o,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*C]++:e.bl_tree[2*k]++,s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4))}function ae(e,t,n){var r,i=-1,o,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<u)do{G(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(G(e,o,e.bl_tree),s--),G(e,E,e.bl_tree),H(e,s-3,2)):s<=10?(G(e,C,e.bl_tree),H(e,s-3,3)):(G(e,k,e.bl_tree),H(e,s-11,7));s=0,i=o,0===a?(l=138,u=3):o===a?(l=6,u=3):(l=7,u=4)}}function se(e){var t;for(oe(e,e.dyn_ltree,e.l_desc.max_code),oe(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=y-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(H(e,t-257,5),H(e,n-1,5),H(e,r-4,4),i=0;i<r;i++)H(e,e.bl_tree[2*A[i]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function ue(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(n=32;n<m;n++)if(0!==e.dyn_ltree[2*n])return a;return o}l(L);var ce=!1;function fe(e){ce||(Z(),ce=!0),e.l_desc=new U(e.dyn_ltree,F),e.d_desc=new U(e.dyn_dtree,B),e.bl_desc=new U(e.bl_tree,z),e.bi_buf=0,e.bi_valid=0,J(e)}function he(e,t,n,r){H(e,(u<<1)+(r?1:0),3),ee(e,t,n,!0)}function de(e){H(e,c<<1,3),G(e,S,j),K(e)}function pe(e,t,n,r){var o,a,l=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=ue(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=se(e),o=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?he(e,t,n,r):e.strategy===i||a===o?(H(e,(c<<1)+(r?1:0),3),re(e,j,R)):(H(e,(f<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&Q(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+m+1)]++,e.dyn_dtree[2*W(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=fe,n._tr_stored_block=he,n._tr_flush_block=pe,n._tr_tally=me,n._tr_align=de},{"../utils/common":268}],280:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{dup:45}],281:[function(e,t,n){function r(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=i(s[0]):(o[o.length-1].data=i(s[0]),o.push({key:s[1],data:""}))}var l={key:r,data:{}};return o.forEach(function(e){l.data[e.key]=e.data}),l}function i(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?o(e):parseInt(e,10):""}function o(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function e(t){if(!t)throw new Error("no data provided");var n={pages:[],chars:[],kernings:[]},i=(t=t.toString().trim()).split(/\r\n?|\n/g);if(0===i.length)throw new Error("no data in BMFont file");for(var o=0;o<i.length;o++){var a=r(i[o],o);if(a)if("page"===a.key){if("number"!=typeof a.data.id)throw new Error("malformed file at line "+o+" -- needs page id=N");if("string"!=typeof a.data.file)throw new Error("malformed file at line "+o+' -- needs page file="path"');n.pages[a.data.id]=a.data.file}else"chars"===a.key||"kernings"===a.key||("char"===a.key?n.chars.push(a.data):"kerning"===a.key?n.kernings.push(a.data):n[a.key]=a.data)}return n}},{}],282:[function(e,t,n){var r=[66,77,70];function i(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),i=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=o(t,n);break;case 2:e.common=a(t,n);break;case 3:e.pages=s(t,n,i);break;case 4:e.chars=l(t,n,i);break;case 5:e.kernings=u(t,n,i)}return 5+i}function o(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=f(e,t+14),n}function a(e,t){var n={};n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8);var r=e.readUInt8(t+10);return n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}function s(e,t,n){for(var r=[],i=c(e,t),o=i.length+1,a=n/o,s=0;s<a;s++)r[s]=e.slice(t,t+i.length).toString("utf8"),t+=o;return r}function l(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),r[o]=a}return r}function u(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),r[o]=a}return r}function c(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}function f(e,t){return c(e,t).toString("utf8")}t.exports=function e(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");var n;if(!r.every(function(e,n){return t.readUInt8(n)===e}))throw new Error("BMFont missing BMF byte header");var o=3,a;if(t.readUInt8(o++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var s={kernings:[],chars:[]},l=0;l<5;l++)o+=i(s,t,o);return s}},{}],283:[function(e,t,n){var r=e("./parse-attribs"),i=e("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(e){var t;return s(e).reduce(function(e,t){var n;return e[l(t.nodeName)]=t.nodeValue,e},{})}function s(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}function l(e){return o[e.toLowerCase()]||e}t.exports=function e(t){t=t.toString();var n=i(t),o={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(e){var t=n.getElementsByTagName(e)[0];t&&(o[e]=r(a(t)))});var s=n.getElementsByTagName("pages")[0];if(!s)throw new Error("malformed file -- no <pages> element");for(var l=s.getElementsByTagName("page"),u=0;u<l.length;u++){var c=l[u],f=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(f))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');o.pages[parseInt(f,10)]=h}return["chars","kernings"].forEach(function(e){var t=n.getElementsByTagName(e)[0];if(t)for(var i=e.substring(0,e.length-1),s=t.getElementsByTagName(i),l=0;l<s.length;l++){var u=s[l];o[e].push(r(a(u)))}}),o}},{"./parse-attribs":284,"xml-parse-from-string":367}],284:[function(e,t,n){var r="chasrset";function i(e){return e.split(",").map(function(e){return parseInt(e,10)})}t.exports=function e(t){for(var n in"chasrset"in t&&(t.charset=t.chasrset,delete t.chasrset),t)"face"!==n&&"charset"!==n&&(t[n]="padding"===n||"spacing"===n?i(t[n]):parseInt(t[n],10));return t}},{}],285:[function(e,t,n){var r=e("trim"),i=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));void 0===t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":250,trim:358}],286:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t=0,n=-1,r=!0,i;for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===o(e,-1);return(e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:312}],287:[function(e,t,n){(function(n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("http"),o=e("https"),a=e("url"),s=e("querystring"),l=e("zlib"),u=e("util"),c=function e(t,u){if("string"!=typeof t&&!t.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var c="object"===(void 0===t?"undefined":r(t))?a.parse(t.url):a.parse(t),f={hostname:c.hostname,port:c.port||("http:"===c.protocol.toLowerCase()?80:443),path:c.path,method:"GET",headers:{},auth:c.auth||null,parse:"none",stream:!1};if("object"===(void 0===t?"undefined":r(t))&&(f=Object.assign(f,t)),f.port=Number(f.port),f.hasOwnProperty("timeout")&&delete f.timeout,!0===f.compressed&&(f.headers["accept-encoding"]="gzip, deflate"),t.hasOwnProperty("form")){if("object"!==r(t.form))throw new Error("phin 'form' option must be of type Object if present.");var h=s.stringify(t.form);f.headers["Content-Type"]="application/x-www-form-urlencoded",f.headers["Content-Length"]=n.byteLength(h),t.data=h}var d=void 0,p=function e(t){var r=t;!0===f.compressed&&("gzip"===t.headers["content-encoding"]?r=t.pipe(l.createGunzip()):"deflate"===t.headers["content-encoding"]&&(r=t.pipe(l.createInflate()))),!0===f.stream?(t.stream=r,u(null,t)):(t.body=new n([]),r.on("data",function(e){t.body=n.concat([t.body,e])}),r.on("end",function(){if(u){if("json"===f.parse)try{t.body=JSON.parse(t.body.toString())}catch(e){return void u("Invalid JSON received.",t)}u(null,t)}}))};switch(c.protocol.toLowerCase()){case"http:":d=i.request(f,p);break;case"https:":d=o.request(f,p);break;default:return void(u&&u(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null))}if("number"==typeof t.timeout&&d.setTimeout(t.timeout,function(){d.abort(),u(new Error("Timeout has been reached."),null),u=null}),d.on("error",function(e){u&&u(e,null)}),t.hasOwnProperty("data")){var m=t.data,g;if(!(t.data instanceof n)&&"object"===r(t.data))if("application/x-www-form-urlencoded"===(f.headers["content-type"]||f.headers["Content-Type"]))m=s.stringify(t.data);else try{m=JSON.stringify(t.data)}catch(e){u(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}d.write(m)}d.end()};c.promisified=function(e,t){return new Promise(function(n,r){c(e,function(e,t){e?r(e):n(t)},t)})},u.promisify&&(c[u.promisify.custom]=c.promisified),t.exports=c}).call(this,e("buffer").Buffer)},{buffer:47,http:335,https:252,querystring:316,url:359,util:365,zlib:34}],288:[function(e,t,n){"use strict";function r(e,t,n,r,a,s){s||(s={});for(var l=void 0===s.threshold?.1:s.threshold,h=35215*l*l,d=0,p=0;p<a;p++)for(var m=0;m<r;m++){var g=4*(p*r+m),b;if(o(e,t,g,g)>h)s.includeAA||!i(e,m,p,r,a,t)&&!i(t,m,p,r,a,e)?(n&&c(n,g,255,0,0),d++):n&&c(n,g,255,255,0);else if(n){var y=u(f(e,g),.1);c(n,g,y,y,y)}}return d}function i(e,t,n,r,a,s){for(var l=Math.max(t-1,0),u=Math.max(n-1,0),c=Math.min(t+1,r-1),f=Math.min(n+1,a-1),h=4*(n*r+t),d=0,p=0,m=0,g=0,b=0,y,v,w,x,_=l;_<=c;_++)for(var S=u;S<=f;S++)if(_!==t||S!==n){var E=o(e,e,h,4*(S*r+_),!0);if(0===E?d++:E<0?m++:E>0&&p++,d>2)return!1;s&&(E<g&&(g=E,y=_,v=S),E>b&&(b=E,w=_,x=S))}return!s||0!==m&&0!==p&&(!i(e,y,v,r,a)&&!i(s,y,v,r,a)||!i(e,w,x,r,a)&&!i(s,w,x,r,a))}function o(e,t,n,r,i){var o=e[n+3]/255,c=t[r+3]/255,f=u(e[n+0],o),h=u(e[n+1],o),d=u(e[n+2],o),p=u(t[r+0],c),m=u(t[r+1],c),g=u(t[r+2],c),b=a(f,h,d)-a(p,m,g);if(i)return b;var y=s(f,h,d)-s(p,m,g),v=l(f,h,d)-l(p,m,g);return.5053*b*b+.299*y*y+.1957*v*v}function a(e,t,n){return.29889531*e+.58662247*t+.11448223*n}function s(e,t,n){return.59597799*e-.2741761*t-.32180189*n}function l(e,t,n){return.21147017*e-.52261711*t+.31114694*n}function u(e,t){return 255+(e-255)*t}function c(e,t,n,r,i){e[t+0]=n,e[t+1]=r,e[t+2]=i,e[t+3]=255}function f(e,t){var n=e[t+3]/255,r,i,o;return a(u(e[t+0],n),u(e[t+1],n),u(e[t+2],n))}t.exports=r},{}],289:[function(e,t,n){(function(t){"use strict";var r=e("./interlace"),i={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function o(e,t){var n=[],r=0;function i(){if(r===e.length)throw new Error("Ran out of data");var i=e[r],o,a,s,l,u,c,f,h;switch(r++,t){default:throw new Error("unrecognised depth");case 16:f=e[r],r++,n.push((i<<8)+f);break;case 4:f=15&i,h=i>>4,n.push(h,f);break;case 2:u=3&i,c=i>>2&3,f=i>>4&3,h=i>>6&3,n.push(h,f,c,u);break;case 1:o=1&i,a=i>>1&1,s=i>>2&1,l=i>>3&1,u=i>>4&1,c=i>>5&1,f=i>>6&1,h=i>>7&1,n.push(h,f,c,u,l,s,a,o)}}return{get:function(e){for(;n.length<e;)i();var t=n.slice(0,e);return n=n.slice(e),t},resetAfterLine:function(){n.length=0},end:function(){if(r!==e.length)throw new Error("extra data found")}}}function a(e,t,n,r,o,a){for(var s=e.width,l=e.height,u=e.index,c=0;c<l;c++)for(var f=0;f<s;f++){for(var h=n(f,c,u),d=0;d<4;d++){var p=i[r][d];if(255===p)t[h+d]=255;else{var m=p+a;if(m===o.length)throw new Error("Ran out of data");t[h+d]=o[m]}}a+=r}return a}function s(e,t,n,r,o,a){for(var s=e.width,l=e.height,u=e.index,c=0;c<l;c++){for(var f=0;f<s;f++)for(var h=o.get(r),d=n(f,c,u),p=0;p<4;p++){var m=i[r][p];t[d+p]=255!==m?h[m]:a}o.resetAfterLine()}}n.dataToBitMap=function(e,n){var i=n.width,l=n.height,u=n.depth,c=n.bpp,f=n.interlace,h;if(8!==u)var d=o(e,u);h=u<=8?new t(i*l*4):new Uint16Array(i*l*4);var p=Math.pow(2,u)-1,m=0,g,b;if(f)g=r.getImagePasses(i,l),b=r.getInterlaceIterator(i,l);else{var y=0;b=function(){var e=y;return y+=4,e},g=[{width:i,height:l}]}for(var v=0;v<g.length;v++)8===u?m=a(g[v],h,b,c,e,m):s(g[v],h,b,c,d,p);if(8===u){if(m!==e.length)throw new Error("extra data found")}else d.end();return h}}).call(this,e("buffer").Buffer)},{"./interlace":299,buffer:47}],290:[function(e,t,n){(function(n){"use strict";var r=e("./constants");t.exports=function(e,t,i,o){var a=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType),s;if(o.colorType===o.inputColorType){var l=(s=new ArrayBuffer(2),new DataView(s).setInt16(0,256,!0),256!==new Int16Array(s)[0]);if(8===o.bitDepth||16===o.bitDepth&&l)return e}var u=16!==o.bitDepth?e:new Uint16Array(e.buffer),c=255,f=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!=f||o.inputHasAlpha||(f=3);var h=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(c=65535,h*=2);var d=new n(t*i*h),p=0,m=0,g=o.bgColor||{};function b(e,t){var n,i,s,l=c;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:l=e[t+3],n=e[t],i=e[t+1],s=e[t+2];break;case r.COLORTYPE_COLOR:n=e[t],i=e[t+1],s=e[t+2];break;case r.COLORTYPE_ALPHA:l=e[t+1],i=n=e[t],s=n;break;case r.COLORTYPE_GRAYSCALE:i=n=e[t],s=n;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(a||(l/=c,n=Math.min(Math.max(Math.round((1-l)*g.red+l*n),0),c),i=Math.min(Math.max(Math.round((1-l)*g.green+l*i),0),c),s=Math.min(Math.max(Math.round((1-l)*g.blue+l*s),0),c))),{red:n,green:i,blue:s,alpha:l}}void 0===g.red&&(g.red=c),void 0===g.green&&(g.green=c),void 0===g.blue&&(g.blue=c);for(var y=0;y<i;y++)for(var v=0;v<t;v++){var w=b(u,p);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(d[m]=w.red,d[m+1]=w.green,d[m+2]=w.blue,a&&(d[m+3]=w.alpha)):(d.writeUInt16BE(w.red,m),d.writeUInt16BE(w.green,m+2),d.writeUInt16BE(w.blue,m+4),a&&d.writeUInt16BE(w.alpha,m+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:var x=(w.red+w.green+w.blue)/3;8===o.bitDepth?(d[m]=x,a&&(d[m+1]=w.alpha)):(d.writeUInt16BE(x,m),a&&d.writeUInt16BE(w.alpha,m+2))}p+=f,m+=h}return d}}).call(this,e("buffer").Buffer)},{"./constants":292,buffer:47}],291:[function(e,t,n){(function(n,r){"use strict";var i=e("util"),o=e("stream"),a=t.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(a,o),a.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),n.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},a.prototype.write=function(e,t){return this.writable?(n=r.isBuffer(e)?e:new r(e,t||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var n},a.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(e){this._reads.shift();var t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},a.prototype._processRead=function(e){this._reads.shift();for(var t=0,n=0,i=new r(e.length);t<e.length;){var o=this._buffers[n++],a=Math.min(o.length,e.length-t);o.copy(i,t,0,a),t+=a,a!==o.length&&(this._buffers[--n]=o.slice(a))}n>0&&this._buffers.splice(0,n),this._buffered-=e.length,e.func.call(this,i)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(e){this.emit("error",e)}}}).call(this,e("_process"),e("buffer").Buffer)},{_process:312,buffer:47,stream:334,util:365}],292:[function(e,t,n){"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],293:[function(e,t,n){"use strict";var r=[];!function(){for(var e=0;e<256;e++){for(var t=e,n=0;n<8;n++)1&t?t=3988292384^t>>>1:t>>>=1;r[e]=t}}();var i=t.exports=function(){this._crc=-1};i.prototype.write=function(e){for(var t=0;t<e.length;t++)this._crc=r[255&(this._crc^e[t])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(e){for(var t=-1,n=0;n<e.length;n++)t=r[255&(t^e[n])]^t>>>8;return-1^t}},{}],294:[function(e,t,n){(function(n){"use strict";var r=e("./paeth-predictor");function i(e,t,n,r,i){for(var o=0;o<n;o++)r[i+o]=e[t+o]}function o(e,t,n){for(var r=0,i=t+n,o=t;o<i;o++)r+=Math.abs(e[o]);return r}function a(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=a>=o?e[t+a-o]:0,l=e[t+a]-s;r[i+a]=l}}function s(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=o>=r?e[t+o-r]:0,s=e[t+o]-a;i+=Math.abs(s)}return i}function l(e,t,n,r,i){for(var o=0;o<n;o++){var a=t>0?e[t+o-n]:0,s=e[t+o]-a;r[i+o]=s}}function u(e,t,n){for(var r=0,i=t+n,o=t;o<i;o++){var a=t>0?e[o-n]:0,s=e[o]-a;r+=Math.abs(s)}return r}function c(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=a>=o?e[t+a-o]:0,l=t>0?e[t+a-n]:0,u=e[t+a]-(s+l>>1);r[i+a]=u}}function f(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=o>=r?e[t+o-r]:0,s=t>0?e[t+o-n]:0,l=e[t+o]-(a+s>>1);i+=Math.abs(l)}return i}function h(e,t,n,i,o,a){for(var s=0;s<n;s++){var l=s>=a?e[t+s-a]:0,u=t>0?e[t+s-n]:0,c=t>0&&s>=a?e[t+s-(n+a)]:0,f=e[t+s]-r(l,u,c);i[o+s]=f}}function d(e,t,n,i){for(var o=0,a=0;a<n;a++){var s=a>=i?e[t+a-i]:0,l=t>0?e[t+a-n]:0,u=t>0&&a>=i?e[t+a-(n+i)]:0,c=e[t+a]-r(s,l,u);o+=Math.abs(c)}return o}var p={0:i,1:a,2:l,3:c,4:h},m={0:o,1:s,2:u,3:f,4:d};t.exports=function(e,t,r,i,o){var a;if("filterType"in i&&-1!==i.filterType){if("number"!=typeof i.filterType)throw new Error("unrecognised filter types");a=[i.filterType]}else a=[0,1,2,3,4];16===i.bitDepth&&(o*=2);for(var s=t*o,l=0,u=0,c=new n((s+1)*r),f=a[0],h=0;h<r;h++){if(a.length>1)for(var d=1/0,g=0;g<a.length;g++){var b=m[a[g]](e,u,s,o);b<d&&(f=a[g],d=b)}c[l]=f,l++,p[f](e,u,s,c,l,o),l+=s,u+=s}return c}}).call(this,e("buffer").Buffer)},{"./paeth-predictor":303,buffer:47}],295:[function(e,t,n){(function(n){"use strict";var r=e("util"),i=e("./chunkstream"),o=e("./filter-parse"),a=t.exports=function(e){i.call(this);var t=[],r=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",n.concat(t))}}),this._filter.start()};r.inherits(a,i)}).call(this,e("buffer").Buffer)},{"./chunkstream":291,"./filter-parse":297,buffer:47,util:365}],296:[function(e,t,n){(function(t){"use strict";var r=e("./sync-reader"),i=e("./filter-parse");n.process=function(e,n){var o=[],a=new r(e),s;return new i(n,{read:a.read.bind(a),write:function(e){o.push(e)},complete:function(){}}).start(),a.process(),t.concat(o)}}).call(this,e("buffer").Buffer)},{"./filter-parse":297,"./sync-reader":310,buffer:47}],297:[function(e,t,n){(function(n){"use strict";var r=e("./interlace"),i=e("./paeth-predictor");function o(e,t,n){var r=e*t;return 8!==n&&(r=Math.ceil(r/(8/n))),r}var a=t.exports=function(e,t){var n=e.width,i=e.height,a=e.interlace,s=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],a)for(var u=r.getImagePasses(n,i),c=0;c<u.length;c++)this._images.push({byteWidth:o(u[c].width,s,l),height:u[c].height,lineIndex:0});else this._images.push({byteWidth:o(n,s,l),height:i,lineIndex:0});this._xComparison=8===l?s:16===l?2*s:1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(e,t,n){for(var r=this._xComparison,i=r-1,o=0;o<n;o++){var a=e[1+o],s=o>i?t[o-r]:0;t[o]=a+s}},a.prototype._unFilterType2=function(e,t,n){for(var r=this._lastLine,i=0;i<n;i++){var o=e[1+i],a=r?r[i]:0;t[i]=o+a}},a.prototype._unFilterType3=function(e,t,n){for(var r=this._xComparison,i=r-1,o=this._lastLine,a=0;a<n;a++){var s=e[1+a],l=o?o[a]:0,u=a>i?t[a-r]:0,c=Math.floor((u+l)/2);t[a]=s+c}},a.prototype._unFilterType4=function(e,t,n){for(var r=this._xComparison,o=r-1,a=this._lastLine,s=0;s<n;s++){var l=e[1+s],u=a?a[s]:0,c=s>o?t[s-r]:0,f=s>o&&a?a[s-r]:0,h=i(c,u,f);t[s]=l+h}},a.prototype._reverseFilterLine=function(e){var t=e[0],r,i=this._images[this._imageIndex],o=i.byteWidth;if(0===t)r=e.slice(1,o+1);else switch(r=new n(o),t){case 1:this._unFilterType1(e,r,o);break;case 2:this._unFilterType2(e,r,o);break;case 3:this._unFilterType3(e,r,o);break;case 4:this._unFilterType4(e,r,o);break;default:throw new Error("Unrecognised filter type - "+t)}this.write(r),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=r,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,e("buffer").Buffer)},{"./interlace":299,"./paeth-predictor":303,buffer:47}],298:[function(e,t,n){(function(e){"use strict";function n(e,t,n,r,i){for(var o=0,a=0;a<r;a++)for(var s=0;s<n;s++){var l=i[e[o]];if(!l)throw new Error("index "+e[o]+" not in palette");for(var u=0;u<4;u++)t[o+u]=l[u];o+=4}}function r(e,t,n,r,i){for(var o=0,a=0;a<r;a++)for(var s=0;s<n;s++){var l=!1;if(1===i.length?i[0]===e[o]&&(l=!0):i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]&&(l=!0),l)for(var u=0;u<4;u++)t[o+u]=0;o+=4}}function i(e,t,n,r,i){for(var o=255,a=Math.pow(2,i)-1,s=0,l=0;l<r;l++)for(var u=0;u<n;u++){for(var c=0;c<4;c++)t[s+c]=Math.floor(255*e[s+c]/a+.5);s+=4}}t.exports=function(t,o){var a=o.depth,s=o.width,l=o.height,u=o.colorType,c=o.transColor,f=o.palette,h=t;return 3===u?n(t,h,s,l,f):(c&&r(t,h,s,l,c),8!==a&&(16===a&&(h=new e(s*l*4)),i(t,h,s,l,a))),h}}).call(this,e("buffer").Buffer)},{buffer:47}],299:[function(e,t,n){"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(e,t){for(var n=[],i=e%8,o=t%8,a=(e-i)/8,s=(t-o)/8,l=0;l<r.length;l++){for(var u=r[l],c=a*u.x.length,f=s*u.y.length,h=0;h<u.x.length&&u.x[h]<i;h++)c++;for(h=0;h<u.y.length&&u.y[h]<o;h++)f++;c>0&&f>0&&n.push({width:c,height:f,index:l})}return n},n.getInterlaceIterator=function(e){return function(t,n,i){var o=t%r[i].x.length,a=(t-o)/r[i].x.length*8+r[i].x[o],s=n%r[i].y.length,l;return 4*a+((n-s)/r[i].y.length*8+r[i].y[s])*e*4}}},{}],300:[function(e,t,n){(function(n){"use strict";var r=e("util"),i=e("stream"),o=e("./constants"),a=e("./packer"),s=t.exports=function(e){i.call(this);var t=e||{};this._packer=new a(t),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(s,i),s.prototype.pack=function(e,t,r,i){this.emit("data",new n(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),i&&this.emit("data",this._packer.packGAMA(i));var a=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(a)}}).call(this,e("buffer").Buffer)},{"./constants":292,"./packer":302,buffer:47,stream:334,util:365}],301:[function(e,t,n){(function(n){"use strict";var r=!0,i=e("zlib");i.deflateSync||(r=!1);var o=e("./constants"),a=e("./packer");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var s,l=new a(t||{}),u=[];u.push(new n(o.PNG_SIGNATURE)),u.push(l.packIHDR(e.width,e.height)),e.gamma&&u.push(l.packGAMA(e.gamma));var c=l.filterData(e.data,e.width,e.height),f=i.deflateSync(c,l.getDeflateOptions());if(c=null,!f||!f.length)throw new Error("bad png - invalid compressed data response");return u.push(l.packIDAT(f)),u.push(l.packIEND()),n.concat(u)}}).call(this,e("buffer").Buffer)},{"./constants":292,"./packer":302,buffer:47,zlib:34}],302:[function(e,t,n){(function(n){"use strict";var r=e("./constants"),i=e("./crc"),o=e("./bitpacker"),a=e("./filter-pack"),s=e("zlib"),l=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||s.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:r.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,n){var i=o(e,t,n,this._options),s=r.COLORTYPE_TO_BPP_MAP[this._options.colorType],l;return a(i,t,n,this._options,s)},l.prototype._packChunk=function(e,t){var r=t?t.length:0,o=new n(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(e,4),t&&t.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},l.prototype.packGAMA=function(e){var t=new n(4);return t.writeUInt32BE(Math.floor(e*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){var i=new n(13);return i.writeUInt32BE(e,0),i.writeUInt32BE(t,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},l.prototype.packIDAT=function(e){return this._packChunk(r.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this,e("buffer").Buffer)},{"./bitpacker":290,"./constants":292,"./crc":293,"./filter-pack":294,buffer:47,zlib:34}],303:[function(e,t,n){"use strict";t.exports=function e(t,n,r){var i=t+n-r,o=Math.abs(i-t),a=Math.abs(i-n),s=Math.abs(i-r);return o<=a&&o<=s?t:a<=s?n:r}},{}],304:[function(e,t,n){"use strict";var r=e("util"),i=e("zlib"),o=e("./chunkstream"),a=e("./filter-parse-async"),s=e("./parser"),l=e("./bitmapper"),u=e("./format-normaliser"),c=t.exports=function(e){o.call(this),this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};r.inherits(c,o),c.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},c.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var t,n=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,r=Math.max(n,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:r});var o=n,a=this.emit.bind(this,"error");this._inflate.on("error",function(e){o&&a(e)}),this._filter.on("complete",this._complete.bind(this));var s=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){o&&(e.length>o&&(e=e.slice(0,o)),o-=e.length,s(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},c.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new a(this._bitmapInfo)},c.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},c.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},c.prototype._complete=function(e){if(!this.errord){try{var t=l.dataToBitMap(e,this._bitmapInfo),n=u(t,this._bitmapInfo);t=null}catch(e){return void this._handleError(e)}this.emit("parsed",n)}}},{"./bitmapper":289,"./chunkstream":291,"./filter-parse-async":295,"./format-normaliser":298,"./parser":306,util:365,zlib:34}],305:[function(e,t,n){(function(n){"use strict";var r=!0,i=e("zlib"),o=e("./sync-inflate");i.deflateSync||(r=!1);var a=e("./sync-reader"),s=e("./filter-parse-sync"),l=e("./parser"),u=e("./bitmapper"),c=e("./format-normaliser");t.exports=function(e,t){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var f,h,d;function p(e){f=e}function m(e){h=e}function g(e){h.transColor=e}function b(e){h.palette=e}function y(e){d=e}var v=[];function w(e){v.push(e)}var x=new a(e),_;if(new l(t,{read:x.read.bind(x),error:p,metadata:m,gamma:y,palette:b,transColor:g,inflateData:w}).start(),x.process(),f)throw f;var S=n.concat(v),E;if(v.length=0,h.interlace)E=i.inflateSync(S);else{var C,k=(1+(h.width*h.bpp*h.depth+7>>3))*h.height;E=o(S,{chunkSize:k,maxLength:k})}if(S=null,!E||!E.length)throw new Error("bad png - invalid inflate data response");var O=s.process(E,h);S=null;var T=u.dataToBitMap(O,h);O=null;var N=c(T,h);return h.data=N,h.gamma=d||0,h}}).call(this,e("buffer").Buffer)},{"./bitmapper":289,"./filter-parse-sync":296,"./format-normaliser":298,"./parser":306,"./sync-inflate":309,"./sync-reader":310,buffer:47,zlib:34}],306:[function(e,t,n){(function(n){"use strict";var r=e("./constants"),i=e("./crc"),o=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){for(var t=r.PNG_SIGNATURE,n=0;n<t.length;n++)if(e[n]!==t[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){for(var t=e.readUInt32BE(0),o=e.readUInt32BE(4),a="",s=4;s<8;s++)a+=String.fromCharCode(e[s]);var l=Boolean(32&e[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(new n(a)),this._chunks[o])return this._chunks[o](t);l?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+a))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){var t=e.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==t?this.error(new Error("Crc error - "+t+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);var t=e.readUInt32BE(0),n=e.readUInt32BE(4),i=e[8],o=e[9],a=e[10],s=e[11],l=e[12];if(8===i||4===i||2===i||1===i||16===i)if(o in r.COLORTYPE_TO_BPP_MAP)if(0===a)if(0===s)if(0===l||1===l){this._colorType=o;var u=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:n,depth:i,interlace:Boolean(l),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:u,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+i))},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);for(var t=Math.floor(e.length/3),n=0;n<t;n++)this._palette.push([e[3*n],e[3*n+1],e[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);var n=e-t.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,e("buffer").Buffer)},{"./constants":292,"./crc":293,buffer:47}],307:[function(e,t,n){"use strict";var r=e("./parser-sync"),i=e("./packer-sync");n.read=function(e,t){return r(e,t||{})},n.write=function(e,t){return i(e,t)}},{"./packer-sync":301,"./parser-sync":305}],308:[function(e,t,n){(function(t,r){"use strict";var i=e("util"),o=e("stream"),a=e("./parser-async"),s=e("./packer-async"),l=e("./png-sync"),u=n.PNG=function(e){o.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?new r(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(u,o),u.sync=l,u.prototype.pack=function(){return this.data&&this.data.length?(t.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},u.prototype.parse=function(e,t){var n,r;t&&(n=function(e){this.removeListener("error",r),this.data=e,t(null,this)}.bind(this),r=function(e){this.removeListener("parsed",n),t(e,null)}.bind(this),this.once("parsed",n),this.once("error",r));return this.end(e),this},u.prototype.write=function(e){return this._parser.write(e),!0},u.prototype.end=function(e){this._parser.end(e)},u.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},u.prototype._gamma=function(e){this.gamma=e},u.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},u.bitblt=function(e,t,n,r,i,o,a,s){if(r|=0,i|=0,o|=0,a|=0,s|=0,(n|=0)>e.width||r>e.height||n+i>e.width||r+o>e.height)throw new Error("bitblt reading outside image");if(a>t.width||s>t.height||a+i>t.width||s+o>t.height)throw new Error("bitblt writing outside image");for(var l=0;l<o;l++)e.data.copy(t.data,(s+l)*t.width+a<<2,(r+l)*e.width+n<<2,(r+l)*e.width+n+i<<2)},u.prototype.bitblt=function(e,t,n,r,i,o,a){return u.bitblt(this,e,t,n,r,i,o,a),this},u.adjustGamma=function(e){if(e.gamma){for(var t=0;t<e.height;t++)for(var n=0;n<e.width;n++)for(var r=e.width*t+n<<2,i=0;i<3;i++){var o=e.data[r+i]/255;o=Math.pow(o,1/2.2/e.gamma),e.data[r+i]=Math.round(255*o)}e.gamma=0}},u.prototype.adjustGamma=function(){u.adjustGamma(this)}}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":300,"./parser-async":304,"./png-sync":307,_process:312,buffer:47,stream:334,util:365}],309:[function(e,t,n){(function(r,i){"use strict";var o=e("assert").ok,a=e("zlib"),s=e("util"),l=e("buffer").kMaxLength;function u(e){if(!(this instanceof u))return new u(e);e&&e.chunkSize<a.Z_MIN_CHUNK&&(e.chunkSize=a.Z_MIN_CHUNK),a.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function c(e){return new u(e)}function f(e,t){t&&r.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function h(e,t){if("string"==typeof t&&(t=i.from(t)),!(t instanceof i))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return null==n&&(n=a.Z_FINISH),e._processChunk(t,n)}function d(e,t){return h(new u(t),e)}u.prototype._processChunk=function(e,t,n){if("function"==typeof n)return a.Inflate._processChunk.call(this,e,t,n);var r=this,s=e&&e.length,u=this._chunkSize-this._offset,c=this._maxLength,h=0,d=[],p=0,m;function g(e,t){if(!r._hadError){var n=u-t;if(o(n>=0,"have should not go down"),n>0){var a=r._buffer.slice(r._offset,r._offset+n);if(r._offset+=n,a.length>c&&(a=a.slice(0,c)),d.push(a),p+=a.length,0===(c-=a.length))return!1}return(0===t||r._offset>=r._chunkSize)&&(u=r._chunkSize,r._offset=0,r._buffer=i.allocUnsafe(r._chunkSize)),0===t&&(h+=s-e,s=e,!0)}}this.on("error",function(e){m=e}),o(this._handle,"zlib binding closed");do{var b=this._handle.writeSync(t,e,h,s,this._buffer,this._offset,u);b=b||this._writeState}while(!this._hadError&&g(b[0],b[1]));if(this._hadError)throw m;if(p>=l)throw f(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes");var y=i.concat(d,p);return f(this),y},s.inherits(u,a.Inflate),t.exports=n=d,n.Inflate=u,n.createInflate=c,n.inflateSync=d}).call(this,e("_process"),e("buffer").Buffer)},{_process:312,assert:24,buffer:47,util:365,zlib:34}],310:[function(e,t,n){"use strict";var r=t.exports=function(e){this._buffer=e,this._reads=[]};r.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},{}],311:[function(e,t,n){(function(e){"use strict";function n(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o=arguments.length,a,s;switch(o){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function e(){t.call(null,n)});case 3:return e.nextTick(function e(){t.call(null,n,r)});case 4:return e.nextTick(function e(){t.call(null,n,r,i)});default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return e.nextTick(function e(){t.apply(null,a)})}}void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,e("_process"))},{_process:312}],312:[function(e,t,n){var r=t.exports={},i,o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function u(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c=[],f=!1,h,d=-1;function p(){f&&h&&(f=!1,h.length?c=h.concat(c):d=-1,c.length&&m())}function m(){if(!f){var e=l(p);f=!0;for(var t=c.length;t;){for(h=c,c=[];++d<t;)h&&h[d].run();d=-1,t=c.length}h=null,f=!1,u(e)}}function g(e,t){this.fun=e,this.array=t}function b(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||f||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=b,r.addListener=b,r.once=b,r.off=b,r.removeListener=b,r.removeAllListeners=b,r.emit=b,r.prependListener=b,r.prependOnceListener=b,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],313:[function(e,n,r){(function(e){!function(t){var i="object"==typeof r&&r&&!r.nodeType&&r,o="object"==typeof n&&n&&!n.nodeType&&n,a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self!==a||(t=a);var s,l=2147483647,u=36,c=1,f=26,h=38,d=700,p=72,m=128,g="-",b=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-c,_=Math.floor,S=String.fromCharCode,E;function C(e){throw new RangeError(w[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="",i,o;return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(v,".")).split("."),t).join(".")}function T(e){for(var t=[],n=0,r=e.length,i,o;n<r;)(i=e.charCodeAt(n++))>=55296&&i<=56319&&n<r?56320==(64512&(o=e.charCodeAt(n++)))?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--):t.push(i);return t}function N(e){return k(e,function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function A(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var r=0;for(e=n?_(e/d):e>>1,e+=_(e/t);e>x*f>>1;r+=u)e=_(e/x);return _(r+(x+1)*e/(e+h))}function R(e){var t=[],n=e.length,r,i=0,o=m,a=p,s,h,d,b,y,v,w,x,S;for((s=e.lastIndexOf(g))<0&&(s=0),h=0;h<s;++h)e.charCodeAt(h)>=128&&C("not-basic"),t.push(e.charCodeAt(h));for(d=s>0?s+1:0;d<n;){for(b=i,y=1,v=u;d>=n&&C("invalid-input"),((w=A(e.charCodeAt(d++)))>=u||w>_((l-i)/y))&&C("overflow"),i+=w*y,!(w<(x=v<=a?c:v>=a+f?f:v-a));v+=u)y>_(l/(S=u-x))&&C("overflow"),y*=S;a=j(i-b,r=t.length+1,0==b),_(i/r)>l-o&&C("overflow"),o+=_(i/r),i%=r,t.splice(i++,0,o)}return N(t)}function M(e){var t,n,r,i,o,a,s,h,d,b,y,v=[],w,x,E,k;for(w=(e=T(e)).length,t=m,n=0,o=p,a=0;a<w;++a)(y=e[a])<128&&v.push(S(y));for(r=i=v.length,i&&v.push(g);r<w;){for(s=l,a=0;a<w;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>_((l-n)/(x=r+1))&&C("overflow"),n+=(s-t)*x,t=s,a=0;a<w;++a)if((y=e[a])<t&&++n>l&&C("overflow"),y==t){for(h=n,d=u;!(h<(b=d<=o?c:d>=o+f?f:d-o));d+=u)k=h-b,E=u-b,v.push(S(I(b+k%E,0))),h=_(k/E);v.push(S(I(h,0))),o=j(n,x,r==i),n=0,++r}++n,++t}return v.join("")}function P(e){return O(e,function(e){return b.test(e)?R(e.slice(4).toLowerCase()):e})}function D(e){return O(e,function(e){return y.test(e)?"xn--"+M(e):e})}if(s={version:"1.4.1",ucs2:{decode:T,encode:N},decode:R,encode:M,toASCII:D,toUnicode:P},i&&o)if(n.exports==i)o.exports=s;else for(E in s)s.hasOwnProperty(E)&&(i[E]=s[E]);else t.punycode=s}(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],314:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f=e[c].replace(s,"%20"),h=f.indexOf(n),d,p,m,g;h>=0?(d=f.substr(0,h),p=f.substr(h+1)):(d=f,p=""),m=decodeURIComponent(d),g=decodeURIComponent(p),r(a,m)?i(a[m])?a[m].push(g):a[m]=[a[m],g]:a[m]=g}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],315:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],316:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":314,"./encode":315}],317:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":318}],318:[function(e,t,n){"use strict";var r=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=f;var o=e("core-util-is");o.inherits=e("inherits");var a=e("./_stream_readable"),s=e("./_stream_writable");o.inherits(f,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{"./_stream_readable":320,"./_stream_writable":322,"core-util-is":238,inherits:254,"process-nextick-args":311}],319:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_transform"),i=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=e("inherits"),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":321,"core-util-is":238,inherits:254}],320:[function(e,n,r){(function(t,r){"use strict";var i=e("process-nextick-args");n.exports=S;var o=e("isarray"),a;S.ReadableState=_;var s=e("events").EventEmitter,l=function(e,t){return e.listeners(t).length},u=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,f=r.Uint8Array||function(){};function h(e){return c.from(e)}function d(e){return c.isBuffer(e)||e instanceof f}var p=e("core-util-is");p.inherits=e("inherits");var m=e("util"),g=void 0;g=m&&m.debuglog?m.debuglog("stream"):function(){};var b=e("./internal/streams/BufferList"),y=e("./internal/streams/destroy"),v;p.inherits(S,u);var w=["error","close","destroy","pause","resume"];function x(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function _(t,n){a=a||e("./_stream_duplex"),t=t||{};var r=n instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(t.encoding),this.encoding=t.encoding)}function S(t){if(a=a||e("./_stream_duplex"),!(this instanceof S))return new S(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function E(e,t,n,r,i){var o=e._readableState,a;null===t?(o.reading=!1,I(e,o)):(i||(a=k(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=h(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):C(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?C(e,o,t,!1):M(e,o)):C(e,o,t,!1))):r||(o.reading=!1));return O(o)}function C(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&j(e)),M(e,t)}function k(e,t){var n;return d(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function O(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=y.destroy,S.prototype._undestroy=y.undestroy,S.prototype._destroy=function(e,t){this.push(null),t(e)},S.prototype.push=function(e,t){var n=this._readableState,r;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},S.prototype.unshift=function(e){return E(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(t),this._readableState.encoding=t,this};var T=8388608;function N(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=N(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,j(e)}}function j(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(R,e):R(e))}function R(e){g("emit readable"),e.emit("readable"),z(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(P,e,t))}function P(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(g("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function D(e){return function(){var t=e._readableState;g("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l(e,"data")&&(t.flowing=!0,z(e))}}function L(e){g("readable nexttick read 0"),e.read(0)}function F(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}function B(e,t){t.reading||(g("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),z(e),t.flowing&&!t.reading&&e.read(0)}function z(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function $(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=U(e,t.buffer,t.decoder),n);var n}function U(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?W(e,t):V(e,t),r}function W(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function V(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function H(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return g("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?H(this):j(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&H(this),null;var r=t.needReadable,i;return g("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&g("length less than watermark",r=!0),t.ended||t.reading?g("reading or ended",r=!1):r&&(g("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(i=e>0?$(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&H(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,g("pipe count=%d opts=%j",o.pipesCount,n);var a,s=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr?c:w;function u(e,t){g("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function c(){g("onend"),e.end()}o.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",u);var f=D(r);e.on("drain",f);var h=!1;function d(){g("cleanup"),e.removeListener("close",y),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",b),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",w),r.removeListener("data",m),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f()}var p=!1;function m(t){var n;g("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==q(o.pipes,e))&&!h&&(g("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function b(t){g("onerror",t),w(),e.removeListener("error",b),0===l(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",v),w()}function v(){g("onfinish"),e.removeListener("close",y),w()}function w(){g("unpipe"),r.unpipe(e)}return r.on("data",m),x(e,"error",b),e.once("close",y),e.once("finish",v),e.emit("pipe",r),o.flowing||(g("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=q(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},S.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&j(this):i.nextTick(L,this))}return n},S.prototype.addListener=S.prototype.on,S.prototype.resume=function(){var e=this._readableState;return e.flowing||(g("resume"),e.flowing=!0,F(this,e)),this},S.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(g("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){var o;(g("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<w.length;o++)e.on(w[o],this.emit.bind(this,w[o]));return this._read=function(t){g("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=$}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"./_stream_duplex":318,"./internal/streams/BufferList":323,"./internal/streams/destroy":324,"./internal/streams/stream":325,_process:312,"core-util-is":238,events:239,inherits:254,isarray:258,"process-nextick-args":311,"safe-buffer":326,"string_decoder/":327,util:32}],321:[function(e,t,n){"use strict";t.exports=a;var r=e("./_stream_duplex"),i=e("core-util-is");function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":318,"core-util-is":238,inherits:254}],322:[function(e,n,r){(function(t,r,i){"use strict";var o=e("process-nextick-args");function a(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}n.exports=x;var l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick,u;x.WritableState=w;var c=e("core-util-is");c.inherits=e("inherits");var f={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,p=r.Uint8Array||function(){};function m(e){return d.from(e)}function g(e){return d.isBuffer(e)||e instanceof p}var b=e("./internal/streams/destroy"),y;function v(){}function w(t,n){u=u||e("./_stream_duplex"),t=t||{};var r=n instanceof u;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=t.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){N(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function x(t){if(u=u||e("./_stream_duplex"),!(y.call(x,this)||this instanceof u))return new x(t);this._writableState=new w(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function _(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}function S(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}function E(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n)),t}function C(e,t,n,r,i,o){if(!n){var a=E(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,s,r,i,o);return l}function k(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function O(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(D,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),D(e,t))}function T(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function N(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(T(n),t)O(e,n,r,t,i);else{var o=R(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),r?l(A,e,n,o,i):A(e,n,o,i)}}function A(e,t,n,r){n||I(e,t),t.pendingcb--,r(),D(e,t)}function I(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,k(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback,h;if(k(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),D(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(M,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function D(e,t){var n=R(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function L(e,t,n){t.ending=!0,D(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function F(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}c.inherits(x,h),w.prototype.getBuffer=function e(){for(var t=this.bufferedRequest,n=[];t;)n.push(t),t=t.next;return n},function(){try{Object.defineProperty(w.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!y.call(this,e)||this===x&&(e&&e._writableState instanceof w)}})):y=function(e){return e instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&g(e);return o&&!d.isBuffer(e)&&(e=m(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=v),r.ended?_(this,n):(o||S(this,r,e,n))&&(r.pendingcb++,i=C(this,r,o,e,t,n)),i},x.prototype.cork=function(){var e;this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},x.prototype.setDefaultEncoding=function e(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||L(this,r,n)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=b.destroy,x.prototype._undestroy=b.undestroy,x.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{},e("timers").setImmediate)},{"./_stream_duplex":318,"./internal/streams/destroy":324,"./internal/streams/stream":325,_process:312,"core-util-is":238,inherits:254,"process-nextick-args":311,"safe-buffer":326,timers:355,"util-deprecate":362}],323:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=e("safe-buffer").Buffer,o=e("util");function a(e,t,n){e.copy(t,n)}t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function e(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function e(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function e(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function e(){this.head=this.tail=null,this.length=0},e.prototype.join=function e(t){if(0===this.length)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=t+n.data;return r},e.prototype.concat=function e(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var n=i.allocUnsafe(t>>>0),r=this.head,o=0;r;)a(r.data,n,o),o+=r.data.length,r=r.next;return n},e}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":326,util:32}],324:[function(e,t,n){"use strict";var r=e("process-nextick-args");function i(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}t.exports={destroy:i,undestroy:o}},{"process-nextick-args":311}],325:[function(e,t,n){t.exports=e("events").EventEmitter},{events:239}],326:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:47}],327:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=p,this.end=m,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=g,this.end=b,t=3;break;default:return this.write=y,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function l(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,n){var r=t.length-1;if(r<n)return 0;var i=l(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=l(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function c(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}function f(e){var t=this.lastTotal-this.lastNeed,n=c(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function h(e,t){var n=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t}function p(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function g(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function b(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=d,s.prototype.text=h,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":326}],328:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":329}],329:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":318,"./lib/_stream_passthrough.js":319,"./lib/_stream_readable.js":320,"./lib/_stream_transform.js":321,"./lib/_stream_writable.js":322}],330:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":329}],331:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":322}],332:[function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=E(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function m(){}function g(){}function b(){}var y={};y[o]=function(){return this};var v=Object.getPrototypeOf,w=v&&v(v(N([])));w&&w!==t&&n.call(w,o)&&(y=w);var x=b.prototype=m.prototype=Object.create(y);function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){function t(r,i,o,a){var s=u(e[r],e,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,a)})}a(s.arg)}var r;function i(e,n){function i(){return new Promise(function(r,i){t(e,n,r,i)})}return r=r?r.then(i,i):i()}this._invoke=i}function E(e,t,n){var r=c;return function i(o,a){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=C(s,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var m=u(e,t,n);if("normal"===m.type){if(r=n.done?d:f,m.arg===p)continue;return{value:m.arg,done:n.done}}"throw"===m.type&&(r=d,n.method="throw",n.arg=m.arg)}}}function C(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,C(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:r,done:!0}}return g.prototype=x.constructor=b,b.constructor=g,b[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i){var o=new S(l(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(x),x[s]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e,t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),p}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},{}],333:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:47}],334:[function(e,t,n){t.exports=o;var r=e("events").EventEmitter,i;function o(){r.call(this)}e("inherits")(o,r),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",u),e.on("error",u),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},{events:239,inherits:254,"readable-stream/duplex.js":317,"readable-stream/passthrough.js":328,"readable-stream/readable.js":329,"readable-stream/transform.js":330,"readable-stream/writable.js":331}],335:[function(e,n,r){(function(t){var n=e("./lib/request"),i=e("./lib/response"),o=e("xtend"),a=e("builtin-status-codes"),s=e("url"),l=r;l.request=function(e,r){e="string"==typeof e?s.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,l=e.hostname||e.host,u=e.port,c=e.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),e.url=(l?a+"//"+l:"")+(u?":"+u:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return r&&f.on("response",r),f},l.get=function e(t,n){var r=l.request(t,n);return r.end(),r},l.ClientRequest=n,l.IncomingMessage=i.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"./lib/request":337,"./lib/response":338,"builtin-status-codes":49,url:359,xtend:368}],336:[function(e,n,r){(function(e){var t;function n(){if(void 0!==t)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}r.fetch=o(e.fetch)&&o(e.ReadableStream),r.writableStream=o(e.WritableStream),r.abortController=o(e.AbortController),r.arraybuffer=r.fetch||i("arraybuffer"),r.msstream=!r.fetch&&i("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&i("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&o(n().overrideMimeType),t=null}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],337:[function(e,n,r){(function(t,r,i){var o=e("./capability"),a=e("inherits"),s=e("./response"),l=e("readable-stream"),u=s.IncomingMessage,c=s.readyStates;function f(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}var h=n.exports=function(e){var t=this,n;l.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=f(n,r),t._fetchTimer=null,t.on("finish",function(){t._onFinish()})};function d(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}a(h,l.Writable),h.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){var t=this;delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,i=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach(function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach(function(e){s.push([t,e])}):s.push([t,n])}),"fetch"===e._mode){var l=null,u=null;if(o.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var h=e._xhr=new r.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(n){return void t.nextTick(function(){e.emit("error",n)})}"responseType"in h&&(h.responseType=e._mode),"withCredentials"in h&&(h.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(h.timeout=n.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),s.forEach(function(e){h.setRequestHeader(e[0],e[1])}),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(a)}catch(n){return void t.nextTick(function(){e.emit("error",n)})}}}},h.prototype._onXHRProgress=function(){var e=this;d(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},h.prototype._write=function(e,t,n){var r=this;this._body.push(e),n()},h.prototype.abort=h.prototype.destroy=function(){var e=this;this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(this,e,t,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{},e("buffer").Buffer)},{"./capability":336,"./response":338,_process:312,buffer:47,inherits:254,"readable-stream":353}],338:[function(e,n,r){(function(t,n,i){var o=e("./capability"),a=e("inherits"),s=e("readable-stream"),l=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=r.IncomingMessage=function(e,r,a,l){var u=this;if(s.Readable.call(u),u._mode=a,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){t.nextTick(function(){u.emit("close")})}),"fetch"===a){if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)}),o.writableStream){var c=new WritableStream({write:function(e){return new Promise(function(t,n){u._destroyed?n():u.push(i.from(e))?t():u._resumeFetch=t})},close:function(){n.clearTimeout(l),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void r.body.pipeTo(c).catch(function(e){n.clearTimeout(l),u._destroyed||u.emit("error",e)})}catch(e){}}var f=r.body.getReader();function h(){f.read().then(function(e){if(!u._destroyed){if(e.done)return n.clearTimeout(l),void u.push(null);u.push(i.from(e.value)),h()}}).catch(function(e){n.clearTimeout(l),u._destroyed||u.emit("error",e)})}h()}else{var d;if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!o.overrideMimeType){var p=u.rawHeaders["mime-type"];if(p){var m=p.match(/;\s*charset=([^;])(;|$)/);m&&(u._charset=m[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};a(u,s.Readable),u.prototype._read=function(){var e=this,t=this._resumeFetch;t&&(this._resumeFetch=null,t())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text":if((r=t.responseText).length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=i.alloc(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;r=t.response,e.push(i.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==l.LOADING||!r)break;e.push(i.from(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==l.LOADING)break;var u=new n.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(i.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(r)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{},e("buffer").Buffer)},{"./capability":336,_process:312,buffer:47,inherits:254,"readable-stream":353}],339:[function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function o(e,t,n){function o(e,n,r){return"string"==typeof t?t:t(e,n,r)}n||(n=Error);var a=function(e){function t(t,n,r){return e.call(this,o(t,n,r))||this}return r(t,e),t}(n);a.prototype.name=n.name,a.prototype.code=e,i[e]=a}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function s(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function l(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function u(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}o("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i;if("string"==typeof t&&s(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",l(e," argument"))i="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var o=u(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(r," ").concat(a(t,"type"))}return i+=". Received type ".concat(typeof n)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],340:[function(e,t,n){(function(e){"use strict";var n=new Set;function r(t){if(!n.has(t)){var r=t+" is an experimental feature. This feature could change at any time";n.add(t),e.emitWarning(r,"ExperimentalWarning")}}function i(){}t.exports.emitExperimentalWarning=e.emitWarning?r:i}).call(this,e("_process"))},{_process:312}],341:[function(e,t,n){(function(n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=u;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(u,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var l=a[s];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function e(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function e(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function e(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function e(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function e(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}).call(this,e("_process"))},{"./_stream_readable":343,"./_stream_writable":345,_process:312,inherits:254}],342:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":344,inherits:254}],343:[function(e,n,r){(function(t,r){"use strict";var i;n.exports=A,A.ReadableState=N;var o=e("events").EventEmitter,a=function e(t,n){return t.listeners(n).length},s=e("./internal/streams/stream"),l=e("buffer").Buffer,u=r.Uint8Array||function(){};function c(e){return l.from(e)}function f(e){return l.isBuffer(e)||e instanceof u}var h=e("util"),d;d=h&&h.debuglog?h.debuglog("stream"):function e(){};var p=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),g,b=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,v=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,x=y.ERR_METHOD_NOT_IMPLEMENTED,_=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,S,E=e("../experimentalWarning").emitExperimentalWarning,C,k;e("inherits")(A,s);var O=["error","close","destroy","pause","resume"];function T(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function N(t,n,r){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=b(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(C||(C=e("string_decoder/").StringDecoder),this.decoder=new C(t.encoding),this.encoding=t.encoding)}function A(t){if(i=i||e("./_stream_duplex"),!(this instanceof A))return new A(t);var n=this instanceof i;this._readableState=new N(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function I(e,t,n,r,i){d("readableAddChunk",t);var o=e._readableState,a;if(null===t)o.reading=!1,L(e,o);else if(i||(a=R(o,t)),a)e.emit("error",a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=c(t)),r)o.endEmitted?e.emit("error",new _):j(e,o,t,!0);else if(o.ended)e.emit("error",new w);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?j(e,o,t,!1):z(e,o)):j(e,o,t,!1)}else r||(o.reading=!1,z(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&F(e)),z(e,t)}function R(e,t){var n;return f(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new v("chunk",["string","Buffer","Uint8Array"],t)),n}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function e(){return void 0!==this._readableState&&this._readableState.destroyed},set:function e(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var n=this._readableState,r;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},A.prototype.unshift=function(e){return I(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(t){return C||(C=e("string_decoder/").StringDecoder),this._readableState.decoder=new C(t),this._readableState.encoding=this._readableState.decoder.encoding,this};var M=8388608;function P(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=P(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?F(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,B(e)))}}function F(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(d("emitReadable",n.flowing),n.emittedReadable=!0,t.nextTick(B,e))}function B(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||e.emit("readable"),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,q(e)}function z(e,n){n.readingMore||(n.readingMore=!0,t.nextTick($,e,n))}function $(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(d("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function U(e){return function t(){var n=e._readableState;d("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,0===n.awaitDrain&&a(e,"data")&&(n.flowing=!0,q(e))}}function W(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function V(e){d("readable nexttick read 0"),e.read(0)}function H(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(G,e,n))}function G(e,t){d("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),q(e),t.flowing&&!t.reading&&e.read(0)}function q(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function K(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function Y(e){var n=e._readableState;d("endReadable",n.endEmitted),n.endEmitted||(n.ended=!0,t.nextTick(X,n,e))}function X(e,t){d("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}A.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Y(this):F(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&Y(this),null;var r=t.needReadable,i;return d("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",r=!0),t.ended||t.reading?d("reading or ended",r=!1):r&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(n,t))),null===(i=e>0?K(e,t):null)?(t.needReadable=!0,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&Y(this)),null!==i&&this.emit("data",i),i},A.prototype._read=function(e){this.emit("error",new x("_read()"))},A.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,n);var o,s=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr?u:y;function l(e,t){d("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function u(){d("onend"),e.end()}i.endEmitted?t.nextTick(s):r.once("end",s),e.on("unpipe",l);var c=U(r);e.on("drain",c);var f=!1;function h(){d("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",c),e.removeListener("error",m),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",p),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function p(t){d("ondata");var n=e.write(t);d("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==Z(i.pipes,e))&&!f&&(d("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function m(t){d("onerror",t),y(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",b),y()}function b(){d("onfinish"),e.removeListener("close",g),y()}function y(){d("unpipe"),r.unpipe(e)}return r.on("data",p),T(e,"error",m),e.once("close",g),e.once("finish",b),e.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=Z(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},A.prototype.on=function(e,n){var r=s.prototype.on.call(this,e,n),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,d("on readable",i.length,i.reading),i.length?F(this):i.reading||t.nextTick(V,this))),r},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,n){var r=s.prototype.removeListener.call(this,e,n);return"readable"===e&&t.nextTick(W,this),r},A.prototype.removeAllListeners=function(e){var n=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||t.nextTick(W,this),n},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!e.readableListening,H(this,e)),e.paused=!1,this},A.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){var o;(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function t(n){return function t(){return e[n].apply(e,arguments)}}(i));for(var o=0;o<O.length;o++)e.on(O[o],this.emit.bind(this,O[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return E("Readable[Symbol.asyncIterator]"),void 0===k&&(k=e("./internal/streams/async_iterator")),k(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function e(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function e(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function e(){return this._readableState.flowing},set:function e(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=K,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function e(){return this._readableState.length}})}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"../errors":339,"../experimentalWarning":340,"./_stream_duplex":341,"./internal/streams/async_iterator":346,"./internal/streams/buffer_list":347,"./internal/streams/destroy":348,"./internal/streams/state":351,"./internal/streams/stream":352,_process:312,buffer:47,events:239,inherits:254,"string_decoder/":354,util:32}],344:[function(e,t,n){"use strict";t.exports=c;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,n){h(e,t,n)})}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,n){n(new i("_transform()"))},c.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":339,"./_stream_duplex":341,inherits:254}],345:[function(e,n,r){(function(t,r){"use strict";function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){H(t,e)}}var a;n.exports=T,T.WritableState=O;var s={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),u=e("buffer").Buffer,c=r.Uint8Array||function(){};function f(e){return u.from(e)}function h(e){return u.isBuffer(e)||e instanceof c}var d=e("./internal/streams/destroy"),p,m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_MULTIPLE_CALLBACK,w=g.ERR_STREAM_CANNOT_PIPE,x=g.ERR_STREAM_DESTROYED,_=g.ERR_STREAM_NULL_VALUES,S=g.ERR_STREAM_WRITE_AFTER_END,E=g.ERR_UNKNOWN_ENCODING,C;function k(){}function O(t,n,r){a=a||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof a),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=m(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){D(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function T(t){var n=this instanceof(a=a||e("./_stream_duplex"));if(!n&&!C.call(T,this))return new T(t);this._writableState=new O(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function N(e,n){var r=new S;e.emit("error",r),t.nextTick(n,r)}function A(e,n,r,i){var o;return null===r?o=new _:"string"==typeof r||n.objectMode||(o=new b("chunk",["string","Buffer"],r)),!o||(e.emit("error",o),t.nextTick(i,o),!1)}function I(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n)),t}function j(e,t,n,r,i,o){if(!n){var a=I(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,s,r,i,o);return l}function R(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new x("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function M(e,n,r,i,o){--n.pendingcb,r?(t.nextTick(o,i),t.nextTick(W,e,n),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),W(e,n))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function D(e,n){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(P(r),n)M(e,r,i,n,o);else{var a=z(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||B(e,r),i?t.nextTick(L,e,r,a,o):L(e,r,a,o)}}function L(e,t,n,r){n||F(e,t),t.pendingcb--,r(),W(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,R(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback,h;if(R(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function z(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function $(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),W(e,t)})}function U(e,n){n.prefinished||n.finalCalled||("function"!=typeof e._final||n.destroyed?(n.prefinished=!0,e.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,t.nextTick($,e,n)))}function W(e,t){var n=z(t);return n&&(U(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function V(e,n,r){n.ending=!0,W(e,n),r&&(n.finished?t.nextTick(r):e.once("finish",r)),n.ended=!0,e.writable=!1}function H(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}e("inherits")(T,l),O.prototype.getBuffer=function e(){for(var t=this.bufferedRequest,n=[];t;)n.push(t),t=t.next;return n},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){return!!C.call(this,t)||this===T&&(t&&t._writableState instanceof O)}})):C=function e(t){return t instanceof this},T.prototype.pipe=function(){this.emit("error",new w)},T.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!u.isBuffer(e)&&(e=f(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=k),r.ending?N(this,n):(o||A(this,r,e,n))&&(r.pendingcb++,i=j(this,r,o,e,t,n)),i},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||B(this,e))},T.prototype.setDefaultEncoding=function e(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new E(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function e(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function e(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,n){n(new y("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||V(this,r,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function e(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function e(){return void 0!==this._writableState&&this._writableState.destroyed},set:function e(t){this._writableState&&(this._writableState.destroyed=t)}}),T.prototype.destroy=d.destroy,T.prototype._undestroy=d.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{"../errors":339,"./_stream_duplex":341,"./internal/streams/destroy":348,"./internal/streams/state":351,"./internal/streams/stream":352,_process:312,buffer:47,inherits:254,"util-deprecate":362}],346:[function(e,t,n){(function(n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[c]=null,e[a]=null,e[s]=null,t(d(n,!1)))}}function m(e){n.nextTick(p,e)}function g(e,t){return function(n,r){e.then(function(){t[u]?n(d(void 0,!0)):t[f](n,r)},r)}}var b=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(r={get stream(){return this[h]},next:function e(){var t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise(function(e,r){n.nextTick(function(){t[l]?r(t[l]):e(d(void 0,!0))})});var i=this[c],o;if(i)o=new Promise(g(i,this));else{var a=this[h].read();if(null!==a)return Promise.resolve(d(a,!1));o=new Promise(this[f])}return this[c]=o,o}},Symbol.asyncIterator,function(){return this}),i(r,"return",function e(){var t=this;return new Promise(function(e,n){t[h].destroy(null,function(t){t?n(t):e(d(void 0,!0))})})}),r),b),v=function e(t){var n,r=Object.create(y,(i(n={},h,{value:t,writable:!0}),i(n,a,{value:null,writable:!0}),i(n,s,{value:null,writable:!0}),i(n,l,{value:null,writable:!0}),i(n,u,{value:t._readableState.endEmitted,writable:!0}),i(n,f,{value:function e(t,n){var i=r[h].read();i?(r[c]=null,r[a]=null,r[s]=null,t(d(i,!1))):(r[a]=t,r[s]=n)},writable:!0}),n));return r[c]=null,o(t,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[c]=null,r[a]=null,r[s]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[c]=null,r[a]=null,r[s]=null,n(d(void 0,!0))),r[u]=!0}),t.on("readable",m.bind(null,r)),r};t.exports=v}).call(this,e("_process"))},{"./end-of-stream":349,_process:312}],347:[function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,a=e("buffer").Buffer,s,l=e("util").inspect,u=l&&l.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}t.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var t=e.prototype;return t.push=function e(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.unshift=function e(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},t.shift=function e(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.clear=function e(){this.head=this.tail=null,this.length=0},t.join=function e(t){if(0===this.length)return"";for(var n=this.head,r=""+n.data;n=n.next;)r+=t+n.data;return r},t.concat=function e(t){if(0===this.length)return a.alloc(0);for(var n=a.allocUnsafe(t>>>0),r=this.head,i=0;r;)c(r.data,n,i),i+=r.data.length,r=r.next;return n},t.consume=function e(t,n){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():n?this._getString(t):this._getBuffer(t),r},t.first=function e(){return this.head.data},t._getString=function e(t){var n=this.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++r}return this.length-=r,i},t._getBuffer=function e(t){var n=a.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(s));break}++i}return this.length-=i,n},t[u]=function(e,t){return l(this,r({},t,{depth:0,customInspect:!1}))},e}()},{buffer:47,util:32}],348:[function(e,t,n){(function(e){"use strict";function n(t,n){var o=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(n?n(t):!t||this._writableState&&this._writableState.errorEmitted||e.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!n&&t?(e.nextTick(r,o,t),o._writableState&&(o._writableState.errorEmitted=!0)):n?(e.nextTick(i,o),n(t)):e.nextTick(i,o)}),this)}function r(e,t){a(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}t.exports={destroy:n,undestroy:o}}).call(this,e("_process"))},{_process:312}],349:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function o(){}function a(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,n){if("function"==typeof t)return s(e,null,t);t||(t={}),n=i(n||o);var l=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,c=function t(){e.writable||h()},f=e._writableState&&e._writableState.finished,h=function t(){u=!1,f=!0,l||n.call(e)},d=e._readableState&&e._readableState.endEmitted,p=function t(){l=!1,d=!0,u||n.call(e)},m=function t(r){n.call(e,r)},g=function t(){var i;return l&&!d?(e._readableState&&e._readableState.ended||(i=new r),n.call(e,i)):u&&!f?(e._writableState&&e._writableState.ended||(i=new r),n.call(e,i)):void 0},b=function t(){e.req.on("finish",h)};return a(e)?(e.on("complete",h),e.on("abort",g),e.req?b():e.on("request",b)):u&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",h),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",g)}}t.exports=s},{"../../../errors":339}],350:[function(e,t,n){"use strict";var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var o=e("../../../errors").codes,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function u(e){return e.setHeader&&"function"==typeof e.abort}function c(t,n,o,a){a=i(a);var l=!1;t.on("close",function(){l=!0}),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:o},function(e){if(e)return a(e);l=!0,a()});var c=!1;return function(e){if(!l&&!c)return c=!0,u(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new s("pipe"))}}function f(e){e()}function h(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?l:e.pop():l}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=d(t),i;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map(function(e,n){var a=n<t.length-1,s;return c(e,a,n>0,function(e){i||(i=e),e&&o.forEach(f),a||(o.forEach(f),r(i))})});return t.reduce(h)}t.exports=p},{"../../../errors":339,"./end-of-stream":349}],351:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function o(e,t,n,o){var a=i(t,o,n);if(null!=a){var s;if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(o?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":339}],352:[function(e,t,n){arguments[4][325][0].apply(n,arguments)},{dup:325,events:239}],353:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":341,"./lib/_stream_passthrough.js":342,"./lib/_stream_readable.js":343,"./lib/_stream_transform.js":344,"./lib/_stream_writable.js":345,"./lib/internal/streams/end-of-stream.js":349,"./lib/internal/streams/pipeline.js":350}],354:[function(e,t,n){arguments[4][327][0].apply(n,arguments)},{dup:327,"safe-buffer":333}],355:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(a.call(setTimeout,o,arguments),clearTimeout)},n.setInterval=function(){return new c(a.call(setInterval,o,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(o,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function t(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,i(function i(){l[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":312,timers:355}],356:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.clone=s,n.addLast=c,n.addFirst=f,n.removeLast=h,n.removeFirst=d,n.insert=p,n.removeAt=m,n.replaceAt=g,n.getIn=b,n.set=y,n.setIn=w,n.update=x,n.updateIn=_,n.merge=S,n.mergeDeep=E,n.mergeIn=C,n.omit=k,n.addDefaults=O;
/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */
var r="INVALID_ARGS";function i(e){throw new Error(e)}function o(e){var t=Object.keys(e);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t}var a={}.hasOwnProperty;function s(e){if(Array.isArray(e))return e.slice();for(var t=o(e),n={},r=0;r<t.length;r++){var i=t[r];n[i]=e[i]}return n}function l(t,n,a){var c=a;null==c&&i("production"!==e.env.NODE_ENV?"At least one object should be provided to merge()":r);for(var f=!1,h=arguments.length,d=Array(h>3?h-3:0),p=3;p<h;p++)d[p-3]=arguments[p];for(var m=0;m<d.length;m++){var g=d[m];if(null!=g){var b=o(g);if(b.length)for(var y=0;y<=b.length;y++){var v=b[y];if(!t||void 0===c[v]){var w=g[v];n&&u(c[v])&&u(w)&&(w=l(t,n,c[v],w)),void 0!==w&&w!==c[v]&&(f||(f=!0,c=s(c)),c[v]=w)}}}}return c}function u(e){var n=void 0===e?"undefined":t(e);return null!=e&&"object"===n}function c(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}function f(e,t){return Array.isArray(t)?t.concat(e):[t].concat(e)}function h(e){return e.length?e.slice(0,e.length-1):e}function d(e){return e.length?e.slice(1):e}function p(e,t,n){return e.slice(0,t).concat(Array.isArray(n)?n:[n]).concat(e.slice(t))}function m(e,t){return t>=e.length||t<0?e:e.slice(0,t).concat(e.slice(t+1))}function g(e,t,n){if(e[t]===n)return e;for(var r=e.length,i=Array(r),o=0;o<r;o++)i[o]=e[o];return i[t]=n,i}function b(t,n){if(!Array.isArray(n)&&i("production"!==e.env.NODE_ENV?"A path array should be provided when calling getIn()":r),null!=t){for(var o=t,a=0;a<n.length;a++){var s=n[a];if(void 0===(o=null!=o?o[s]:void 0))return o}return o}}function y(e,t,n){var r,i=null==e?"number"==typeof t?[]:{}:e;if(i[t]===n)return i;var o=s(i);return o[t]=n,o}function v(e,t,n,r){var i=void 0,o=t[r],a;r===t.length-1?i=n:i=v(u(e)&&u(e[o])?e[o]:"number"==typeof t[r+1]?[]:{},t,n,r+1);return y(e,o,i)}function w(e,t,n){return t.length?v(e,t,n,0):n}function x(e,t,n){var r,i;return y(e,t,n(null==e?void 0:e[t]))}function _(e,t,n){var r,i;return w(e,t,n(b(e,t)))}function S(e,t,n,r,i,o){for(var a=arguments.length,s=Array(a>6?a-6:0),u=6;u<a;u++)s[u-6]=arguments[u];return s.length?l.call.apply(l,[null,!1,!1,e,t,n,r,i,o].concat(s)):l(!1,!1,e,t,n,r,i,o)}function E(e,t,n,r,i,o){for(var a=arguments.length,s=Array(a>6?a-6:0),u=6;u<a;u++)s[u-6]=arguments[u];return s.length?l.call.apply(l,[null,!1,!0,e,t,n,r,i,o].concat(s)):l(!1,!0,e,t,n,r,i,o)}function C(e,t,n,r,i,o,a){var s=b(e,t);null==s&&(s={});for(var u=void 0,c=arguments.length,f=Array(c>7?c-7:0),h=7;h<c;h++)f[h-7]=arguments[h];return w(e,t,u=f.length?l.call.apply(l,[null,!1,!1,s,n,r,i,o,a].concat(f)):l(!1,!1,s,n,r,i,o,a))}function k(e,t){for(var n=Array.isArray(t)?t:[t],r=!1,i=0;i<n.length;i++)if(a.call(e,n[i])){r=!0;break}if(!r)return e;for(var s={},l=o(e),u=0;u<l.length;u++){var c=l[u];n.indexOf(c)>=0||(s[c]=e[c])}return s}function O(e,t,n,r,i,o){for(var a=arguments.length,s=Array(a>6?a-6:0),u=6;u<a;u++)s[u-6]=arguments[u];return s.length?l.call.apply(l,[null,!0,!1,e,t,n,r,i,o].concat(s)):l(!0,!1,e,t,n,r,i,o)}var T={clone:s,addLast:c,addFirst:f,removeLast:h,removeFirst:d,insert:p,removeAt:m,replaceAt:g,getIn:b,set:y,setIn:w,update:x,updateIn:_,merge:S,mergeDeep:E,mergeIn:C,omit:k,addDefaults:O};n.default=T}).call(this,e("_process"))},{_process:312}],357:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,i=0,a=e.round,s=e.min,l=e.max,u=e.random;function c(e,t){if(e=e||"",t=t||{},e instanceof c)return e;if(!(this instanceof c))return new c(e,t);var n=f(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=a(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=n.ok,this._tc_id=i++}function f(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,u=!1;return"string"==typeof e&&(e=Q(e)),"object"==typeof e&&(J(e.r)&&J(e.g)&&J(e.b)?(t=h(e.r,e.g,e.b),a=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):J(e.h)&&J(e.s)&&J(e.v)?(r=W(e.s),i=W(e.v),t=g(e.h,r,i),a=!0,u="hsv"):J(e.h)&&J(e.s)&&J(e.l)&&(r=W(e.s),o=W(e.l),t=p(e.h,r,o),a=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=D(n),{ok:a,format:e.format||u,r:s(255,l(t.r,0)),g:s(255,l(t.g,0)),b:s(255,l(t.b,0)),a:n}}function h(e,t,n){return{r:255*L(e,255),g:255*L(t,255),b:255*L(n,255)}}function d(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r=l(e,t,n),i=s(e,t,n),o,a,u=(r+i)/2;if(r==i)o=a=0;else{var c=r-i;switch(a=u>.5?c/(2-r-i):c/(r+i),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:a,l:u}}function p(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=L(e,360),t=L(t,100),n=L(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function m(e,t,n){e=L(e,255),t=L(t,255),n=L(n,255);var r=l(e,t,n),i=s(e,t,n),o,a,u=r,c=r-i;if(a=0===r?0:c/r,r==i)o=0;else{switch(r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:a,v:u}}function g(t,n,r){t=6*L(t,360),n=L(n,100),r=L(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),u=i%6,c,f,h;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u]}}function b(e,t,n,r){var i=[U(a(e).toString(16)),U(a(t).toString(16)),U(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(e,t,n,r,i){var o=[U(a(e).toString(16)),U(a(t).toString(16)),U(a(n).toString(16)),U(V(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function v(e,t,n,r){var i;return[U(V(r)),U(a(e).toString(16)),U(a(t).toString(16)),U(a(n).toString(16))].join("")}function w(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s-=t/100,n.s=F(n.s),c(n)}function x(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.s+=t/100,n.s=F(n.s),c(n)}function _(e){return c(e).desaturate(100)}function S(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l+=t/100,n.l=F(n.l),c(n)}function E(e,t){t=0===t?0:t||10;var n=c(e).toRgb();return n.r=l(0,s(255,n.r-a(-t/100*255))),n.g=l(0,s(255,n.g-a(-t/100*255))),n.b=l(0,s(255,n.b-a(-t/100*255))),c(n)}function C(e,t){t=0===t?0:t||10;var n=c(e).toHsl();return n.l-=t/100,n.l=F(n.l),c(n)}function k(e,t){var n=c(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,c(n)}function O(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function T(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+120)%360,s:t.s,l:t.l}),c({h:(n+240)%360,s:t.s,l:t.l})]}function N(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+90)%360,s:t.s,l:t.l}),c({h:(n+180)%360,s:t.s,l:t.l}),c({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=c(e).toHsl(),n=t.h;return[c(e),c({h:(n+72)%360,s:t.s,l:t.l}),c({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=c(e).toHsl(),i=360/n,o=[c(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(c(r));return o}function j(e,t){t=t||6;for(var n=c(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(c({h:r,s:i,v:o})),o=(o+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,i,o,a,s;return n=t.r/255,r=t.g/255,i=t.b/255,.2126*(o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.7152*(a=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))+.0722*(s=i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4))},setAlpha:function(e){return this._a=D(e),this._roundA=a(100*this._a)/100,this},toHsv:function(){var e=m(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return y(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*L(this._r,255))+"%",g:a(100*L(this._g,255))+"%",b:a(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*L(this._r,255))+"%, "+a(100*L(this._g,255))+"%, "+a(100*L(this._b,255))+"%)":"rgba("+a(100*L(this._r,255))+"%, "+a(100*L(this._g,255))+"%, "+a(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[b(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=c(e);n="#"+v(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(S,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(w,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(N,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:W(e[r]));e=n}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:u(),g:u(),b:u()})},c.mix=function(e,t,n){n=0===n?0:n||50;var r=c(e).toRgb(),i=c(t).toRgb(),o=n/100,a;return c({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},c.readability=function(t,n){var r=c(t),i=c(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(e,t,n){var r=c.readability(e,t),i,o;switch(o=!1,(i=ee(n)).level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7}return o},c.mostReadable=function(e,t,n){var r=null,i=0,o,a,s,l;a=(n=n||{}).includeFallbackColors,s=n.level,l=n.size;for(var u=0;u<t.length;u++)(o=c.readability(e,t[u]))>i&&(i=o,r=c(t[u]));return c.isReadable(e,r,{level:s,size:l})||!a?r:(n.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],n))};var R=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=c.hexNames=P(R);function P(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function D(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(t,n){z(t)&&(t="100%");var r=$(t);return t=s(n,l(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function F(e){return s(1,l(0,e))}function B(e){return parseInt(e,16)}function z(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function $(e){return"string"==typeof e&&-1!=e.indexOf("%")}function U(e){return 1==e.length?"0"+e:""+e}function W(e){return e<=1&&(e=100*e+"%"),e}function V(t){return e.round(255*parseFloat(t)).toString(16)}function H(e){return B(e)/255}var G=(X="[\\s|\\(]+("+(Y="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",Z="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+X),rgba:new RegExp("rgba"+Z),hsl:new RegExp("hsl"+X),hsla:new RegExp("hsla"+Z),hsv:new RegExp("hsv"+X),hsva:new RegExp("hsva"+Z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}),q,K,Y,X,Z;function J(e){return!!G.CSS_UNIT.exec(e)}function Q(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t=!1,i;if(R[e])e=R[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(i=G.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=G.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=G.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=G.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=G.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=G.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=G.hex8.exec(e))?{r:B(i[1]),g:B(i[2]),b:B(i[3]),a:H(i[4]),format:t?"name":"hex8"}:(i=G.hex6.exec(e))?{r:B(i[1]),g:B(i[2]),b:B(i[3]),format:t?"name":"hex"}:(i=G.hex4.exec(e))?{r:B(i[1]+""+i[1]),g:B(i[2]+""+i[2]),b:B(i[3]+""+i[3]),a:H(i[4]+""+i[4]),format:t?"name":"hex8"}:!!(i=G.hex3.exec(e))&&{r:B(i[1]+""+i[1]),g:B(i[2]+""+i[2]),b:B(i[3]+""+i[3]),format:t?"name":"hex"}}function ee(e){var t,n;return t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}void 0!==t&&t.exports?t.exports=c:o.tinycolor=c}(Math)},{}],358:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}(n=t.exports=r).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],359:[function(e,t,n){"use strict";var r=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}n.parse=x,n.resolve=S,n.resolveObject=E,n.format=_,n.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),d=["/","?","#"],p=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=e("querystring");function x(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}function _(e){return i.isString(e)&&(e=x(e)),e instanceof o?e.format():o.prototype.format.call(e)}function S(e,t){return x(e,!1,!0).resolve(t)}function E(e,t){return e?x(e,!1,!0).resolveObject(t):t}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s),c=/\\/g;u[0]=u[0].replace(c,"/");var p=e=u.join(s);if(p=p.trim(),!n&&1===e.split("#").length){var x=l.exec(p);if(x)return this.path=p,this.href=p,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(p);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,p=p.substr(_.length)}if(n||_||p.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===p.substr(0,2);!E||_&&y[_]||(p=p.substr(2),this.slashes=!0)}if(!y[_]&&(E||_&&!v[_])){for(var C=-1,k=0,O,T;k<d.length;k++){var N;-1!==(N=p.indexOf(d[k]))&&(-1===C||N<C)&&(C=N)}-1!==(T=-1===C?p.lastIndexOf("@"):p.lastIndexOf("@",C))&&(O=p.slice(0,T),p=p.slice(T+1),this.auth=decodeURIComponent(O)),C=-1;for(var k=0;k<h.length;k++){var N;-1!==(N=p.indexOf(h[k]))&&(-1===C||N<C)&&(C=N)}-1===C&&(C=p.length),this.host=p.slice(0,C),p=p.slice(C),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),k=0,j=I.length;k<j;k++){var R=I[k];if(R&&!R.match(m)){for(var M="",P=0,D=R.length;P<D;P++)R.charCodeAt(P)>127?M+="x":M+=R[P];if(!M.match(m)){var L=I.slice(0,k),F=I.slice(k+1),B=R.match(g);B&&(L.push(B[1]),F.unshift(B[2])),F.length&&(p="/"+F.join(".")+p),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+z,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==p[0]&&(p="/"+p))}if(!b[S])for(var k=0,j=f.length;k<j;k++){var U=f[k];if(-1!==p.indexOf(U)){var W=encodeURIComponent(U);W===U&&(W=escape(U)),p=p.split(U).join(W)}}var V=p.indexOf("#");-1!==V&&(this.hash=p.substr(V),p=p.slice(0,V));var H=p.indexOf("?");if(-1!==H?(this.search=p.substr(H),this.query=p.substr(H+1),t&&(this.query=w.parse(this.query)),p=p.slice(0,H)):t&&(this.search="",this.query={}),p&&(this.pathname=p),v[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",G=this.search||"";this.path=z+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=w.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(x(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,_=x,S=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],E=n.protocol&&!v[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){var C;if(E)n.hostname=n.host=S.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=S.slice(-1)[0],O=(n.host||e.host||S.length>1)&&("."===k||".."===k)||""===k,T=0,N=S.length;N>=0;N--)"."===(k=S[N])?S.splice(N,1):".."===k?(S.splice(N,1),T++):T&&(S.splice(N,1),T--);if(!x&&!_)for(;T--;T)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var A=""===S[0]||S[0]&&"/"===S[0].charAt(0),C;E&&(n.hostname=n.host=A?"":S.length?S.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(x=x||n.host&&S.length)&&!A&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":360,punycode:313,querystring:316}],360:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],361:[function(e,t,n){(function(n){!function(){var r={},i;function o(){void 0!==n&&"development"!=n.env.NODE_ENV||console.log.apply(console,arguments)}"object"==typeof t?t.exports=r:self.UTIF=r,function(e,t){var n,r,i;n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=Error(),e.prototype.name="JpegError",e.constructor=e}(),i=function(){function e(e,t){this.message=e,this.g=t}return e.prototype=Error(),e.prototype.name="DNLMarkerError",e.constructor=e}(),function(){function t(){this.M=null,this.B=-1}function o(e,t){for(var n=0,r=[],i,o,a=16;0<a&&!e[a-1];)a--;r.push({children:[],index:0});var s=r[0],l;for(i=0;i<a;i++){for(o=0;o<e[i];o++){for((s=r.pop()).children[s.index]=t[n];0<s.index;)s=r.pop();for(s.index++,r.push(s);r.length<=i;)r.push(l={children:[],index:0}),s.children[s.index]=l.children,s=l;n++}i+1<a&&(r.push(l={children:[],index:0}),s.children[s.index]=l.children,s=l)}return r[0].children}function a(e,t,o,a,s,c,f,h,d){function p(){if(0<O)return k>>--O&1;if(255===(k=e[t++])){var n=e[t++];if(n){if(220===n&&S){t+=2;var a=e[t++]<<8|e[t++];if(0<a&&a!==o.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",a)}throw new r("unexpected marker "+(k<<8|n).toString(16))}}return O=7,k>>>7}function m(e){for(;;){if("number"==typeof(e=e[p()]))return e;if("object"!==(void 0===e?"undefined":n(e)))throw new r("invalid huffman sequence")}}function g(e){for(var t=0;0<e;)t=t<<1|p(),e--;return t}function b(e){if(1===e)return 1===p()?1:-1;var t=g(e);return t>=1<<e-1?t:t+(-1<<e)+1}function y(e,t){var n=m(e.D);for(n=0===n?0:b(n),e.a[t]=e.m+=n,n=1;64>n;){var r=m(e.o),i=15&r;if(r>>=4,0===i){if(15>r)break;n+=16}else n+=r,e.a[t+u[n]]=b(i),n++}}function v(e,t){var n=m(e.D);n=0===n?0:b(n)<<d,e.a[t]=e.m+=n}function w(e,t){e.a[t]|=p()<<d}function x(e,t){if(0<T)T--;else for(var n=c;n<=f;){var r=m(e.o),i=15&r;if(r>>=4,0===i){if(15>r){T=g(r)+(1<<r)-1;break}n+=16}else n+=r,e.a[t+u[n]]=b(i)*(1<<d),n++}}function _(e,t){for(var n=c,i=0,o;n<=f;){o=t+u[n];var a=0>e.a[o]?-1:1;switch(N){case 0:if(o=15&(i=m(e.o)),i>>=4,0===o)15>i?(T=g(i)+(1<<i),N=4):(i=16,N=1);else{if(1!==o)throw new r("invalid ACn encoding");A=b(o),N=i?2:3}continue;case 1:case 2:e.a[o]?e.a[o]+=a*(p()<<d):0==--i&&(N=2===N?3:0);break;case 3:e.a[o]?e.a[o]+=a*(p()<<d):(e.a[o]=A<<d,N=0);break;case 4:e.a[o]&&(e.a[o]+=a*(p()<<d))}n++}4===N&&0==--T&&(N=0)}for(var S=9<arguments.length&&void 0!==arguments[9]&&arguments[9],E=o.P,C=t,k=0,O=0,T=0,N=0,A,I=a.length,j,R,M,P,D=o.S?0===c?0===h?v:w:0===h?x:_:y,L=0,F=1===I?a[0].c*a[0].l:E*o.O,B,z;L<F;){var $=s?Math.min(F-L,s):F;for(j=0;j<I;j++)a[j].m=0;if(T=0,1===I){var U=a[0];for(P=0;P<$;P++)D(U,64*((U.c+1)*(L/U.c|0)+L%U.c)),L++}else for(P=0;P<$;P++){for(j=0;j<I;j++)for(B=(U=a[j]).h,z=U.j,R=0;R<z;R++)for(M=0;M<B;M++)D(U,64*((U.c+1)*((L/E|0)*U.j+R)+(L%E*U.h+M)));L++}if(O=0,(U=l(e,t))&&U.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+U.f),t=U.offset),!(U=U&&U.F)||65280>=U)throw new r("marker was not found");if(!(65488<=U&&65495>=U))break;t+=2}return(U=l(e,t))&&U.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+U.f),t=U.offset),t-C}function s(e,t){for(var n=t.c,i=t.l,o=new Int16Array(64),a=0;a<i;a++)for(var s=0;s<n;s++){var l=64*((t.c+1)*a+s),u=o,c=t.G,f=t.a;if(!c)throw new r("missing required Quantization Table.");for(var h=0;64>h;h+=8){var d=f[l+h],p=f[l+h+1],m=f[l+h+2],g=f[l+h+3],b=f[l+h+4],y=f[l+h+5],v=f[l+h+6],w=f[l+h+7];if(d*=c[h],0==(p|m|g|b|y|v|w))d=5793*d+512>>10,u[h]=d,u[h+1]=d,u[h+2]=d,u[h+3]=d,u[h+4]=d,u[h+5]=d,u[h+6]=d,u[h+7]=d;else{p*=c[h+1],m*=c[h+2],g*=c[h+3],b*=c[h+4],y*=c[h+5],v*=c[h+6],w*=c[h+7];var x=5793*d+128>>8,_=5793*b+128>>8,S=m,E=v;_=(x=x+_+1>>1)-_,d=3784*S+1567*E+128>>8,S=1567*S-3784*E+128>>8,y=(b=(b=2896*(p-w)+128>>8)+(y<<=4)+1>>1)-y,g=(w=(w=2896*(p+w)+128>>8)+(g<<=4)+1>>1)-g,E=(x=x+(E=d)+1>>1)-E,S=(_=_+S+1>>1)-S,d=2276*b+3406*w+2048>>12,b=3406*b-2276*w+2048>>12,w=d,d=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=d,u[h]=x+w,u[h+7]=x-w,u[h+1]=_+y,u[h+6]=_-y,u[h+2]=S+g,u[h+5]=S-g,u[h+3]=E+b,u[h+4]=E-b}}for(c=0;8>c;++c)d=u[c],0==((p=u[c+8])|(m=u[c+16])|(g=u[c+24])|(b=u[c+32])|(y=u[c+40])|(v=u[c+48])|(w=u[c+56]))?(d=-2040>(d=5793*d+8192>>14)?0:2024<=d?255:d+2056>>4,f[l+c]=d,f[l+c+8]=d,f[l+c+16]=d,f[l+c+24]=d,f[l+c+32]=d,f[l+c+40]=d,f[l+c+48]=d,f[l+c+56]=d):(_=(x=4112+((x=5793*d+2048>>12)+(_=5793*b+2048>>12)+1>>1))-_,d=3784*(S=m)+1567*(E=v)+2048>>12,S=1567*S-3784*E+2048>>12,E=d,y=(b=(b=2896*(p-w)+2048>>12)+y+1>>1)-y,g=(w=(w=2896*(p+w)+2048>>12)+g+1>>1)-g,d=2276*b+3406*w+2048>>12,b=3406*b-2276*w+2048>>12,w=d,d=799*g+4017*y+2048>>12,g=4017*g-799*y+2048>>12,y=d,d=(x=x+E+1>>1)+w,w=x-w,p=(_=_+S+1>>1)+y,v=_-y,m=(S=_-S)+g,y=S-g,g=(E=x-E)+b,b=E-b,d=16>d?0:4080<=d?255:d>>4,p=16>p?0:4080<=p?255:p>>4,m=16>m?0:4080<=m?255:m>>4,g=16>g?0:4080<=g?255:g>>4,b=16>b?0:4080<=b?255:b>>4,y=16>y?0:4080<=y?255:y>>4,v=16>v?0:4080<=v?255:v>>4,w=16>w?0:4080<=w?255:w>>4,f[l+c]=d,f[l+c+8]=p,f[l+c+16]=m,f[l+c+24]=g,f[l+c+32]=b,f[l+c+40]=y,f[l+c+48]=v,f[l+c+56]=w)}return t.a}function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,r=e.length-1;if(n=n<t?n:t,t>=r)return null;var i=e[t]<<8|e[t+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:t};for(var o=e[n]<<8|e[n+1];!(65472<=o&&65534>=o);){if(++n>=r)return null;o=e[n]<<8|e[n+1]}return{f:i.toString(16),F:o,offset:n}}var u=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);t.prototype={parse:function(e){function t(){var t=e[d]<<8|e[d+1];return d+=2,t}function n(){var n=t(),r=l(e,n=d+n-2,d);return r&&r.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+r.f),n=r.offset),n=e.subarray(d,n),d+=n.length,n}function c(e){for(var t=Math.ceil(e.v/8/e.s),n=Math.ceil(e.g/8/e.u),r=0;r<e.b.length;r++){O=e.b[r];var i=Math.ceil(Math.ceil(e.v/8)*O.h/e.s),o=Math.ceil(Math.ceil(e.g/8)*O.j/e.u);O.a=new Int16Array(64*n*O.j*(t*O.h+1)),O.c=i,O.l=o}e.P=t,e.O=n}var f=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,h=void 0===f?null:f,d=0,p=null,m=0;f=[];var g=[],b=[],y=t();if(65496!==y)throw new r("SOI not found");for(y=t();65497!==y;){switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var v=n();65518===y&&65===v[0]&&100===v[1]&&111===v[2]&&98===v[3]&&101===v[4]&&(p={version:v[5]<<8|v[6],Y:v[7]<<8|v[8],Z:v[9]<<8|v[10],W:v[11]});break;case 65499:y=t()+d-2;for(var w;d<y;){var x=e[d++],_=new Uint16Array(64);if(0==x>>4)for(v=0;64>v;v++)_[w=u[v]]=e[d++];else{if(1!=x>>4)throw new r("DQT - invalid table spec");for(v=0;64>v;v++)_[w=u[v]]=t()}f[15&x]=_}break;case 65472:case 65473:case 65474:if(S)throw new r("Only single frame JPEGs supported");t();var S={};for(S.X=65473===y,S.S=65474===y,S.precision=e[d++],y=t(),S.g=h||y,S.v=t(),S.b=[],S.C={},v=e[d++],y=_=x=0;y<v;y++){w=e[d];var E=e[d+1]>>4,C=15&e[d+1];x<E&&(x=E),_<C&&(_=C),E=S.b.push({h:E,j:C,T:e[d+2],G:null}),S.C[w]=E-1,d+=3}S.s=x,S.u=_,c(S);break;case 65476:for(w=t(),y=2;y<w;){for(x=e[d++],_=new Uint8Array(16),v=E=0;16>v;v++,d++)E+=_[v]=e[d];for(C=new Uint8Array(E),v=0;v<E;v++,d++)C[v]=e[d];y+=17+E,(0==x>>4?b:g)[15&x]=o(_,C)}break;case 65501:t();var k=t();break;case 65498:for(v=1==++m&&!h,t(),x=e[d++],w=[],y=0;y<x;y++){_=S.C[e[d++]];var O=S.b[_];_=e[d++],O.D=b[_>>4],O.o=g[15&_],w.push(O)}y=e[d++],x=e[d++],_=e[d++];try{var T=a(e,d,S,w,k,y,x,_>>4,15&_,v);d+=T}catch(t){if(t instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(e,{N:t.g});throw t}break;case 65500:d+=4;break;case 65535:255!==e[d]&&d--;break;default:if(255===e[d-3]&&192<=e[d-2]&&254>=e[d-2])d-=3;else{if(!(v=l(e,d-2))||!v.f)throw new r("unknown marker "+y.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+v.f),d=v.offset}}y=t()}for(this.width=S.v,this.height=S.g,this.A=p,this.b=[],y=0;y<S.b.length;y++)(k=f[(O=S.b[y]).T])&&(O.G=k),this.b.push({R:s(S,O),U:O.h/S.s,V:O.j/S.u,c:O.c,l:O.l});this.i=this.b.length},L:function(e,t){var n=this.width/e,r=this.height/t,i,o,a=this.b.length,s=e*t*a,l=new Uint8ClampedArray(s),u=new Uint32Array(e);for(o=0;o<a;o++){var c=this.b[o],f=c.U*n,h=c.V*r,d=o,p=c.R,m=c.c+1<<3;for(i=0;i<e;i++)c=0|i*f,u[i]=(4294967288&c)<<3|7&c;for(f=0;f<t;f++)for(c=m*(4294967288&(c=0|f*h))|(7&c)<<3,i=0;i<e;i++)l[d]=p[c+u[i]],d+=a}if(r=this.M)for(o=0;o<s;)for(n=c=0;c<a;c++,o++,n+=2)l[o]=(l[o]*r[n]>>8)+r[n+1];return l},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=3)t=e[i],n=e[i+1],r=e[i+2],e[i]=t-179.456+1.402*r,e[i+1]=t+135.459-.344*n-.714*r,e[i+2]=t-226.816+1.772*n;return e},K:function(e){for(var t,n,r,i,o=0,a=0,s=e.length;a<s;a+=4)t=e[a],n=e[a+1],r=e[a+2],i=e[a+3],e[o++]=n*(-660635669420364e-19*n+.000437130475926232*r-54080610064599e-18*t+.00048449797120281*i-.154362151871126)-122.67195406894+r*(-.000957964378445773*r+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),e[o++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*r+.000659397001245577*t+.000426105652938837*i-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),e[o++]=n*(-.000570115196973677*n-263409051004589e-19*r+.0020741088115012*t-.00288260236853442*i+.814272968359295)-20.810012546947+r*(-153496057440975e-19*r-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return e.subarray(0,o)},J:function(e){for(var t,n,r,i=0,o=e.length;i<o;i+=4)t=e[i],n=e[i+1],r=e[i+2],e[i]=434.456-t-1.402*r,e[i+1]=119.541-t+.344*n+.714*r,e[i+2]=481.816-t-1.772*n;return e},H:function(e){for(var t,n,r,i,o=0,a=1/255,s=0,l=e.length;s<l;s+=4)t=e[s]*a,n=e[s+1]*a,r=e[s+2]*a,i=e[s+3]*a,e[o++]=255+t*(-4.387332384609988*t+54.48615194189176*n+18.82290502165302*r+212.25662451639585*i-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*r-17.873870861415444*i-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),e[o++]=255+t*(8.841041422036149*t+60.118027045597366*n+6.871425592049007*r+31.159100130055922*i-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*r+131.35250912493976*i-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),e[o++]=255+t*(.8842522430003296*t+8.078677503112928*n+30.89978309703729*r-.23883238689178934*i-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*r+50.606957656360734*i-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return e.subarray(0,o)},getData:function(e,t,n){if(4<this.i)throw new r("Unsupported color mode");if(e=this.L(e,t),1===this.i&&n){n=e.length,t=new Uint8ClampedArray(3*n);for(var i=0,o=0;o<n;o++){var a=e[o];t[i++]=a,t[i++]=a,t[i++]=a}return t}if(3===this.i&&this.w())return this.I(e);if(4===this.i){if(this.w())return n?this.K(e):this.J(e);if(n)return this.H(e)}return e}},e.JpegDecoder=t}(),e.encodeImage=function(t,n,r,i){var o={t256:[n],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[n*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var a in i)o[a]=i[a];for(var s=new Uint8Array(e.encode([o])),l=new Uint8Array(t),u=new Uint8Array(1e3+n*r*4),a=0;a<s.length;a++)u[a]=s[a];for(var a=0;a<l.length;a++)u[1e3+a]=l[a];return u.buffer},e.encode=function(t){var n=new Uint8Array(2e4),r=4,i=e._binBE;n[0]=77,n[1]=77,n[3]=42;var o=8;i.writeUint(n,r,o),r+=4;for(var a=0;a<t.length;a++){var s=e._writeIFD(i,n,o,t[a]);o=s[1],a<t.length-1&&i.writeUint(n,s[0],o)}return n.slice(0,o).buffer},e.decode=function(t){e.decode._decodeG3.allow2D=null;var n=new Uint8Array(t),r=0,i=e._binBE.readASCII(n,r,2);r+=2;var o="II"==i?e._binLE:e._binBE,a=o.readUshort(n,r);r+=2;var s=o.readUint(n,r);r+=4;for(var l=[];;){var u=e._readIFD(o,n,s,l);if(0==(s=o.readUint(n,u)))break}return l},e.decodeImages=function(t,n){for(var r=new Uint8Array(t),i=e._binBE.readASCII(r,0,2),a=0;a<n.length;a++){var s=n[a];if(null!=s.t256){s.isLE="II"==i,s.width=s.t256[0],s.height=s.t257[0];var l=s.t259?s.t259[0]:1,u=s.t266?s.t266[0]:1;s.t284&&2==s.t284[0]&&o("PlanarConfiguration 2 should not be used!");var c=(s.t258?Math.min(32,s.t258[0]):1)*(s.t277?s.t277[0]:1),f=8*Math.ceil(s.width*c/8),h=s.t273;null==h&&(h=s.t324);var d=s.t279;1==l&&1==h.length&&(d=[s.height*(f>>>3)]),null==d&&(d=s.t325);var p=new Uint8Array(s.height*(f>>>3)),m=0;if(null!=s.t322){for(var g=s.t322[0],b=s.t323[0],y=Math.floor((s.width+g-1)/g),v=Math.floor((s.height+b-1)/b),w=new Uint8Array(0|Math.ceil(g*b*c/8)),x=0;x<v;x++)for(var _=0;_<y;_++){for(var S=x*y+_,E=0;E<w.length;E++)w[E]=0;e.decode._decompress(s,r,h[S],d[S],l,w,0,u),6==l?p=w:e._copyTile(w,0|Math.ceil(g*c/8),b,p,0|Math.ceil(s.width*c/8),s.height,0|Math.ceil(_*g*c/8),x*b)}m=8*p.length}else{var C=s.t278?s.t278[0]:s.height;C=Math.min(C,s.height);for(var S=0;S<h.length;S++)e.decode._decompress(s,r,h[S],d[S],l,p,0|Math.ceil(m/8),u),m+=f*C;m=Math.min(m,8*p.length)}s.data=new Uint8Array(p.buffer,0,0|Math.ceil(m/8))}}},e.decode._decompress=function(n,r,i,a,s,l,u,c){if(1==s)for(var f=0;f<a;f++)l[u+f]=r[i+f];else if(3==s)e.decode._decodeG3(r,i,a,l,u,n.width,c);else if(4==s)e.decode._decodeG4(r,i,a,l,u,n.width,c);else if(5==s)e.decode._decodeLZW(r,i,l,u);else if(6==s)e.decode._decodeOldJPEG(n,r,i,a,l,u);else if(7==s)e.decode._decodeNewJPEG(n,r,i,a,l,u);else if(8==s)for(var h=new Uint8Array(r.buffer,i,a),d=t.inflate(h),p=0;p<d.length;p++)l[u+p]=d[p];else 32773==s?e.decode._decodePackBits(r,i,a,l,u):32809==s?e.decode._decodeThunder(r,i,a,l,u):o("Unknown compression",s);if(n.t317&&2==n.t317[0])for(var m=n.t277?n.t277[0]:1,g=n.t278?n.t278[0]:n.height,b=n.width*m,y=0;y<g;y++){var v=u+y*b;if(3==m)for(var f=3;f<b;f+=3)l[v+f]=l[v+f]+l[v+f-3]&255,l[v+f+1]=l[v+f+1]+l[v+f-2]&255,l[v+f+2]=l[v+f+2]+l[v+f-1]&255;else for(var f=m;f<b;f++)l[v+f]=l[v+f]+l[v+f-m]&255}},e.decode._decodeNikon=function(e,t,n,r,i){var a=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],s,l,u,c,f,h,d,p,m=0,g=0,b=0,y,v,n,w,x;o(e.slice(t,t+100)),s=e[t],l=e[++t],t++,o(s.toString(16),l.toString(16),n)},e.decode._decodeNewJPEG=function(t,n,r,i,o,a){var s=t.t347,l=s?s.length:0,u=new Uint8Array(l+i);if(s){for(var c=216,f=217,h=0,d=0;d<l-1&&(255!=s[d]||217!=s[d+1]);d++)u[h++]=s[d];var p=n[r],m=n[r+1];255==p&&216==m||(u[h++]=p,u[h++]=m);for(var d=2;d<i;d++)u[h++]=n[r+d]}else for(var d=0;d<i;d++)u[d]=n[r+d];if(32803==t.t262){var g=t.t258[0],b,y=(new LosslessJpegDecoder).decode(u),v=y.length;if(16==g)for(var d=0;d<v;d++)o[a++]=255&y[d],o[a++]=y[d]>>>8;else{if(12!=g)throw new Error("unsupported bit depth "+g);for(var d=0;d<v;d+=2)o[a++]=y[d]>>>4,o[a++]=255&(y[d]<<4|y[d+1]>>>8),o[a++]=255&y[d+1]}}else{var w=new e.JpegDecoder;w.parse(u);for(var x=w.getData(w.width,w.height),d=0;d<x.length;d++)o[a+d]=x[d]}6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodeOldJPEGInit=function(e,t,n,r){var i=216,a=217,s=219,l=196,u=221,c=192,f=218,h=0,d=0,p,m,g=!1,b,y,v,w=e.t513,x=w?w[0]:0,_=e.t514,S=_?_[0]:0,E=e.t324||e.t273||w,C=e.t530,k=0,O=0,T=e.t277?e.t277[0]:1,N=e.t515;if(E&&(d=E[0],g=E.length>1),!g){if(255==t[n]&&216==t[n+1])return{jpegOffset:n};if(null!=w&&(255==t[n+x]&&216==t[n+x+1]?h=n+x:o("JPEGInterchangeFormat does not point to SOI"),null==_?o("JPEGInterchangeFormatLength field is missing"):(x>=d||x+S<=d)&&o("JPEGInterchangeFormatLength field value is invalid"),null!=h))return{jpegOffset:h}}if(null!=C&&(k=C[0],O=C[1]),null!=w&&null!=_)if(S>=2&&x+S<=d){for(p=255==t[n+x+S-2]&&216==t[n+x+S-1]?new Uint8Array(S-2):new Uint8Array(S),b=0;b<p.length;b++)p[b]=t[n+x+b];o("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else o("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==p){var A=0,I=[];I[A++]=255,I[A++]=216;var j=e.t519;if(null==j)throw new Error("JPEGQTables tag is missing");for(b=0;b<j.length;b++)for(I[A++]=255,I[A++]=219,I[A++]=0,I[A++]=67,I[A++]=b,y=0;y<64;y++)I[A++]=t[n+j[b]+y];for(v=0;v<2;v++){var R=e[0==v?"t520":"t521"];if(null==R)throw new Error((0==v?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(b=0;b<R.length;b++){I[A++]=255,I[A++]=196;var M=19;for(y=0;y<16;y++)M+=t[n+R[b]+y];for(I[A++]=M>>>8,I[A++]=255&M,I[A++]=b|v<<4,y=0;y<16;y++)I[A++]=t[n+R[b]+y];for(y=0;y<M;y++)I[A++]=t[n+R[b]+16+y]}}if(I[A++]=255,I[A++]=192,I[A++]=0,I[A++]=8+3*T,I[A++]=8,I[A++]=e.height>>>8&255,I[A++]=255&e.height,I[A++]=e.width>>>8&255,I[A++]=255&e.width,I[A++]=T,1==T)I[A++]=1,I[A++]=17,I[A++]=0;else for(b=0;b<3;b++)I[A++]=b+1,I[A++]=0!=b?17:(15&k)<<4|15&O,I[A++]=b;null!=N&&0!=N[0]&&(I[A++]=255,I[A++]=221,I[A++]=0,I[A++]=4,I[A++]=N[0]>>>8&255,I[A++]=255&N[0]),p=new Uint8Array(I)}var P=-1;for(b=0;b<p.length-1;){if(255==p[b]&&192==p[b+1]){P=b;break}b++}if(-1==P){var D=new Uint8Array(p.length+10+3*T);D.set(p);var L=p.length;if(P=p.length,(p=D)[L++]=255,p[L++]=192,p[L++]=0,p[L++]=8+3*T,p[L++]=8,p[L++]=e.height>>>8&255,p[L++]=255&e.height,p[L++]=e.width>>>8&255,p[L++]=255&e.width,p[L++]=T,1==T)p[L++]=1,p[L++]=17,p[L++]=0;else for(b=0;b<3;b++)p[L++]=b+1,p[L++]=0!=b?17:(15&k)<<4|15&O,p[L++]=b}if(255==t[d]&&218==t[d+1]){var F=t[d+2]<<8|t[d+3];for((m=new Uint8Array(F+2))[0]=t[d],m[1]=t[d+1],m[2]=t[d+2],m[3]=t[d+3],b=0;b<F-2;b++)m[b+4]=t[d+b+4]}else{var B=0;if((m=new Uint8Array(8+2*T))[B++]=255,m[B++]=218,m[B++]=0,m[B++]=6+2*T,m[B++]=T,1==T)m[B++]=1,m[B++]=0;else for(b=0;b<3;b++)m[B++]=b+1,m[B++]=b<<4|b;m[B++]=0,m[B++]=63,m[B++]=0}return{jpegOffset:n,tables:p,sosMarker:m,sofPosition:P}},e.decode._decodeOldJPEG=function(t,n,r,i,o,a){var s,l,u,c,f,h=e.decode._decodeOldJPEGInit(t,n,r,i);if(null!=h.jpegOffset)for(l=r+i-h.jpegOffset,c=new Uint8Array(l),s=0;s<l;s++)c[s]=n[h.jpegOffset+s];else{for(u=h.tables.length,(c=new Uint8Array(u+h.sosMarker.length+i+2)).set(h.tables),f=u,c[h.sofPosition+5]=t.height>>>8&255,c[h.sofPosition+6]=255&t.height,c[h.sofPosition+7]=t.width>>>8&255,c[h.sofPosition+8]=255&t.width,255==n[r]&&n[r+1]==SOS||(c.set(h.sosMarker,bufoff),bufoff+=sosMarker.length),s=0;s<i;s++)c[bufoff++]=n[r+s];c[bufoff++]=255,c[bufoff++]=EOI}var d=new e.JpegDecoder;d.parse(c);for(var p=d.getData(d.width,d.height),s=0;s<p.length;s++)o[a+s]=p[s];6==t.t262[0]&&(t.t262[0]=2)},e.decode._decodePackBits=function(e,t,n,r,i){for(var o=new Int8Array(e.buffer),a=new Int8Array(r.buffer),s=t+n;t<s;){var l=o[t];if(t++,l>=0&&l<128)for(var u=0;u<l+1;u++)a[i]=o[t],i++,t++;if(l>=-127&&l<0){for(var u=0;u<1-l;u++)a[i]=o[t],i++;t++}}},e.decode._decodeThunder=function(e,t,n,r,i){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=t+n,l=2*i,u=0;t<s;){var c=e[t],f=c>>>6,h=63&c;if(t++,3==f&&(u=15&h,r[l>>>1]|=u<<4*(1-l&1),l++),0==f)for(var d=0;d<h;d++)r[l>>>1]|=u<<4*(1-l&1),l++;if(2==f)for(var d=0;d<2;d++){var p;4!=(p=h>>>3*(1-d)&7)&&(u+=a[p],r[l>>>1]|=u<<4*(1-l&1),l++)}if(1==f)for(var d=0;d<3;d++){var p;2!=(p=h>>>2*(2-d)&3)&&(u+=o[p],r[l>>>1]|=u<<4*(1-l&1),l++)}}},e.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},e.decode._lens=function(){var e=function(e,t,n,r){for(var i=0;i<t.length;i++)e[t[i]]=n+i*r},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",r="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),n=n.split(","),r=r.split(","),i=i.split(","),o=o.split(",");var a={},s={};return e(a,t,0,1),e(a,r,64,64),e(a,o,1792,64),e(s,n,0,1),e(s,i,64,64),e(s,o,1792,64),[a,s]}(),e.decode._decodeG4=function(t,n,r,i,o,a,s){for(var l=e.decode,u=n<<3,c=0,f="",h=[],d=[],p=0;p<a;p++)d.push(0);d=l._makeDiff(d);for(var m=0,g=0,b=0,y=0,v=0,w=0,x=0,_="",S=0,E=8*Math.ceil(a/8);u>>>3<n+r;){y=l._findDiff(d,m+(0==m?0:1),1-w),v=l._findDiff(d,y,w);var C=0;if(1==s&&(C=t[u>>>3]>>>7-(7&u)&1),2==s&&(C=t[u>>>3]>>>(7&u)&1),u++,f+=C,"H"==_){if(null!=l._lens[w][f]){var k=l._lens[w][f];f="",c+=k,k<64&&(l._addNtimes(h,c,w),m+=c,w=1-w,c=0,0==--S&&(_=""))}}else"0001"==f&&(f="",l._addNtimes(h,v-m,w),m=v),"001"==f&&(f="",_="H",S=2),null!=l._dmap[f]&&(g=y+l._dmap[f],l._addNtimes(h,g-m,w),m=g,f="",w=1-w);h.length==a&&""==_&&(l._writeBits(h,i,8*o+x*E),w=0,x++,m=0,d=l._makeDiff(h),h=[])}},e.decode._findDiff=function(e,t,n){for(var r=0;r<e.length;r+=2)if(e[r]>=t&&e[r+1]==n)return e[r]},e.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var n=1;n<e.length;n++)e[n-1]!=e[n]&&t.push(n,e[n]);return t.push(e.length,0,e.length,1),t},e.decode._decodeG3=function(t,n,r,i,o,a,s){for(var l=e.decode,u=n<<3,c=0,f="",h=[],d=[],p=0;p<a;p++)h.push(0);for(var m=0,g=0,b=0,y=0,v=0,w=0,x=-1,_="",S=0,E=!1,C=8*Math.ceil(a/8);u>>>3<n+r;){y=l._findDiff(d,m+(0==m?0:1),1-w),v=l._findDiff(d,y,w);var k=0;if(1==s&&(k=t[u>>>3]>>>7-(7&u)&1),2==s&&(k=t[u>>>3]>>>(7&u)&1),u++,f+=k,E){if(null!=l._lens[w][f]){var O=l._lens[w][f];f="",c+=O,O<64&&(l._addNtimes(h,c,w),w=1-w,c=0)}}else if("H"==_){if(null!=l._lens[w][f]){var O=l._lens[w][f];f="",c+=O,O<64&&(l._addNtimes(h,c,w),m+=c,w=1-w,c=0,0==--S&&(_=""))}}else"0001"==f&&(f="",l._addNtimes(h,v-m,w),m=v),"001"==f&&(f="",_="H",S=2),null!=l._dmap[f]&&(g=y+l._dmap[f],l._addNtimes(h,g-m,w),m=g,f="",w=1-w);f.endsWith("000000000001")&&(x>=0&&l._writeBits(h,i,8*o+x*C),1==s&&(E=1==(t[u>>>3]>>>7-(7&u)&1)),2==s&&(E=1==(t[u>>>3]>>>(7&u)&1)),u++,null==l._decodeG3.allow2D&&(l._decodeG3.allow2D=E),l._decodeG3.allow2D||(E=!0,u--),f="",w=0,x++,m=0,d=l._makeDiff(h),h=[])}h.length==a&&l._writeBits(h,i,8*o+x*C)},e.decode._addNtimes=function(e,t,n){for(var r=0;r<t;r++)e.push(n)},e.decode._writeBits=function(e,t,n){for(var r=0;r<e.length;r++)t[n+r>>>3]|=e[r]<<7-(n+r&7)},e.decode._decodeLZW=function(t,n,r,i){if(null==e.decode._lzwTab){for(var o=new Uint32Array(65535),a=new Uint16Array(65535),s=new Uint8Array(2e6),l=0;l<256;l++)s[l<<2]=l,o[l]=l<<2,a[l]=1;e.decode._lzwTab=[o,a,s]}for(var u=e.decode._copyData,c=e.decode._lzwTab[0],f=e.decode._lzwTab[1],s=e.decode._lzwTab[2],h=258,d=1032,p=9,m=n<<3,g=256,b=257,y=0,v=0,w=0;v=(y=t[m>>>3]<<16|t[m+8>>>3]<<8|t[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,257!=v;){if(256==v){if(p=9,h=258,d=1032,v=(y=t[m>>>3]<<16|t[m+8>>>3]<<8|t[m+16>>>3])>>24-(7&m)-p&(1<<p)-1,m+=p,257==v)break;r[i]=v,i++}else if(v<h){var x=c[v],_=f[v],S,E;if(u(s,x,r,i,_),i+=_,w>=h)c[h]=d,s[c[h]]=x[0],f[h]=1,d=d+1+3&-4,h++;else c[h]=d,u(s,S=c[w],s,d,E=f[w]),s[d+E]=s[x],E++,f[h]=E,h++,d=d+E+3&-4;h+1==1<<p&&p++}else{var S,E;if(w>=h)c[h]=d,f[h]=0,h++;else c[h]=d,u(s,S=c[w],s,d,E=f[w]),s[d+E]=s[d],E++,f[h]=E,h++,u(s,d,r,i,E),i+=E,d=d+E+3&-4;h+1==1<<p&&p++}w=v}},e.decode._copyData=function(e,t,n,r,i){for(var o=0;o<i;o+=4)n[r+o]=e[t+o],n[r+o+1]=e[t+o+1],n[r+o+2]=e[t+o+2],n[r+o+3]=e[t+o+3]},e.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},e.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},e._readIFD=function(t,n,r,i){var a=t.readUshort(n,r);r+=2;var s={};i.push(s);for(var l=0;l<a;l++){var u=t.readUshort(n,r);r+=2;var c=t.readUshort(n,r);r+=2;var f=t.readUint(n,r);r+=4;var h=t.readUint(n,r);r+=4;var d=[];if(s["t"+u]=d,1==c||7==c)for(var p=0;p<f;p++)d.push(n[(f<5?r-4:h)+p]);if(2==c&&d.push(t.readASCII(n,f<5?r-4:h,f-1)),3==c)for(var p=0;p<f;p++)d.push(t.readUshort(n,(f<3?r-4:h)+2*p));if(4==c)for(var p=0;p<f;p++)d.push(t.readUint(n,(f<2?r-4:h)+4*p));if(5==c)for(var p=0;p<f;p++)d.push(t.readUint(n,h+8*p)/t.readUint(n,h+8*p+4));if(8==c)for(var p=0;p<f;p++)d.push(t.readShort(n,(f<3?r-4:h)+2*p));if(9==c)for(var p=0;p<f;p++)d.push(t.readInt(n,(f<2?r-4:h)+4*p));if(10==c)for(var p=0;p<f;p++)d.push(t.readInt(n,h+8*p)/t.readInt(n,h+8*p+4));if(11==c)for(var p=0;p<f;p++)d.push(t.readFloat(n,h+4*p));if(12==c)for(var p=0;p<f;p++)d.push(t.readDouble(n,h+8*p));if(0!=f&&0==d.length&&o("unknown TIFF tag type: ",c,"num:",f),330==u)for(var p=0;p<f;p++)e._readIFD(t,n,d[p],i)}return r},e._writeIFD=function(t,n,r,i){var o=Object.keys(i);t.writeUshort(n,r,o.length);for(var a=(r+=2)+12*o.length+4,s=0;s<o.length;s++){var l=o[s],u=parseInt(l.slice(1)),c=e.ttypes[u];if(null==c)throw new Error("unknown type of tag: "+u);var f=i[l];2==c&&(f=f[0]+"\0");var h=f.length;t.writeUshort(n,r,u),r+=2,t.writeUshort(n,r,c),r+=2,t.writeUint(n,r,h);var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][c]*h,p=r+=4;if(d>4&&(t.writeUint(n,r,a),p=a),2==c&&t.writeASCII(n,p,f),3==c)for(var m=0;m<h;m++)t.writeUshort(n,p+2*m,f[m]);if(4==c)for(var m=0;m<h;m++)t.writeUint(n,p+4*m,f[m]);if(5==c)for(var m=0;m<h;m++)t.writeUint(n,p+8*m,Math.round(1e4*f[m])),t.writeUint(n,p+8*m+4,1e4);if(12==c)for(var m=0;m<h;m++)t.writeDouble(n,p+8*m,f[m]);d>4&&(a+=d+=1&d),r+=4}return[r,a]},e.toRGBA8=function(e){var t=e.width,n=e.height,r=t*n,i=4*r,a=e.data,s=new Uint8Array(4*r),l=e.t262[0],u=e.t258?Math.min(32,e.t258[0]):1,c=e.isLE?1:0;if(0==l)for(var f=Math.ceil(u*t/8),h=0;h<n;h++){var d=h*f,p=h*t;if(1==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+(m>>3)]>>7-(7&m)&1;s[g]=s[g+1]=s[g+2]=255*(1-b),s[g+3]=255}if(4==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+(m>>1)]>>4-4*(1&m)&15;s[g]=s[g+1]=s[g+2]=17*(15-b),s[g+3]=255}if(8==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+m];s[g]=s[g+1]=s[g+2]=255-b,s[g+3]=255}}else if(1==l)for(var f=Math.ceil(u*t/8),h=0;h<n;h++){var d=h*f,p=h*t;if(1==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+(m>>3)]>>7-(7&m)&1;s[g]=s[g+1]=s[g+2]=255*b,s[g+3]=255}if(2==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+(m>>2)]>>6-2*(3&m)&3;s[g]=s[g+1]=s[g+2]=85*b,s[g+3]=255}if(8==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+m];s[g]=s[g+1]=s[g+2]=b,s[g+3]=255}if(16==u)for(var m=0;m<t;m++){var g=p+m<<2,b=a[d+(2*m+c)];s[g]=s[g+1]=s[g+2]=Math.min(255,b),s[g+3]=255}}else if(2==l)if(8==u)if(e.t338)if(e.t338[0]>0)for(var m=0;m<i;m++)s[m]=a[m];else for(var m=0;m<i;m+=4)s[m]=a[m],s[m+1]=a[m+1],s[m+2]=a[m+2],s[m+3]=255;else{var y;if(4==(y=e.t258?e.t258.length:3))for(var m=0;m<i;m++)s[m]=a[m];if(3==y)for(var m=0;m<r;m++){var g,v=3*m;s[g=m<<2]=a[v],s[g+1]=a[v+1],s[g+2]=a[v+2],s[g+3]=255}}else for(var m=0;m<r;m++){var g,v=6*m;s[g=m<<2]=a[v],s[g+1]=a[v+2],s[g+2]=a[v+4],s[g+3]=255}else if(3==l)for(var w=e.t320,m=0;m<r;m++){var g=m<<2,x=a[m];s[g]=w[x]>>8,s[g+1]=w[256+x]>>8,s[g+2]=w[512+x]>>8,s[g+3]=255}else if(5==l)for(var y,_=(y=e.t258?e.t258.length:4)>4?1:0,m=0;m<r;m++){var g=m<<2,S=m*y,E=255-a[S],C=255-a[S+1],k=255-a[S+2],O=(255-a[S+3])*(1/255);s[g]=~~(E*O+.5),s[g+1]=~~(C*O+.5),s[g+2]=~~(k*O+.5),s[g+3]=255*(1-_)+a[S+4]*_}else o("Unknown Photometric interpretation: "+l);return s},e.replaceIMG=function(){for(var t=document.getElementsByTagName("img"),n=0;n<t.length;n++){var r=t[n],i=r.getAttribute("src");if(null!=i){var o=i.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var a=new XMLHttpRequest;e._xhrs.push(a),e._imgs.push(r),a.open("GET",i),a.responseType="arraybuffer",a.onload=e._imgLoaded,a.send()}}}},e._xhrs=[],e._imgs=[],e._imgLoaded=function(t){var n=t.target.response,r=e.decode(n),i=r[0];e.decodeImages(n,r);var o=e.toRGBA8(i),a=i.width,s=i.height,l=e._xhrs.indexOf(t.target),u=e._imgs[l];e._xhrs.splice(l,1),e._imgs.splice(l,1);var c=document.createElement("canvas");c.width=a,c.height=s;for(var f=c.getContext("2d"),h=f.createImageData(a,s),d=0;d<o.length;d++)h.data[d]=o[d];f.putImageData(h,0,0);for(var p=["style","class","id"],d=0;d<p.length;d++)c.setAttribute(p[d],u.getAttribute(p[d]));u.parentNode.replaceChild(c,u)},e._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readShort:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+1],r[1]=t[n+0],e._binBE.i16[0]},readInt:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+3],r[1]=t[n+2],r[2]=t[n+1],r[3]=t[n+0],e._binBE.i32[0]},readUint:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+3],r[1]=t[n+2],r[2]=t[n+1],r[3]=t[n+0],e._binBE.ui32[0]},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readFloat:function(t,n){for(var r=e._binBE.ui8,i=0;i<4;i++)r[i]=t[n+3-i];return e._binBE.fl32[0]},readDouble:function(t,n){for(var r=e._binBE.ui8,i=0;i<8;i++)r[i]=t[n+7-i];return e._binBE.fl64[0]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n>>0&255},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},writeDouble:function(t,n,r){e._binBE.fl64[0]=r;for(var i=0;i<8;i++)t[n+i]=e._binBE.ui8[7-i]}},e._binBE.ui8=new Uint8Array(8),e._binBE.i16=new Int16Array(e._binBE.ui8.buffer),e._binBE.i32=new Int32Array(e._binBE.ui8.buffer),e._binBE.ui32=new Uint32Array(e._binBE.ui8.buffer),e._binBE.fl32=new Float32Array(e._binBE.ui8.buffer),e._binBE.fl64=new Float64Array(e._binBE.ui8.buffer),e._binLE={nextZero:e._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readShort:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+0],r[1]=t[n+1],e._binBE.i16[0]},readInt:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+0],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],e._binBE.i32[0]},readUint:function(t,n){var r=e._binBE.ui8;return r[0]=t[n+0],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],e._binBE.ui32[0]},readASCII:e._binBE.readASCII,readFloat:function(t,n){for(var r=e._binBE.ui8,i=0;i<4;i++)r[i]=t[n+i];return e._binBE.fl32[0]},readDouble:function(t,n){for(var r=e._binBE.ui8,i=0;i<8;i++)r[i]=t[n+i];return e._binBE.fl64[0]}},e._copyTile=function(e,t,n,r,i,o,a,s){for(var l=Math.min(t,i-a),u=Math.min(n,o-s),c=0;c<u;c++)for(var f=(s+c)*i+a,h=c*t,d=0;d<l;d++)r[f+d]=e[h+d]}}(r,i="function"==typeof e?e("pako"):self.pako)}()}).call(this,e("_process"))},{_process:312,pako:265}],362:[function(e,n,r){(function(e){function t(e,t){if(r("noDeprecation"))return e;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:void 0!==o?o:{})},{}],363:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],364:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],365:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{"./support/isBuffer":364,_process:312,dup:27,inherits:363}],366:[function(e,t,n){"use strict";var r=e("global/window"),i=e("is-function"),o=e("parse-headers"),a=e("xtend");function s(e,t){for(var n=0;n<e.length;n++)t(e[n])}function l(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function c(e,t,n){return f(t=u(e,t,n))}function f(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function n(r,i,o){t||(t=!0,e.callback(r,i,o))};function r(){4===u.readyState&&setTimeout(s,0)}function i(){var e=void 0;if(e=u.response?u.response:u.responseText||h(u),v)try{e=JSON.parse(e)}catch(e){}return e}function a(e){return clearTimeout(w),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,x)}function s(){if(!d){var t;clearTimeout(w),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=x,a=null;return 0!==t?(r={body:i(),statusCode:t,method:m,headers:{},url:p,rawRequest:u},u.getAllResponseHeaders&&(r.headers=o(u.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,r,r.body)}}var u=e.xhr||null,f,d;u||(u=e.cors||e.useXDR?new c.XDomainRequest:new c.XMLHttpRequest);var p=u.url=e.uri||e.url,m=u.method=e.method||"GET",g=e.body||e.data,b=u.headers=e.headers||{},y=!!e.sync,v=!1,w,x={body:void 0,headers:{},statusCode:0,method:m,url:p,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),g=JSON.stringify(!0===e.json?g:e.json))),u.onreadystatechange=r,u.onload=s,u.onerror=a,u.onprogress=function(){},u.onabort=function(){d=!0},u.ontimeout=a,u.open(m,p,!y,e.username,e.password),y||(u.withCredentials=!!e.withCredentials),!y&&e.timeout>0&&(w=setTimeout(function(){if(!d){d=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",a(e)}},e.timeout)),u.setRequestHeader)for(f in b)b.hasOwnProperty(f)&&u.setRequestHeader(f,b[f]);else if(e.headers&&!l(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(g||null),u}function h(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}function d(){}t.exports=c,t.exports.default=c,c.XMLHttpRequest=r.XMLHttpRequest||d,c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:r.XDomainRequest,s(["get","put","post","patch","head","delete"],function(e){c["delete"===e?"del":e]=function(t,n,r){return(n=u(t,n,r)).method=e.toUpperCase(),f(n)}})},{"global/window":251,"is-function":257,"parse-headers":285,xtend:368}],367:[function(e,t,n){t.exports=function e(){return void 0!==self.DOMParser?function(e){var t;return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}}()},{}],368:[function(e,t,n){t.exports=i;var r=Object.prototype.hasOwnProperty;function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}},{}],369:[function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i,o,a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/r,g:(e.g*e.a+t.g*t.a*(1-e.a))/r,b:(e.b*e.a+t.b*t.a*(1-e.a))/r,a:r}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i,o,a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/r,g:(t.g*t.a+e.g*e.a*(1-t.a))/r,b:(t.b*t.a+e.b*e.a*(1-t.a))/r,a:r}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(i*s+i*(1-t.a)+s*(1-e.a))/r,g:(o*l+o*(1-t.a)+l*(1-e.a))/r,b:(a*u+a*(1-t.a)+u*(1-e.a))/r,a:r}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(i*t.a+s*e.a-i*s+i*(1-t.a)+s*(1-e.a))/r,g:(o*t.a+l*e.a-o*l+o*(1-t.a)+l*(1-e.a))/r,b:(a*t.a+u*e.a-a*u+a*(1-t.a)+u*(1-e.a))/r,a:r}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(2*s<=t.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/r,g:(2*l<=t.a?2*o*l+o*(1-t.a)+l*(1-e.a):o*(1+t.a)+l*(1+e.a)-2*l*o-t.a*e.a)/r,b:(2*u<=t.a?2*a*u+a*(1-t.a)+u*(1-e.a):a*(1+t.a)+u*(1+e.a)-2*u*a-t.a*e.a)/r,a:r}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(Math.min(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/r,g:(Math.min(o*t.a,l*e.a)+o*(1-t.a)+l*(1-e.a))/r,b:(Math.min(a*t.a,u*e.a)+a*(1-t.a)+u*(1-e.a))/r,a:r}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(Math.max(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/r,g:(Math.max(o*t.a,l*e.a)+o*(1-t.a)+l*(1-e.a))/r,b:(Math.max(a*t.a,u*e.a)+a*(1-t.a)+u*(1-e.a))/r,a:r}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(2*i<=e.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/r,g:(2*o<=e.a?2*o*l+o*(1-t.a)+l*(1-e.a):o*(1+t.a)+l*(1+e.a)-2*l*o-t.a*e.a)/r,b:(2*a<=e.a?2*a*u+a*(1-t.a)+u*(1-e.a):a*(1+t.a)+u*(1+e.a)-2*u*a-t.a*e.a)/r,a:r}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(i+s-2*Math.min(i*t.a,s*e.a))/r,g:(o+l-2*Math.min(o*t.a,l*e.a))/r,b:(a+u-2*Math.min(a*t.a,u*e.a))/r,a:r}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e.a*=n;var r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,a=e.b*e.a,s=t.r*t.a,l=t.g*t.a,u=t.b*t.a,c,f,h;return{r:(i*t.a+s*e.a-2*i*s+i*(1-t.a)+s*(1-e.a))/r,g:(o*t.a+l*e.a-2*o*l+o*(1-t.a)+l*(1-e.a))/r,b:(a*t.a+u*e.a-2*a*u+a*(1-t.a)+u*(1-e.a))/r,a:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.srcOver=r,n.dstOver=i,n.multiply=o,n.screen=a,n.overlay=s,n.darken=l,n.lighten=u,n.hardLight=c,n.difference=f,n.exclusion=h},{}],370:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var i=e("@jimp/utils"),o=r(e("../constants")),a=r(e("./composite-modes"));function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if("function"==typeof r&&(s=r,r={}),!(e instanceof this.constructor))return i.throwError.call(this,"The source must be a Jimp image",s);if("number"!=typeof t||"number"!=typeof n)return i.throwError.call(this,"x and y must be numbers",s);var l=r,u=l.mode,c=l.opacitySource,f=l.opacityDest;u||(u=o.BLEND_SOURCE_OVER),("number"!=typeof c||c<0||c>1)&&(c=1),("number"!=typeof f||f<0||f>1)&&(f=1);var h=a[u];t=Math.round(t),n=Math.round(n);var d=this;return 1!==f&&d.opacity(f),e.scanQuiet(0,0,e.bitmap.width,e.bitmap.height,function(e,r,i){var a=d.getPixelIndex(t+e,n+r,o.EDGE_CROP),s=h({r:this.bitmap.data[i+0]/255,g:this.bitmap.data[i+1]/255,b:this.bitmap.data[i+2]/255,a:this.bitmap.data[i+3]/255},{r:d.bitmap.data[a+0]/255,g:d.bitmap.data[a+1]/255,b:d.bitmap.data[a+2]/255,a:d.bitmap.data[a+3]/255},c);d.bitmap.data[a+0]=this.constructor.limit255(255*s.r),d.bitmap.data[a+1]=this.constructor.limit255(255*s.g),d.bitmap.data[a+2]=this.constructor.limit255(255*s.b),d.bitmap.data[a+3]=this.constructor.limit255(255*s.a)}),(0,i.isNodePattern)(s)&&s.call(this,null,this),this}t.exports=n.default},{"../constants":371,"./composite-modes":369,"@babel/runtime/helpers/interopRequireWildcard":11,"@jimp/utils":414}],371:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EDGE_CROP=n.EDGE_WRAP=n.EDGE_EXTEND=n.BLEND_EXCLUSION=n.BLEND_DIFFERENCE=n.BLEND_HARDLIGHT=n.BLEND_LIGHTEN=n.BLEND_DARKEN=n.BLEND_OVERLAY=n.BLEND_SCREEN=n.BLEND_MULTIPLY=n.BLEND_DESTINATION_OVER=n.BLEND_SOURCE_OVER=n.VERTICAL_ALIGN_BOTTOM=n.VERTICAL_ALIGN_MIDDLE=n.VERTICAL_ALIGN_TOP=n.HORIZONTAL_ALIGN_RIGHT=n.HORIZONTAL_ALIGN_CENTER=n.HORIZONTAL_ALIGN_LEFT=n.AUTO=void 0;var r=-1;n.AUTO=-1;var i=1;n.HORIZONTAL_ALIGN_LEFT=1;var o=2;n.HORIZONTAL_ALIGN_CENTER=2;var a=4;n.HORIZONTAL_ALIGN_RIGHT=4;var s=8;n.VERTICAL_ALIGN_TOP=8;var l=16;n.VERTICAL_ALIGN_MIDDLE=16;var u=32;n.VERTICAL_ALIGN_BOTTOM=32;var c="srcOver";n.BLEND_SOURCE_OVER="srcOver";var f="dstOver";n.BLEND_DESTINATION_OVER="dstOver";var h="multiply";n.BLEND_MULTIPLY="multiply";var d="screen";n.BLEND_SCREEN="screen";var p="overlay";n.BLEND_OVERLAY="overlay";var m="darken";n.BLEND_DARKEN="darken";var g="lighten";n.BLEND_LIGHTEN="lighten";var b="hardLight";n.BLEND_HARDLIGHT="hardLight";var y="difference";n.BLEND_DIFFERENCE="difference";var v="exclusion";n.BLEND_EXCLUSION="exclusion";var w=1;n.EDGE_EXTEND=1;var x=2;n.EDGE_WRAP=2;var _=3;n.EDGE_CROP=3},{}],372:[function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.find"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array-buffer.slice"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.parse-int"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.timers"),Object.defineProperty(n,"__esModule",{value:!0}),n.addConstants=H,n.addJimpMethods=G,n.jimpEvMethod=q,n.jimpEvChange=K,Object.defineProperty(n,"addType",{enumerable:!0,get:function e(){return T.addType}}),n.default=void 0;for(var a=i(e("@babel/runtime/helpers/construct")),s=i(e("@babel/runtime/helpers/slicedToArray")),l=i(e("@babel/runtime/helpers/classCallCheck")),u=i(e("@babel/runtime/helpers/createClass")),c=i(e("@babel/runtime/helpers/possibleConstructorReturn")),f=i(e("@babel/runtime/helpers/getPrototypeOf")),h=i(e("@babel/runtime/helpers/assertThisInitialized")),d=i(e("@babel/runtime/helpers/inherits")),p=i(e("@babel/runtime/helpers/defineProperty")),m=i(e("@babel/runtime/helpers/typeof")),g=i(e("fs")),b=i(e("path")),y=i(e("events")),v=e("@jimp/utils"),w=i(e("any-base")),x=i(e("mkdirp")),_=i(e("pixelmatch")),S=i(e("tinycolor2")),E=i(e("./modules/phash")),C=i(e("./request")),k=i(e("./composite")),O=i(e("./utils/promisify")),T=r(e("./utils/mime")),N=e("./utils/image-bitmap"),A=r(e("./constants")),I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",j=[NaN,NaN],R=2;R<65;R++){var M=(0,w.default)(w.default.BIN,I.slice(0,R))(new Array(65).join("1"));j.push(M.length)}function P(){}function D(e){return Object.prototype.toString.call(e).toLowerCase().indexOf("arraybuffer")>-1}function L(e){for(var n=t.alloc(e.byteLength),r=new Uint8Array(e),i=0;i<n.length;++i)n[i]=r[i];return n}function F(e,n){(0,C.default)(e,function(r,i,o){if(r)return n(r);if("headers"in i&&"location"in i.headers)return e.url=i.headers.location,F(e,n);if("object"===(0,m.default)(o)&&t.isBuffer(o))return n(null,o);var a="Could not load Buffer from <"+e.url+"> (HTTP: "+i.statusCode+")";return new Error(a)})}function B(e,t){g.default&&"function"==typeof g.default.readFile&&!e.match(/^(http|ftp)s?:\/\/./)?g.default.readFile(e,t):F({url:e},t)}function z(e){return e&&"object"===(0,m.default)(e)&&"number"==typeof e.width&&"number"==typeof e.height&&(t.isBuffer(e.data)||e.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&e.data instanceof Uint8ClampedArray)&&(e.data.length===e.width*e.height*4||e.data.length===e.width*e.height*3)}function $(e){if(e.length%3!=0)throw new Error("Buffer length is incorrect");for(var n=t.allocUnsafe(e.length/3*4),r=0,i=0;i<e.length;i++)n[r]=e[i],(i+1)%3==0&&(n[++r]=255),r++;return n}var U={data:null,width:null,height:null},W=function(e){function n(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(0,l.default)(this,n),e=(0,c.default)(this,(0,f.default)(n).call(this)),(0,p.default)((0,h.default)(e),"bitmap",U),(0,p.default)((0,h.default)(e),"_background",0),(0,p.default)((0,h.default)(e),"_originalMime",n.MIME_PNG),(0,p.default)((0,h.default)(e),"_exif",null),(0,p.default)((0,h.default)(e),"_rgba",!0),(0,p.default)((0,h.default)(e),"writeAsync",function(t){return(0,O.default)(e.write,(0,h.default)(e),t)}),(0,p.default)((0,h.default)(e),"getBase64Async",function(t){return(0,O.default)(e.getBase64,(0,h.default)(e),t)}),(0,p.default)((0,h.default)(e),"getBuffer",N.getBuffer),(0,p.default)((0,h.default)(e),"getBufferAsync",N.getBufferAsync),(0,p.default)((0,h.default)(e),"getPixelColour",e.getPixelColor),(0,p.default)((0,h.default)(e),"setPixelColour",e.setPixelColor);var a=(0,h.default)(e),s=P;function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i;(r||{}).methodName="constructor",setTimeout(function(){var e;r&&s===P?a.emitError("constructor",r):r||a.emitMulti("constructor","initialized"),(e=s).call.apply(e,[a].concat(t))},1)}if(D(i[0])&&(i[0]=L(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var d=parseInt(i[0],10),g=parseInt(i[1],10);if(s=i[2],"number"==typeof i[2]&&(e._background=i[2],s=i[3]),"string"==typeof i[2]&&(e._background=n.cssColorToHex(i[2]),s=i[3]),void 0===s&&(s=P),"function"!=typeof s)return(0,c.default)(e,v.throwError.call((0,h.default)(e),"cb must be a function",u));e.bitmap={data:t.alloc(d*g*4),width:d,height:g};for(var b=0;b<e.bitmap.data.length;b+=4)e.bitmap.data.writeUInt32BE(e._background,b);u(null,(0,h.default)(e))}else if("object"===(0,m.default)(i[0])&&i[0].url){if("function"!=typeof(s=i[1]||P))return(0,c.default)(e,v.throwError.call((0,h.default)(e),"cb must be a function",u));F(i[0],function(t,n){if(t)return v.throwError.call((0,h.default)(e),t,u);e.parseBitmap(n,i[0].url,u)})}else if(i[0]instanceof n){var y=i[0];if(void 0===(s=i[1])&&(s=P),"function"!=typeof s)return(0,c.default)(e,v.throwError.call((0,h.default)(e),"cb must be a function",u));e.bitmap={data:t.from(y.bitmap.data),width:y.bitmap.width,height:y.bitmap.height},e._quality=y._quality,e._deflateLevel=y._deflateLevel,e._deflateStrategy=y._deflateStrategy,e._filterType=y._filterType,e._rgba=y._rgba,e._background=y._background,e._originalMime=y._originalMime,u(null,(0,h.default)(e))}else if(z(i[0])){var w=i[0];s=i[1]||P;var x,_=w.width*w.height*4===w.data.length?t.from(w.data):$(w.data);e.bitmap={data:_,width:w.width,height:w.height},u(null,(0,h.default)(e))}else if("string"==typeof i[0]){var S=i[0];if(void 0===(s=i[1])&&(s=P),"function"!=typeof s)return(0,c.default)(e,v.throwError.call((0,h.default)(e),"cb must be a function",u));B(S,function(t,n){if(t)return v.throwError.call((0,h.default)(e),t,u);e.parseBitmap(n,S,u)})}else if("object"===(0,m.default)(i[0])&&t.isBuffer(i[0])){var E=i[0];if("function"!=typeof(s=i[1]))return(0,c.default)(e,v.throwError.call((0,h.default)(e),"cb must be a function",u));e.parseBitmap(E,null,u)}else{"function"!=typeof(s=i[i.length-1])&&"function"!=typeof(s=i[i.length-2])&&(s=P);var C=n.__extraConstructors.find(function(e){return e.test.apply(e,i)});if(!C)return(0,c.default)(e,v.throwError.call((0,h.default)(e),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",u));new Promise(function(t,n){var r;return(r=C.run).call.apply(r,[(0,h.default)(e),t,n].concat(i))}).then(function(){return u(null,(0,h.default)(e))}).catch(u)}return e}return(0,d.default)(n,e),(0,u.default)(n,[{key:"parseBitmap",value:function e(t,n,r){N.parseBitmap.call(this,t,null,r)}},{key:"rgba",value:function e(t,n){return"boolean"!=typeof t?v.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",n):(this._rgba=t,(0,v.isNodePattern)(n)&&n.call(this,null,this),this)}},{key:"emitMulti",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:n}),this.emit("any",r),t&&this.emit(t,r),this.emit(n,r)}},{key:"emitError",value:function e(t,n){this.emitMulti(t,"error",n)}},{key:"getHeight",value:function e(){return this.bitmap.height}},{key:"getWidth",value:function e(){return this.bitmap.width}},{key:"inspect",value:function e(){return"<Jimp "+(this.bitmap===U?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function e(){return"[object Jimp]"}},{key:"getMIME",value:function e(){var t;return this._originalMime||n.MIME_PNG}},{key:"getExtension",value:function e(){var t=this.getMIME();return T.getExtension(t)}},{key:"write",value:function e(t,n){var r=this;if(!g.default||!g.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return v.throwError.call(this,"path must be a string",n);if(void 0===n&&(n=P),"function"!=typeof n)return v.throwError.call(this,"cb must be a function",n);var i=T.getType(t)||this.getMIME(),o=b.default.parse(t);return o.dir&&x.default.sync(o.dir),this.getBuffer(i,function(e,i){if(e)return v.throwError.call(r,e,n);var o=g.default.createWriteStream(t);o.on("open",function(){o.write(i),o.end()}).on("error",function(e){return v.throwError.call(r,e,n)}),o.on("finish",function(){n.call(r,null,r)})}),this}},{key:"getBase64",value:function e(t,r){return t===n.AUTO&&(t=this.getMIME()),"string"!=typeof t?v.throwError.call(this,"mime must be a string",r):"function"!=typeof r?v.throwError.call(this,"cb must be a function",r):(this.getBuffer(t,function(e,n){if(e)return v.throwError.call(this,e,r);var i="data:"+t+";base64,"+n.toString("base64");r.call(this,null,i)}),this)}},{key:"hash",value:function e(t,n){if("function"==typeof(t=t||64)&&(n=t,t=64),"number"!=typeof t)return v.throwError.call(this,"base must be a number",n);if(t<2||t>64)return v.throwError.call(this,"base must be a number between 2 and 64",n);var e=this.pHash();for(e=(0,w.default)(w.default.BIN,I.slice(0,t))(e);e.length<j[t];)e="0"+e;return(0,v.isNodePattern)(n)&&n.call(this,null,e),e}},{key:"pHash",value:function e(){var e=new E.default;return e.getHash(this)}},{key:"distanceFromHash",value:function e(t){var n=new E.default,r=n.getHash(this);return n.distance(r,t)}},{key:"getPixelIndex",value:function e(t,r,i,o){var a,s;if("function"==typeof i&&void 0===o&&(o=i,i=null),i||(i=n.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof r)return v.throwError.call(this,"x and y must be numbers",o);a=t=Math.round(t),s=r=Math.round(r),i===n.EDGE_EXTEND&&(t<0&&(a=0),t>=this.bitmap.width&&(a=this.bitmap.width-1),r<0&&(s=0),r>=this.bitmap.height&&(s=this.bitmap.height-1)),i===n.EDGE_WRAP&&(t<0&&(a=this.bitmap.width+t),t>=this.bitmap.width&&(a=t%this.bitmap.width),r<0&&(a=this.bitmap.height+r),r>=this.bitmap.height&&(s=r%this.bitmap.height));var l=this.bitmap.width*s+a<<2;return(a<0||a>=this.bitmap.width)&&(l=-1),(s<0||s>=this.bitmap.height)&&(l=-1),(0,v.isNodePattern)(o)&&o.call(this,null,l),l}},{key:"getPixelColor",value:function e(t,n,r){if("number"!=typeof t||"number"!=typeof n)return v.throwError.call(this,"x and y must be numbers",r);t=Math.round(t),n=Math.round(n);var i=this.getPixelIndex(t,n),o=this.bitmap.data.readUInt32BE(i);return(0,v.isNodePattern)(r)&&r.call(this,null,o),o}},{key:"setPixelColor",value:function e(t,n,r,i){if("number"!=typeof t||"number"!=typeof n||"number"!=typeof r)return v.throwError.call(this,"hex, x and y must be numbers",i);n=Math.round(n),r=Math.round(r);var o=this.getPixelIndex(n,r);return this.bitmap.data.writeUInt32BE(t,o),(0,v.isNodePattern)(i)&&i.call(this,null,this),this}},{key:"hasAlpha",value:function e(){for(var t=0;t<this.bitmap.height;t++)for(var n=0;n<this.bitmap.width;n++){var r=this.bitmap.width*t+n<<2,i;if(255!==this.bitmap.data[r+3])return!0}return!1}},{key:"scanIterator",value:function e(t,n,r,i){return"number"!=typeof t||"number"!=typeof n?v.throwError.call(this,"x and y must be numbers"):"number"!=typeof r||"number"!=typeof i?v.throwError.call(this,"w and h must be numbers"):(0,v.scanIterator)(this,t,n,r,i)}}]),n}(y.default),V;function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W;Object.entries(e).forEach(function(e){var n=(0,s.default)(e,2),r=n[0],i=n[1];t[r]=i})}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W;Object.entries(e).forEach(function(e){var n=(0,s.default)(e,2),r=n[0],i=n[1];t.prototype[r]=i})}function q(e,t,n){var r="before-"+t,i=t.replace(/e$/,"")+"ed";W.prototype[e]=function(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=a[n.length-1],u=this,c;"function"==typeof l?(t=function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=r[0],s=r[1];a?u.emitError(e,a):u.emitMulti(e,i,(0,p.default)({},e,s)),l.apply(this,r)},a[a.length-1]=t):t=!1,this.emitMulti(e,r);try{c=n.apply(this,a),t||this.emitMulti(e,i,(0,p.default)({},e,c))}catch(t){t.methodName=e,this.emitError(e,t)}return c},W.prototype[e+"Quiet"]=n}function K(e,t){q(e,"change",t)}H(A),G({composite:k.default}),W.__extraConstructors=[],W.appendConstructorOption=function(e,t,n){W.__extraConstructors.push({name:e,test:t,run:n})},W.read=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(function(e,n){(0,a.default)(W,t.concat([function(t,r){t?n(t):e(r)}]))})},W.create=W.read,W.rgbaToInt=function(e,t,n,r,i){if("number"!=typeof e||"number"!=typeof t||"number"!=typeof n||"number"!=typeof r)return v.throwError.call(this,"r, g, b and a must be numbers",i);if(e<0||e>255)return v.throwError.call(this,"r must be between 0 and 255",i);if((t<0||t>255)&&v.throwError.call(this,"g must be between 0 and 255",i),n<0||n>255)return v.throwError.call(this,"b must be between 0 and 255",i);if(r<0||r>255)return v.throwError.call(this,"a must be between 0 and 255",i);e=Math.round(e),n=Math.round(n),t=Math.round(t),r=Math.round(r);var o=e*Math.pow(256,3)+t*Math.pow(256,2)+n*Math.pow(256,1)+r*Math.pow(256,0);return(0,v.isNodePattern)(i)&&i.call(this,null,o),o},W.intToRGBA=function(e,t){if("number"!=typeof e)return v.throwError.call(this,"i must be a number",t);var n={};return n.r=Math.floor(e/Math.pow(256,3)),n.g=Math.floor((e-n.r*Math.pow(256,3))/Math.pow(256,2)),n.b=Math.floor((e-n.r*Math.pow(256,3)-n.g*Math.pow(256,2))/Math.pow(256,1)),n.a=Math.floor((e-n.r*Math.pow(256,3)-n.g*Math.pow(256,2)-n.b*Math.pow(256,1))/Math.pow(256,0)),(0,v.isNodePattern)(t)&&t.call(this,null,n),n},W.cssColorToHex=function(e){return"number"==typeof(e=e||0)?Number(e):parseInt((0,S.default)(e).toHex8(),16)},W.limit255=function(e){return e=Math.max(e,0),e=Math.min(e,255)},W.diff=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(e instanceof W&&t instanceof W))return v.throwError.call(this,"img1 and img2 must be an Jimp images");var r=e.bitmap,i=t.bitmap;if(r.width===i.width&&r.height===i.height||(r.width*r.height>i.width*i.height?e=e.cloneQuiet().resize(i.width,i.height):t=t.cloneQuiet().resize(r.width,r.height)),"number"!=typeof n||n<0||n>1)return v.throwError.call(this,"threshold must be a number between 0 and 1");var o=new W(r.width,r.height,4294967295),a;return{percent:(0,_.default)(r.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:n})/(o.bitmap.width*o.bitmap.height),image:o}},W.distance=function(e,t){var n=new E.default,r=n.getHash(e),i=n.getHash(t);return n.distance(r,i)},W.compareHashes=function(e,t){var n;return(new E.default).distance(e,t)},W.colorDiff=function(e,t){var n=function e(t){return Math.pow(t,2)},r=Math.max,i=195075;return 0===e.a||e.a||(e.a=255),0===t.a||t.a||(t.a=255),(r(n(e.r-t.r),n(e.r-t.r-e.a+t.a))+r(n(e.g-t.g),n(e.g-t.g-e.a+t.a))+r(n(e.b-t.b),n(e.b-t.b-e.a+t.a)))/195075},q("clone","clone",function(e){var t=new W(this);return(0,v.isNodePattern)(e)&&e.call(t,null,t),t}),K("background",function(e,t){return"number"!=typeof e?v.throwError.call(this,"hex must be a hexadecimal rgba value",t):(this._background=e,(0,v.isNodePattern)(t)&&t.call(this,null,this),this)}),K("scan",function(e,t,n,r,i,o){if("number"!=typeof e||"number"!=typeof t)return v.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof r)return v.throwError.call(this,"w and h must be numbers",o);if("function"!=typeof i)return v.throwError.call(this,"f must be a function",o);var a=(0,v.scan)(this,e,t,n,r,i);return(0,v.isNodePattern)(o)&&o.call(this,null,a),a}),void 0!==o&&"object"===(void 0===o?"undefined":(0,m.default)(o))&&(V=o),"undefined"!=typeof self&&"object"===("undefined"==typeof self?"undefined":(0,m.default)(self))&&(V=self),V.Jimp=W,V.Buffer=t;var Y=W;n.default=Y}).call(this,e("buffer").Buffer)},{"./composite":370,"./constants":371,"./modules/phash":373,"./request":374,"./utils/image-bitmap":375,"./utils/mime":376,"./utils/promisify":377,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":8,"@babel/runtime/helpers/inherits":9,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/interopRequireWildcard":11,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/slicedToArray":18,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414,"any-base":22,buffer:47,"core-js/modules/es.array-buffer.slice":172,"core-js/modules/es.array.concat":173,"core-js/modules/es.array.find":177,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.index-of":180,"core-js/modules/es.array.iterator":182,"core-js/modules/es.array.join":183,"core-js/modules/es.date.to-string":187,"core-js/modules/es.number.constructor":189,"core-js/modules/es.object.assign":190,"core-js/modules/es.object.entries":193,"core-js/modules/es.object.to-string":197,"core-js/modules/es.parse-int":198,"core-js/modules/es.promise":199,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.regexp.to-string":201,"core-js/modules/es.string.match":204,"core-js/modules/es.string.replace":205,"core-js/modules/es.typed-array.copy-within":208,"core-js/modules/es.typed-array.every":209,"core-js/modules/es.typed-array.fill":210,"core-js/modules/es.typed-array.filter":211,"core-js/modules/es.typed-array.find":213,"core-js/modules/es.typed-array.find-index":212,"core-js/modules/es.typed-array.for-each":216,"core-js/modules/es.typed-array.includes":217,"core-js/modules/es.typed-array.index-of":218,"core-js/modules/es.typed-array.iterator":219,"core-js/modules/es.typed-array.join":220,"core-js/modules/es.typed-array.last-index-of":221,"core-js/modules/es.typed-array.map":222,"core-js/modules/es.typed-array.reduce":224,"core-js/modules/es.typed-array.reduce-right":223,"core-js/modules/es.typed-array.reverse":225,"core-js/modules/es.typed-array.set":226,"core-js/modules/es.typed-array.slice":227,"core-js/modules/es.typed-array.some":228,"core-js/modules/es.typed-array.sort":229,"core-js/modules/es.typed-array.subarray":230,"core-js/modules/es.typed-array.to-locale-string":231,"core-js/modules/es.typed-array.to-string":232,"core-js/modules/es.typed-array.uint8-array":233,"core-js/modules/es.typed-array.uint8-clamped-array":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.timers":237,events:239,fs:46,mkdirp:262,path:286,pixelmatch:288,tinycolor2:357}],373:[function(e,t,n){"use strict";function r(e,t){this.size=this.size||e,this.smallerSize=this.smallerSize||t,a(this.size)}function i(e){var t={};return t.r=Math.floor(e/Math.pow(256,3)),t.g=Math.floor((e-t.r*Math.pow(256,3))/Math.pow(256,2)),t.b=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2))/Math.pow(256,1)),t.a=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2)-t.b*Math.pow(256,1))/Math.pow(256,0)),t}r.prototype.size=32,r.prototype.smallerSize=8,r.prototype.distance=function(e,t){for(var n=0,r=0;r<e.length;r++)e[r]!==t[r]&&n++;return n/e.length},r.prototype.getHash=function(e){(e=e.clone().resize(this.size,this.size)).grayscale();for(var t=[],n=0;n<e.bitmap.width;n++){t[n]=[];for(var r=0;r<e.bitmap.height;r++)t[n][r]=i(e.getPixelColor(n,r)).b}for(var o=s(t,this.size),a=0,l=0;l<this.smallerSize;l++)for(var u=0;u<this.smallerSize;u++)a+=o[l][u];for(var c=a/(this.smallerSize*this.smallerSize),f="",h=0;h<this.smallerSize;h++)for(var d=0;d<this.smallerSize;d++)f+=o[h][d]>c?"1":"0";return f};var o=[];function a(e){for(var t=1;t<e;t++)o[t]=1;o[0]=1/Math.sqrt(2)}function s(e,t){for(var n=t,r=[],i=0;i<n;i++){r[i]=[];for(var a=0;a<n;a++){for(var s=0,l=0;l<n;l++)for(var u=0;u<n;u++)s+=Math.cos((2*l+1)/(2*n)*i*Math.PI)*Math.cos((2*u+1)/(2*n)*a*Math.PI)*e[l][u];s*=o[i]*o[a]/4,r[i][a]=s}}return r}t.exports=r},{}],374:[function(e,t,n){(function(n,r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/web.dom-collections.for-each");var o=i(e("@babel/runtime/helpers/defineProperty"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.browser,t.exports=function(e,t){var n=new XMLHttpRequest;n.open("GET",e.url,!0),n.responseType="arraybuffer",n.addEventListener("load",function(){if(n.status<400)try{var i=r.from(this.response);t(null,n,i)}catch(n){return t(new Error("Response is not a buffer for url "+e.url+". Error: "+n.message))}else t(new Error("HTTP Status "+n.status+" for url "+e.url))}),n.addEventListener("error",function(e){t(e)}),n.send()}}).call(this,e("_process"),e("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,_process:312,buffer:47,"core-js/modules/es.array.filter":175,"core-js/modules/es.array.for-each":178,"core-js/modules/es.object.assign":190,"core-js/modules/es.object.define-properties":191,"core-js/modules/es.object.define-property":192,"core-js/modules/es.object.get-own-property-descriptor":194,"core-js/modules/es.object.get-own-property-descriptors":195,"core-js/modules/es.object.keys":196,"core-js/modules/es.symbol":207,"core-js/modules/web.dom-collections.for-each":235,phin:287}],375:[function(e,t,n){(function(t){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.parseBitmap=b,n.getBuffer=v,n.getBufferAsync=w;var o=i(e("@babel/runtime/helpers/slicedToArray")),a=i(e("file-type")),s=i(e("exif-parser")),l=e("@jimp/utils"),u=r(e("../constants")),c=r(e("./mime")),f=i(e("./promisify"));function h(e,t){var n=(0,a.default)(e);return n?n.mime:t?c.getType(t):null}function d(e){return e._exif&&e._exif.tags&&e._exif.tags.Orientation||1}function p(e){var t=e.getWidth(),n=e.getHeight();switch(d(e)){case 1:return null;case 2:return function(e,n){return[t-e-1,n]};case 3:return function(e,r){return[t-e-1,n-r-1]};case 4:return function(e,t){return[e,n-t-1]};case 5:return function(e,t){return[t,e]};case 6:return function(e,t){return[t,n-e-1]};case 7:return function(e,r){return[t-r-1,n-e-1]};case 8:return function(e,n){return[t-n-1,e]};default:return null}}function m(e,n,r,i){for(var a=e.bitmap.data,s=e.bitmap.width,l=t.alloc(a.length),u=0;u<n;u++)for(var c=0;c<r;c++){var f=i(u,c),h=(0,o.default)(f,2),d=h[0],p,m=n*c+u<<2,g=s*h[1]+d<<2,b=a.readUInt32BE(g);l.writeUInt32BE(b,m)}e.bitmap.data=l,e.bitmap.width=n,e.bitmap.height=r}function g(e){if(!(d(e)<2)){var t=p(e),n=d(e)>4,r,i;m(e,n?e.bitmap.height:e.bitmap.width,n?e.bitmap.width:e.bitmap.height,t)}}function b(e,t,n){var r=h(e,t);if("string"!=typeof r)return n(new Error("Could not find MIME for Buffer <"+t+">"));this._originalMime=r.toLowerCase();try{var i=this.getMIME();if(!this.constructor.decoders[i])return l.throwError.call(this,"Unsupported MIME type: "+i,n);this.bitmap=this.constructor.decoders[i](e)}catch(e){return n.call(this,e,this)}try{this._exif=s.default.create(e).parse(),g(this)}catch(e){}return n.call(this,null,this),this}function y(e,t){return new e(t.bitmap.width,t.bitmap.height,t._background).composite(t,0,0).bitmap}function v(e,n){if(e===u.AUTO&&(e=this.getMIME()),"string"!=typeof e)return l.throwError.call(this,"mime must be a string",n);if("function"!=typeof n)return l.throwError.call(this,"cb must be a function",n);if(e=e.toLowerCase(),this._rgba&&this.constructor.hasAlpha[e]?this.bitmap.data=t.from(this.bitmap.data):this.bitmap.data=y(this.constructor,this).data,this.constructor.encoders[e]){var r=this.constructor.encoders[e](this);n.call(this,null,r)}else n.call(this,"Unsupported MIME type: "+e);return this}function w(e){return(0,f.default)(v,this,e)}}).call(this,e("buffer").Buffer)},{"../constants":371,"./mime":376,"./promisify":377,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/interopRequireWildcard":11,"@babel/runtime/helpers/slicedToArray":18,"@jimp/utils":414,buffer:47,"exif-parser":240,"file-type":249}],376:[function(e,t,n){"use strict";e("core-js/modules/es.array.find"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.getExtension=n.getType=n.addType=void 0;var r={},i=function e(t){return Object.entries(r).find(function(e){return e[1].includes(t)})||[]},o=function e(t,n){r[t]=n};n.addType=o;var a=function e(t){var n=t.split("/").slice(-1),r=n[n.length-1].split(".").pop(),o;return i(r)[0]};n.getType=a;var s=function e(t){return(r[t.toLowerCase()]||[])[0]};n.getExtension=s},{"core-js/modules/es.array.find":177,"core-js/modules/es.array.includes":179,"core-js/modules/es.array.slice":186,"core-js/modules/es.object.entries":193,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.string.includes":202,"core-js/modules/es.string.split":206}],377:[function(e,t,n){"use strict";e("core-js/modules/es.function.bind"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=function e(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new Promise(function(e,r){i.push(function(t,n){t&&r(t),e(n)}),t.bind(n).apply(void 0,i)})};n.default=i,t.exports=n.default},{"core-js/modules/es.function.bind":188,"core-js/modules/es.object.to-string":197,"core-js/modules/es.promise":199}],378:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireWildcard"),i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.symbol"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.is-array"),e("core-js/modules/es.object.define-properties"),e("core-js/modules/es.object.define-property"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-descriptors"),e("core-js/modules/es.object.keys"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var o=i(e("@babel/runtime/helpers/toConsumableArray")),a=i(e("@babel/runtime/helpers/defineProperty")),s=i(e("@babel/runtime/helpers/slicedToArray")),l=r(e("@jimp/core"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function r(e){Object.entries(e).forEach(function(e){var t=(0,s.default)(e,2),r=t[0],i=t[1];n[r]=c({},n[r],{},i)})}function i(e){var t=e();Array.isArray(t.mime)?l.addType.apply(void 0,(0,o.default)(t.mime)):Object.entries(t.mime).forEach(function(e){return l.addType.apply(void 0,(0,o.default)(e))}),delete t.mime,r(t)}function a(e){var t=e(l.jimpEvChange)||{};t.class||t.constants?r(t):r({class:t})}return e.types&&(e.types.forEach(i),t.decoders=c({},t.decoders,{},n.decoders),t.encoders=c({},t.encoders,{},n.encoders),t.hasAlpha=c({},t.hasAlpha,{},n.hasAlpha)),e.plugins&&e.plugins.forEach(a),(0,l.addJimpMethods)(n.class,t),(0,l.addConstants)(n.constants,t),l.default}t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/interopRequireWildcard":11,"@babel/runtime/helpers/slicedToArray":18,"@babel/runtime/helpers/toConsumableArray":19,"@jimp/core":372,"core-js/modules/es.array.filter":175,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.is-array":181,"core-js/modules/es.object.define-properties":191,"core-js/modules/es.object.define-property":192,"core-js/modules/es.object.entries":193,"core-js/modules/es.object.get-own-property-descriptor":194,"core-js/modules/es.object.get-own-property-descriptors":195,"core-js/modules/es.object.keys":196,"core-js/modules/es.symbol":207,"core-js/modules/web.dom-collections.for-each":235}],379:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@jimp/custom")),o=r(e("@jimp/types")),a=r(e("@jimp/plugins")),s=(0,i.default)({types:[o.default],plugins:[a.default]});n.default=s,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/custom":378,"@jimp/plugins":407,"@jimp/types":413}],380:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/typeof")),o=e("@jimp/utils"),a=function e(){return{blit:function e(t,n,r,a,s,l,u,c){if(!(t instanceof this.constructor))return o.throwError.call(this,"The source must be a Jimp image",c);if("number"!=typeof n||"number"!=typeof r)return o.throwError.call(this,"x and y must be numbers",c);if("function"==typeof a)c=a,a=0,s=0,l=t.bitmap.width,u=t.bitmap.height;else{if((0,i.default)(a)!==(0,i.default)(s)||(0,i.default)(s)!==(0,i.default)(l)||(0,i.default)(l)!==(0,i.default)(u))return o.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",c);a=a||0,s=s||0,l=l||t.bitmap.width,u=u||t.bitmap.height}n=Math.round(n),r=Math.round(r),a=Math.round(a),s=Math.round(s),l=Math.round(l),u=Math.round(u);var f=this.bitmap.width,h=this.bitmap.height,d=this;return t.scanQuiet(a,s,l,u,function(e,t,i){var o=n+e-a,l=r+t-s;if(o>=0&&l>=0&&f-o>0&&h-l>0){var u=d.getPixelIndex(o,l),c={r:this.bitmap.data[i],g:this.bitmap.data[i+1],b:this.bitmap.data[i+2],a:this.bitmap.data[i+3]},p={r:d.bitmap.data[u],g:d.bitmap.data[u+1],b:d.bitmap.data[u+2],a:d.bitmap.data[u+3]};d.bitmap.data[u]=(c.a*(c.r-p.r)-p.r+255>>8)+p.r,d.bitmap.data[u+1]=(c.a*(c.g-p.g)-p.g+255>>8)+p.g,d.bitmap.data[u+2]=(c.a*(c.b-p.b)-p.b+255>>8)+p.b,d.bitmap.data[u+3]=this.constructor.limit255(p.a+c.a)}}),(0,o.isNodePattern)(c)&&c.call(this,null,this),this}}};n.default=a,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414}],381:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shgTable=n.mulTable=void 0;var r=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];n.mulTable=r;var i=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];n.shgTable=i},{}],382:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=e("./blur-tables"),o=function e(){return{blur:function e(t,n){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",n);if(t<1)return r.throwError.call(this,"r must be greater than 0",n);for(var o,a,s,l,u,c,f,h,d,p,m,g,b,y,v=this.bitmap.width-1,w=this.bitmap.height-1,x=t+1,_=i.mulTable[t],S=i.shgTable[t],E=[],C=[],k=[],O=[],T=[],N=[],A=2;A-- >0;){for(g=0,b=0,c=0;c<this.bitmap.height;c++){for(o=this.bitmap.data[b]*x,a=this.bitmap.data[b+1]*x,s=this.bitmap.data[b+2]*x,l=this.bitmap.data[b+3]*x,f=1;f<=t;f++)h=b+((f>v?v:f)<<2),o+=this.bitmap.data[h++],a+=this.bitmap.data[h++],s+=this.bitmap.data[h++],l+=this.bitmap.data[h];for(u=0;u<this.bitmap.width;u++)E[g]=o,C[g]=a,k[g]=s,O[g]=l,0===c&&(T[u]=((h=u+x)<v?h:v)<<2,N[u]=(h=u-t)>0?h<<2:0),d=b+T[u],p=b+N[u],o+=this.bitmap.data[d++]-this.bitmap.data[p++],a+=this.bitmap.data[d++]-this.bitmap.data[p++],s+=this.bitmap.data[d++]-this.bitmap.data[p++],l+=this.bitmap.data[d]-this.bitmap.data[p],g++;b+=this.bitmap.width<<2}for(u=0;u<this.bitmap.width;u++){for(o=E[m=u]*x,a=C[m]*x,s=k[m]*x,l=O[m]*x,f=1;f<=t;f++)o+=E[m+=f>w?0:this.bitmap.width],a+=C[m],s+=k[m],l+=O[m];for(g=u<<2,c=0;c<this.bitmap.height;c++)y=l*_>>>S,this.bitmap.data[g+3]=y,y>255&&(this.bitmap.data[g+3]=255),y>0?(y=255/y,this.bitmap.data[g]=(o*_>>>S)*y,this.bitmap.data[g+1]=(a*_>>>S)*y,this.bitmap.data[g+2]=(s*_>>>S)*y):(this.bitmap.data[g+2]=0,this.bitmap.data[g+1]=0,this.bitmap.data[g]=0),0===u&&(T[c]=((h=c+x)<w?h:w)*this.bitmap.width,N[c]=(h=c-t)>0?h*this.bitmap.width:0),d=u+T[c],p=u+N[c],o+=E[d]-E[p],a+=C[d]-C[p],s+=k[d]-k[p],l+=O[d]-O[p],g+=this.bitmap.width<<2}}return(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};n.default=o,t.exports=n.default},{"./blur-tables":381,"@jimp/utils":414}],383:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{circle:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={});var i=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,o="number"==typeof t.x?t.x:this.bitmap.width/2,a="number"==typeof t.y?t.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=Math.sqrt(Math.pow(e-o,2)+Math.pow(t-a,2));i-r<=0?this.bitmap.data[n+3]=0:i-r<1&&(this.bitmap.data[n+3]=255*(i-r))}),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],384:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.is-array"),e("core-js/modules/es.array.map"),e("core-js/modules/es.parse-int"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/toConsumableArray")),a=i(e("tinycolor2")),s=e("@jimp/utils");function l(e,t,n,r){for(var i=[0,0,0],o=(t.length-1)/2,a=0;a<t.length;a+=1)for(var s=0;s<t[a].length;s+=1){var l=e.getPixelIndex(n+a-o,r+s-o);i[0]+=e.bitmap.data[l]*t[a][s],i[1]+=e.bitmap.data[l+1]*t[a][s],i[2]+=e.bitmap.data[l+2]*t[a][s]}return i}var u=function e(t){return void 0!==t&&null!==t};function c(e){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=parseInt(.2126*this.bitmap.data[n]+.7152*this.bitmap.data[n+1]+.0722*this.bitmap.data[n+2],10);this.bitmap.data[n]=r,this.bitmap.data[n+1]=r,this.bitmap.data[n+2]=r}),(0,s.isNodePattern)(e)&&e.call(this,null,this),this}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:(t.r-e.r)*(n/100)+e.r,g:(t.g-e.g)*(n/100)+e.g,b:(t.b-e.b)*(n/100)+e.b}}function h(e,t){var n=this;return e&&Array.isArray(e)?(e=e.map(function(e){return"xor"!==e.apply&&"mix"!==e.apply||(e.params[0]=(0,a.default)(e.params[0]).toRgb()),e}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,i,l){var u={r:n.bitmap.data[l],g:n.bitmap.data[l+1],b:n.bitmap.data[l+2]},c=function e(t,r){return n.constructor.limit255(u[t]+r)};e.forEach(function(e){if("mix"===e.apply)u=f(u,e.params[0],e.params[1]);else if("tint"===e.apply)u=f(u,{r:255,g:255,b:255},e.params[0]);else if("shade"===e.apply)u=f(u,{r:0,g:0,b:0},e.params[0]);else if("xor"===e.apply)u={r:u.r^e.params[0].r,g:u.g^e.params[0].g,b:u.b^e.params[0].b};else if("red"===e.apply)u.r=c("r",e.params[0]);else if("green"===e.apply)u.g=c("g",e.params[0]);else if("blue"===e.apply)u.b=c("b",e.params[0]);else{var r;if("hue"===e.apply&&(e.apply="spin"),!(u=(0,a.default)(u))[e.apply])return s.throwError.call(n,"action "+e.apply+" not supported",t);u=(r=u)[e.apply].apply(r,(0,o.default)(e.params)).toRgb()}}),n.bitmap.data[l]=u.r,n.bitmap.data[l+1]=u.g,n.bitmap.data[l+2]=u.b}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this):s.throwError.call(this,"actions must be an array",t)}var d=function e(){return{brightness:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"val must be numbers",n):t<-1||t>1?s.throwError.call(this,"val must be a number between -1 and +1",n):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){t<0?(this.bitmap.data[r]=this.bitmap.data[r]*(1+t),this.bitmap.data[r+1]=this.bitmap.data[r+1]*(1+t),this.bitmap.data[r+2]=this.bitmap.data[r+2]*(1+t)):(this.bitmap.data[r]=this.bitmap.data[r]+(255-this.bitmap.data[r])*t,this.bitmap.data[r+1]=this.bitmap.data[r+1]+(255-this.bitmap.data[r+1])*t,this.bitmap.data[r+2]=this.bitmap.data[r+2]+(255-this.bitmap.data[r+2])*t)}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},contrast:function e(t,n){if("number"!=typeof t)return s.throwError.call(this,"val must be numbers",n);if(t<-1||t>1)return s.throwError.call(this,"val must be a number between -1 and +1",n);var r=(t+1)/(1-t);function i(e){return(e=Math.floor(r*(e-127)+127))<0?0:e>255?255:e}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data[n]=i(this.bitmap.data[n]),this.bitmap.data[n+1]=i(this.bitmap.data[n+1]),this.bitmap.data[n+2]=i(this.bitmap.data[n+2])}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this},posterize:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"n must be numbers",n):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){this.bitmap.data[r]=Math.floor(this.bitmap.data[r]/255*(t-1))/(t-1)*255,this.bitmap.data[r+1]=Math.floor(this.bitmap.data[r+1]/255*(t-1))/(t-1)*255,this.bitmap.data[r+2]=Math.floor(this.bitmap.data[r+2]/255*(t-1))/(t-1)*255}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},greyscale:c,grayscale:c,opacity:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"f must be a number",n):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",n):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){var i=this.bitmap.data[r+3]*t;this.bitmap.data[r+3]=i}),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},sepia:function e(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=this.bitmap.data[n],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2];o=.272*(r=.393*r+.769*i+.189*o)+.534*(i=.349*r+.686*i+.168*o)+.131*o,this.bitmap.data[n]=r<255?r:255,this.bitmap.data[n+1]=i<255?i:255,this.bitmap.data[n+2]=o<255?o:255}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},fade:function e(t,n){return"number"!=typeof t?s.throwError.call(this,"f must be a number",n):t<0||t>1?s.throwError.call(this,"f must be a number from 0 to 1",n):(this.opacity(1-t),(0,s.isNodePattern)(n)&&n.call(this,null,this),this)},convolution:function e(t,n,i){"function"==typeof n&&void 0===i&&(i=n,n=null),n||(n=this.constructor.EDGE_EXTEND);var o=r.from(this.bitmap.data),a=t.length,l=t[0].length,u=Math.floor(a/2),c=Math.floor(l/2),f=-u,h=-c,d,p,m,g,b,y,v,w,x,_;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){g=0,m=0,p=0;for(var a=f;a<=u;a++)for(var s=h;s<=c;s++)w=e+s,x=r+a,d=t[a+u][s+c],-1===(_=this.getPixelIndex(w,x,n))?(v=0,y=0,b=0):(b=this.bitmap.data[_+0],y=this.bitmap.data[_+1],v=this.bitmap.data[_+2]),p+=d*b,m+=d*y,g+=d*v;p<0&&(p=0),m<0&&(m=0),g<0&&(g=0),p>255&&(p=255),m>255&&(m=255),g>255&&(g=255),o[i+0]=p,o[i+1]=m,o[i+2]=g}),this.bitmap.data=o,(0,s.isNodePattern)(i)&&i.call(this,null,this),this},opaque:function e(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data[n+3]=255}),(0,s.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function e(t,n,r,i,o,a){if("function"==typeof n)a=n,o=null,i=null,r=null,n=null;else{if("number"!=typeof t)return s.throwError.call(this,"size must be a number",a);if(u(n)&&"number"!=typeof n)return s.throwError.call(this,"x must be a number",a);if(u(r)&&"number"!=typeof r)return s.throwError.call(this,"y must be a number",a);if(u(i)&&"number"!=typeof i)return s.throwError.call(this,"w must be a number",a);if(u(o)&&"number"!=typeof o)return s.throwError.call(this,"h must be a number",a)}var c=[[1/16,.125,1/16],[.125,.25,.125],[1/16,.125,1/16]];n=n||0,r=r||0,i=u(i)?i:this.bitmap.width-n,o=u(o)?o:this.bitmap.height-r;var f=this.cloneQuiet();return this.scanQuiet(n,r,i,o,function(e,n,r){e=t*Math.floor(e/t),n=t*Math.floor(n/t);var i=l(f,c,e,n);this.bitmap.data[r]=i[0],this.bitmap.data[r+1]=i[1],this.bitmap.data[r+2]=i[2]}),(0,s.isNodePattern)(a)&&a.call(this,null,this),this},convolute:function e(t,n,r,i,o,a){if(!Array.isArray(t))return s.throwError.call(this,"the kernel must be an array",a);if("function"==typeof n)a=n,n=null,r=null,i=null,o=null;else{if(u(n)&&"number"!=typeof n)return s.throwError.call(this,"x must be a number",a);if(u(r)&&"number"!=typeof r)return s.throwError.call(this,"y must be a number",a);if(u(i)&&"number"!=typeof i)return s.throwError.call(this,"w must be a number",a);if(u(o)&&"number"!=typeof o)return s.throwError.call(this,"h must be a number",a)}var c=(t.length-1)/2;n=u(n)?n:c,r=u(r)?r:c,i=u(i)?i:this.bitmap.width-n,o=u(o)?o:this.bitmap.height-r;var f=this.cloneQuiet();return this.scanQuiet(n,r,i,o,function(e,n,r){var i=l(f,t,e,n);this.bitmap.data[r]=this.constructor.limit255(i[0]),this.bitmap.data[r+1]=this.constructor.limit255(i[1]),this.bitmap.data[r+2]=this.constructor.limit255(i[2])}),(0,s.isNodePattern)(a)&&a.call(this,null,this),this},color:h,colour:h}};n.default=d,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19,"@jimp/utils":414,buffer:47,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.is-array":181,"core-js/modules/es.array.map":184,"core-js/modules/es.parse-int":198,"core-js/modules/web.dom-collections.for-each":235,tinycolor2:357}],385:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{contain:function e(t,n,i,o,a){if("number"!=typeof t||"number"!=typeof n)return r.throwError.call(this,"w and h must be numbers",a);"string"==typeof i&&("function"==typeof o&&void 0===a&&(a=o),o=i,i=null),"function"==typeof i&&(void 0===a&&(a=i),o=null,i=null),"function"==typeof o&&void 0===a&&(a=o,o=null);var s=7&(i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),l=i>>3;if((0===s||s&s-1)&&(0===l||l&l-1))return r.throwError.call(this,"only use one flag per alignment direction",a);var u=s>>1,c=l>>1,f=t/n>this.bitmap.width/this.bitmap.height?n/this.bitmap.height:t/this.bitmap.width,h=this.cloneQuiet().scale(f,o);return this.resize(t,n,o),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data.writeUInt32BE(this._background,n)}),this.blit(h,(this.bitmap.width-h.bitmap.width)/2*u,(this.bitmap.height-h.bitmap.height)/2*c),(0,r.isNodePattern)(a)&&a.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],386:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{cover:function e(t,n,i,o,a){if("number"!=typeof t||"number"!=typeof n)return r.throwError.call(this,"w and h must be numbers",a);i&&"function"==typeof i&&void 0===a?(a=i,i=null,o=null):"function"==typeof o&&void 0===a&&(a=o,o=null);var s=7&(i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),l=i>>3;if((0===s||s&s-1)&&(0===l||l&l-1))return r.throwError.call(this,"only use one flag per alignment direction",a);var u=s>>1,c=l>>1,f=t/n>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:n/this.bitmap.height;return this.scale(f,o),this.crop((this.bitmap.width-t)/2*u,(this.bitmap.height-n)/2*c,t,n),(0,r.isNodePattern)(a)&&a.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],387:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.slice"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=s;var o=i(e("@babel/runtime/helpers/typeof")),a=e("@jimp/utils");function s(e){return e("crop",function(e,t,n,i,o){if("number"!=typeof e||"number"!=typeof t)return a.throwError.call(this,"x and y must be numbers",o);if("number"!=typeof n||"number"!=typeof i)return a.throwError.call(this,"w and h must be numbers",o);if(e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),0===e&&n===this.bitmap.width){var s=n*t+e<<2,l=s+i*n<<2;this.bitmap.data=this.bitmap.data.slice(s,l)}else{var u=r.allocUnsafe(n*i*4),c=0;this.scanQuiet(e,t,n,i,function(e,t,n){var r=this.bitmap.data.readUInt32BE(n,!0);u.writeUInt32BE(r,c,!0),c+=4}),this.bitmap.data=u}return this.bitmap.width=n,this.bitmap.height=i,(0,a.isNodePattern)(o)&&o.call(this,null,this),this}),{class:{autocrop:function e(){for(var t=this.bitmap.width,n=this.bitmap.height,r=1,i,s=0,l=2e-4,u=!0,c=!1,f=arguments.length,h=new Array(f),d=0;d<f;d++)h[d]=arguments[d];for(var p=0,m=h.length;p<m;p++)if("number"==typeof h[p]&&(l=h[p]),"boolean"==typeof h[p]&&(u=h[p]),"function"==typeof h[p]&&(i=h[p]),"object"===(0,o.default)(h[p])){var g=h[p];void 0!==g.tolerance&&(l=g.tolerance),void 0!==g.cropOnlyFrames&&(u=g.cropOnlyFrames),void 0!==g.cropSymmetric&&(c=g.cropSymmetric),void 0!==g.leaveBorder&&(s=g.leaveBorder)}var b=this.getPixelColor(0,0),y=this.constructor.intToRGBA(b),v=0,w=0,x=0,_=0;b=this.getPixelColor(0,0);e:for(var S=0;S<n-1;S++){for(var E=0;E<t;E++){var C=this.getPixelColor(E,S),k=this.constructor.intToRGBA(C);if(this.constructor.colorDiff(y,k)>l)break e}v++}b=this.getPixelColor(t,0);e:for(var O=0;O<t-1;O++){for(var T=0+v;T<n;T++){var N=this.getPixelColor(O,T),A=this.constructor.intToRGBA(N);if(this.constructor.colorDiff(y,A)>l)break e}w++}b=this.getPixelColor(0,n);e:for(var I=n-1;I>=v+1;I--){for(var j=t-w-1;j>=0;j--){var R=this.getPixelColor(j,I),M=this.constructor.intToRGBA(R);if(this.constructor.colorDiff(y,M)>l)break e}x++}b=this.getPixelColor(t,n);e:for(var P=t-1;P>=0+w+1;P--){for(var D=n-1;D>=0+v;D--){var L=this.getPixelColor(P,D),F=this.constructor.intToRGBA(L);if(this.constructor.colorDiff(y,F)>l)break e}_++}var B=!1;if(_-=s,w-=s,v-=s,x-=s,c){var z=Math.min(w,_),$=Math.min(v,x);_=z,w=z,v=$,x=$}_=_>=0?_:0,w=w>=0?w:0,v=v>=0?v:0;var U=t-(_+w),W=n-((x=x>=0?x:0)+v);return(B=u?0!==w&&0!==v&&0!==_&&0!==x:0!==w||0!==v||0!==_||0!==x)&&this.crop(w,v,U,W),(0,a.isNodePattern)(i)&&i.call(this,null,this),this}}}}t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414,buffer:47,"core-js/modules/es.array.slice":186}],388:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/typeof")),o=e("@jimp/utils"),a=function e(){return{displace:function e(t,n,r){if("object"!==(0,i.default)(t)||t.constructor!==this.constructor)return o.throwError.call(this,"The source must be a Jimp image",r);if("number"!=typeof n)return o.throwError.call(this,"factor must be a number",r);var a=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,r,i){var o=t.bitmap.data[i]/256*n;o=Math.round(o);var s=this.getPixelIndex(e+o,r);this.bitmap.data[s]=a.bitmap.data[i],this.bitmap.data[s+1]=a.bitmap.data[i+1],this.bitmap.data[s+2]=a.bitmap.data[i+2]}),(0,o.isNodePattern)(r)&&r.call(this,null,this),this}}};n.default=a,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414}],389:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils");function i(e){var t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,n,r){var i,o=t[((3&n)<<2)+e%4];this.bitmap.data[r]=Math.min(this.bitmap.data[r]+o,255),this.bitmap.data[r+1]=Math.min(this.bitmap.data[r+1]+o,255),this.bitmap.data[r+2]=Math.min(this.bitmap.data[r+2]+o,255)}),(0,r.isNodePattern)(e)&&e.call(this,null,this),this}var o=function e(){return{dither565:i,dither16:i}};n.default=o,t.exports=n.default},{"@jimp/utils":414}],390:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{fisheye:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},i=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(i=n,n={r:2.5});var o=this.cloneQuiet(),a=o.bitmap,s=a.width,l=a.height;return o.scanQuiet(0,0,s,l,function(e,r){var i=e/s,a=r/l,u=Math.sqrt(Math.pow(i-.5,2)+Math.pow(a-.5,2)),c=2*Math.pow(u,n.r),f=(i-.5)/u,h=(a-.5)/u,d=Math.round((c*f+.5)*s),p=Math.round((c*h+.5)*l),m=o.getPixelColor(d,p);t.setPixelColor(m,e,r)}),this.setPixelColor(o.getPixelColor(s/2,l/2),s/2,l/2),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],391:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("@jimp/utils");function o(e,t,n){if("boolean"!=typeof e||"boolean"!=typeof t)return i.throwError.call(this,"horizontal and vertical must be Booleans",n);var o=r.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(n,r,i){var a=e?this.bitmap.width-1-n:n,s=t?this.bitmap.height-1-r:r,l=this.bitmap.width*s+a<<2,u=this.bitmap.data.readUInt32BE(i);o.writeUInt32BE(u,l)}),this.bitmap.data=r.from(o),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}var a=function e(){return{flip:o,mirror:o}};n.default=a,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@jimp/utils":414,buffer:47}],392:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{gaussian:function e(t,n){if("number"!=typeof t)return r.throwError.call(this,"r must be a number",n);if(t<1)return r.throwError.call(this,"r must be greater than 0",n);for(var i=Math.ceil(2.57*t),o=2*i+1,a=t*t*2,s=a*Math.PI,l=[],u=0;u<o;u++){l[u]=[];for(var c=0;c<o;c++){var f=Math.pow(c-i,2)+Math.pow(u-i,2);l[u][c]=Math.exp(-f/a)/s}}for(var h=0;h<this.bitmap.height;h++)for(var d=0;d<this.bitmap.width;d++)for(var p=0,m=0,g=0,b=0,y=0,v=0;v<o;v++){for(var w=0;w<o;w++){var x=Math.min(this.bitmap.width-1,Math.max(0,w+d-i)),_=Math.min(this.bitmap.height-1,Math.max(0,v+h-i)),S=l[v][w],E=_*this.bitmap.width+x<<2;p+=this.bitmap.data[E]*S,m+=this.bitmap.data[E+1]*S,g+=this.bitmap.data[E+2]*S,b+=this.bitmap.data[E+3]*S,y+=S}var C=h*this.bitmap.width+d<<2;this.bitmap.data[C]=Math.round(p/y),this.bitmap.data[C+1]=Math.round(m/y),this.bitmap.data[C+2]=Math.round(g/y),this.bitmap.data[C+3]=Math.round(b/y)}return(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],393:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{invert:function e(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data[n]=255-this.bitmap.data[n],this.bitmap.data[n+1]=255-this.bitmap.data[n+1],this.bitmap.data[n+2]=255-this.bitmap.data[n+2]}),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],394:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{mask:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;if(!(t instanceof this.constructor))return r.throwError.call(this,"The source must be a Jimp image",o);if("number"!=typeof n||"number"!=typeof i)return r.throwError.call(this,"x and y must be numbers",o);n=Math.round(n),i=Math.round(i);var a=this.bitmap.width,s=this.bitmap.height,l=this;return t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(e,t,r){var o=n+e,u=i+t;if(o>=0&&u>=0&&o<a&&u<s){var c=l.getPixelIndex(o,u),f=this.bitmap.data,h=(f[r+0]+f[r+1]+f[r+2])/3;l.bitmap.data[c+3]*=h/255}}),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],395:[function(e,t,n){"use strict";e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.reverse"),e("core-js/modules/es.array.slice"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils");function i(){var e={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,n,r){e.r[this.bitmap.data[r+0]]++,e.g[this.bitmap.data[r+1]]++,e.b[this.bitmap.data[r+2]]++}),e}var o=function e(t,n,r){return 255*(t-n)/(r-n)},a=function e(t){return[t.findIndex(function(e){return e>0}),255-t.slice().reverse().findIndex(function(e){return e>0})]},s=function e(){return{normalize:function e(t){var n=i.call(this),s={r:a(n.r),g:a(n.g),b:a(n.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=this.bitmap.data[n+0],i=this.bitmap.data[n+1],a=this.bitmap.data[n+2];this.bitmap.data[n+0]=o(r,s.r[0],s.r[1]),this.bitmap.data[n+1]=o(i,s.g[0],s.g[1]),this.bitmap.data[n+2]=o(a,s.b[0],s.b[1])}),(0,r.isNodePattern)(t)&&t.call(this,null,this),this}}};n.default=s,t.exports=n.default},{"@jimp/utils":414,"core-js/modules/es.array.fill":174,"core-js/modules/es.array.find-index":176,"core-js/modules/es.array.reverse":185,"core-js/modules/es.array.slice":186}],396:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.date.to-string"),e("core-js/modules/es.object.entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/typeof")),a=i(e("@babel/runtime/helpers/toConsumableArray")),s=i(e("path")),l=i(e("load-bmfont")),u=e("@jimp/utils"),c=e("./measure-text");function f(e,t,n,r,i){return i===e.HORIZONTAL_ALIGN_LEFT?0:i===e.HORIZONTAL_ALIGN_CENTER?(r-(0,c.measureText)(t,n))/2:r-(0,c.measureText)(t,n)}function h(e,t,n,r,i){if(i.width>0&&i.height>0){var o=t.pages[i.page];e.blit(o,n+i.xoffset,r+i.yoffset,i.x,i.y,i.width,i.height)}return e}function d(e,t,n,r,i){for(var o=0;o<r.length;o++){var a=void 0;a=e.chars[r[o]]?r[o]:/\s/.test(r[o])?"":"?";var s=e.chars[a]||{},l=e.kernings[a],u;h(this,e,t,n,s||{}),t+=(l&&l[r[o+1]]?l[r[o+1]]:0)+(s.xadvance||i)}}function p(e,t,n){var r,i=[],o=[],s=0;return t.split(" ").forEach(function(t){var r=[].concat((0,a.default)(o),[t]).join(" "),l=(0,c.measureText)(e,r);l<=n?(l>s&&(s=l),o.push(t)):(i.push(o),o=[t])}),i.push(o),{lines:i,longestLine:s}}function m(e,t,n){var r=n.map(function(n){return e.read(t+"/"+n)});return Promise.all(r)}var g="browser/lib/",b=function e(){return{constants:{measureText:c.measureText,measureTextHeight:c.measureTextHeight,FONT_SANS_8_BLACK:s.default.join(g,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s.default.join(g,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s.default.join(g,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s.default.join(g,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s.default.join(g,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s.default.join(g,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s.default.join(g,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s.default.join(g,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s.default.join(g,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s.default.join(g,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s.default.join(g,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s.default.join(g,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s.default.join(g,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function e(t,n){var r=this;return"string"!=typeof t?u.throwError.call(this,"file must be a string",n):new Promise(function(e,i){n=n||function(t,n){t?i(t):e(n)},(0,l.default)(t,function(e,i){var o={},a={};if(e)return u.throwError.call(r,e,n);for(var l=0;l<i.chars.length;l++)o[String.fromCharCode(i.chars[l].id)]=i.chars[l];for(var c=0;c<i.kernings.length;c++){var f=String.fromCharCode(i.kernings[c].first);a[f]=a[f]||{},a[f][String.fromCharCode(i.kernings[c].second)]=i.kernings[c].amount}m(r,s.default.dirname(t),i.pages).then(function(e){n(null,{chars:o,kernings:a,pages:e,common:i.common,info:i.info})})})})}},class:{print:function e(t,n,r,i,a,s,l){var h=this,m,g,b;if("function"==typeof a&&void 0===l&&(l=a,a=1/0),void 0===a&&(a=1/0),"function"==typeof s&&void 0===l&&(l=s,s=1/0),void 0===s&&(s=1/0),"object"!==(0,o.default)(t))return u.throwError.call(this,"font must be a Jimp loadFont",l);if("number"!=typeof n||"number"!=typeof r||"number"!=typeof a)return u.throwError.call(this,"x, y and maxWidth must be numbers",l);if("number"!=typeof a)return u.throwError.call(this,"maxWidth must be a number",l);if("number"!=typeof s)return u.throwError.call(this,"maxHeight must be a number",l);"object"===(0,o.default)(i)&&null!==i.text&&void 0!==i.text?(m=i.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,g=i.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,i=i.text):(m=this.constructor.HORIZONTAL_ALIGN_LEFT,g=this.constructor.VERTICAL_ALIGN_TOP,i=i.toString());s!==1/0&&g===this.constructor.VERTICAL_ALIGN_BOTTOM?r+=s-(0,c.measureTextHeight)(t,i,a):s!==1/0&&g===this.constructor.VERTICAL_ALIGN_MIDDLE&&(r+=s/2-(0,c.measureTextHeight)(t,i,a)/2);var y=Object.entries(t.chars)[0][1].xadvance,v=p(t,i,a),w=v.lines,x=v.longestLine;return w.forEach(function(e){var i=e.join(" "),o=f(h.constructor,t,i,a,m);d.call(h,t,n+o,r,i,y),r+=t.common.lineHeight}),(0,u.isNodePattern)(l)&&l.call(this,null,this,{x:n+x,y:r}),this}}}};n.default=b,t.exports=n.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":397,"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19,"@babel/runtime/helpers/typeof":20,"@jimp/utils":414,"core-js/modules/es.array.concat":173,"core-js/modules/es.array.for-each":178,"core-js/modules/es.array.iterator":182,"core-js/modules/es.array.join":183,"core-js/modules/es.array.map":184,"core-js/modules/es.date.to-string":187,"core-js/modules/es.object.entries":193,"core-js/modules/es.object.to-string":197,"core-js/modules/es.promise":199,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.regexp.to-string":201,"core-js/modules/es.string.iterator":203,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"load-bmfont":398,path:286}],397:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=0;r<t.length;r++)if(e.chars[t[r]]){var i=e.kernings[t[r]]&&e.kernings[t[r]][t[r+1]]?e.kernings[t[r]][t[r+1]]:0;n+=(e.chars[t[r]].xadvance||0)+i}return n}function i(e,t,n){for(var i=t.split(" "),o="",a=e.common.lineHeight,s=0;s<i.length;s++){var l=o+i[s]+" ",u;r(e,l)>n&&s>0?(a+=e.common.lineHeight,o=i[s]+" "):o=l}return a}e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.measureText=r,n.measureTextHeight=i},{"core-js/modules/es.regexp.exec":200,"core-js/modules/es.string.split":206}],398:[function(e,t,n){(function(n){var r=e("xhr"),i=function(){},o=e("parse-bmfont-ascii"),a=e("parse-bmfont-xml"),s=e("parse-bmfont-binary"),l=e("./lib/is-binary"),u=e("xtend"),c=function e(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();function f(e){var t;return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}function h(e){if(c)return u(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),u({xhr:t},e)}t.exports=function(e,t){var u;t="function"==typeof t?t:i,"string"==typeof e?e={uri:e}:e||(e={}),e.binary&&(e=h(e)),r(e,function(r,u,c){if(r)return t(r);if(!/^2/.test(u.statusCode))return t(new Error("http status code: "+u.statusCode));if(!c)return t(new Error("no body result"));var h=!1,d;if(f(c)){var p=new Uint8Array(c);c=new n(p,"binary")}l(c)&&(h=!0,"string"==typeof c&&(c=new n(c,"binary"))),h||(n.isBuffer(c)&&(c=c.toString(e.encoding)),c=c.trim());try{var m=u.headers["content-type"];d=h?s(c):/json/.test(m)||"{"===c.charAt(0)?JSON.parse(c):/xml/.test(m)||"<"===c.charAt(0)?a(c):o(c)}catch(e){t(new Error("error parsing font "+e.message)),t=i}t(null,d)})}}).call(this,e("buffer").Buffer)},{"./lib/is-binary":399,buffer:47,"parse-bmfont-ascii":281,"parse-bmfont-binary":282,"parse-bmfont-xml":283,xhr:366,xtend:368}],399:[function(e,t,n){(function(n){var r=e("buffer-equal"),i=new n([66,77,70,3]);t.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&r(e.slice(0,4),i)}}).call(this,e("buffer").Buffer)},{buffer:47,"buffer-equal":48}],400:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("@jimp/utils"),a=i(e("./modules/resize")),s=i(e("./modules/resize2")),l=function e(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function e(t,n,i,l){if("number"!=typeof t||"number"!=typeof n)return o.throwError.call(this,"w and h must be numbers",l);if("function"==typeof i&&void 0===l&&(l=i,i=null),t===this.constructor.AUTO&&n===this.constructor.AUTO)return o.throwError.call(this,"w and h cannot both be set to auto",l);if(t===this.constructor.AUTO&&(t=this.bitmap.width*(n/this.bitmap.height)),n===this.constructor.AUTO&&(n=this.bitmap.height*(t/this.bitmap.width)),t<0||n<0)return o.throwError.call(this,"w and h must be positive numbers",l);if(t=Math.round(t),n=Math.round(n),"function"==typeof s.default[i]){var u={data:r.alloc(t*n*4),width:t,height:n};s.default[i](this.bitmap,u),this.bitmap=u}else{var c=this,e=new a.default(this.bitmap.width,this.bitmap.height,t,n,!0,!0,function(e){c.bitmap.data=r.from(e),c.bitmap.width=t,c.bitmap.height=n});e.resize(this.bitmap.data)}return(0,o.isNodePattern)(l)&&l.call(this,null,this),this}}}};n.default=l,t.exports=n.default}).call(this,e("buffer").Buffer)},{"./modules/resize":401,"./modules/resize2":402,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,buffer:47}],401:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){this.widthOriginal=Math.abs(Math.floor(e)||0),this.heightOriginal=Math.abs(Math.floor(t)||0),this.targetWidth=Math.abs(Math.floor(n)||0),this.targetHeight=Math.abs(Math.floor(r)||0),this.colorChannels=i?4:3,this.interpolationPass=Boolean(o),this.resizeCallback="function"==typeof a?a:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array-buffer.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),r.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},r.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},r.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){var n=t?4:3,r=this.ratioWeightWidthPass,i=this.widthBuffer,o=0,a=0,s=0,l=0,u=0,c,f;for(c=0;o<1/3;c+=n,o+=r)for(a=c,s=0;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels)i[a]=e[s],i[a+1]=e[s+1],i[a+2]=e[s+2],t&&(i[a+3]=e[s+3]);for(o-=1/3,f=this.widthOriginal-1;o<f;c+=n,o+=r)for(l=1-(u=o%1),a=c,s=Math.floor(o)*n;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels)i[a+0]=e[s+0]*l+e[s+n+0]*u,i[a+1]=e[s+1]*l+e[s+n+1]*u,i[a+2]=e[s+2]*l+e[s+n+2]*u,t&&(i[a+3]=e[s+3]*l+e[s+n+3]*u);for(f=this.originalWidthMultipliedByChannels-n;c<this.targetWidthMultipliedByChannels;c+=n)for(a=c,s=f;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels)i[a]=e[s],i[a+1]=e[s+1],i[a+2]=e[s+2],t&&(i[a+3]=e[s+3]);return i},r.prototype._resizeWidthRGBChannels=function(e,t){var n=t?4:3,r=this.ratioWeightWidthPass,i=1/r,o=this.originalWidthMultipliedByChannels-n+1,a=this.targetWidthMultipliedByChannels-n+1,s=this.outputWidthWorkBench,l=this.widthBuffer,u=this.outputWidthWorkBenchOpaquePixelsCount,c=0,f=0,h=0,d=0,p=0,m=0,g=0,b=1,y=0,v=0,w=0,x=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)s[p++]=0,s[p++]=0,s[p++]=0,t&&(s[p++]=0,u[p/n-1]=0);c=r;do{for(f=1+h-d,b=Math.min(c,f),p=0,m=h;p<this.originalHeightMultipliedByChannels;m+=o)y=e[m],v=e[++m],w=e[++m],x=t?e[++m]:255,s[p++]+=(x?y:0)*b,s[p++]+=(x?v:0)*b,s[p++]+=(x?w:0)*b,t&&(s[p++]+=x*b,u[p/n-1]+=x?b:0);if(!(c>=f)){d+=c;break}d=h+=n,c-=f}while(c>0&&h<this.originalWidthMultipliedByChannels);for(p=0,m=g;p<this.originalHeightMultipliedByChannels;m+=a)c=t?u[p/n]:1,b=t?c?1/c:0:i,l[m]=s[p++]*b,l[++m]=s[p++]*b,l[++m]=s[p++]*b,t&&(l[++m]=s[p++]*i);g+=n}while(g<this.targetWidthMultipliedByChannels);return l},r.prototype._resizeHeightRGBChannels=function(e,t){var n=this.ratioWeightHeightPass,r=1/n,i=this.outputHeightWorkBench,o=this.heightBuffer,a=this.outputHeightWorkBenchOpaquePixelsCount,s=0,l=0,u=0,c=0,f=0,h=0,d=0,p=1,m=0,g=0,b=0,y=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)i[f++]=0,i[f++]=0,i[f++]=0,t&&(i[f++]=0,a[f/4-1]=0);s=n;do{for(l=1+u-c,p=Math.min(s,l),d=u,f=0;f<this.targetWidthMultipliedByChannels;)m=e[d++],g=e[d++],b=e[d++],y=t?e[d++]:255,i[f++]+=(y?m:0)*p,i[f++]+=(y?g:0)*p,i[f++]+=(y?b:0)*p,t&&(i[f++]+=y*p,a[f/4-1]+=y?p:0);if(!(s>=l)){c+=s;break}c=u=d,s-=l}while(s>0&&u<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)s=t?a[f/4]:1,p=t?s?1/s:0:r,o[h++]=Math.round(i[f++]*p),o[h++]=Math.round(i[f++]*p),o[h++]=Math.round(i[f++]*p),t&&(o[h++]=Math.round(i[f++]*r))}while(h<this.finalResultSize);return o},r.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!1)},r.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!0)},r.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,!1)},r.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,!0)},r.prototype.resizeHeightInterpolated=function(e){for(var t=this.ratioWeightHeightPass,n=this.heightBuffer,r=0,i=0,o=0,a=0,s=0,l=0,u=0,c;r<1/3;r+=t)for(o=0;o<this.targetWidthMultipliedByChannels;)n[i++]=Math.round(e[o++]);for(r-=1/3,c=this.heightOriginal-1;r<c;r+=t)for(l=1-(u=r%1),s=(a=Math.floor(r)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,o=0;o<this.targetWidthMultipliedByChannels;++o)n[i++]=Math.round(e[a++]*l+e[s++]*u);for(;i<this.finalResultSize;)for(o=0,a=c*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o)n[i++]=Math.round(e[a++]);return n},r.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,!1)},r.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,!0)},r.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},r.prototype.bypassResizer=function(e){return e},r.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),e||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},r.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),e||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},r.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(e){return[]}},r.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(e){return[]}},r.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(e){return[]}},t.exports=r},{"core-js/modules/es.array-buffer.slice":172,"core-js/modules/es.array.iterator":182,"core-js/modules/es.object.to-string":197,"core-js/modules/es.typed-array.copy-within":208,"core-js/modules/es.typed-array.every":209,"core-js/modules/es.typed-array.fill":210,"core-js/modules/es.typed-array.filter":211,"core-js/modules/es.typed-array.find":213,"core-js/modules/es.typed-array.find-index":212,"core-js/modules/es.typed-array.float32-array":214,"core-js/modules/es.typed-array.float64-array":215,"core-js/modules/es.typed-array.for-each":216,"core-js/modules/es.typed-array.includes":217,"core-js/modules/es.typed-array.index-of":218,"core-js/modules/es.typed-array.iterator":219,"core-js/modules/es.typed-array.join":220,"core-js/modules/es.typed-array.last-index-of":221,"core-js/modules/es.typed-array.map":222,"core-js/modules/es.typed-array.reduce":224,"core-js/modules/es.typed-array.reduce-right":223,"core-js/modules/es.typed-array.reverse":225,"core-js/modules/es.typed-array.set":226,"core-js/modules/es.typed-array.slice":227,"core-js/modules/es.typed-array.some":228,"core-js/modules/es.typed-array.sort":229,"core-js/modules/es.typed-array.subarray":230,"core-js/modules/es.typed-array.to-locale-string":231,"core-js/modules/es.typed-array.to-string":232,"core-js/modules/es.typed-array.uint8-array":233}],402:[function(e,t,n){(function(e){"use strict";t.exports={nearestNeighbor:function e(t,n){for(var r=t.width,i=t.height,o=n.width,a=n.height,s=t.data,l=n.data,u=0;u<a;u++)for(var c=0;c<o;c++){var f=4*(u*o+c),h,d,p=4*(Math.floor(u*i/a)*r+Math.floor(c*r/o));l[f++]=s[p++],l[f++]=s[p++],l[f++]=s[p++],l[f++]=s[p++]}},bilinearInterpolation:function e(t,n){for(var r=t.width,i=t.height,o=n.width,a=n.height,s=t.data,l=n.data,u=function e(t,n,r,i,o){return n===i?r:Math.round((t-n)*o+(i-t)*r)},c=function e(t,n,i,o,a,c,f,h){var d=4*(f*r+o)+n,p=4*(f*r+a)+n,m=u(i,o,s[d],a,s[p]);if(h===f)l[t+n]=m;else{p=4*(h*r+a)+n;var g=u(i,o,s[d=4*(h*r+o)+n],a,s[p]);l[t+n]=u(c,f,m,h,g)}},f=0;f<a;f++)for(var h=0;h<o;h++){var d=4*(f*o+h),p=h*r/o,m=Math.floor(p),g=Math.min(Math.ceil(p),r-1),b=f*i/a,y=Math.floor(b),v=Math.min(Math.ceil(b),i-1);c(d,0,p,m,g,b,y,v),c(d,1,p,m,g,b,y,v),c(d,2,p,m,g,b,y,v),c(d,3,p,m,g,b,y,v)}},_interpolate2D:function t(n,r,i,o){for(var a=n.data,s=r.data,l=n.width,u=n.height,c=r.width,f=r.height,h=Math.max(1,Math.floor(l/c)),d=c*h,p=Math.max(1,Math.floor(u/f)),m=f*p,g=e.alloc(d*u*4),b=0;b<u;b++)for(var y=0;y<d;y++)for(var v=y*(l-1)/d,w=Math.floor(v),x=v-w,_=4*(b*l+w),S=4*(b*d+y),E=0;E<4;E++){var C=_+E,k=w>0?a[C-4]:2*a[C]-a[C+4],O=a[C],T=a[C+4],N=w<l-2?a[C+8]:2*a[C+4]-a[C];g[S+E]=o(k,O,T,N,x)}for(var A=e.alloc(d*m*4),I=0;I<m;I++)for(var j=0;j<d;j++)for(var R=I*(u-1)/m,M=Math.floor(R),P=R-M,D=4*(M*d+j),L=4*(I*d+j),F=0;F<4;F++){var B=D+F,z=M>0?g[B-4*d]:2*g[B]-g[B+4*d],$=g[B],U=g[B+4*d],W=M<u-2?g[B+8*d]:2*g[B+4*d]-g[B];A[L+F]=o(z,$,U,W,P)}var V=h*p;if(V>1)for(var H=0;H<f;H++)for(var G=0;G<c;G++){for(var q=0,K=0,Y=0,X=0,Z=0,J=0;J<p;J++)for(var Q=H*p+J,ee=0;ee<h;ee++){var te,ne=4*(Q*d+(G*h+ee)),re=A[ne+3];re&&(q+=A[ne],K+=A[ne+1],Y+=A[ne+2],Z++),X+=re}var ie=4*(H*c+G);s[ie]=Z?Math.round(q/Z):0,s[ie+1]=Z?Math.round(K/Z):0,s[ie+2]=Z?Math.round(Y/Z):0,s[ie+3]=Math.round(X/V)}else r.data=A},bicubicInterpolation:function e(t,n,r){var i=function e(t,n,r,i,o){var a=i-r-t+n,s=t-n-a,l=r-t,u=n;return Math.max(0,Math.min(255,a*(o*o*o)+s*(o*o)+l*o+u))};return this._interpolate2D(t,n,r,i)},hermiteInterpolation:function e(t,n,r){var i=function e(t,n,r,i,o){var a=n,s=.5*(r-t),l=t-2.5*n+2*r-.5*i,u=.5*(i-t)+1.5*(n-r);return Math.max(0,Math.min(255,Math.round(((u*o+l)*o+s)*o+a)))};return this._interpolate2D(t,n,r,i)},bezierInterpolation:function e(t,n,r){var i=function e(t,n,r,i,o){var a,s,l=1-o,u=n*l*l*l,c=3*(n+(r-t)/4)*l*l*o,f=3*(r-(i-n)/4)*l*o*o,h=r*o*o*o;return Math.max(0,Math.min(255,Math.round(u+c+f+h)))};return this._interpolate2D(t,n,r,i)}}}).call(this,e("buffer").Buffer)},{buffer:47}],403:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("@jimp/utils");function o(e,t){var n=(e%=360)*Math.PI/180,i=Math.cos(n),o=Math.sin(n),a=this.bitmap.width,s=this.bitmap.height;if(!0===t||"string"==typeof t){a=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*o))+1,s=Math.ceil(Math.abs(this.bitmap.width*o)+Math.abs(this.bitmap.height*i))+1,a%2!=0&&a++,s%2!=0&&s++;var l=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){this.bitmap.data.writeUInt32BE(this._background,n)});var u=Math.max(a,s,this.bitmap.width,this.bitmap.height);this.resize(u,u,t),this.blit(l,this.bitmap.width/2-l.bitmap.width/2,this.bitmap.height/2-l.bitmap.height/2)}var c=this.bitmap.width,f=this.bitmap.height,h=r.alloc(this.bitmap.data.length);function d(e,t){return function(n,r){return{x:n+e,y:r+t}}}for(var p=d(-c/2,-f/2),m=d(c/2+.5,f/2+.5),g=1;g<=f;g++)for(var b=1;b<=c;b++){var y=p(b,g),v=m(i*y.x-o*y.y,i*y.y+o*y.x),w=c*(g-1)+b-1<<2;if(v.x>=0&&v.x<c&&v.y>=0&&v.y<f){var x=(c*(0|v.y)+v.x|0)<<2,_=this.bitmap.data.readUInt32BE(x);h.writeUInt32BE(_,w)}else h.writeUInt32BE(this._background,w)}if(this.bitmap.data=h,!0===t||"string"==typeof t){var S=c/2-a/2,E=f/2-s/2;this.crop(S,E,a,s)}}var a=function e(){return{rotate:function e(t,n,r){return void 0!==n&&null!==n||(n=!0),"function"==typeof n&&void 0===r&&(r=n,n=!0),"number"!=typeof t?i.throwError.call(this,"deg must be a number",r):"boolean"!=typeof n&&"string"!=typeof n?i.throwError.call(this,"mode must be a boolean or a string",r):(o.call(this,t,n,r),(0,i.isNodePattern)(r)&&r.call(this,null,this),this)}}};n.default=a,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@jimp/utils":414,buffer:47}],404:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{scale:function e(t,n,i){if("number"!=typeof t)return r.throwError.call(this,"f must be a number",i);if(t<0)return r.throwError.call(this,"f must be a positive number",i);"function"==typeof n&&void 0===i&&(i=n,n=null);var o=this.bitmap.width*t,a=this.bitmap.height*t;return this.resize(o,a,n),(0,r.isNodePattern)(i)&&i.call(this,null,this),this},scaleToFit:function e(t,n,i,o){if("number"!=typeof t||"number"!=typeof n)return r.throwError.call(this,"w and h must be numbers",o);"function"==typeof i&&void 0===o&&(o=i,i=null);var a=t/n>this.bitmap.width/this.bitmap.height?n/this.bitmap.height:t/this.bitmap.width;return this.scale(a,i),(0,r.isNodePattern)(o)&&o.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],405:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{shadow:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof n&&(i=n,n={});var o=n,a=o.opacity,s=void 0===a?.7:a,l=o.size,u=void 0===l?1.1:l,c=o.x,f=void 0===c?-25:c,h=o.y,d=void 0===h?25:h,p=o.blur,m=void 0===p?5:p,g=this.clone(),e=this.clone();return e.scan(0,0,e.bitmap.width,e.bitmap.height,function(n,r,i){e.bitmap.data[i]=0,e.bitmap.data[i+1]=0,e.bitmap.data[i+2]=0,e.bitmap.data[i+3]=e.constructor.limit255(e.bitmap.data[i+3]*s),t.bitmap.data[i]=0,t.bitmap.data[i+1]=0,t.bitmap.data[i+2]=0,t.bitmap.data[i+3]=0}),e.resize(e.bitmap.width*u,e.bitmap.height*u).blur(m),this.composite(e,f,d),this.composite(g,0,0),(0,r.isNodePattern)(i)&&i.call(this,null,this),this}}};n.default=i,t.exports=n.default},{"@jimp/utils":414}],406:[function(e,t,n){"use strict";e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.replace"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("@jimp/utils"),i=function e(){return{threshold:function e(t,n){var i=this,o=t.max,a=t.replace,s=void 0===a?255:a,l=t.autoGreyscale,u=void 0===l||l;return"number"!=typeof o?r.throwError.call(this,"max must be a number",n):"number"!=typeof s?r.throwError.call(this,"replace must be a number",n):"boolean"!=typeof u?r.throwError.call(this,"autoGreyscale must be a boolean",n):(o=this.constructor.limit255(o),s=this.constructor.limit255(s),u&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,t,n){var r=i.bitmap.data[n]<o?i.bitmap.data[n]:s;i.bitmap.data[n]=r,i.bitmap.data[n+1]=r,i.bitmap.data[n+2]=r}),(0,r.isNodePattern)(n)&&n.call(this,null,this),this)}}};n.default=i,t.exports=n.default},{"@jimp/utils":414,"core-js/modules/es.regexp.exec":200,"core-js/modules/es.string.replace":205}],407:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.map"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/toConsumableArray")),o=e("timm"),a=r(e("@jimp/plugin-blit")),s=r(e("@jimp/plugin-blur")),l=r(e("@jimp/plugin-circle")),u=r(e("@jimp/plugin-color")),c=r(e("@jimp/plugin-contain")),f=r(e("@jimp/plugin-cover")),h=r(e("@jimp/plugin-crop")),d=r(e("@jimp/plugin-displace")),p=r(e("@jimp/plugin-dither")),m=r(e("@jimp/plugin-fisheye")),g=r(e("@jimp/plugin-flip")),b=r(e("@jimp/plugin-gaussian")),y=r(e("@jimp/plugin-invert")),v=r(e("@jimp/plugin-mask")),w=r(e("@jimp/plugin-normalize")),x=r(e("@jimp/plugin-print")),_=r(e("@jimp/plugin-resize")),S=r(e("@jimp/plugin-rotate")),E=r(e("@jimp/plugin-scale")),C=r(e("@jimp/plugin-shadow")),k=r(e("@jimp/plugin-threshold")),O=[a.default,s.default,l.default,u.default,c.default,f.default,h.default,d.default,p.default,m.default,g.default,b.default,y.default,v.default,w.default,x.default,_.default,S.default,E.default,C.default,k.default],T=function e(t){var n=O.map(function(e){var n=e(t)||{};return n.class||n.constants||(n={class:n}),n});return o.mergeDeep.apply(void 0,(0,i.default)(n))};n.default=T,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/helpers/toConsumableArray":19,"@jimp/plugin-blit":380,"@jimp/plugin-blur":382,"@jimp/plugin-circle":383,"@jimp/plugin-color":384,"@jimp/plugin-contain":385,"@jimp/plugin-cover":386,"@jimp/plugin-crop":387,"@jimp/plugin-displace":388,"@jimp/plugin-dither":389,"@jimp/plugin-fisheye":390,"@jimp/plugin-flip":391,"@jimp/plugin-gaussian":392,"@jimp/plugin-invert":393,"@jimp/plugin-mask":394,"@jimp/plugin-normalize":395,"@jimp/plugin-print":396,"@jimp/plugin-resize":400,"@jimp/plugin-rotate":403,"@jimp/plugin-scale":404,"@jimp/plugin-shadow":405,"@jimp/plugin-threshold":406,"core-js/modules/es.array.map":184,timm:356}],408:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/defineProperty")),o=r(e("bmp-js")),a=e("@jimp/utils"),s="image/bmp",l="image/x-ms-bmp";function u(e){return(0,a.scan)(e,0,0,e.bitmap.width,e.bitmap.height,function(e,t,n){var r=this.bitmap.data[n+0],i=this.bitmap.data[n+1],o=this.bitmap.data[n+2],a=this.bitmap.data[n+3];this.bitmap.data[n+0]=a,this.bitmap.data[n+1]=o,this.bitmap.data[n+2]=i,this.bitmap.data[n+3]=r}).bitmap}function c(e){return(0,a.scan)({bitmap:e},0,0,e.width,e.height,function(t,n,r){var i=this.bitmap.data[r+0],o=this.bitmap.data[r+1],a=this.bitmap.data[r+2],s=this.bitmap.data[r+3];this.bitmap.data[r+0]=s,this.bitmap.data[r+1]=a,this.bitmap.data[r+2]=o,this.bitmap.data[r+3]=e.is_with_alpha?i:255}).bitmap}var f=function e(t){return c(o.default.decode(t))},h=function e(t){return o.default.encode(u(t)).data},d=function e(){var t,n;return{mime:(0,i.default)({},s,["bmp"]),constants:{MIME_BMP:s,MIME_X_MS_BMP:"image/x-ms-bmp"},decoders:(t={},(0,i.default)(t,s,f),(0,i.default)(t,"image/x-ms-bmp",f),t),encoders:(n={},(0,i.default)(n,s,h),(0,i.default)(n,"image/x-ms-bmp",h),n)}};n.default=d,t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,"bmp-js":29}],409:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),a=i(e("omggif")),s="image/gif",l=function e(){return{mime:(0,o.default)({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,o.default)({},s,function(e){var t=new a.default.GifReader(e),n=r.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,n),{data:n,width:t.width,height:t.height}})}};n.default=l,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,buffer:47,omggif:264}],410:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/defineProperty")),o=r(e("jpeg-js")),a=e("@jimp/utils"),s="image/jpeg",l=function e(){return{mime:(0,i.default)({},s,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:s},decoders:(0,i.default)({},s,o.default.decode),encoders:(0,i.default)({},s,function(e){return o.default.encode(e.bitmap,e._quality).data}),class:{_quality:100,quality:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"n must be a number",n):t<0||t>100?a.throwError.call(this,"n must be a number 0 - 100",n):(this._quality=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)}}}};n.default=l,t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,"jpeg-js":259}],411:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime/helpers/defineProperty")),o=e("pngjs"),a=e("@jimp/utils"),s="image/png",l=-1,u=0,c=1,f=2,h=3,d=4,p=function e(){return{mime:(0,i.default)({},s,["png"]),constants:{MIME_PNG:s,PNG_FILTER_AUTO:-1,PNG_FILTER_NONE:0,PNG_FILTER_SUB:1,PNG_FILTER_UP:2,PNG_FILTER_AVERAGE:3,PNG_FILTER_PATH:4},hasAlpha:(0,i.default)({},s,!0),decoders:(0,i.default)({},s,o.PNG.sync.read),encoders:(0,i.default)({},s,function(e){var t=new o.PNG({width:e.bitmap.width,height:e.bitmap.height});return t.data=e.bitmap.data,o.PNG.sync.write(t,{width:e.bitmap.width,height:e.bitmap.height,deflateLevel:e._deflateLevel,deflateStrategy:e._deflateStrategy,filterType:e._filterType,colorType:"number"==typeof e._colorType?e._colorType:e._rgba?6:2,inputHasAlpha:e._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:-1,_colorType:null,deflateLevel:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"l must be a number",n):t<0||t>9?a.throwError.call(this,"l must be a number 0 - 9",n):(this._deflateLevel=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)},deflateStrategy:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"s must be a number",n):t<0||t>3?a.throwError.call(this,"s must be a number 0 - 3",n):(this._deflateStrategy=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)},filterType:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"n must be a number",n):t<-1||t>4?a.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",n):(this._filterType=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)},colorType:function e(t,n){return"number"!=typeof t?a.throwError.call(this,"s must be a number",n):0!==t&&2!==t&&4!==t&&6!==t?a.throwError.call(this,"s must be a number 0, 2, 4, 6.",n):(this._colorType=Math.round(t),(0,a.isNodePattern)(n)&&n.call(this,null,this),this)}}}};n.default=p,t.exports=n.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/utils":414,pngjs:308}],412:[function(e,t,n){(function(r){"use strict";var i=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(e("@babel/runtime/helpers/defineProperty")),a=i(e("utif")),s="image/tiff",l=function e(){return{mime:(0,o.default)({},s,["tiff","tif"]),constants:{MIME_TIFF:s},decoders:(0,o.default)({},s,function(e){var t=a.default.decode(e),n=t[0];a.default.decodeImages(e,t);var i=a.default.toRGBA8(n);return{data:r.from(i),width:n.t256[0],height:n.t257[0]}}),encoders:(0,o.default)({},s,function(e){var t=a.default.encodeImage(e.bitmap.data,e.bitmap.width,e.bitmap.height);return r.from(t)})}};n.default=l,t.exports=n.default}).call(this,e("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":10,buffer:47,utif:361}],413:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("timm"),o=r(e("@jimp/jpeg")),a=r(e("@jimp/png")),s=r(e("@jimp/bmp")),l=r(e("@jimp/tiff")),u=r(e("@jimp/gif")),c=function e(){return(0,i.mergeDeep)((0,o.default)(),(0,a.default)(),(0,s.default)(),(0,l.default)(),(0,u.default)())};n.default=c,t.exports=n.default},{"@babel/runtime/helpers/interopRequireDefault":10,"@jimp/bmp":408,"@jimp/gif":409,"@jimp/jpeg":410,"@jimp/png":411,"@jimp/tiff":412,timm:356}],414:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.isNodePattern=a,n.throwError=s,n.scan=l,n.scanIterator=u;var i=r(e("@babel/runtime/regenerator"));e("regenerator-runtime/runtime");var o=i.default.mark(u);function a(e){if(void 0===e)return!1;if("function"!=typeof e)throw new TypeError("Callback must be a function");return!0}function s(e,t){if("string"==typeof e&&(e=new Error(e)),"function"==typeof t)return t.call(this,e);throw e}function l(e,t,n,r,i,o){t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i);for(var a=n;a<n+i;a++)for(var s=t;s<t+r;s++){var l=e.bitmap.width*a+s<<2;o.call(e,s,a,l)}return e}function u(e,t,n,r,a){var s,l,u;return i.default.wrap(function i(o){for(;;)switch(o.prev=o.next){case 0:t=Math.round(t),n=Math.round(n),r=Math.round(r),a=Math.round(a),s=n;case 5:if(!(s<n+a)){o.next=17;break}l=t;case 7:if(!(l<t+r)){o.next=14;break}return u=e.bitmap.width*s+l<<2,o.next=11,{x:l,y:s,idx:u,image:e};case 11:l++,o.next=7;break;case 14:s++,o.next=5;break;case 17:case"end":return o.stop()}},o)}},{"@babel/runtime/helpers/interopRequireDefault":10,"@babel/runtime/regenerator":21,"regenerator-runtime/runtime":332}]},{},[379])(379)},e.exports=r()}).call(this,n(64))},function(e,t,n){var r=n(196),i,o=n(150).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return r(t,o)}},function(e,t,n){"use strict";var r=n(57),i=n(31),o=n(68);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(25),i=n(209);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},n;try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),e=t instanceof Array}catch(e){}return function t(o,a){return r(o),i(a),e?n.call(o,a):o.__proto__=a,o}}():void 0)},function(e,t,n){var r=n(104),i=n(24),o=n(33),a=n(31).f,s=n(103),l=n(113),u=s("meta"),c=0,f=Object.isExtensible||function(){return!0},h=function(e){a(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!f(e))return"F";if(!t)return"E";h(e)}return e[u].objectID},p=function(e,t){if(!o(e,u)){if(!f(e))return!0;if(!t)return!1;h(e)}return e[u].weakData},m=function(e){return l&&g.REQUIRED&&f(e)&&!o(e,u)&&h(e),e},g=e.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:m};r[u]=!0},function(e,t,n){var r=n(115),i=n(243),o=n(174),a=Object.defineProperty;t.f=n(78)?Object.defineProperty:function e(t,n,s){if(r(t),n=o(n,!0),r(s),i)try{return a(t,n,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[n]=s.value),t}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r={};function i(e,t){const n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};r[e]=n}function o(e){return r[e]}function a(e){delete r[e]}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(8),i=n(10),o=n(5),a=n(7);
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function s(e){const t=Object(o.a)(e,"input","imag"),n=e=>e.imag(t),a={input:t};return r.a.runKernelFunc(n,a,null,i.K)}const l=Object(a.a)({imag_:s})},function(e,t,n){e.exports=n(599)},function(e,t,n){var r=n(56);e.exports=Array.isArray||function e(t){return"Array"==r(t)}},function(e,t,n){"use strict";var r=n(58),i=n(31),o=n(27),a=n(29),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(38);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(39),i,o="["+n(128)+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},function(e,t){var n=e.exports={},r,i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u=[],c=!1,f,h=-1;function d(){c&&f&&(c=!1,f.length?u=f.concat(u):h=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(f=u,u=[];++h<t;)f&&f[h].run();h=-1,t=u.length}f=null,c=!1,l(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){var r=n(76),i=n(77),o=n(242),a=n(97),s=n(86),l="prototype",u=function(e,t,n){var l=e&u.F,c=e&u.G,f=e&u.S,h=e&u.P,d=e&u.B,p=e&u.W,m=c?i:i[t]||(i[t]={}),g=m.prototype,b=c?r:f?r[t]:(r[t]||{}).prototype,y,v,w;for(y in c&&(n=t),n)(v=!l&&b&&void 0!==b[y])&&s(m,y)||(w=v?b[y]:n[y],m[y]=c&&"function"!=typeof b[y]?n[y]:d&&v?o(w,r):p&&b[y]==w?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(w):h&&"function"==typeof w?o(Function.call,w):w,h&&((m.virtual||(m.virtual={}))[y]=w,e&u.R&&g&&!g[y]&&a(g,y,w)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(85),i=n(135);e.exports=n(78)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(246),i=n(175);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(178)("wks"),i=n(138),o=n(76).Symbol,a="function"==typeof o,s;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r=n(19),i=n(56),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(42),i=n(30),o=n(69),a=function(e){return function(t,n,a){var s=r(t),l=i(s.length),u=o(a,l),c;if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(19),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(196),i=n(150);e.exports=Object.keys||function e(t){return r(t,i)}},function(e,t,n){var r=n(24),i=n(91),o,a=n(27)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(19),i=n(27),o=n(153),a=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[],n;return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t){e.exports={}},function(e,t,n){var r=n(112),i=n(110),o,a=n(27)("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(157),i=n(56),o,a=n(27)("toStringTag"),s="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(e){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(19);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var r=n(25),i=n(156),o=n(30),a=n(71),s=n(111),l=n(206),u=function(e,t){this.stopped=e,this.result=t},c;(e.exports=function(e,t,n,c,f){var h=a(t,n,c?2:1),d,p,m,g,b,y,v;if(f)d=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(i(p)){for(m=0,g=o(e.length);g>m;m++)if((b=c?h(r(v=e[m])[0],v[1]):h(e[m]))&&b instanceof u)return b;return new u(!1)}d=p.call(e)}for(y=d.next;!(v=y.call(d)).done;)if("object"==typeof(b=l(d,h,v.value,c))&&b&&b instanceof u)return b;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,n){var r=n(98);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";(function(e,r){
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
let i;function o(){if(null==i){let t;if("undefined"!=typeof window)t=window;else if(void 0!==e)t=e;else if(void 0!==r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}i=t}return i}function a(){const e=o();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}function s(e,t){const n=a();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s})}).call(this,n(64),n(95))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function e(t){var n=i(this,t);return!!n&&n.enumerable}:r},function(e,t,n){var r=n(148),i=n(103),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r,i=n(27)("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(42),i=n(72),o=n(110),a=n(43),s=n(158),l="Array Iterator",u=a.set,c=a.getterFor(l);e.exports=s(Array,"Array",function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(50),i=n(32),o=n(102),a=n(30),s=function(e){return function(t,n,s,l){r(n);var u=i(t),c=o(u),f=a(u.length),h=e?f-1:0,d=e?-1:1;if(s<2)for(;;){if(h in c){l=c[h],h+=d;break}if(h+=d,e?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:f>h;h+=d)h in c&&(l=n(l,c[h],h,u));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var r=n(23),i=n(29),o=n(160),a=n(40),s=n(93),l=n(19),u=n(73),c=n(49),f=n(30),h=n(211),d=n(336),p=n(59),m=n(83),g=n(81).f,b=n(31).f,y=n(155),v=n(61),w=n(43),x=w.get,_=w.set,S="ArrayBuffer",E="DataView",C="prototype",k="Wrong length",O="Wrong index",T=r.ArrayBuffer,N=T,A=r.DataView,I=A&&A.prototype,j=Object.prototype,R=r.RangeError,M=d.pack,P=d.unpack,D=function(e){return[255&e]},L=function(e){return[255&e,e>>8&255]},F=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},z=function(e){return M(e,23,4)},$=function(e){return M(e,52,8)},U=function(e,t){b(e.prototype,t,{get:function(){return x(this)[t]}})},W=function(e,t,n,r){var i=h(n),o=x(e);if(i+t>o.byteLength)throw R(O);var a=x(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+t);return r?l:l.reverse()},V=function(e,t,n,r,i,o){var a=h(n),s=x(e);if(a+t>s.byteLength)throw R(O);for(var l=x(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),f=0;f<t;f++)l[u+f]=c[o?f:t-f-1]};if(o){if(!l(function(){T(1)})||!l(function(){new T(-1)})||l(function(){return new T,new T(1.5),new T(NaN),T.name!=S})){for(var H=(N=function e(t){return u(this,N),new T(h(t))}).prototype=T.prototype,G=g(T),q=0,K;G.length>q;)(K=G[q++])in N||a(N,K,T[K]);H.constructor=N}m&&p(I)!==j&&m(I,j);var Y=new A(new N(2)),X=I.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(I,{setInt8:function e(t,n){X.call(this,t,n<<24>>24)},setUint8:function e(t,n){X.call(this,t,n<<24>>24)}},{unsafe:!0})}else N=function e(t){u(this,N,S);var n=h(t);_(this,{bytes:y.call(new Array(n),0),byteLength:n}),i||(this.byteLength=n)},A=function e(t,n,r){u(this,A,E),u(t,N,E);var o=x(t).byteLength,a=c(n);if(a<0||a>o)throw R("Wrong offset");if(a+(r=void 0===r?o-a:f(r))>o)throw R(k);_(this,{buffer:t,byteLength:r,byteOffset:a}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=a)},i&&(U(N,"byteLength"),U(A,"buffer"),U(A,"byteLength"),U(A,"byteOffset")),s(A.prototype,{getInt8:function e(t){return W(this,1,t)[0]<<24>>24},getUint8:function e(t){return W(this,1,t)[0]},getInt16:function e(t){var n=W(this,2,t,arguments.length>1?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function e(t){var n=W(this,2,t,arguments.length>1?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function e(t){return B(W(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function e(t){return B(W(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function e(t){return P(W(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function e(t){return P(W(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function e(t,n){V(this,1,t,D,n)},setUint8:function e(t,n){V(this,1,t,D,n)},setInt16:function e(t,n){V(this,2,t,L,n,arguments.length>2?arguments[2]:void 0)},setUint16:function e(t,n){V(this,2,t,L,n,arguments.length>2?arguments[2]:void 0)},setInt32:function e(t,n){V(this,4,t,F,n,arguments.length>2?arguments[2]:void 0)},setUint32:function e(t,n){V(this,4,t,F,n,arguments.length>2?arguments[2]:void 0)},setFloat32:function e(t,n){V(this,4,t,z,n,arguments.length>2?arguments[2]:void 0)},setFloat64:function e(t,n){V(this,8,t,$,n,arguments.length>2?arguments[2]:void 0)}});v(N,S),v(A,E),e.exports={ArrayBuffer:N,DataView:A}},function(e,t,n){"use strict";var r=n(16),i=n(23),o=n(106),a=n(38),s=n(84),l=n(114),u=n(73),c=n(24),f=n(19),h=n(121),d=n(61),p=n(126);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),b=m?"set":"add",y=i[e],v=y&&y.prototype,w=y,x={},_=function(e){var t=v[e];a(v,e,"add"==e?function e(n){return t.call(this,0===n?0:n),this}:"delete"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function e(n){return g&&!c(n)?void 0:t.call(this,0===n?0:n)}:"has"==e?function e(n){return!(g&&!c(n))&&t.call(this,0===n?0:n)}:function e(n,r){return t.call(this,0===n?0:n,r),this})};if(o(e,"function"!=typeof y||!(g||v.forEach&&!f(function(){(new y).entries().next()}))))w=n.getConstructor(t,e,m,b),s.REQUIRED=!0;else if(o(e,!0)){var S=new w,E=S[b](g?{}:-0,1)!=S,C=f(function(){S.has(1)}),k=h(function(e){new y(e)}),O=!g&&f(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});k||((w=t(function(t,n){u(t,w,e);var r=p(new y,t,w);return void 0!=n&&l(n,r[b],r,m),r})).prototype=v,v.constructor=w),(C||O)&&(_("delete"),_("has"),m&&_("get")),(O||E)&&_(b),g&&v.clear&&delete v.clear}return x[e]=w,r({global:!0,forced:w!=y},x),d(w,e),g||n.setStrong(w,e,m),w}},function(e,t,n){var r=n(24),i=n(83);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},function(e,t){var n=Math.expm1,r=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function e(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(60),i=n(23),o=n(19);e.exports=r||!o(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]})},function(e,t,n){"use strict";var r=n(25);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(130),i=n(165),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,l=(u=/a/,c=/b*/g,o.call(u,"a"),o.call(c,"a"),0!==u.lastIndex||0!==c.lastIndex),u,c,f=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],d;(l||h||f)&&(s=function e(t){var n=this,i,s,u,c,d=f&&n.sticky,p=r.call(n),m=n.source,g=0,b=t;return d&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),b=String(t).slice(n.lastIndex),n.lastIndex>0&&(!n.multiline||n.multiline&&"\n"!==t[n.lastIndex-1])&&(m="(?: "+m+")",b=" "+b,g++),s=new RegExp("^(?:"+m+")",p)),h&&(s=new RegExp("^"+m+"$(?!\\s)",p)),l&&(i=n.lastIndex),u=o.call(d?s:n,b),d?u?(u.input=u.input.slice(g),u[0]=u[0].slice(g),u.index=n.lastIndex,n.lastIndex+=u[0].length):n.lastIndex=0:l&&u&&(n.lastIndex=n.global?u.index+u[0].length:i),h&&u&&u.length>1&&a.call(u[0],s,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)}),u}),e.exports=s},function(e,t,n){var r=n(49),i=n(39),o=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,l,u;return a<0||a>=s?e?"":void 0:(l=o.charCodeAt(a))<55296||l>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?e?o.charAt(a):l:e?o.slice(a,a+2):u-56320+(l-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";n(227);var r=n(38),i=n(19),o=n(27),a=n(131),s=n(40),l=o("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),c="$0"==="a".replace(/./,"$0"),f=o("replace"),h=!!/./[f]&&""===/./[f]("a","$0"),d=!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(e,t,n,f){var p=o(e),m=!i(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),g=m&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t});if(!m||!g||"replace"===e&&(!u||!c||h)||"split"===e&&!d){var b=/./[p],y=n(p,""[e],function(e,t,n,r,i){return t.exec===a?m&&!i?{done:!0,value:b.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),v=y[0],w=y[1];r(String.prototype,e,v),r(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},function(e,t,n){var r=n(56),i=n(131);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(245),i=n(179);e.exports=Object.keys||function e(t){return r(t,i)}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function r(){return"undefined"!=typeof navigator&&null!=navigator}function i(){if(r()){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function o(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}n.r(t),n.d(t,"isMobile",function(){return i}),n.d(t,"isBrowser",function(){return o})},function(e,t,n){"use strict";var r=s(n(574)),i=s(n(579)),o=s(n(254)),a=s(n(252));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=o(n(583));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){var r=n(649),i=Object.prototype.hasOwnProperty;function o(e){return Array.isArray(e)?"array":typeof e}function a(e,t){var n=o(e),r;if(n!==o(t))return!1;switch(n){case"array":if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!a(e[i],t[i]))return!1;return!0;case"object":return e&&t?e.type===t.type&&(e.key===t.key&&(e.ref===t.ref&&s(e.props,t.props))):e===t;default:return e===t}}function s(e,t){var n=0,o=0;for(var s in e)if(i.call(e,s)){if("style"===s){if(!r(e[s],t[s]))return!1}else if("children"===s);else if(e[s]!==t[s])return!1;n++}for(var s in t)i.call(t,s)&&o++;return n===o&&a(e.children,t.children)}e.exports=s},,function(e,t,n){var r=n(23),i=n(24),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(23),i=n(40);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(192),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(60),i=n(192);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(58),i=n(81),o=n(151),a=n(25);e.exports=r("Reflect","ownKeys")||function e(t){var n=i.f(a(t)),r=o.f;return r?n.concat(r(t)):n}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(19);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r=n(23),i=n(154),o=r.process,a=o&&o.versions,s=a&&a.v8,l,u;s?u=(l=s.split("."))[0]+l[1]:i&&(!(l=i.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=i.match(/Chrome\/(\d+)/))&&(u=l[1]),e.exports=u&&+u},function(e,t,n){var r=n(58);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(32),i=n(69),o=n(30);e.exports=function e(t){for(var n=r(this),a=o(n.length),s=arguments.length,l=i(s>1?arguments[1]:void 0,a),u=s>2?arguments[2]:void 0,c=void 0===u?a:i(u,a);c>l;)n[l++]=t;return n}},function(e,t,n){var r=n(27),i=n(110),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r,i,o={};o[n(27)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,t,n){"use strict";var r=n(16),i=n(207),o=n(59),a=n(83),s=n(61),l=n(40),u=n(38),c=n(27),f=n(60),h=n(110),d=n(208),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,g=c("iterator"),b="keys",y="values",v="entries",w=function(){return this};e.exports=function(e,t,n,c,d,x,_){i(n,t,c);var S=function(e){if(e===d&&T)return T;if(!m&&e in k)return k[e];switch(e){case b:return function t(){return new n(this,e)};case y:return function t(){return new n(this,e)};case v:return function t(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",C=!1,k=e.prototype,O=k[g]||k["@@iterator"]||d&&k[d],T=!m&&O||S(d),N="Array"==t&&k.entries||O,A,I,j;if(N&&(A=o(N.call(new e)),p!==Object.prototype&&A.next&&(f||o(A)===p||(a?a(A,p):"function"!=typeof A[g]&&l(A,g,w)),s(A,E,!0,!0),f&&(h[E]=w))),d==y&&O&&O.name!==y&&(C=!0,T=function e(){return O.call(this)}),f&&!_||k[g]===T||l(k,g,T),h[t]=T,d)if(I={values:S(y),keys:x?T:S(b),entries:S(v)},_)for(j in I)!m&&!C&&j in k||u(k,j,I[j]);else r({target:t,proto:!0,forced:m||C},I);return I}},function(e,t,n){var r=n(19);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(30),i=n(162),o=n(39),a=Math.ceil,s=function(e){return function(t,n,s){var l=String(o(t)),u=l.length,c=void 0===s?" ":String(s),f=r(n),h,d;return f<=u||""==c?l:(h=f-u,(d=i.call(c,a(h/c.length))).length>h&&(d=d.slice(0,h)),e?l+d:d+l)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(49),i=n(39);e.exports="".repeat||function e(t){var n=String(i(this)),o="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(o+=n);return o}},function(e,t){e.exports=Math.sign||function e(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(e,t,n){var r=n(24),i=n(56),o,a=n(27)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(19);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r(function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=r(function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},function(e,t,n){var r=n(164);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r,i=n(27)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(132).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(19),i=n(128),o="\u200b\x85\u180e";e.exports=function(e){return r(function(){return!!i[e]()||o[e]()!=o||i[e].name!==e})}},function(e,t,n){var r=n(23),i=n(19),o=n(121),a=n(28).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i(function(){l(1)})||!i(function(){new l(-1)})||!o(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||i(function(){return 1!==new l(new s(2),1,void 0).length})},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(236)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(98);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(178)("keys"),i=n(138);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(77),i=n(76),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(137)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(175);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(115),i=n(548),o=n(179),a=n(177)("IE_PROTO"),s=function(){},l="prototype",u=function(){var e=n(244)("iframe"),t=o.length,r="<",i=">",a;for(e.style.display="none",n(549).appendChild(e),e.src="javascript:",(a=e.contentWindow.document).open(),a.write("<script>document.F=Object<\/script>"),a.close(),u=a.F;t--;)delete u.prototype[o[t]];return u()};e.exports=Object.create||function e(t,n){var o;return null!==t?(s.prototype=r(t),o=new s,s.prototype=null,o[a]=t):o=u(),void 0===n?o:i(o,n)}},function(e,t,n){var r=n(85).f,i=n(86),o=n(100)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){t.f=n(100)},function(e,t,n){var r=n(76),i=n(77),o=n(137),a=n(185),s=n(85).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){"use strict";(function(t){var r=n(51),i=n(602),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(256):void 0!==t&&(e=n(256)),e}var l={adapter:s(),transformRequest:[function e(t,n){return i(n,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function e(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function e(t){l.headers[t]={}}),r.forEach(["post","put","patch"],function e(t){l.headers[t]=r.merge(o)}),e.exports=l}).call(this,n(95))},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(623),i=n(624),o=n(625);function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,r):"string"==typeof t?p(e,t,n):b(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,n,r){return f(t),t<=0?l(e,t):void 0!==n?"string"==typeof r?l(e,t).fill(n,r):l(e,t).fill(n):l(e,t)}function d(e,t){if(f(t),e=l(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(t,n),i=(e=l(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function m(e,t){var n=t.length<0?0:0|y(t.length);e=l(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function g(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=m(e,t),e}function b(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return 0===(e=l(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||te(t.length)?l(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),u.alloc(+e)}function w(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return X(e).length;t=(""+t).toLowerCase(),r=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var o=1,a=e.length,s=t.length,l;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,s/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(l=n;l<a;l++)if(u(e,l)===u(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===s)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+s>a&&(n=a-s),l=n;l>=0;l--){for(var f=!0,h=0;h<s;h++)if(u(e,l+h)!==u(t,h)){f=!1;break}if(f)return l}return-1}function C(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function O(e,t,n,r){return ee(Z(t),e,n,r)}function T(e,t,n,r){return O(e,t,n,r)}function N(e,t,n,r){return ee(Q(t),e,n,r)}function A(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1,l,u,c,f;if(i+s<=n)switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(l=e[i+1]))&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return M(r)}t.Buffer=u,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return h(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function e(t){return!(null==t||!t._isBuffer)},u.compare=function e(t,n){if(!u.isBuffer(t)||!u.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},u.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function e(t,n){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=u.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i},u.byteLength=w,u.prototype._isBuffer=!0,u.prototype.swap16=function e(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)_(this,n,n+1);return this},u.prototype.swap32=function e(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)_(this,n,n+3),_(this,n+1,n+2);return this},u.prototype.swap64=function e(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)_(this,n,n+7),_(this,n+1,n+6),_(this,n+2,n+5),_(this,n+3,n+4);return this},u.prototype.toString=function e(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):x.apply(this,arguments)},u.prototype.equals=function e(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function e(){var n="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(n+=" ... ")),"<Buffer "+n+">"},u.prototype.compare=function e(t,n,r,i,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=r-n,l=Math.min(a,s),c=this.slice(i,o),f=t.slice(n,r),h=0;h<l;++h)if(c[h]!==f[h]){a=c[h],s=f[h];break}return a<s?-1:s<a?1:0},u.prototype.includes=function e(t,n,r){return-1!==this.indexOf(t,n,r)},u.prototype.indexOf=function e(t,n,r){return S(this,t,n,r,!0)},u.prototype.lastIndexOf=function e(t,n,r){return S(this,t,n,r,!1)},u.prototype.write=function e(t,n,r,i){if(void 0===n)i="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)i=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return C(this,t,n,r);case"utf8":case"utf-8":return k(this,t,n,r);case"ascii":return O(this,t,n,r);case"latin1":case"binary":return T(this,t,n,r);case"base64":return N(this,t,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},u.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function M(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function L(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Y(e[o]);return i}function F(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function z(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function $(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function W(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,o){return o||W(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,o){return o||W(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function e(t,n){var r=this.length,i;if(t=~~t,n=void 0===n?r:~~n,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),n<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t),u.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,n)).__proto__=u.prototype;else{var o=n-t;i=new u(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i},u.prototype.readUIntLE=function e(t,n,r){t|=0,n|=0,r||B(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i},u.prototype.readUIntBE=function e(t,n,r){t|=0,n|=0,r||B(t,n,this.length);for(var i=this[t+--n],o=1;n>0&&(o*=256);)i+=this[t+--n]*o;return i},u.prototype.readUInt8=function e(t,n){return n||B(t,1,this.length),this[t]},u.prototype.readUInt16LE=function e(t,n){return n||B(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function e(t,n){return n||B(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function e(t,n){return n||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function e(t,n){return n||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function e(t,n,r){t|=0,n|=0,r||B(t,n,this.length);for(var i=this[t],o=1,a=0;++a<n&&(o*=256);)i+=this[t+a]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},u.prototype.readIntBE=function e(t,n,r){t|=0,n|=0,r||B(t,n,this.length);for(var i=n,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*n)),a},u.prototype.readInt8=function e(t,n){return n||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function e(t,n){n||B(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function e(t,n){n||B(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function e(t,n){return n||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function e(t,n){return n||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function e(t,n){return n||B(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function e(t,n){return n||B(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function e(t,n){return n||B(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function e(t,n){return n||B(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function e(t,n,r,i){var o;(t=+t,n|=0,r|=0,i)||z(this,t,n,r,Math.pow(2,8*r)-1,0);var a=1,s=0;for(this[n]=255&t;++s<r&&(a*=256);)this[n+s]=t/a&255;return n+r},u.prototype.writeUIntBE=function e(t,n,r,i){var o;(t=+t,n|=0,r|=0,i)||z(this,t,n,r,Math.pow(2,8*r)-1,0);var a=r-1,s=1;for(this[n+a]=255&t;--a>=0&&(s*=256);)this[n+a]=t/s&255;return n+r},u.prototype.writeUInt8=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},u.prototype.writeUInt16LE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):$(this,t,n,!0),n+2},u.prototype.writeUInt16BE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):$(this,t,n,!1),n+2},u.prototype.writeUInt32LE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):U(this,t,n,!0),n+4},u.prototype.writeUInt32BE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):U(this,t,n,!1),n+4},u.prototype.writeIntLE=function e(t,n,r,i){if(t=+t,n|=0,!i){var o=Math.pow(2,8*r-1);z(this,t,n,r,o-1,-o)}var a=0,s=1,l=0;for(this[n]=255&t;++a<r&&(s*=256);)t<0&&0===l&&0!==this[n+a-1]&&(l=1),this[n+a]=(t/s>>0)-l&255;return n+r},u.prototype.writeIntBE=function e(t,n,r,i){if(t=+t,n|=0,!i){var o=Math.pow(2,8*r-1);z(this,t,n,r,o-1,-o)}var a=r-1,s=1,l=0;for(this[n+a]=255&t;--a>=0&&(s*=256);)t<0&&0===l&&0!==this[n+a+1]&&(l=1),this[n+a]=(t/s>>0)-l&255;return n+r},u.prototype.writeInt8=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},u.prototype.writeInt16LE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):$(this,t,n,!0),n+2},u.prototype.writeInt16BE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):$(this,t,n,!1),n+2},u.prototype.writeInt32LE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):U(this,t,n,!0),n+4},u.prototype.writeInt32BE=function e(t,n,r){return t=+t,n|=0,r||z(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):U(this,t,n,!1),n+4},u.prototype.writeFloatLE=function e(t,n,r){return V(this,t,n,!0,r)},u.prototype.writeFloatBE=function e(t,n,r){return V(this,t,n,!1,r)},u.prototype.writeDoubleLE=function e(t,n,r){return H(this,t,n,!0,r)},u.prototype.writeDoubleBE=function e(t,n,r){return H(this,t,n,!1,r)},u.prototype.copy=function e(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r,a;if(this===t&&r<n&&n<i)for(a=o-1;a>=0;--a)t[a+n]=this[a+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n);return o},u.prototype.fill=function e(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=n;a<r;++a)this[a]=t;else{var s=u.isBuffer(t)?t:X(new u(t,i).toString()),l=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%l]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function q(e){if((e=K(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function K(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function Q(e){return r.toByteArray(q(e))}function ee(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function te(e){return e!=e}}).call(this,n(64))},function(e,t,n){"use strict";(function(e){var r=n(2),i=n.n(r),o=n(47),a=n(0),s=n.n(a),l=1073741823,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function c(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){var t=[];return{on:function e(n){t.push(n)},off:function e(n){t=t.filter(function(e){return e!==n})},get:function t(){return e},set:function n(r,i){e=r,t.forEach(function(t){return t(e,i)})}}}function d(e){return Array.isArray(e)?e[0]:e}function p(e,t){var n,i,a="__create-react-context-"+c()+"__",u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=h(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function e(){var t;return(t={})[a]=this.emitter,t},r.componentWillReceiveProps=function e(n){if(this.props.value!==n.value){var r=this.props.value,i=n.value,o;f(r,i)?o=0:(o="function"==typeof t?t(r,i):l,0!==(o|=0)&&this.emitter.set(n.value,o))}},r.render=function e(){return this.props.children},n}(r.Component);u.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var p=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){var r;0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function e(t){var n=t.observedBits;this.observedBits=void 0===n||null===n?l:n},r.componentDidMount=function e(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?l:t},r.componentWillUnmount=function e(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function t(){return this.context[a]?this.context[a].get():e},r.render=function e(){return d(this.props.children)(this.state.value)},n}(r.Component);return p.contextTypes=((i={})[a]=s.a.object,i),{Provider:u,Consumer:p}}var m=i.a.createContext||p;t.a=m}).call(this,n(64))},function(e,t,n){var r=n(650);e.exports=y,e.exports.parse=o,e.exports.compile=a,e.exports.tokensToFunction=u,e.exports.tokensToRegExp=b;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n=[],r=0,o=0,a="",s=t&&t.delimiter||"/",l;null!=(l=i.exec(e));){var u=l[0],h=l[1],d=l.index;if(a+=e.slice(o,d),o=d+u.length,h)a+=h[1];else{var p=e[o],m=l[2],g=l[3],b=l[4],y=l[5],v=l[6],w=l[7];a&&(n.push(a),a="");var x=null!=m&&null!=p&&p!==m,_="+"===v||"*"===v,S="?"===v||"*"===v,E=l[2]||s,C=b||y;n.push({name:g||r++,prefix:m||"",delimiter:E,optional:S,repeat:_,partial:x,asterisk:!!w,pattern:C?f(C):w?".*":"[^"+c(E)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&n.push(a),n}function a(e,t){return u(o(e,t),t)}function s(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",a=t||{},u,c=(i||{}).pretty?s:encodeURIComponent,f=0;f<e.length;f++){var h=e[f];if("string"!=typeof h){var d=a[h.name],p;if(null==d){if(h.optional){h.partial&&(o+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(r(d)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var m=0;m<d.length;m++){if(p=c(d[m]),!n[f].test(p))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===m?h.prefix:h.delimiter)+p}}else{if(p=h.asterisk?l(d):c(d),!n[f].test(p))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+p+'"');o+=h.prefix+p}}else o+=h}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}function m(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(y(e[i],t,n).source);var o;return h(new RegExp("(?:"+r.join("|")+")",d(n)),t)}function g(e,t,n){return b(o(e,n),t,n)}function b(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=c(l);else{var u=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+u+f+")*"),a+=f=l.optional?l.partial?u+"("+f+")?":"(?:"+u+"("+f+"))?":u+"("+f+")"}}var p=c(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",h(new RegExp("^"+a,d(n)),t)}function y(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?p(e,t):r(e)?m(e,t,n):g(e,t,n)}},function(e,t,n){var r=n(29),i=n(19),o=n(145);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(23),i=n(146),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var r=n(23),i=n(147),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(33),i=n(149),o=n(37),a=n(31);e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},function(e,t,n){var r=n(23);e.exports=r},function(e,t,n){var r=n(33),i=n(42),o=n(105).indexOf,a=n(104);e.exports=function(e,t){var n=i(e),s=0,l=[],u;for(u in n)!r(a,u)&&r(n,u)&&l.push(u);for(;t.length>s;)r(n,u=t[s++])&&(~o(l,u)||l.push(u));return l}},function(e,t,n){var r=n(152);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(29),i=n(31),o=n(25),a=n(107);e.exports=r?Object.defineProperties:function e(t,n){o(t);for(var r=a(n),s=r.length,l=0,u;s>l;)i.f(t,u=r[l++],n[u]);return t}},function(e,t,n){var r=n(58);e.exports=r("document","documentElement")},function(e,t,n){var r=n(42),i=n(81).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(e,t,n){var r=n(27);t.f=r},function(e,t,n){"use strict";var r=n(32),i=n(69),o=n(30),a=Math.min;e.exports=[].copyWithin||function e(t,n){var s=r(this),l=o(s.length),u=i(t,l),c=i(n,l),f=arguments.length>2?arguments[2]:void 0,h=a((void 0===f?l:i(f,l))-c,l-u),d=1;for(c<u&&u<c+h&&(d=-1,c+=h-1,u+=h-1);h-- >0;)c in s?s[u]=s[c]:delete s[u],u+=d,c+=d;return s}},function(e,t,n){"use strict";var r=n(91),i=n(30),o=n(71),a=function(e,t,n,s,l,u,c,f){for(var h=l,d=0,p=!!c&&o(c,f,3),m;d<s;){if(d in n){if(m=p?p(n[d],d,t):n[d],u>0&&r(m))h=a(e,t,m,i(m.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=m}h++}d++}return h};e.exports=a},function(e,t,n){"use strict";var r=n(36).forEach,i=n(65),o=n(41),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function e(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(71),i=n(32),o=n(206),a=n(156),s=n(30),l=n(82),u=n(111);e.exports=function e(t){var n=i(t),c="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,d=void 0!==h,p=u(n),m=0,g,b,y,v,w,x;if(d&&(h=r(h,f>2?arguments[2]:void 0,2)),void 0==p||c==Array&&a(p))for(b=new c(g=s(n.length));g>m;m++)x=d?h(n[m],m):n[m],l(b,m,x);else for(w=(v=p.call(n)).next,b=new c;!(y=w.call(v)).done;m++)x=d?o(v,h,[y.value,m],!0):y.value,l(b,m,x);return b.length=m,b}},function(e,t,n){var r=n(25);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(208).IteratorPrototype,i=n(70),o=n(68),a=n(61),s=n(110),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=l,e}},function(e,t,n){"use strict";var r=n(59),i=n(40),o=n(33),a=n(27),s=n(60),l=a("iterator"),u=!1,c=function(){return this},f,h,d;[].keys&&("next"in(d=[].keys())?(h=r(r(d)))!==Object.prototype&&(f=h):u=!0),void 0==f&&(f={}),s||o(f,l)||i(f,l,c),e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:u}},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(42),i=n(49),o=n(30),a=n(65),s=n(41),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),h=s("indexOf",{ACCESSORS:!0,1:0}),d=c||!f||!h;e.exports=d?function e(t){if(c)return u.apply(this,arguments)||0;var n=r(this),a=o(n.length),s=a-1;for(arguments.length>1&&(s=l(s,i(arguments[1]))),s<0&&(s=a+s);s>=0;s--)if(s in n&&n[s]===t)return s||0;return-1}:u},function(e,t,n){var r=n(49),i=n(30);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(31).f,i=n(70),o=n(93),a=n(71),s=n(73),l=n(114),u=n(158),c=n(92),f=n(29),h=n(84).fastKey,d=n(43),p=d.set,m=d.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e(function(e,r){s(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&l(r,e[u],e,n)}),d=m(t),g=function(e,t,n){var r=d(e),i=b(e,t),o,a;return i?i.value=n:(r.last=i={index:a=h(t,!0),key:t,value:n,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=i),o&&(o.next=i),f?r.size++:e.size++,"F"!==a&&(r.index[a]=i)),e},b=function(e,t){var n=d(e),r=h(t),i;if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==t)return i};return o(c.prototype,{clear:function e(){for(var t=this,n=d(this),r=n.index,i=n.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete r[i.index],i=i.next;n.first=n.last=void 0,f?n.size=0:this.size=0},delete:function(e){var t=this,n=d(this),r=b(this,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:this.size--}return!!r},forEach:function e(t){for(var n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3),i;i=i?i.next:n.first;)for(r(i.value,i.key,this);i&&i.removed;)i=i.previous},has:function e(t){return!!b(this,t)}}),o(c.prototype,n?{get:function e(t){var n=b(this,t);return n&&n.value},set:function e(t,n){return g(this,0===t?0:t,n)}}:{add:function e(t){return g(this,t=0===t?0:t,t)}}),f&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);u(e,t,function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),c(t)}}},function(e,t){var n=Math.log;e.exports=Math.log1p||function e(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(e,t,n){var r=n(24),i=Math.floor;e.exports=function e(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(e,t,n){var r=n(23),i=n(94).trim,o=n(128),a=r.parseFloat,s=1/a(o+"-0")!=-1/0;e.exports=s?function e(t){var n=i(String(t)),r=a(n);return 0===r&&"-"==n.charAt(0)?-0:r}:a},function(e,t,n){var r=n(23),i=n(94).trim,o=n(128),a=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");e.exports=l?function e(t,n){var r=i(String(t));return a(r,n>>>0||(s.test(r)?16:10))}:a},function(e,t,n){var r=n(56);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,n){"use strict";var r=n(29),i=n(19),o=n(107),a=n(151),s=n(119),l=n(32),u=n(102),c=Object.assign,f=Object.defineProperty;e.exports=!c||i(function(){if(r&&1!==c({b:1},c(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||o(c({},t)).join("")!=i})?function e(t,n){for(var i=l(t),c=arguments.length,f=1,h=a.f,d=s.f;c>f;)for(var p=u(arguments[f++]),m=h?o(p).concat(h(p)):o(p),g=m.length,b=0,y;g>b;)y=m[b++],r&&!d.call(p,y)||(i[y]=p[y]);return i}:c},function(e,t,n){var r=n(29),i=n(107),o=n(42),a=n(119).f,s=function(e){return function(t){for(var n=o(t),s=i(n),l=s.length,u=0,c=[],f;l>u;)f=s[u++],r&&!a.call(n,f)||c.push(e?[f,n[f]]:n[f]);return c}};e.exports={entries:s(!0),values:s(!1)}},function(e,t){e.exports=Object.is||function e(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(e,t,n){var r=n(23);e.exports=r.Promise},function(e,t,n){var r=n(23),i=n(19),o=n(56),a=n(71),s=n(199),l=n(145),u=n(223),c=r.location,f=r.setImmediate,h=r.clearImmediate,d=r.process,p=r.MessageChannel,m=r.Dispatch,g=0,b={},y="onreadystatechange",v,w,x,_=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){_(e)}},E=function(e){_(e.data)},C=function(e){r.postMessage(e+"",c.protocol+"//"+c.host)};f&&h||(f=function e(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return b[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,n)},v(g),g},h=function e(t){delete b[t]},"process"==o(d)?v=function(e){d.nextTick(S(e))}:m&&m.now?v=function(e){m.now(S(e))}:p&&!u?(x=(w=new p).port2,w.port1.onmessage=E,v=a(x.postMessage,x,1)):!r.addEventListener||"function"!=typeof postMessage||r.importScripts||i(C)?v=y in l("script")?function(e){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),_(e)}}:function(e){setTimeout(S(e),0)}:(v=C,r.addEventListener("message",E,!1))),e.exports={set:f,clear:h}},function(e,t,n){var r=n(154);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(23),i=n(37).f,o=n(56),a=n(222).set,s=n(223),l=r.MutationObserver||r.WebKitMutationObserver,u=r.process,c=r.Promise,f="process"==o(u),h=i(r,"queueMicrotask"),d=h&&h.value,p,m,g,b,y,v,w,x;d||(p=function(){var e,t;for(f&&(e=u.domain)&&e.exit();m;){t=m.fn,m=m.next;try{t()}catch(e){throw m?b():g=void 0,e}}g=void 0,e&&e.enter()},f?b=function(){u.nextTick(p)}:l&&!s?(y=!0,v=document.createTextNode(""),new l(p).observe(v,{characterData:!0}),b=function(){v.data=y=!y}):c&&c.resolve?(w=c.resolve(void 0),x=w.then,b=function(){x.call(w,p)}):b=function(){a.call(r,p)}),e.exports=d||function(e){var t={fn:e,next:void 0};g&&(g.next=t),m||(m=t,b()),g=t}},function(e,t,n){var r=n(25),i=n(24),o=n(226);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a;return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(50),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";var r=n(16),i=n(131);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";var r=n(132).charAt,i=n(43),o=n(158),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",function(e){s(this,{type:a,string:String(e),index:0})},function e(){var t=l(this),n=t.string,i=t.index,o;return i>=n.length?{value:void 0,done:!0}:(o=r(n,i),t.index+=o.length,{value:o,done:!1})})},function(e,t,n){var r=n(154);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){var r=n(458);e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(32),i=n(30),o=n(111),a=n(156),s=n(71),l=n(28).aTypedArrayConstructor;e.exports=function e(t){var n=r(t),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,h=o(n),d,p,m,g,b,y;if(void 0!=h&&!a(h))for(y=(b=h.call(n)).next,n=[];!(g=y.call(b)).done;)n.push(g.value);for(f&&u>2&&(c=s(c,arguments[2],2)),p=i(n.length),m=new(l(this))(p),d=0;p>d;d++)m[d]=f?c(n[d],d):n[d];return m}},function(e,t,n){"use strict";var r=n(93),i=n(84).getWeakData,o=n(25),a=n(24),s=n(73),l=n(114),u=n(36),c=n(33),f=n(43),h=f.set,d=f.getterFor,p=u.find,m=u.findIndex,g=0,b=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},v=function(e,t){return p(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var f=e(function(e,r){s(e,f,t),h(e,{type:t,id:g++,frozen:void 0}),void 0!=r&&l(r,e[u],e,n)}),p=d(t),m=function(e,t,n){var r=p(e),a=i(o(t),!0);return!0===a?b(r).set(t,n):a[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?b(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function e(t){var n=p(this);if(!a(t))return!1;var r=i(t);return!0===r?b(n).has(t):r&&c(r,n.id)}}),r(f.prototype,n?{get:function e(t){var n=p(this);if(a(t)){var r=i(t);return!0===r?b(n).get(t):r?r[n.id]:void 0}},set:function e(t,n){return m(this,t,n)}}:{add:function e(t){return m(this,t,!0)}}),f}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(75),i=n(171),o=n(235),a=n(502),s=n(238),l="prototype",u=function(e,t,n){var l=e&u.F,c=e&u.G,f=e&u.S,h=e&u.P,d=e&u.B,p=c?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,m=c?i:i[t]||(i[t]={}),g=m.prototype||(m.prototype={}),b,y,v,w;for(b in c&&(n=t),n)v=((y=!l&&p&&void 0!==p[b])?p:n)[b],w=d&&y?s(v,r):h&&"function"==typeof v?s(Function.call,v):v,p&&a(p,b,v,e&u.U),m[b]!=v&&o(m,b,w),h&&g[b]!=v&&(g[b]=v)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(497),i=n(501);e.exports=n(173)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(172),i=n(75).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(508);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(19),i=n(27),o=n(60),a=i("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},function(e,t,n){"use strict";n(122);var r=n(16),i=n(58),o=n(239),a=n(38),s=n(93),l=n(61),u=n(207),c=n(43),f=n(73),h=n(33),d=n(71),p=n(112),m=n(25),g=n(24),b=n(70),y=n(68),v=n(518),w=n(111),x=n(27),_=i("fetch"),S=i("Headers"),E=x("iterator"),C="URLSearchParams",k="URLSearchParamsIterator",O=c.set,T=c.getterFor("URLSearchParams"),N=c.getterFor("URLSearchParamsIterator"),A=/\+/g,I=Array(4),j=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){var t=e.replace(A," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(j(n--),R);return t}},P=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return D[e]},F=function(e){return encodeURIComponent(e).replace(P,L)},B=function(e,t){if(t)for(var n=t.split("&"),r=0,i,o;r<n.length;)(i=n[r++]).length&&(o=i.split("="),e.push({key:M(o.shift()),value:M(o.join("="))}))},z=function(e){this.entries.length=0,B(this.entries,e)},$=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=u(function e(t,n){O(this,{type:"URLSearchParamsIterator",iterator:v(T(t).entries),kind:n})},"Iterator",function e(){var t=N(this),n=t.kind,r=t.iterator.next(),i=r.value;return r.done||(r.value="keys"===n?i.key:"values"===n?i.value:[i.key,i.value]),r}),W=function e(){f(this,W,"URLSearchParams");var t=arguments.length>0?arguments[0]:void 0,n=this,r=[],i,o,a,s,l,u,c,d,p;if(O(this,{type:"URLSearchParams",entries:r,updateURL:function(){},updateSearchParams:z}),void 0!==t)if(g(t))if("function"==typeof(i=w(t)))for(a=(o=i.call(t)).next;!(s=a.call(o)).done;){if((c=(u=(l=v(m(s.value))).next).call(l)).done||(d=u.call(l)).done||!u.call(l).done)throw TypeError("Expected sequence with length 2");r.push({key:c.value+"",value:d.value+""})}else for(p in t)h(t,p)&&r.push({key:p,value:t[p]+""});else B(r,"string"==typeof t?"?"===t.charAt(0)?t.slice(1):t:t+"")},V=W.prototype;s(V,{append:function e(t,n){$(arguments.length,2);var r=T(this);r.entries.push({key:t+"",value:n+""}),r.updateURL()},delete:function(e){$(arguments.length,1);for(var t=T(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function e(t){$(arguments.length,1);for(var n=T(this).entries,r=t+"",i=0;i<n.length;i++)if(n[i].key===r)return n[i].value;return null},getAll:function e(t){$(arguments.length,1);for(var n=T(this).entries,r=t+"",i=[],o=0;o<n.length;o++)n[o].key===r&&i.push(n[o].value);return i},has:function e(t){$(arguments.length,1);for(var n=T(this).entries,r=t+"",i=0;i<n.length;)if(n[i++].key===r)return!0;return!1},set:function e(t,n){$(arguments.length,1);for(var r=T(this),i=r.entries,o=!1,a=t+"",s=n+"",l=0,u;l<i.length;l++)(u=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,u.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function e(){var t=T(this),n=t.entries,r=n.slice(),i,o,a;for(n.length=0,a=0;a<r.length;a++){for(i=r[a],o=0;o<a;o++)if(n[o].key>i.key){n.splice(o,0,i);break}o===a&&n.push(i)}t.updateURL()},forEach:function e(t){for(var n=T(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),i=0,o;i<n.length;)r((o=n[i++]).value,o.key,this)},keys:function e(){return new U(this,"keys")},values:function e(){return new U(this,"values")},entries:function e(){return new U(this,"entries")}},{enumerable:!0}),a(V,E,V.entries),a(V,"toString",function e(){for(var t=T(this).entries,n=[],r=0,i;r<t.length;)i=t[r++],n.push(F(i.key)+"="+F(i.value));return n.join("&")},{enumerable:!0}),l(W,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:W}),o||"function"!=typeof _||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function e(t){var n=[t],r,i,o;return arguments.length>1&&(r=arguments[1],g(r)&&(i=r.body,"URLSearchParams"===p(i)&&((o=r.headers?new S(r.headers):new S).has("content-type")||o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),r=b(r,{body:y(0,String(i)),headers:y(0,o)}))),n.push(r)),_.apply(this,n)}}),e.exports={URLSearchParams:W,getState:T}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}e.exports=s()?Object.assign:function(e,t){for(var n,s=a(e),l,u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){l=r(n);for(var f=0;f<l.length;f++)o.call(n,l[f])&&(s[l[f]]=n[l[f]])}}return s}},function(e,t,n){var r=n(538);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){e.exports=!n(78)&&!n(116)(function(){return 7!=Object.defineProperty(n(244)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(98),i=n(76).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(86),i=n(99),o=n(540)(!1),a=n(177)("IE_PROTO");e.exports=function(e,t){var n=i(e),s=0,l=[],u;for(u in n)u!=a&&r(n,u)&&l.push(u);for(;t.length>s;)r(n,u=t[s++])&&(~o(l,u)||l.push(u));return l}},function(e,t,n){var r=n(247);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(137),i=n(96),o=n(249),a=n(97),s=n(182),l=n(547),u=n(184),c=n(550),f=n(100)("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",g=function(){return this};e.exports=function(e,t,n,b,y,v,w){l(n,t,b);var x=function(e){if(!h&&e in C)return C[e];switch(e){case p:return function t(){return new n(this,e)};case m:return function t(){return new n(this,e)}}return function t(){return new n(this,e)}},_=t+" Iterator",S=y==m,E=!1,C=e.prototype,k=C[f]||C[d]||y&&C[y],O=k||x(y),T=y?S?x("entries"):O:void 0,N="Array"==t&&C.entries||k,A,I,j;if(N&&(j=c(N.call(new e)))!==Object.prototype&&j.next&&(u(j,_,!0),r||"function"==typeof j[f]||a(j,f,g)),S&&k&&k.name!==m&&(E=!0,O=function e(){return k.call(this)}),r&&!w||!h&&!E&&C[f]||a(C,f,O),s[t]=O,s[_]=g,y)if(A={values:S?O:x(m),keys:v?O:x(p),entries:T},w)for(I in A)I in C||o(C,I,A[I]);else i(i.P+i.F*(h||E),t,A);return A}},function(e,t,n){e.exports=n(97)},function(e,t,n){var r=n(245),i=n(179).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return r(t,i)}},function(e,t,n){var r=n(139),i=n(135),o=n(99),a=n(174),s=n(86),l=n(243),u=Object.getOwnPropertyDescriptor;t.f=n(78)?u:function e(t,n){if(t=o(t),n=a(n,!0),l)try{return u(t,n)}catch(e){}if(s(t,n))return i(!r.f.call(t,n),t[n])}},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=u(n(0)),i=l(n(2)),o=l(n(18)),a=n(20),s=n(253);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h="unmounted";t.UNMOUNTED=h;var d="exited";t.EXITED=d;var p="entering";t.ENTERING=p;var m="entered";t.ENTERED=m;var g="exiting";t.EXITING=g;var b=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=n.transitionGroup,o=i&&!i.isMounting?t.enter:t.appear,a;return r.appearStatus=null,t.in?o?(a=d,r.appearStatus=p):a=m:a=t.unmountOnExit||t.mountOnEnter?h:d,r.state={status:a},r.nextCallback=null,r}f(t,e);var n=t.prototype;return n.getChildContext=function e(){return{transitionGroup:null}},t.getDerivedStateFromProps=function e(t,n){var r;return t.in&&n.status===h?{status:d}:null},n.componentDidMount=function e(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function e(t){var n=null;if(t!==this.props){var r=this.state.status;this.props.in?r!==p&&r!==m&&(n=p):r!==p&&r!==m||(n=g)}this.updateStatus(!1,n)},n.componentWillUnmount=function e(){this.cancelNextCallback()},n.getTimeouts=function e(){var t=this.props.timeout,n,r,i;return n=r=i=t,null!=t&&"number"!=typeof t&&(n=t.exit,r=t.enter,i=void 0!==t.appear?t.appear:r),{exit:n,enter:r,appear:i}},n.updateStatus=function e(t,n){if(void 0===t&&(t=!1),null!==n){this.cancelNextCallback();var r=o.default.findDOMNode(this);n===p?this.performEnter(r,t):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:h})},n.performEnter=function e(t,n){var r=this,i=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:n,a=this.getTimeouts(),s=o?a.appear:a.enter;n||i?(this.props.onEnter(t,o),this.safeSetState({status:p},function(){r.props.onEntering(t,o),r.onTransitionEnd(t,s,function(){r.safeSetState({status:m},function(){r.props.onEntered(t,o)})})})):this.safeSetState({status:m},function(){r.props.onEntered(t)})},n.performExit=function e(t){var n=this,r=this.props.exit,i=this.getTimeouts();r?(this.props.onExit(t),this.safeSetState({status:g},function(){n.props.onExiting(t),n.onTransitionEnd(t,i.exit,function(){n.safeSetState({status:d},function(){n.props.onExited(t)})})})):this.safeSetState({status:d},function(){n.props.onExited(t)})},n.cancelNextCallback=function e(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function e(t,n){n=this.setNextCallback(n),this.setState(t,n)},n.setNextCallback=function e(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},n.onTransitionEnd=function e(t,n,r){this.setNextCallback(r);var i=null==n&&!this.props.addEndListener;t&&!i?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=n&&setTimeout(this.nextCallback,n)):setTimeout(this.nextCallback,0)},n.render=function e(){var t=this.state.status;if(t===h)return null;var n=this.props,r=n.children,o=c(n,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"==typeof r)return r(t,o);var a=i.default.Children.only(r);return i.default.cloneElement(a,o)},t}(i.default.Component);function y(){}b.contextTypes={transitionGroup:r.object},b.childContextTypes={transitionGroup:function e(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;var v=(0,a.polyfill)(b);t.default=v},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var o=null;t.timeoutsShape=null;var a=null;t.classNamesShape=null},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(0)),i=s(n(2)),o=n(20),a=n(580);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},d={component:"div",childFactory:function e(t){return t}},p=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(f(f(r)));return r.state={handleExited:i,firstRender:!0},r}c(t,e);var n=t.prototype;return n.getChildContext=function e(){return{transitionGroup:{isMounting:!this.appeared}}},n.componentDidMount=function e(){this.appeared=!0,this.mounted=!0},n.componentWillUnmount=function e(){this.mounted=!1},t.getDerivedStateFromProps=function e(t,n){var r=n.children,i=n.handleExited,o;return{children:n.firstRender?(0,a.getInitialChildMapping)(t,i):(0,a.getNextChildMapping)(t,r,i),firstRender:!1}},n.handleExited=function e(t,n){var r=(0,a.getChildMapping)(this.props.children);t.key in r||(t.props.onExited&&t.props.onExited(n),this.mounted&&this.setState(function(e){var n=u({},e.children);return delete n[t.key],{children:n}}))},n.render=function e(){var t=this.props,n=t.component,r=t.childFactory,o=l(t,["component","childFactory"]),a=h(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?a:i.default.createElement(n,o,a)},t}(i.default.Component);p.childContextTypes={transitionGroup:r.default.object.isRequired},p.propTypes={},p.defaultProps=d;var m=(0,o.polyfill)(p);t.default=m,e.exports=t.default},function(e,t,n){"use strict";e.exports=function e(t,n){return function e(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return t.apply(n,r)}}},function(e,t,n){"use strict";var r=n(51),i=n(603),o=n(605),a=n(606),s=n(607),l=n(257);e.exports=function e(t){return new Promise(function e(u,c){var f=t.data,h=t.headers;r.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+m)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function e(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r,o={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};i(u,c,o),d=null}},d.onerror=function e(){c(l("Network Error",t,null,d)),d=null},d.ontimeout=function e(){c(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=n(608),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(h,function e(t,n){void 0===f&&"content-type"===n.toLowerCase()?delete h[n]:d.setRequestHeader(n,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function e(t){d&&(d.abort(),c(t),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,n){"use strict";var r=n(604);e.exports=function e(t,n,i,o,a){var s=new Error(t);return r(s,n,i,o,a)}},function(e,t,n){"use strict";e.exports=function e(t){return!(!t||!t.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function e(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i,o=a(n(261));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),r(t,[{key:"update",value:function e(t){this.x=t.x,this.y=t.y}},{key:"moveByAngle",value:function e(t,n){var r=t+Math.PI/2;this.x=this.x+Math.sin(r)*n,this.y=this.y-Math.cos(r)*n}},{key:"equalsTo",value:function e(t){return this.x===t.x&&this.y===t.y}},{key:"getDifferenceTo",value:function e(t){return new o.default(this.x-t.x,this.y-t.y)}},{key:"getDistanceTo",value:function e(t){var n=this.getDifferenceTo(t);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"getAngleTo",value:function e(t){var n=this.getDifferenceTo(t);return Math.atan2(n.y,n.x)}},{key:"toObject",value:function e(){return{x:this.x,y:this.y}}}]),t}(o.default);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.x=t,this.y=n};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,n){i(this,e),this.x=t,this.y=n}return r(e,[{key:"update",value:function e(t){this.x=t.x,this.y=t.y}},{key:"getDifferenceTo",value:function t(n){return new e(this.x-n.x,this.y-n.y)}},{key:"getDistanceTo",value:function e(t){var n=this.getDifferenceTo(t);return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}}]),e}();t.default=o},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=(()=>"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:void 0!==e?e:e=>e())();function i(){return new Promise(e=>r(()=>e()))}}).call(this,n(634).setImmediate)},function(e,t,n){var r,i;r=this,i=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),b=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),v=/\bCrOS\b/.test(e),w=/win/i.test(t),x=f&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,l=!0);var _=y&&(u||f&&(null==x||x<12.11)),S=n||a&&s>=9;function E(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C=function(e,t){var n=e.className,r=E(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},k;function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return O(e).appendChild(t)}function N(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=N(e,t,n,r);return i.setAttribute("role","presentation"),i}function I(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function j(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(e,t){var n=e.className;E(t).test(n)||(e.className+=(n?" ":"")+t)}function M(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!E(n[r]).test(t)&&(t+=" "+n[r]);return t}k=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var P=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}m?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(e){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var $=50,U={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},V={origin:"*mouse"},H={origin:"+move"};function G(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var q=[""];function K(e){for(;q.length<=e;)q.push(Y(q)+" ");return q[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Z(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function J(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&L(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function ae(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ue=null;function ce(e,t,n){var r;ue=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ue=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ue=i)}return null!=r?r:ue}var fe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var c=e.length,f=[],h=0;h<c;++h)f.push(n(e.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var m=f[d];"m"==m?f[d]=p:p=m}for(var g=0,b=u;g<c;++g){var y=f[g];"1"==y&&"r"==b?f[g]="n":o.test(y)&&(b=y,"r"==y&&(f[g]="R"))}for(var v=1,w=f[0];v<c-1;++v){var x=f[v];"+"==x&&"1"==w&&"1"==f[v+1]?f[v]="1":","!=x||w!=f[v+1]||"1"!=w&&"n"!=w||(f[v]=w),w=x}for(var _=0;_<c;++_){var S=f[_];if(","==S)f[_]="N";else if("%"==S){var E=void 0;for(E=_+1;E<c&&"%"==f[E];++E);for(var C=_&&"!"==f[_-1]||E<c&&"1"==f[E]?"1":"N",k=_;k<E;++k)f[k]=C;_=E-1}}for(var O=0,T=u;O<c;++O){var N=f[O];"L"==T&&"1"==N?f[O]="L":o.test(N)&&(T=N)}for(var A=0;A<c;++A)if(i.test(f[A])){var I=void 0;for(I=A+1;I<c&&i.test(f[I]);++I);for(var j="L"==(A?f[A-1]:u),R,M=j==("L"==(I<c?f[I]:u))?j?"L":"R":u,P=A;P<I;++P)f[P]=M;A=I-1}for(var D=[],L,F=0;F<c;)if(a.test(f[F])){var B=F;for(++F;F<c&&a.test(f[F]);++F);D.push(new l(0,B,F))}else{var z=F,$=D.length,U="rtl"==t?1:0;for(++F;F<c&&"L"!=f[F];++F);for(var W=z;W<F;)if(s.test(f[W])){z<W&&(D.splice($,0,new l(1,z,W)),$+=U);var V=W;for(++W;W<F&&s.test(f[W]);++W);D.splice($,0,new l(2,V,W)),$+=U,z=W}else++W;z<F&&D.splice($,0,new l(1,z,F))}return"ltr"==t&&(1==D[0].level&&(L=e.match(/^\s+/))&&(D[0].from=L[0].length,D.unshift(new l(0,0,L[0].length))),1==Y(D).level&&(L=e.match(/\s+$/))&&(Y(D).to-=L[0].length,D.push(new l(0,c-L[0].length,c)))),"rtl"==t?D.reverse():D}}();function he(e,t){var n=e.order;return null==n&&(n=e.order=fe(e.text,t)),n}var de=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||de).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||de}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=z(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function be(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),be(e,n||t.type,e,t),Ee(t)||t.codemirrorIgnore}function ve(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function we(e,t){return me(e,t).length>0}function xe(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function _e(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Se(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ee(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ce(e){_e(e),Se(e)}function ke(e){return e.target||e.srcElement}function Oe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Te=function(){if(a&&s<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}(),Ne,Ae;function Ie(e){if(null==Ne){var t=N("span","\u200b");T(e,N("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ne=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Ne?N("span","\u200b"):N("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function je(e){if(null!=Ae)return Ae;var t=T(e,document.createTextNode("A\u062eA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Ae=r.right-n.right<3)}var Re=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Me=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Pe="oncopy"in(De=N("div"))||(De.setAttribute("oncopy","return;"),"function"==typeof De.oncopy),De,Le=null;function Fe(e){if(null!=Le)return Le;var t=T(e,N("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-r.left)>1}var Be={},ze={};function $e(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Be[e]=t}function Ue(e,t){ze[e]=t}function We(e){if("string"==typeof e&&ze.hasOwnProperty(e))e=ze[e];else if(e&&"string"==typeof e.name&&ze.hasOwnProperty(e.name)){var t=ze[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return We("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return We("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=We(t);var n=Be[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if(He.hasOwnProperty(t.name)){var i=He[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var He={};function Ge(e,t){var n;L(t,He.hasOwnProperty(e)?He[e]:He[e]={})}function qe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ze(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Je(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function Qe(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function et(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s,l=e.lines[a].height;if(t<l)break;t-=l}return n+a}function rt(e,t){return t>=e.first&&t<e.first+e.size}function it(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ot(e,t,n){if(void 0===n&&(n=null),!(this instanceof ot))return new ot(e,t,n);this.line=e,this.ch=t,this.sticky=n}function at(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==at(e,t)}function lt(e){return ot(e.line,e.ch)}function ut(e,t){return at(e,t)<0?t:e}function ct(e,t){return at(e,t)<0?e:t}function ft(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ht(e,t){if(t.line<e.first)return ot(e.first,0);var n=e.first+e.size-1;return t.line>n?ot(n,Ze(e,n).text.length):dt(t,Ze(e,t.line).text.length)}function dt(e,t){var n=e.ch;return null==n||n>t?ot(e.line,t):n<0?ot(e.line,0):e}function pt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ht(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(n="string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o;if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var mt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function bt(e,t,n,r){var i=[e.state.modeGen],o={};kt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,kt(e,t.text,s.mode,n,function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function yt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=vt(e,tt(t)),i=t.text.length>e.options.maxHighlightLength&&qe(e.doc.mode,r.state),o=bt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function vt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new gt(r,!0,t);var o=Ot(e,t,n),a=o>r.first&&Ze(r,o-1).stateAfter,s=a?gt.fromSaved(r,a,o):new gt(r,Ye(r.mode),o);return r.iter(o,t,function(n){wt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function wt(e,t,n,r){var i=e.doc.mode,o=new Xe(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&xt(i,n.state);!o.eol();)_t(i,o,n.state),o.start=o.pos}function xt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function _t(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ke(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof mt?new gt(e,qe(e.mode,t.state),n,t.lookAhead):new gt(e,qe(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?qe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mt(t,this.maxLookAhead):t};var St=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Et(e,t,n,r){var i=e.doc,o=i.mode,a,s=Ze(i,(t=ht(i,t)).line),l=vt(e,t.line,n),u=new Xe(s.text,e.options.tabSize,l),c;for(r&&(c=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,a=_t(o,u,l.state),r&&c.push(new St(u,a,qe(i.mode,l.state)));return r?c:new St(u,a,l.state)}function Ct(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function kt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l=0,u=null,c=new Xe(t,e.options.tabSize,r),f,h=e.options.addModeClass&&[null];for(""==t&&Ct(xt(n,r.state),o);!c.eol();){if(c.pos>e.options.maxHighlightLength?(s=!1,a&&wt(e,t,r,c.pos),c.pos=t.length,f=null):f=Ct(_t(n,c,r.state,h),o),h){var d=h[0].name;d&&(f="m-"+(f?d+" "+f:d))}if(!s||u!=f){for(;l<c.start;)i(l=Math.min(c.start,l+5e3),u);u=f}c.start=c.pos}for(;l<c.pos;){var p=Math.min(c.pos,l+5e3);i(p,u),l=p}}function Ot(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Ze(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof mt?u.lookAhead:0)<=o.modeFrontier))return s;var c=F(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function Tt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Ze(e,r).stateAfter;if(i&&(!(i instanceof mt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Nt=!1,At=!1;function It(){Nt=!0}function jt(){At=!0}function Rt(e,t,n){this.marker=e,this.from=t,this.to=n}function Mt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Pt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Dt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Lt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Rt(a,o.from,l?null:o.to))}}return r}function Ft(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Rt(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Bt(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&Ze(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&Ze(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==at(t.from,t.to),s=Lt(n,i,a),l=Ft(r,o,a),u=1==t.text.length,c=Y(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Mt(l,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p],g;if(null!=m.to&&(m.to+=c),null==m.from)Mt(s,m.marker)||(m.from=c,u&&(s||(s=[])).push(m));else m.from+=c,u&&(s||(s=[])).push(m)}s&&(s=zt(s)),l&&l!=s&&(l=zt(l));var b=[s];if(!u){var y=t.text.length-2,v;if(y>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(v||(v=[])).push(new Rt(s[w].marker,null,null));for(var x=0;x<y;++x)b.push(v);b.push(l)}return b}function zt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function $t(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(at(u.to,s.from)<0||at(u.from,s.to)>0)){var c=[l,1],f=at(u.from,s.from),h=at(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function Ut(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Wt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function Ht(e){return e.inclusiveRight?1:0}function Gt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=at(r.from,i.from)||Vt(e)-Vt(t);if(o)return-o;var a=at(r.to,i.to)||Ht(e)-Ht(t);return a||t.id-e.id}function qt(e,t){var n=At&&e.markedSpans,r;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Gt(r,i.marker)<0)&&(r=i.marker);return r}function Kt(e){return qt(e,!0)}function Yt(e){return qt(e,!1)}function Xt(e,t){var n=At&&e.markedSpans,r;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||Gt(r,o.marker)<0)&&(r=o.marker)}return r}function Zt(e,t,n,r,i){var o=Ze(e,t),a=At&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=at(u.from,n)||Vt(l.marker)-Vt(i),f=at(u.to,r)||Ht(l.marker)-Ht(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.to,n)>=0:at(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?at(u.from,r)<=0:at(u.from,r)<0)))return!0}}}function Jt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function Qt(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function en(e){for(var t,n;t=Yt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function tn(e,t){var n=Ze(e,t),r=Jt(n);return n==r?t:tt(r)}function nn(e,t){if(t>e.lastLine())return t;var n=Ze(e,t),r;if(!rn(e,n))return t;for(;r=Yt(n);)n=r.find(1,!0).line;return tt(n)+1}function rn(e,t){var n=At&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&on(e,t,r))return!0}}function on(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return on(e,r.line,Mt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&on(e,t,i))return!0}function an(e){for(var t=0,n=(e=Jt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function sn(e){if(0==e.height)return 0;for(var t=e.text.length,n,r=e;n=Kt(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=Yt(r);){var o=n.find(0,!0);t-=r.text.length-o.from.ch,t+=(r=o.to.line).text.length-o.to.ch}return t}function ln(e){var t=e.display,n=e.doc;t.maxLine=Ze(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}var un=function(e,t,n){this.text=e,Wt(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ut(e),Wt(e,n);var i=r?r(e):1;i!=e.height&&et(e,i)}function fn(e){e.parent=null,Ut(e)}un.prototype.lineNo=function(){return tt(this)},xe(un);var hn={},dn={};function pn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?dn:hn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function mn(e,t){var n=A("span",null,null,l?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0,s;r.pos=0,r.addToken=bn,je(e.display.measure)&&(a=he(o,e.doc.direction))&&(r.addToken=vn(r.addToken,a)),r.map=[],xn(o,r,yt(e,o,t!=e.display.externalMeasured&&tt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=M(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=M(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ie(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var u=r.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return be(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=M(r.pre.className,r.textClass||"")),r}function gn(e){var t=N("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function bn(e,t,n,r,i,o,l){if(t){var u=e.splitSpaces?yn(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1,h;if(c.test(t)){h=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var p=c.exec(t),m=p?p.index-d:t.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));a&&s<9?h.appendChild(N("span",[g])):h.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;d+=m+1;var b=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,v=y-e.col%y;(b=h.appendChild(N("span",K(v),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=v}else"\r"==p[0]||"\n"==p[0]?((b=h.appendChild(N("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?h.appendChild(N("span",[b])):h.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,h=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,h),a&&s<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||f||o){var w=n||"";r&&(w+=r),i&&(w+=i);var x=N("span",[h],w,o);if(l)for(var _ in l)l.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&x.setAttribute(_,l[_]);return e.content.appendChild(x)}e.content.appendChild(h)}}function yn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function vn(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>u&&f.from<=u);h++);if(f.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,f.to-u),i,o,null,s,l),o=null,r=r.slice(f.to-u),u=f.to}}}function wn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function xn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a=i.length,s=0,l=1,u="",c,f,h=0,d,p,m,g,b;;){if(h==s){d=p=m=f="",b=null,g=null,h=1/0;for(var y=[],v=void 0,w=0;w<r.length;++w){var x=r[w],_=x.marker;if("bookmark"==_.type&&x.from==s&&_.widgetNode)y.push(_);else if(x.from<=s&&(null==x.to||x.to>s||_.collapsed&&x.to==s&&x.from==s)){if(null!=x.to&&x.to!=s&&h>x.to&&(h=x.to,p=""),_.className&&(d+=" "+_.className),_.css&&(f=(f?f+";":"")+_.css),_.startStyle&&x.from==s&&(m+=" "+_.startStyle),_.endStyle&&x.to==h&&(v||(v=[])).push(_.endStyle,x.to),_.title&&((b||(b={})).title=_.title),_.attributes)for(var S in _.attributes)(b||(b={}))[S]=_.attributes[S];_.collapsed&&(!g||Gt(g.marker,_)<0)&&(g=x)}else x.from>s&&h>x.from&&(h=x.from)}if(v)for(var E=0;E<v.length;E+=2)v[E+1]==h&&(p+=" "+v[E]);if(!g||g.from==s)for(var C=0;C<y.length;++C)wn(t,0,y[C]);if(g&&(g.from||0)==s){if(wn(t,(null==g.to?a+1:g.to)-s,g.marker,null==g.from),null==g.to)return;g.to==s&&(g=!1)}}if(s>=a)break;for(var k=Math.min(a,h);;){if(u){var O=s+u.length;if(!g){var T=O>k?u.slice(0,k-s):u;t.addToken(t,T,c?c+d:d,m,s+T.length==h?p:"",f,b)}if(O>=k){u=u.slice(k-s),s=k;break}s=O,m=""}u=i.slice(o,o=n[l++]),c=pn(n[l++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,i.slice(o,o=n[N]),pn(n[N+1],t.cm.options))}function _n(e,t,n){this.line=t,this.rest=en(t),this.size=this.rest?tt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function Sn(e,t,n){for(var r=[],i,o=t;o<n;o=i){var a=new _n(e.doc,Ze(e.doc,o),o);i=o+a.size,r.push(a)}return r}var En=null;function Cn(e){En?En.ops.push(e):e.ownsGroup=En={ops:[e],delayedCallbacks:[]}}function kn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function On(e,t){var n=e.ownsGroup;if(n)try{kn(n)}finally{En=null,t(n)}}var Tn=null;function Nn(e,t){var n=me(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),i;En?i=En.delayedCallbacks:Tn?i=Tn:(i=Tn=[],setTimeout(An,0));for(var o=function(e){i.push(function(){return n[e].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function An(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t)e[t]()}function In(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Pn(e,t):"gutter"==o?Ln(e,t,n,r):"class"==o?Dn(e,t):"widget"==o&&Fn(e,t,r)}t.changes=null}function jn(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Rn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=jn(t);t.background=r.insertBefore(N("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Mn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):mn(e,t)}function Pn(e,t){var n=t.text.className,r=Mn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Dn(e,t)):n&&(t.text.className=n)}function Dn(e,t){Rn(e,t),t.line.wrapClass?jn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ln(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=jn(t);t.gutterBackground=N("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=jn(t),s=t.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(N("div",it(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(N("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Fn(e,t,n){t.alignable&&(t.alignable=null);for(var r=E("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);zn(e,t,n)}function Bn(e,t,n,r){var i=Mn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Dn(e,t),Ln(e,t,n,r),zn(e,t,r),t.node}function zn(e,t,n){if($n(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)$n(e,t.rest[r],t,n,!1)}function $n(e,t,n,r,i){if(t.widgets)for(var o=jn(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=N("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Un(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Nn(l,"redraw")}}function Un(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!I(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,N("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=ke(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Hn(e){return e.lineSpace.offsetTop}function Gn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,N("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Kn(e){return $-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Kn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-Kn(e)-e.display.barHeight}function Zn(e,t,n){var r=e.options.lineWrapping,i=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(tt(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Qn(e,t){var n=tt(t=Jt(t)),r=e.display.externalMeasured=new _n(e.doc,t,n);r.lineN=n;var i=r.built=mn(e,r);return r.text=i.pre,T(e.display.lineMeasure,i.pre),r}function er(e,t,n,r){return rr(e,nr(e,t),n,r)}function tr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Dr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function nr(e,t){var n=tt(t),r=tr(e,n);r&&!r.text?r=null:r&&r.changes&&(In(e,r,n,Ir(e)),e.curOp.forceUpdate=!0),r||(r=Qn(e,t));var i=Jn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function rr(e,t,n,r,i){t.before&&(n=-1);var o=n+(r||""),a;return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Zn(e,t.view,t.rect),t.hasHeights=!0),(a=lr(e,t,n,r)).bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}var ir={left:0,right:0,top:0,bottom:0},or;function ar(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=(i=t-s)+1:(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function sr(e,t){var n=ir;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function lr(e,t,n,r){var i=ar(t.map,n,r),o=i.node,l=i.start,u=i.end,c=i.collapse,f;if(3==o.nodeType){for(var h=0;h<4;h++){for(;l&&oe(t.line.text.charAt(i.coverStart+l));)--l;for(;i.coverStart+u<i.coverEnd&&oe(t.line.text.charAt(i.coverStart+u));)++u;if((f=a&&s<9&&0==l&&u==i.coverEnd-i.coverStart?o.parentNode.getBoundingClientRect():sr(k(o,l,u).getClientRects(),r)).left||f.right||0==l)break;u=l,l-=1,c="right"}a&&s<11&&(f=ur(e.display.measure,f))}else{var d;l>0&&(c=r="right"),f=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==r?d.length-1:0]:o.getBoundingClientRect()}if(a&&s<9&&!l&&(!f||!f.left&&!f.right)){var p=o.parentNode.getClientRects()[0];f=p?{left:p.left,right:p.left+Ar(e.display),top:p.top,bottom:p.bottom}:ir}for(var m=f.top-t.rect.top,g=f.bottom-t.rect.top,b=(m+g)/2,y=t.view.measure.heights,v=0;v<y.length-1&&!(b<y[v]);v++);var w=v?y[v-1]:0,x=y[v],_={left:("right"==c?f.right:f.left)-t.rect.left,right:("left"==c?f.left:f.right)-t.rect.left,top:w,bottom:x};return f.left||f.right||(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}function ur(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Fe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function fr(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function hr(e){fr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function dr(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pr(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Wn(e.widgets[n]));return t}function gr(e,t,n,r,i){if(!i){var o=mr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=an(t);if("local"==r?a+=Hn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:pr());var l=s.left+("window"==r?0:dr());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function br(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=dr(),i-=pr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function yr(e,t,n,r,i){return r||(r=Ze(e.doc,t.line)),gr(e,r,er(e,r,t.ch,i),n)}function vr(e,t,n,r,i,o){function a(t,a){var s=rr(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,gr(e,r,s,n)}r=r||Ze(e.doc,t.line),i||(i=nr(e,r));var s=he(r,e.doc.direction),l=t.ch,u=t.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,n){var r,i=1==s[t].level;return a(n?e-1:e,i!=n)}var f=ce(s,l,u),h=ue,d=c(l,f,"before"==u);return null!=h&&(d.other=c(l,h,"before"!=u)),d}function wr(e,t){var n=0;t=ht(e.doc,t),e.options.lineWrapping||(n=Ar(e.display)*t.ch);var r=Ze(e.doc,t.line),i=an(r)+Hn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function xr(e,t,n,r,i){var o=ot(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function _r(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return xr(r.first,0,null,-1,-1);var i=nt(r,n),o=r.first+r.size-1;if(i>o)return xr(r.first+r.size-1,Ze(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Ze(r,i);;){var s=kr(e,a,i,t,n),l=Xt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Ze(r,i=u.line)}}function Sr(e,t,n,r){r-=mr(t);var i=t.text.length,o=se(function(t){return rr(e,n,t-1).bottom<=r},i,0);return{begin:o,end:i=se(function(t){return rr(e,n,t).top>r},o,i)}}function Er(e,t,n,r){var i;return n||(n=nr(e,t)),Sr(e,t,n,gr(e,t,rr(e,n,r),"line").top)}function Cr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function kr(e,t,n,r,i){i-=an(t);var o=nr(e,t),a=mr(t),s=0,l=t.text.length,u=!0,c=he(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?Tr:Or)(e,t,n,o,c,r,i);s=(u=1!=f.level)?f.from:f.to-1,l=u?f.to:f.from-1}var h=null,d=null,p=se(function(t){var n=rr(e,o,t);return n.top+=a,n.bottom+=a,!!Cr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(h=t,d=n),!0)},s,l),m,g,b=!1;if(d){var y=r-d.left<d.right-r,v=y==u;p=h+(v?0:1),g=v?"after":"before",m=y?d.left:d.right}else{u||p!=l&&p!=s||p++,g=0==p?"after":p==t.text.length?"before":rr(e,o,p-(u?1:0)).bottom+a<=i==u?"after":"before";var w=vr(e,ot(n,p,g),"line",t,o);m=w.left,b=i<w.top?-1:i>=w.bottom?1:0}return xr(n,p=ae(t.text,p,1),g,b,r-m)}function Or(e,t,n,r,i,o,a){var s=se(function(s){var l=i[s],u=1!=l.level;return Cr(vr(e,ot(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=vr(e,ot(n,u?l.from:l.to,u?"after":"before"),"line",t,r);Cr(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function Tr(e,t,n,r,i,o,a){var s=Sr(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=l)){var p,m=rr(e,r,1!=d.level?Math.min(u,d.to)-1:Math.max(l,d.from)).right,g=m<o?o-m+1e9:m-o;(!c||f>g)&&(c=d,f=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function Nr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==or){or=N("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)or.appendChild(document.createTextNode("x")),or.appendChild(N("br"));or.appendChild(document.createTextNode("x"))}T(e.measure,or);var n=or.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function Ar(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=N("span","xxxxxxxxxx"),n=N("pre",[t],"CodeMirror-line-like");T(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ir(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:jr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function jr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Rr(e){var t=Nr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ar(e.display)-3);return function(i){if(rn(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Mr(e){var t=e.doc,n=Rr(e);t.iter(function(e){var t=n(e);t!=e.height&&et(e,t)})}function Pr(e,t,n,r){var i=e.display;if(!n&&"true"==ke(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(e){return null}var l=_r(e,o,a),u;if(r&&l.xRel>0&&(u=Ze(e.doc,l.line).text).length==l.ch){var c=F(u,u.length,e.options.tabSize)-u.length;l=ot(l.line,Math.max(0,Math.round((o-qn(e.display).left)/Ar(e.display))-c))}return l}function Dr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Lr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)At&&tn(e.doc,t)<i.viewTo&&Br(e);else if(n<=i.viewFrom)At&&nn(e.doc,n+r)>i.viewFrom?Br(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Br(e);else if(t<=i.viewFrom){var o=zr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Br(e)}else if(n>=i.viewTo){var a=zr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):Br(e)}else{var s=zr(e,t,t,-1),l=zr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(Sn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Br(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function Fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Dr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==z(a,n)&&a.push(n)}}}function Br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function zr(e,t,n,r){var i=Dr(e,t),o,a=e.display.view;if(!At||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=t){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;tn(e.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function $r(e,t,n){var r=e.display,i;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Sn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Sn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Dr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Sn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Dr(e,n)))),r.viewTo=n}function Ur(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Wr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Hr(e,s.head,i),l||qr(e,s,o)}}return r}function Hr(e,t,n){var r=vr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(N("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(N("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Gr(e,t){return e.top-t.top||e.left-t.left}function qr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=qn(e.display),s=a.left,l=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var o=Ze(i,t),a=o.text.length,f,h;function d(n,r){return yr(e,ot(t,n),"div",o,r)}function p(t,n,r){var i=Er(e,o,null,t),a="ltr"==n==("after"==r)?"left":"right",s;return d("after"==r?i.begin:i.end-(/\s/.test(o.text.charAt(i.end-1))?2:1),a)[a]}var m=he(o,i.direction);return le(m,n||0,null==r?a:r,function(e,t,i,o){var g="ltr"==i,b=d(e,g?"left":"right"),y=d(t-1,g?"right":"left"),v=null==n&&0==e,w=null==r&&t==a,x=0==o,_=!m||o==m.length-1;if(y.top-b.top<=3){var S,E=(u?w:v)&&_,C=(u?v:w)&&x?s:(g?b:y).left,k=E?l:(g?y:b).right;c(C,b.top,k-C,b.bottom)}else{var O,T,N,A;g?(O=u&&v&&x?s:b.left,T=u?l:p(e,i,"before"),N=u?s:p(t,i,"after"),A=u&&w&&_?l:y.right):(O=u?p(e,i,"before"):s,T=!u&&v&&x?l:b.right,N=!u&&w&&_?s:y.left,A=u?p(t,i,"after"):l),c(O,b.top,T-O,b.bottom),b.bottom<y.top&&c(s,b.bottom,null,y.top),c(N,y.top,A-N,y.bottom)}(!f||Gr(b,f)<0)&&(f=b),Gr(y,f)<0&&(f=y),(!h||Gr(b,h)<0)&&(h=b),Gr(y,h)<0&&(h=y)}),{start:f,end:h}}var h=t.from(),d=t.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var p=Ze(i,h.line),m=Ze(i,d.line),g=Jt(p)==Jt(m),b=f(h.line,h.ch,g?p.text.length+1:null).end,y=f(d.line,g?0:null,d.ch).start;g&&(b.top<y.top-2?(c(b.right,b.top,null,b.bottom),c(s,y.top,y.left,y.bottom)):c(b.right,b.top,y.left-b.right,b.bottom)),b.bottom<y.top&&c(s,b.bottom,null,y.top)}n.appendChild(o)}function Kr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.state.focused||(e.display.input.focus(),Zr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Jr(e))},100)}function Zr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(be(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Kr(e))}function Jr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(be(e,"blur",e,t),e.state.focused=!1,C(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Qr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-n,n=c}else{var f=i.node.getBoundingClientRect();l=f.bottom-f.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var h=i.line.height-l;if((h>.005||h<-.005)&&(et(i.line,l),ei(i.line),i.rest))for(var d=0;d<i.rest.length;d++)ei(i.rest[d]);if(u>e.display.sizerWidth){var p=Math.ceil(u/Ar(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function ei(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ti(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Hn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=nt(t,r),a=nt(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=nt(t,an(Ze(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=nt(t,an(Ze(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function ni(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=N("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Hn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ri(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?ot(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ot(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=vr(e,t),l=n&&n!=t?vr(e,n):s,u=oi(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(hi(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(pi(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function ii(e,t){var n=oi(e,t);null!=n.scrollTop&&hi(e,n.scrollTop),null!=n.scrollLeft&&pi(e,n.scrollLeft)}function oi(e,t){var n=e.display,r=Nr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Xn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Gn(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Yn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(a.scrollLeft=t.right+(d?0:10)-h),a}function ai(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function li(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function ui(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos,n,r;t&&(e.curOp.scrollToPos=null,fi(e,wr(e,t.from),wr(e,t.to),t.margin))}function fi(e,t,n,r){var i=oi(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});li(e,i.scrollLeft,i.scrollTop)}function hi(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Wi(e,{top:t}),di(e,t,!0),n&&Wi(e),Pi(e,100))}function di(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function pi(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,qi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function mi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Gn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gi=function(e,t,n){this.cm=n;var r=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),pe(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},gi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gi.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},gi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect(),o;("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},gi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var bi=function(){};function yi(e,t){t||(t=mi(e));var n=e.display.barWidth,r=e.display.barHeight;vi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Qr(e),vi(e,mi(e)),n=e.display.barWidth,r=e.display.barHeight}function vi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}bi.prototype.update=function(){return{bottom:0,right:0}},bi.prototype.setScrollLeft=function(){},bi.prototype.setScrollTop=function(){},bi.prototype.clear=function(){};var wi={native:gi,null:bi};function xi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&C(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wi[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?pi(e,t):hi(e,t)},e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var _i=0;function Si(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_i},Cn(e.curOp)}function Ei(e){var t=e.curOp;t&&On(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ci(e)})}function Ci(e){for(var t=e.ops,n=0;n<t.length;n++)ki(t[n]);for(var r=0;r<t.length;r++)Oi(t[r]);for(var i=0;i<t.length;i++)Ti(t[i]);for(var o=0;o<t.length;o++)Ni(t[o]);for(var a=0;a<t.length;a++)Ai(t[a])}function ki(e){var t=e.cm,n=t.display;Fi(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Li(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Oi(e){e.updatedDisplay=e.mustUpdate&&$i(e.cm,e.update)}function Ti(e){var t=e.cm,n=t.display;e.updatedDisplay&&Qr(t),e.barMeasure=mi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=er(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ni(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&pi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==j();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&yi(t,e.barMeasure),e.updatedDisplay&&Gi(t,e.barMeasure),e.selectionChanged&&Kr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Ai(e){var t=e.cm,n=t.display,r=t.doc,i;(e.updatedDisplay&&Ui(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&di(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&pi(t,e.scrollLeft,!0,!0),e.scrollToPos)&&ni(t,ri(t,ht(r,e.scrollToPos.from),ht(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||be(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&be(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&be(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ii(e,t){if(e.curOp)return t();Si(e);try{return t()}finally{Ei(e)}}function ji(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Si(e);try{return t.apply(e,arguments)}finally{Ei(e)}}}function Ri(e){return function(){if(this.curOp)return e.apply(this,arguments);Si(this);try{return e.apply(this,arguments)}finally{Ei(this)}}}function Mi(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Si(t);try{return e.apply(this,arguments)}finally{Ei(t)}}}function Pi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(Di,e))}function Di(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=vt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?qe(t.mode,r.state):null,l=bt(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&wt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Pi(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Ii(e,function(){for(var t=0;t<i.length;t++)Fr(e,i[t],"text")})}}var Li=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ti(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Ir(e),this.events=[]};function Fi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kn(e)+"px",t.scrollbarsClipped=!0)}function Bi(e){if(e.hasFocus())return null;var t=j();if(!t||!I(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&I(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function zi(e){if(e&&e.activeElt&&e.activeElt!=j()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&I(document.body,e.anchorNode)&&I(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function $i(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Br(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ur(e))return!1;Ki(e)&&(Br(e),t.dims=Ir(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),At&&(o=tn(e.doc,o),a=nn(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;$r(e,o,a),n.viewOffset=an(Ze(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Ur(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Bi(e);return l>4&&(n.lineDiv.style.display="none"),Vi(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,zi(u),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Pi(e,400)),n.updateLineNumbers=null,!0}function Ui(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=ti(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Gn(e.display)-Xn(e),n.top)}),t.visible=ti(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!$i(e,t))break;Qr(e);var i=mi(e);Wr(e),yi(e,i),Gi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Wi(e,t){var n=new Li(e,t);if($i(e,n)){Qr(e),Ui(e,n);var r=mi(e);Wr(e),yi(e,r),Gi(e,r),n.finish()}}function Vi(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,f=0;f<u.length;f++){var h=u[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var d=i&&null!=t&&t<=c&&h.lineNumber;h.changes&&(z(h.changes,"gutter")>-1&&(d=!1),In(e,h,c,n)),d&&(O(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(it(e.options,c)))),a=h.node.nextSibling}else{var p=Bn(e,h,c,n);o.insertBefore(p,a)}c+=h.size}for(;a;)a=s(a)}function Hi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function Gi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kn(e)+"px"}function qi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=jr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Ki(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=it(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(N("div",[N("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Hi(e.display),!0}return!1}function Yi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Xi(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(N("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Hi(e)}function Zi(e){Xi(e.display),Lr(e),qi(e)}function Ji(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=N("div",null,"CodeMirror-cursors"),o.measure=N("div",null,"CodeMirror-measure"),o.lineMeasure=N("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=N("div",[u],null,"position: relative"),o.sizer=N("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=N("div",null,null,"position: absolute; height: "+$+"px; width: 1px;"),o.gutters=N("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=N("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=N("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&b||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Yi(i.gutters,i.lineNumbers),Xi(o),r.init(o)}Li.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Li.prototype.finish=function(){for(var e=0;e<this.events.length;e++)be.apply(null,this.events[e])};var Qi=0,eo=null;function to(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function no(e){var t=to(e);return t.x*=eo,t.y*=eo,t}function ro(e,t){var r=to(t),i=r.x,o=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&y&&l)e:for(var h=t.target,d=a.view;h!=s;h=h.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==h){e.display.currentWheelTarget=h;break e}if(i&&!n&&!f&&null!=eo)return o&&c&&hi(e,Math.max(0,s.scrollTop+o*eo)),pi(e,Math.max(0,s.scrollLeft+i*eo)),(!o||o&&c)&&_e(t),void(a.wheelStartX=null);if(o&&null!=eo){var m=o*eo,g=e.doc.scrollTop,b=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):b=Math.min(e.doc.height,b+m+50),Wi(e,{top:g,bottom:b})}Qi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(eo=(eo*Qi+n)/(Qi+1),++Qi)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?eo=-.53:n?eo=15:c?eo=-.7:h&&(eo=-1/3);var io=function(e,t){this.ranges=e,this.primIndex=t};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!st(n.anchor,r.anchor)||!st(n.head,r.head))return!1}return!0},io.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new oo(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new io(e,this.primIndex)},io.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},io.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(at(t,r.from())>=0&&at(e,r.to())<=0)return n}return-1};var oo=function(e,t){this.anchor=e,this.head=t};function ao(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(e,t){return at(e.from(),t.from())}),n=z(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=at(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=ct(s.from(),a.from()),c=ut(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new oo(f?c:u,f?u:c))}}return new io(t,n)}function so(e,t){return new io([new oo(e,t||e)],0)}function lo(e){return e.text?ot(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function uo(e,t){if(at(e,t.from)<0)return e;if(at(e,t.to)<=0)return lo(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=lo(t).ch-t.to.ch),ot(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new oo(uo(i.anchor,t),uo(i.head,t)))}return ao(e.cm,n,e.sel.primIndex)}function fo(e,t,n){return e.line==t.line?ot(n.line,e.ch-t.ch+n.ch):ot(n.line+(e.line-t.line),e.ch)}function ho(e,t,n){for(var r=[],i=ot(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=fo(s.from,i,o),u=fo(lo(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=at(c.head,c.anchor)<0;r[a]=new oo(f?u:l,f?l:u)}else r[a]=new oo(l,l)}return new io(r,e.sel.primIndex)}function po(e){e.doc.mode=Ve(e.options,e.doc.modeOption),mo(e)}function mo(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Pi(e,100),e.state.modeGen++,e.curOp&&Lr(e)}function go(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function bo(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),Nn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new un(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=Ze(e,s.line),f=Ze(e,l.line),h=Y(u),d=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(go(e,t)){var m=a(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),d);else{var g=a(1,u.length-1);g.push(new un(h+c.text.slice(l.ch),d,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),d);var b=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,b)}Nn(e,"change",e,t)}function yo(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function vo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Mr(e),po(e),wo(e),e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,Lr(e)}function wo(e){("rtl"==e.doc.direction?R:C)(e.display.lineDiv,"CodeMirror-rtl")}function xo(e){Ii(e,function(){wo(e),Lr(e)})}function _o(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function So(e,t){var n={from:lt(t.from),to:lo(t),text:Je(e,t.from,t.to)};return Ao(e,n,t.from.line,t.to.line+1),yo(e,function(e){return Ao(e,n,t.from.line,t.to.line+1)},!0),n}function Eo(e){for(;e.length;){var t;if(!Y(e).ranges)break;e.pop()}}function Co(e,t){return t?(Eo(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function ko(e,t,n,r){var i=e.history;i.undone.length=0;var o=+new Date,a,s;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(a=Co(i,i.lastOp==r)))s=Y(a.changes),0==at(t.from,t.to)&&0==at(t.from,s.to)?s.to=lo(t):a.changes.push(So(e,t));else{var l=Y(i.done);for(l&&l.ranges||No(e.sel,i.done),a={changes:[So(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||be(e,"historyAdded")}function Oo(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function To(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Oo(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:No(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Eo(i.undone)}function No(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ao(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Io(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function jo(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Io(n[i]));return r}function Ro(e,t){var n=jo(e,t),r=Bt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Mo(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?io.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&(Y(s)[f]=u[f],delete u[f])}}}return r}function Po(e,t,n,r){if(r){var i=e.anchor;if(n){var o=at(t,i)<0;o!=at(n,i)<0?(i=t,t=n):o!=at(t,n)<0&&(t=n)}return new oo(i,t)}return new oo(n||t,t)}function Do(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Uo(e,new io([Po(e.sel.primary(),t,n,i)],0),r)}function Lo(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Po(e.sel.ranges[o],t[o],null,i);var a;Uo(e,ao(e.cm,r,e.sel.primIndex),n)}function Fo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Uo(e,ao(e.cm,i,e.sel.primIndex),r)}function Bo(e,t,n,r){Uo(e,so(t,n),r)}function zo(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new oo(ht(e,t[n].anchor),ht(e,t[n].head))},origin:n&&n.origin};return be(e,"beforeSelectionChange",e,r),e.cm&&be(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ao(e.cm,r.ranges,r.ranges.length-1):t}function $o(e,t,n){var r=e.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=t,Wo(e,t,n)):Uo(e,t,n)}function Uo(e,t,n){Wo(e,t,n),To(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Wo(e,t,n){var r;(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=zo(e,t,n)),Vo(e,Go(e,t,n&&n.bias||(at(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||si(e.cm)}function Vo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ve(e.cm)),Nn(e,"cursorActivity",e))}function Ho(e){Vo(e,Go(e,e.sel,null,!1))}function Go(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ko(e,a.anchor,s&&s.anchor,n,r),u=Ko(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new oo(l,u))}return i?ao(e.cm,i,t.primIndex):t}function qo(e,t,n,r,i){var o=Ze(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(be(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),h=void 0;if((r<0?c:u)&&(f=Yo(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(h=at(f,n))&&(r<0?h<0:h>0))return qo(e,f,t,r,i)}var d=l.find(r<0?-1:1);return(r<0?u:c)&&(d=Yo(e,d,r,d.line==t.line?o:null)),d?qo(e,d,t,r,i):null}}return t}function Ko(e,t,n,r,i){var o=r||1,a=qo(e,t,n,o,i)||!i&&qo(e,t,n,o,!0)||qo(e,t,n,-o,i)||!i&&qo(e,t,n,-o,!0);return a||(e.cantEdit=!0,ot(e.first,0))}function Yo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ht(e,ot(t.line-1)):null:n>0&&t.ch==(r||Ze(e,t.line)).text.length?t.line<e.first+e.size-1?ot(t.line+1,0):null:new ot(t.line,t.ch+n)}function Xo(e){e.setSelection(ot(e.firstLine(),0),ot(e.lastLine()),W)}function Zo(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=ht(e,t)),n&&(r.to=ht(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),be(e,"beforeChange",e,r),e.cm&&be(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Jo(e,t,n){if(e.cm){if(!e.cm.curOp)return ji(e.cm,Jo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=Zo(e,t,!0))){var r=Nt&&!n&&$t(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Qo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Qo(e,t)}}function Qo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=at(t.from,t.to)){var n=co(e,t);ko(e,t,n,e.cm?e.cm.curOp.id:NaN),na(e,t,n,Bt(e,t));var r=[];yo(e,function(e,n){n||-1!=z(r,e.history)||(sa(e.history,t),r.push(e.history)),na(e,t,null,Bt(e,t))})}}function ea(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i=e.history,o,a=e.sel,s="undo"==t?i.done:i.undone,l="undo"==t?i.undone:i.done,u=0;u<s.length&&(o=s[u],n?!o.ranges||o.equals(e.sel):o.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(No(o,l),n&&!o.equals(e.sel))return void Uo(e,o,{clearRedo:!1});a=o}var c=[];No(a,l),l.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var f=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),h=function(n){var r=o.changes[n];if(r.origin=t,f&&!Zo(e,r,!1))return s.length=0,{};c.push(So(e,r));var i=n?co(e,r):Y(s);na(e,r,i,Ro(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:lo(r)});var a=[];yo(e,function(e,t){t||-1!=z(a,e.history)||(sa(e.history,r),a.push(e.history)),na(e,r,null,Ro(e,r))})},d=o.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function ta(e,t){if(0!=t&&(e.first+=t,e.sel=new io(X(e.sel.ranges,function(e){return new oo(ot(e.anchor.line+t,e.anchor.ch),ot(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Lr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Fr(e.cm,r,"gutter")}}function na(e,t,n,r){if(e.cm&&!e.cm.curOp)return ji(e.cm,na)(e,t,n,r);if(t.to.line<e.first)ta(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ta(e,i),t={from:ot(e.first,0),to:ot(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ot(o,Ze(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Je(e,t.from,t.to),n||(n=co(e,t)),e.cm?ra(e.cm,t,r):bo(e,t,r),Wo(e,n,W),e.cantEdit&&Ko(e,ot(e.firstLine(),0))&&(e.cantEdit=!1)}}function ra(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=tt(Jt(Ze(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&ve(e),bo(r,t,n,Rr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=sn(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Tt(r,o.line),Pi(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Lr(e):o.line!=a.line||1!=t.text.length||go(e.doc,t)?Lr(e,o.line,a.line+1,u):Fr(e,o.line,"text");var c=we(e,"changes"),f=we(e,"change");if(f||c){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Nn(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function ia(e,t,n,r,i){var o;r||(r=n),at(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Jo(e,{from:n,to:r,text:t,origin:i})}function oa(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function aa(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)oa(o.ranges[s].anchor,t,n,r),oa(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=ot(u.from.line+r,u.from.ch),u.to=ot(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function sa(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;aa(e.done,n,r,i),aa(e.undone,n,r,i)}function la(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Ze(e,ft(e,t)):i=tt(t),null==i?null:(r(o,i)&&e.cm&&Fr(e.cm,i,n),o)}function ua(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ca(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}oo.prototype.from=function(){return ct(this.anchor,this.head)},oo.prototype.to=function(){return ut(this.anchor,this.head)},oo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ua.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,fn(i),Nn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ca.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ua))){var s=[];this.collapse(s),this.children=[new ua(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new ua(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,n=new ca(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=n.size,e.height-=n.height;var r=z(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new ca(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var fa=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function ha(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ai(e,n)}function da(e,t,n,r){var i=new fa(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),la(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!rn(e,t)){var r=an(t)<e.scrollTop;et(t,t.height+Wn(i)),r&&ai(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&Nn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:tt(t)),i}fa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=tt(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Wn(this);et(n,Math.max(0,n.height-o)),e&&(Ii(e,function(){ha(e,n,-o),Fr(e,r,"widget")}),Nn(e,"lineWidgetCleared",e,this,r))}},fa.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Wn(this)-t;i&&(rn(this.doc,r)||et(r,r.height+i),n&&Ii(n,function(){n.curOp.forceUpdate=!0,ha(n,r,i),Nn(n,"lineWidgetChanged",n,e,tt(r))}))},xe(fa);var pa=0,ma=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++pa};function ga(e,t,n,r,i){if(r&&r.shared)return ya(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return ji(e.cm,ga)(e,t,n,r,i);var o=new ma(e,i),a=at(t,n);if(r&&L(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Zt(e,t.line,t,n,o)||t.line!=n.line&&Zt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");jt()}o.addToHistory&&ko(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s=t.line,l=e.cm,u;if(e.iter(s,n.line+1,function(e){l&&o.collapsed&&!l.options.lineWrapping&&Jt(e)==l.display.maxLine&&(u=!0),o.collapsed&&s!=t.line&&et(e,0),Dt(e,new Rt(o,s==t.line?t.ch:null,s==n.line?n.ch:null)),++s}),o.collapsed&&e.iter(t.line,n.line+1,function(t){rn(e,t)&&et(t,0)}),o.clearOnEnter&&pe(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(It(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++pa,o.atomic=!0),l){if(u&&(l.curOp.updateMaxLine=!0),o.collapsed)Lr(l,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)Fr(l,c,"text");o.atomic&&Ho(l.doc),Nn(l,"markerAdded",l,o)}return o}ma.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Si(e),we(this,"clear")){var n=this.find();n&&Nn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Mt(a.markedSpans,this);e&&!this.collapsed?Fr(e,tt(a),"text"):e&&(null!=s.to&&(i=tt(a)),null!=s.from&&(r=tt(a))),a.markedSpans=Pt(a.markedSpans,s),null==s.from&&this.collapsed&&!rn(this.doc,a)&&e&&et(a,Nr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Jt(this.lines[l]),c=sn(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Lr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ho(e.doc)),e&&Nn(e,"markerCleared",e,this,r,i),t&&Ei(e),this.parent&&this.parent.clear()}},ma.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Mt(o.markedSpans,this);if(null!=a.from&&(n=ot(t?o:tt(o),a.from),-1==e))return n;if(null!=a.to&&(r=ot(t?o:tt(o),a.to),1==e))return r}return n&&{from:n,to:r}},ma.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Ii(r,function(){var i=t.line,o=tt(t.line),a=tr(r,o);if(a&&(cr(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!rn(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Wn(n)-s;l&&et(i,i.height+l)}Nn(r,"markerChanged",r,e)})},ma.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ma.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},xe(ma);var ba=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ya(e,t,n,r,i){(r=L(r)).shared=!1;var o=[ga(e,t,n,r,i)],a=o[0],s=r.widgetNode;return yo(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ga(e,ht(e,t),ht(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Y(o)}),new ba(o,a)}function va(e){return e.findMarks(ot(e.first,0),e.clipPos(ot(e.lastLine())),function(e){return e.parent})}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(at(o,a)){var s=ga(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function xa(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];yo(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}ba.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Nn(this,"clear")}},ba.prototype.find=function(e,t){return this.primary.find(e,t)},xe(ba);var _a=0,Sa=function(e,t,n,r,i){if(!(this instanceof Sa))return new Sa(e,t,n,r,i);null==n&&(n=0),ca.call(this,[new ua([new un("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ot(n,0);this.sel=so(o),this.history=new _o(null),this.id=++_a,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),bo(this,{from:o,to:o,text:e}),Uo(this,so(o),W)};Sa.prototype=Q(ca.prototype,{constructor:Sa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Mi(function(e){var t=ot(this.first,0),n=this.first+this.size-1;Jo(this,{from:t,to:ot(n,Ze(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&li(this.cm,0,0),Uo(this,so(t),W)}),replaceRange:function(e,t,n,r){ia(this,e,t=ht(this,t),n=n?ht(this,n):t,r)},getRange:function(e,t,n){var r=Je(this,ht(this,e),ht(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return Ze(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ze(this,e)),Jt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ht(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return n=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mi(function(e,t,n){Bo(this,ht(this,"number"==typeof e?ot(e,t||0):e),null,n)}),setSelection:Mi(function(e,t,n){Bo(this,ht(this,e),ht(this,t||e),n)}),extendSelection:Mi(function(e,t,n){Do(this,ht(this,e),t&&ht(this,t),n)}),extendSelections:Mi(function(e,t){Lo(this,pt(this,e),t)}),extendSelectionsBy:Mi(function(e,t){var n;Lo(this,pt(this,X(this.sel.ranges,e)),t)}),setSelections:Mi(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new oo(ht(this,e[i].anchor),ht(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Uo(this,ao(this.cm,r,t),n)}}),addSelection:Mi(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new oo(ht(this,e),ht(this,t||e))),Uo(this,ao(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var i=Je(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return!1===e?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Je(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Mi(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&ho(this,r,t),l=r.length-1;l>=0;l--)Jo(this,r[l]);s?$o(this,s):this.cm&&si(this.cm)}),undo:Mi(function(){ea(this,"undo")}),redo:Mi(function(){ea(this,"redo")}),undoSelection:Mi(function(){ea(this,"undo",!0)}),redoSelection:Mi(function(){ea(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new _o(this.history.maxGeneration),yo(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mo(this.history.done),undone:Mo(this.history.undone)}},setHistory:function(e){var t=this.history=new _o(this.history.maxGeneration);t.done=Mo(e.done.slice(0),null,!0),t.undone=Mo(e.undone.slice(0),null,!0)},setGutterMarker:Mi(function(e,t,n){return la(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0})}),clearGutter:Mi(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&la(t,n,"gutter",function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!rt(this,e))return null;if(t=e,!(e=Ze(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Mi(function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(E(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Mi(function(e,t,n){return la(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(E(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Mi(function(e,t,n){return da(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ga(this,ht(this,e),ht(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ga(this,e=ht(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ze(this,(e=ht(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ht(this,e),t=ht(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),ht(this,ot(n,t))},indexFromPos:function(e){var t=(e=ht(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Sa(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Sa(Qe(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],wa(r,va(this)),r},unlinkDoc:function(e){if(e instanceof Ls&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n;if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),xa(va(this));break}}if(e.history==this.history){var r=[e.id];yo(e,function(e){return r.push(e.id)},!0),e.history=new _o(null),e.history.done=Mo(this.history.done,r),e.history.undone=Mo(this.history.undone,r)}},iterLinkedDocs:function(e){yo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Re(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Mi(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&xo(this.cm))})}),Sa.prototype.eachLine=Sa.prototype.iter;var Ea=0;function Ca(e){var t=this;if(Ta(t),!ye(t,e)&&!Vn(t.display,e)){_e(e),a&&(Ea=+new Date);var n=Pr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(){++s==i&&ji(t,function(){var e={from:n=ht(t.doc,n),to:n,text:t.doc.splitLines(o.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};Jo(t.doc,e),$o(t.doc,so(ht(t.doc,n),ht(t.doc,lo(e))))})()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==z(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)?l():(o[n]=e,l())},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var f=e.dataTransfer.getData("Text");if(f){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Wo(t.doc,so(n,n)),h)for(var d=0;d<h.length;++d)ia(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ka(e,t){if(a&&(!e.state.draggingText||+new Date-Ea<100))Ce(t);else if(!ye(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var n=N("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}function Oa(e,t){var n=Pr(e,t);if(n){var r=document.createDocumentFragment();Hr(e,n,r),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,r)}}function Ta(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Na(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var t=0;t<n.length;t++)e(n[t])})}}var Aa=!1;function Ia(){Aa||(ja(),Aa=!0)}function ja(){var e;pe(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Na(Ra)},100))}),pe(window,"blur",function(){return Na(Jr)})}function Ra(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ma={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Pa=0;Pa<10;Pa++)Ma[Pa+48]=Ma[Pa+96]=String(Pa);for(var Da=65;Da<=90;Da++)Ma[Da]=String.fromCharCode(Da);for(var La=1;La<=12;La++)Ma[La+111]=Ma[La+63235]="F"+La;var Fa={};function Ba(e){var t=e.split(/-(?!$)/),n,r,i,o;e=t[t.length-1];for(var a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function za(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),Ba),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function $a(e,t,n,r){var i=(t=Ha(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return $a(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=$a(e,t.fallthrough[o],n,r);if(a)return a}}}function Ua(e){var t="string"==typeof e?e:Ma[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Wa(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(_?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(_?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Va(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Ma[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Wa(n,e,t))}function Ha(e){return"string"==typeof e?Fa[e]:e}function Ga(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&at(o.from,Y(r).to)<=0;){var a=r.pop();if(at(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Ii(e,function(){for(var t=r.length-1;t>=0;t--)ia(e.doc,"",r[t].from,r[t].to,"+delete");si(e)})}function qa(e,t,n){var r=ae(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ka(e,t,n){var r=qa(e,t.ch,n);return null==r?null:new ot(t.line,r,n<0?"after":"before")}function Ya(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=he(n,t.doc.direction);if(o){var a=i<0?Y(o):o[0],s,l=i<0==(1==a.level)?"after":"before",u;if(a.level>0||"rtl"==t.doc.direction){var c=nr(t,n);u=i<0?n.text.length-1:0;var f=rr(t,c,u).top;u=se(function(e){return rr(t,c,e).top==f},i<0==(1==a.level)?a.from:a.to-1,u),"before"==l&&(u=qa(n,u,1))}else u=i<0?a.to:a.from;return new ot(r,u,l)}}return new ot(r,i<0?n.text.length:0,i<0?"before":"after")}function Xa(e,t,n,r){var i=he(t,e.doc.direction);if(!i)return Ka(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ce(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ka(t,n,r);var s=function(e,n){return qa(t,e instanceof ot?e.ch:e,n)},l,u=function(n){return e.options.lineWrapping?(l=l||nr(e,t),Er(e,t,l,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,h=s(n,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var d=f?"before":"after";return new ot(n.line,h,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new ot(n.line,s(e,1),"before"):new ot(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],l=t>0==(1!=a.level),u=l?r.begin:s(r.end,-1);if(a.from<=u&&u<a.to)return o(u,l);if(u=l?a.from:s(a.to,-1),r.begin<=u&&u<r.end)return o(u,l)}},m=p(o+r,r,c);if(m)return m;var g=r>0?c.end:s(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:i.length-1,r,u(g)))?null:m}Fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fa.default=y?Fa.macDefault:Fa.pcDefault;var Za={selectAll:Xo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Ga(e,function(t){if(t.empty()){var n=Ze(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ot(t.head.line+1,0)}:{from:t.head,to:ot(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Ga(e,function(t){return{from:ot(t.from().line,0),to:ht(e.doc,ot(t.to().line+1,0))}})},delLineLeft:function(e){return Ga(e,function(e){return{from:ot(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return Ga(e,function(t){var n=e.charCoords(t.head,"div").top+5,r;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return Ga(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ot(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ot(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ja(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return es(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Qa(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},H)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},H)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?es(e,t.head):r},H)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(K(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ii(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Ze(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ot(i.line,i.ch-1)),i.ch>0)i=new ot(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ot(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Ze(e.doc,i.line-1).text;a&&(i=new ot(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),ot(i.line-1,a.length-1),i,"+transpose"))}n.push(new oo(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return Ii(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);si(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ja(e,t){var n=Ze(e.doc,t),r=Jt(n);return r!=n&&(t=tt(r)),Ya(!0,e,r,t,1)}function Qa(e,t){var n=Ze(e.doc,t),r=Qt(n);return r!=n&&(t=tt(r)),Ya(!0,e,n,t,-1)}function es(e,t){var n=Ja(e,t.line),r=Ze(e.doc,n.line),i=he(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ot(n.line,a?0:o,n.sticky)}return n}function ts(e,t,n){if("string"==typeof t&&!(t=Za[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=U}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ns(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=$a(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&$a(t,e.options.extraKeys,n,e)||$a(t,e.options.keyMap,n,e)}var rs=new B;function is(e,t,n,r){var i=e.state.keySeq;if(i){if(Ua(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),os(e,i+" "+t,n,r))return!0}return os(e,t,n,r)}function os(e,t,n,r){var i=ns(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Nn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(_e(n),Kr(e)),!!i}function as(e,t){var n=Va(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?is(e,"Shift-"+n,t,function(t){return ts(e,t,!0)})||is(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)}):is(e,n,t,function(t){return ts(e,t)}))}function ss(e,t,n){return is(e,"'"+n+"'",t,function(t){return ts(e,t,!0)})}var ls=null;function us(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=j(),ye(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=as(t,e);f&&(ls=i?r:null,!i&&88==r&&!Pe&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||cs(t)}}function cs(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(C(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}R(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}function fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function hs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Vn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==ls)return ls=null,void _e(e);if(!f||e.which&&!(e.which<10)||!as(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(ss(t,e,i)||t.display.input.onKeyPress(e))}}}var ds=400,ps=function(e,t,n){this.time=e,this.pos=t,this.button=n},ms,gs;function bs(e,t){var n=+new Date;return gs&&gs.compare(n,e,t)?(ms=gs=null,"triple"):ms&&ms.compare(n,e,t)?(gs=new ps(n,e,t),ms=null,"double"):(ms=new ps(n,e,t),gs=null,"single")}function ys(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!Os(t,e)){var r=Pr(t,e),i=Oe(e),o=r?bs(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&vs(t,i,r,o,e)||(1==i?r?xs(t,r,o,e):ke(e)==n.scroller&&_e(e):2==i?(r&&Do(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(S?t.display.input.onContextMenu(e):Xr(t)))}}function vs(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),is(e,Wa(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,function(t){if("string"==typeof t&&(t=Za[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=U}finally{e.state.suppressEdits=!1}return r})}function ws(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=v?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function xs(e,t,n,r){a?setTimeout(D(Yr,e),0):e.curOp.focus=j();var i=ws(e,n,r),o=e.doc.sel,s;e.options.dragDrop&&Te&&!e.isReadOnly()&&"single"==n&&(s=o.contains(t))>-1&&(at((s=o.ranges[s]).from(),t)<0||t.xRel>0)&&(at(s.to(),t)>0||t.xRel<0)?_s(e,r,t,i):Es(e,r,t,i)}function _s(e,t,n,r){var i=e.display,o=!1,u=ji(e,function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,ge(i.wrapper.ownerDocument,"mouseup",u),ge(i.wrapper.ownerDocument,"mousemove",c),ge(i.scroller,"dragstart",f),ge(i.scroller,"drop",u),o||(_e(t),r.addNew||Do(e.doc,n,null,null,r.extend),l&&!h||a&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",f),pe(i.scroller,"drop",u),Xr(e),setTimeout(function(){return i.input.focus()},20)}function Ss(e,t,n){if("char"==n)return new oo(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new oo(ot(t.line,0),ht(e.doc,ot(t.line+1,0)));var r=n(e,t);return new oo(r.from,r.to)}function Es(e,t,n,r){var i=e.display,o=e.doc;_e(t);var a,s,l=o.sel,u=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?u[s]:new oo(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new oo(n,n)),n=Pr(e,t,!0,!0),s=-1;else{var c=Ss(e,n,r.unit);a=r.extend?Po(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=u.length,Uo(o,ao(e,u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Uo(o,ao(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Fo(o,s,a,V):(s=0,Uo(o,new io([a],0),V),l=o.sel);var f=n;function h(t){if(0!=at(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],u=e.options.tabSize,c=F(Ze(o,n.line).text,n.ch,u),h=F(Ze(o,t.line).text,t.ch,u),d=Math.min(c,h),p=Math.max(c,h),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var b=Ze(o,m).text,y=G(b,d,u);d==p?i.push(new oo(ot(m,y),ot(m,y))):b.length>y&&i.push(new oo(ot(m,y),ot(m,G(b,p,u))))}i.length||i.push(new oo(n,n)),Uo(o,ao(e,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var v=a,w=Ss(e,t,r.unit),x=v.anchor,_;at(w.anchor,x)>0?(_=w.head,x=ct(v.from(),w.anchor)):(_=w.anchor,x=ut(v.to(),w.head));var S=l.ranges.slice(0);S[s]=Cs(e,new oo(ht(o,x),_)),Uo(o,ao(e,S,s),V)}}var d=i.wrapper.getBoundingClientRect(),p=0;function m(t){var n=++p,a=Pr(e,t,!0,"rectangle"==r.unit);if(a)if(0!=at(a,f)){e.curOp.focus=j(),h(a);var s=ti(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(ji(e,function(){p==n&&m(t)}),150)}else{var l=t.clientY<d.top?-20:t.clientY>d.bottom?20:0;l&&setTimeout(ji(e,function(){p==n&&(i.scroller.scrollTop+=l,m(t))}),50)}}function g(t){e.state.selectingText=!1,p=1/0,t&&(_e(t),i.input.focus()),ge(i.wrapper.ownerDocument,"mousemove",b),ge(i.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var b=ji(e,function(e){0!==e.buttons&&Oe(e)?m(e):g(e)}),y=ji(e,g);e.state.selectingText=y,pe(i.wrapper.ownerDocument,"mousemove",b),pe(i.wrapper.ownerDocument,"mouseup",y)}function Cs(e,t){var n=t.anchor,r=t.head,i=Ze(e.doc,n.line);if(0==at(n,r)&&n.sticky==r.sticky)return t;var o=he(i);if(!o)return t;var a=ce(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1),u;if(0==l||l==o.length)return t;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=ce(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var h=o[l+(u?-1:0)],d=u==(1==h.level),p=d?h.from:h.to,m=d?"after":"before";return n.ch==p&&n.sticky==m?t:new oo(new ot(n.line,p,m),r)}function ks(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&_e(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!we(e,n))return Ee(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l],c,f;if(u&&u.getBoundingClientRect().right>=i)return be(e,n,e,nt(e.doc,o),e.display.gutterSpecs[l].className,t),Ee(t)}}function Os(e,t){return ks(e,t,"gutterClick",!0)}function Ts(e,t){Vn(e.display,t)||Ns(e,t)||ye(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Ns(e,t){return!!we(e,"gutterContextMenu")&&ks(e,t,"gutterContextMenu",!1)}function As(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hr(e)}ps.prototype.compare=function(e,t,n){return this.time+400>e&&0==at(t,this.pos)&&n==this.button};var Is={toString:function(){return"CodeMirror.Init"}},js={},Rs={};function Ms(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Is&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Is,n("value","",function(e,t){return e.setValue(t)},!0),n("mode",null,function(e,t){e.doc.modeOption=t,po(e)},!0),n("indentUnit",2,po,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){mo(e),hr(e),Lr(e)},!0),n("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(ot(r,o))}r++});for(var i=n.length-1;i>=0;i--)ia(e.doc,t,n[i],ot(n[i].line,n[i].ch+t.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Is&&e.refresh()}),n("specialCharPlaceholder",gn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),n("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),n("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){As(e),Zi(e)},!0),n("keyMap","default",function(e,t,n){var r=Ha(t),i=n!=Is&&Ha(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ds,!0),n("gutters",[],function(e,t){e.display.gutterSpecs=Yi(t,e.options.lineNumbers),Zi(e)},!0),n("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?jr(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return yi(e)},!0),n("scrollbarStyle","native",function(e){xi(e),yi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Yi(e.options.gutters,t),Zi(e)},!0),n("firstLineNumber",1,Zi,!0),n("lineNumberFormatter",function(e){return e},Zi,!0),n("showCursorWhenSelecting",!1,Wr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(e,t){"nocursor"==t&&(Jr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),n("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),n("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),n("dragDrop",!0,Ps),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Wr,!0),n("singleCursorHeightPerLine",!0,Wr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,mo,!0),n("addModeClass",!1,mo,!0),n("pollInterval",100),n("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,mo,!0),n("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),n("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),n("autofocus",null),n("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),n("phrases",null)}function Ps(e,t,n){var r;if(!t!=!(n&&n!=Is)){var i=e.display.dragFunctions,o=t?pe:ge;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function Ds(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(C(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Mr(e),Lr(e),hr(e),setTimeout(function(){return yi(e)},100)}function Ls(e,t){var n=this;if(!(this instanceof Ls))return new Ls(e,t);this.options=t=t?L(t):{},L(js,t,!1);var r=t.value;"string"==typeof r?r=new Sa(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ls.inputStyles[t.inputStyle](this),o=this.display=new Ji(e,r,i,t);for(var u in o.wrapper.CodeMirror=this,As(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!b&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Fs(this),Ia(),Si(this),this.curOp.forceUpdate=!0,vo(this,r),t.autofocus&&!b||this.hasFocus()?setTimeout(D(Zr,this),20):Jr(this),Rs)Rs.hasOwnProperty(u)&&Rs[u](this,t[u],Is);Ki(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Bs.length;++c)Bs[c](this);Ei(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Fs(e){var t=e.display;pe(t.scroller,"mousedown",ji(e,ys)),pe(t.scroller,"dblclick",a&&s<11?ji(e,function(t){if(!ye(e,t)){var n=Pr(e,t);if(n&&!Os(e,t)&&!Vn(e.display,t)){_e(t);var r=e.findWordAt(n);Do(e.doc,r.anchor,r.head)}}}):function(t){return ye(e,t)||_e(t)}),pe(t.scroller,"contextmenu",function(t){return Ts(e,t)}),pe(t.input.getField(),"contextmenu",function(n){t.scroller.contains(n.target)||Ts(e,n)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,"touchstart",function(i){if(!ye(e,i)&&!o(i)&&!Os(e,i)){t.input.ensurePolled(),clearTimeout(n);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}}),pe(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),pe(t.scroller,"touchend",function(n){var r=t.activeTouch;if(r&&!Vn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o=e.coordsChar(t.activeTouch,"page"),a;a=!r.prev||l(r,r.prev)?new oo(o,o):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(o):new oo(ot(o.line,0),ht(e.doc,ot(o.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),_e(n)}i()}),pe(t.scroller,"touchcancel",i),pe(t.scroller,"scroll",function(){t.scroller.clientHeight&&(hi(e,t.scroller.scrollTop),pi(e,t.scroller.scrollLeft,!0),be(e,"scroll",e))}),pe(t.scroller,"mousewheel",function(t){return ro(e,t)}),pe(t.scroller,"DOMMouseScroll",function(t){return ro(e,t)}),pe(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ye(e,t)||Ce(t)},over:function(t){ye(e,t)||(Oa(e,t),Ce(t))},start:function(t){return ka(e,t)},drop:ji(e,Ca),leave:function(t){ye(e,t)||Ta(e)}};var u=t.input.getField();pe(u,"keyup",function(t){return fs.call(e,t)}),pe(u,"keydown",ji(e,us)),pe(u,"keypress",ji(e,hs)),pe(u,"focus",function(t){return Zr(e,t)}),pe(u,"blur",function(t){return Jr(e,t)})}Ls.defaults=js,Ls.optionHandlers=Rs;var Bs=[];function zs(e,t,n,r){var i=e.doc,o;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=vt(e,t).state:n="prev");var a=e.options.tabSize,s=Ze(i,t),l=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u=s.text.match(/^\s*/)[0],c;if(r||/\S/.test(s.text)){if("smart"==n&&((c=i.mode.indent(o,s.text.slice(u.length),s.text))==U||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?F(Ze(i,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(c/a);d;--d)h+=a,f+="\t";if(h<c&&(f+=K(c-h)),f!=u)return ia(i,f,ot(t,0),ot(t,u.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<i.sel.ranges.length;p++){var m=i.sel.ranges[p];if(m.head.line==t&&m.head.ch<u.length){var g=ot(t,u.length);Fo(i,p,new oo(g,g));break}}}Ls.defineInitHook=function(e){return Bs.push(e)};var $s=null;function Us(e){$s=e}function Ws(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=Re(t),u=null;if(s&&r.ranges.length>1)if($s&&$s.text.join("\n")==t){if(r.ranges.length%$s.text.length==0){u=[];for(var c=0;c<$s.text.length;c++)u.push(o.splitLines($s.text[c]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=X(l,function(e){return[e]}));for(var f=e.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],p=d.from(),m=d.to();d.empty()&&(n&&n>0?p=ot(p.line,p.ch-n):e.state.overwrite&&!s?m=ot(m.line,Math.min(Ze(o,m.line).text.length,m.ch+Y(l).length)):s&&$s&&$s.lineWise&&$s.text.join("\n")==l.join("\n")&&(p=m=ot(p.line,0)));var g={from:p,to:m,text:u?u[h%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};Jo(e.doc,g),Nn(e,"inputRead",e,g)}t&&!s&&Hs(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ii(t,function(){return Ws(t,n,0,null,"paste")}),!0}function Hs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=zs(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ze(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=zs(e,i.head.line,"smart"));a&&Nn(e,"electricInput",e,i.head.line)}}}function Gs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ot(i,0),head:ot(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function qs(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ks(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),qs(e),t}function Ys(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&ji(this,t[e])(this,n,i),be(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ha(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Ri(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");Z(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,Lr(this)}),removeOverlay:Ri(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Lr(this)}}),indentLine:Ri(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&zs(this,e,t,n)}),indentSelection:Ri(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(zs(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&si(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)zs(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Fo(this.doc,r,new oo(o,u[r].to()),W)}}}),getTokenAt:function(e,t){return Et(this,e,t)},getLineTokens:function(e,t){return Et(this,ot(e),t,!0)},getTokenTypeAt:function(e){e=ht(this.doc,e);var t=yt(this,Ze(this.doc,e.line)),n=0,r=(t.length-1)/2,i=e.ch,o;if(0==i)o=t[2];else for(;;){var a=n+r>>1;if((a?t[2*a-1]:0)>=i)r=a;else{if(!(t[2*a+1]<i)){o=t[2*a+2];break}n=a+1}}var s=o?o.indexOf("overlay "):-1;return s<0?o:0==s?null:o.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==z(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return vt(this,(e=ft(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return vr(this,n=null==e?r.head:"object"==typeof e?ht(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return yr(this,ht(this.doc,e),t||"page")},coordsChar:function(e,t){return _r(this,(e=br(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=br(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r=!1,i;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),i=Ze(this.doc,e)}else i=e;return gr(this,i,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-an(i):0)},defaultTextHeight:function(){return Nr(this.display)},defaultCharWidth:function(){return Ar(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=vr(this,ht(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&ii(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Ri(us),triggerOnKeyPress:Ri(hs),triggerOnKeyUp:fs,triggerOnMouseDown:Ri(ys),execCommand:function(e){if(Za.hasOwnProperty(e))return Za[e].call(null,this)},triggerElectric:Ri(function(e){Hs(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=ht(this.doc,e),a=0;a<t&&!(o=Xs(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Ri(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Xs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},H)}),deleteH:Ri(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Ga(this,function(n){var i=Xs(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=ht(this.doc,e),s=0;s<t;++s){var l=vr(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Zs(this,l,i,n)).hitSide)break}return a},moveV:Ri(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=vr(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Zs(n,s,e,t);return"page"==t&&a==r.sel.primary()&&ai(n,yr(n,l,"div").top-s.top),l},H),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t,n=Ze(this.doc,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=ne(a,o)?function(e){return ne(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new oo(ot(e.line,r),ot(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),be(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==j()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ri(function(e,t){li(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kn(this)-this.display.barHeight,width:e.scrollWidth-Kn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:Yn(this)}},scrollIntoView:Ri(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ot(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?ui(this,e):fi(this,e.from,e.to,e.margin)}),setSize:Ri(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&fr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Fr(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,be(this,"refresh",this)}),operation:function(e){return Ii(this,e)},startOperation:function(){return Si(this)},endOperation:function(){return Ei(this)},refresh:Ri(function(){var e=this.display.cachedTextHeight;Lr(this),this.curOp.forceUpdate=!0,hr(this),li(this,this.doc.scrollLeft,this.doc.scrollTop),Hi(this.display),(null==e||Math.abs(e-Nr(this.display))>.5||this.options.lineWrapping)&&Mr(this),be(this,"refresh",this)}),swapDoc:Ri(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),vo(this,e),hr(this),this.display.input.reset(),li(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Nn(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},xe(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Xs(e,t,n,r,i){var o=t,a=n,s=Ze(e,t.line),l=i&&"rtl"==e.direction?-n:n;function u(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new ot(n,t.ch,t.sticky),s=Ze(e,n))}function c(r){var o;if(null==(o=i?Xa(e.cm,s,t,n):Ka(s,t,n))){if(r||!u())return!1;t=Ya(i,e.cm,s,t.line,l)}else t=o;return!0}if("char"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||c(!p);p=!1){var m=s.text.charAt(t.ch)||"\n",g=ne(m,d)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||p||g||(g="s"),f&&f!=g){n<0&&(n=1,c(),t.sticky="after");break}if(g&&(f=g),n>0&&!c(!p))break}var b=Ko(e,t,o,a,!0);return st(o,b)&&(b.hitSide=!0),b}function Zs(e,t,n,r){var i=e.doc,o=t.left,a,s;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*Nr(e.display),3);a=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(a=n>0?t.bottom+3:t.top-3);for(;(s=_r(e,o,a)).outside;){if(n<0?a<=0:a>=i.height){s.hitSide=!0;break}a+=5*n}return s}var Js=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qs(e,t){var n=tr(e,t.line);if(!n||n.hidden)return null;var r=Ze(e.doc,t.line),i=Jn(n,r,t.line),o=he(r,e.doc.direction),a="left",s;o&&(a=ce(o,t.ch)%2?"right":"left");var l=ar(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function el(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tl(e,t){return t&&(e.bad=!0),e}function nl(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function f(e){e&&(c(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void f(n);var o=t.getAttribute("cm-marker"),d;if(o){var p=e.findMarks(ot(r,0),ot(i+1,0),u(+o));return void(p.length&&(d=p[0].find(0))&&f(Je(e.doc,d.from,d.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var g=0;g<t.childNodes.length;g++)h(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&f(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=n;)t=t.nextSibling,l=!1;return o}function rl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return tl(e.clipPos(ot(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return il(o,t,n)}}function il(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!I(r,t))return tl(ot(tt(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return tl(ot(tt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var c=tt(i<0?e.line:e.rest[i]),f=o[a]+r;return(r<0||s!=t)&&(f=o[a+(r?1:0)]),ot(c,f)}}}var f=c(a,s,n);if(f)return tl(f,i);for(var h=s.nextSibling,d=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(f=c(h,h.firstChild,0))return tl(ot(f.line,f.ch-d),i);d+=h.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(f=c(p,p.firstChild,-1))return tl(ot(f.line,f.ch+m),i);m+=p.textContent.length}}Js.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!ye(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Gs(r);Us({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,W),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var a=$s.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Ks(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=$s.text.join("\n");var u=document.activeElement;P(l),setTimeout(function(){r.display.lineSpace.removeChild(s),u.focus(),u==i&&n.showPrimarySelection()},50)}}qs(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,"paste",function(e){!o(e)||ye(r,e)||Vs(e,r)||s<=11&&setTimeout(ji(r,function(){return t.updateFromDOM()}),20)}),pe(i,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),pe(i,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),pe(i,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),pe(i,"touchstart",function(){return n.forceCompositionEnd()}),pe(i,"input",function(){t.composing||t.readFromDOMSoon()}),pe(i,"copy",a),pe(i,"cut",a)},Js.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Js.prototype.prepareSelection=function(){var e=Vr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Js.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Js.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Js.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=rl(t,e.anchorNode,e.anchorOffset),s=rl(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=at(ct(a,s),i)||0!=at(ut(a,s),o)){var l=t.display.view,u=i.line>=t.display.viewFrom&&Qs(t,i)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Qs(t,o);if(!c){var f=l[l.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(u&&c){var d=e.rangeCount&&e.getRangeAt(0),p;try{p=k(u.node,u.offset,c.offset,c.node)}catch(e){}p&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),d&&null==e.anchorNode?e.addRange(d):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Js.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Js.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},Js.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Js.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return I(this.div,t)},Js.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Js.prototype.blur=function(){this.div.blur()},Js.prototype.getField=function(){return this.div},Js.prototype.supportsTouch=function(){return!0},Js.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Ii(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},Js.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Js.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&el(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=rl(t,e.anchorNode,e.anchorOffset),r=rl(t,e.focusNode,e.focusOffset);n&&r&&Ii(t,function(){Uo(t.doc,so(n,r),W),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Js.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to(),o,a,s;if(0==r.ch&&r.line>e.firstLine()&&(r=ot(r.line-1,Ze(e.doc,r.line-1).length)),i.ch==Ze(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=ot(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;r.line==t.viewFrom||0==(o=Dr(e,r.line))?(a=tt(t.view[0].line),s=t.view[0].node):(a=tt(t.view[o].line),s=t.view[o-1].node.nextSibling);var l=Dr(e,i.line),u,c;if(l==t.view.length-1?(u=t.viewTo-1,c=t.lineDiv.lastChild):(u=tt(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(nl(e,s,c,a,u)),h=Je(e.doc,ot(a,0),ot(u,Ze(e.doc,u).text.length));f.length>1&&h.length>1;)if(Y(f)==Y(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var d=0,p=0,m=f[0],g=h[0],b=Math.min(m.length,g.length);d<b&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var y=Y(f),v=Y(h),w=Math.min(y.length-(1==f.length?d:0),v.length-(1==h.length?d:0));p<w&&y.charCodeAt(y.length-p-1)==v.charCodeAt(v.length-p-1);)++p;if(1==f.length&&1==h.length&&a==r.line)for(;d&&d>r.ch&&y.charCodeAt(y.length-p-1)==v.charCodeAt(v.length-p-1);)d--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var x=ot(a,d),_=ot(u,h.length?Y(h).length-p:0);return f.length>1||f[0]||at(x,_)?(ia(e.doc,f,x,_,"+input"),!0):void 0},Js.prototype.ensurePolled=function(){this.forceCompositionEnd()},Js.prototype.reset=function(){this.forceCompositionEnd()},Js.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Js.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Js.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Ii(this.cm,function(){return Lr(e.cm)})},Js.prototype.setUneditable=function(e){e.contentEditable="false"},Js.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ji(this.cm,Ws)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Js.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Js.prototype.onContextMenu=function(){},Js.prototype.resetPosition=function(){},Js.prototype.needsContentAttribute=!0;var ol=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};function al(e,t){if((t=t?L(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=j();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(pe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Ls(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return s}function sl(e){e.off=ge,e.on=pe,e.wheelEventPixels=no,e.Doc=Sa,e.splitLines=Re,e.countColumn=F,e.findColumn=G,e.isWordChar=te,e.Pass=U,e.signal=be,e.Line=un,e.changeEnd=lo,e.scrollbarModel=wi,e.Pos=ot,e.cmpPos=at,e.modes=Be,e.mimeModes=ze,e.resolveMode=We,e.getMode=Ve,e.modeExtensions=He,e.extendMode=Ge,e.copyState=qe,e.startState=Ye,e.innerMode=Ke,e.commands=Za,e.keyMap=Fa,e.keyName=Va,e.isModifierKey=Ua,e.lookupKey=$a,e.normalizeKeyMap=za,e.StringStream=Xe,e.SharedTextMarker=ba,e.TextMarker=ma,e.LineWidget=fa,e.e_preventDefault=_e,e.e_stopPropagation=Se,e.e_stop=Ce,e.addClass=R,e.contains=I,e.rmClass=C,e.keyNames=Ma}ol.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ye(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Gs(r);Us({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,W):(n.prevInput="",i.value=t.text.join("\n"),P(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),pe(i,"input",function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),pe(i,"paste",function(e){ye(r,e)||Vs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),pe(i,"cut",o),pe(i,"copy",o),pe(e.scroller,"paste",function(t){if(!Vn(e,t)&&!ye(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}}),pe(e.lineSpace,"selectstart",function(t){Vn(e,t)||_e(t)}),pe(i,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),pe(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},ol.prototype.createField=function(e){this.wrapper=Ks(),this.textarea=this.wrapper.firstChild},ol.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},ol.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Vr(e);if(e.options.moveInputWithCursor){var i=vr(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},ol.prototype.showSelection=function(e){var t,n=this.cm.display;T(n.cursorDiv,e.cursors),T(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},ol.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||j()!=this.textarea))try{this.textarea.focus()}catch(e){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},ol.prototype.fastPoll=function(){var e=!1,t=this;function n(){var r;t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},ol.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Me(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(r.length,i.length);l<u&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Ii(t,function(){Ws(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Pr(n,e),u=r.scroller.scrollTop;if(o&&!f){var c;n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ji(n,Uo)(n.doc,so(o),W);var h=i.style.cssText,d=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect(),m;if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(m=window.scrollY),r.input.focus(),l&&window.scrollTo(null,m),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&b(),S){Ce(e);var g=function(){ge(window,"mouseup",g),setTimeout(y,20)};pe(window,"mouseup",g)}else setTimeout(y,50)}function b(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&s<9)&&b();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?ji(n,Xo)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},ol.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Ms(Ls),Ys(Ls);var ll="iter insert remove copy getEditor constructor".split(" ");for(var ul in Sa.prototype)Sa.prototype.hasOwnProperty(ul)&&z(ll,ul)<0&&(Ls.prototype[ul]=function(e){return function(){return e.apply(this.doc,arguments)}}(Sa.prototype[ul]));return xe(Sa),Ls.inputStyles={textarea:ol,contenteditable:Js},Ls.defineMode=function(e){Ls.defaults.mode||"null"==e||(Ls.defaults.mode=e),$e.apply(this,arguments)},Ls.defineMIME=Ue,Ls.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ls.defineMIME("text/plain","null"),Ls.defineExtension=function(e,t){Ls.prototype[e]=t},Ls.defineDocExtension=function(e,t){Sa.prototype[e]=t},Ls.fromTextArea=al,sl(Ls),Ls.version="5.56.0",Ls},e.exports=i()},function(e,t,n){"use strict";e.exports=n(651)},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t=0,n=-1,r=!0,i;for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!r){t=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":e.slice(t,n)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return(e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(95))},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);function f(e,t,n){if("string"!=typeof t){if(c){var h=u(t);h&&h!==c&&f(e,h,n)}var d=a(t);s&&(d=d.concat(s(t)));for(var p=0;p<d.length;++p){var m=d[p];if(!(r[m]||i[m]||n&&n[m])){var g=l(t,m);try{o(e,m,g)}catch(e){}}}return e}return e}e.exports=f},function(e,t,n){"use strict";const r=n(589),i=n(590),o=n(591),a=e=>null===e||void 0===e;function s(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",i,"]"].join("")]:[...n,[c(t,e),"[",c(i,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null===r||void 0===r||0===r.length?n:0===n.length?[[c(t,e),"=",c(r,e)].join("")]:[[n,c(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}}function l(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1,o=i?n.split(e.arrayFormatSeparator).map(t=>f(t,e)):null===n?n:f(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function f(e,t){return t.decode?i(e):e}function h(e){return Array.isArray(e)?e.sort():"object"==typeof e?h(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function m(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=l(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:f(a,t),n(f(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=g(n[e],t);else r[e]=g(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=h(n):e[t]=n,e},Object.create(null))}t.extract=m,t.parse=b,t.stringify=((e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&a(e[n])||t.skipEmptyString&&""===e[n],r=s(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?c(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):c(n,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:b(m(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:f(r,t)}:{})}),t.stringifyUrl=((e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=d(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let s=t.stringify(a,n);s&&(s=`?${s}`);let l=p(e.url);return e.fragmentIdentifier&&(l=`#${c(e.fragmentIdentifier,n)}`),`${r}${s}${l}`})},function(e,t,n){var r,i;r="undefined"!=typeof self?self:this,i=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=60)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e,t,n){return e||console.error("theme has not been set"),f(e)(t,n)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(64),a,s=function(e){return e&&e.__esModule?e:{default:e}}(n(65)),l=n(66),u=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}},c=function(e){var t=u(e);return{"app-container":{fontFamily:s.default.globalFontFamily,cursor:s.default.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:s.default.ellipsisFontSize,lineHeight:s.default.ellipsisLineHeight,cursor:s.default.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:s.default.braceCursor,fontWeight:s.default.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:s.default.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,n){return{style:i({paddingTop:s.default.keyValPaddingTop,paddingRight:s.default.keyValPaddingRight,paddingBottom:s.default.keyValPaddingBottom,borderLeft:s.default.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:n.paddingLeft-1+"px",borderLeft:s.default.keyValBorderHover+" "+t.objectBorder}},n)}},"object-key-val-no-border":{padding:s.default.keyValPadding},"pushed-content":{marginLeft:s.default.pushedContentMarginLeft},variableValue:function(e,t){return{style:i({display:"inline-block",paddingRight:s.default.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:s.default.keyLetterSpacing,fontStyle:s.default.keyFontStyle,verticalAlign:s.default.keyVerticalAlign,opacity:s.default.keyOpacity,":hover":{opacity:s.default.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:s.default.keyLetterSpacing,fontStyle:s.default.keyFontStyle,verticalAlign:s.default.keyVerticalAlign,opacity:s.default.keyOpacity,":hover":{opacity:s.default.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:s.default.objectSizeBorderRadius,fontStyle:s.default.objectSizeFontStyle,margin:s.default.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:s.default.dataTypeFontSize,marginRight:s.default.dataTypeMarginRight,opacity:s.default.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:s.default.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:s.default.nanFontSize,fontWeight:s.default.nanFontWeight,backgroundColor:t.dataTypes.background,padding:s.default.nanPadding,borderRadius:s.default.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:s.default.nullFontSize,fontWeight:s.default.nullFontWeight,backgroundColor:t.dataTypes.background,padding:s.default.nullPadding,borderRadius:s.default.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:s.default.undefinedFontSize,padding:s.default.undefinedPadding,borderRadius:s.default.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:s.default.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:s.default.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:s.default.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:s.default.metaDataPadding},"icon-container":{display:"inline-block",width:s.default.iconContainerWidth},tooltip:{padding:s.default.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:s.default.iconCursor,fontSize:s.default.iconFontSize,marginRight:s.default.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:s.default.iconCursor,color:t.editVariable.checkIcon,fontSize:s.default.iconFontSize,paddingRight:s.default.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:s.default.iconCursor,color:t.editVariable.cancelIcon,fontSize:s.default.iconFontSize,paddingRight:s.default.iconPaddingRight},"edit-input":{display:"inline-block",minHeight:s.default.editInputHeight,minWidth:s.default.editInputMinWidth,borderRadius:s.default.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:s.default.editInputPadding,marginRight:s.default.editInputMarginRight,fontFamily:s.default.editInputFontFamily},"detected-row":{paddingTop:s.default.detectedRowPaddingTop},"key-modal-request":{position:s.default.addKeyCoverPosition,top:s.default.addKeyCoverPositionPx,left:s.default.addKeyCoverPositionPx,right:s.default.addKeyCoverPositionPx,bottom:s.default.addKeyCoverPositionPx,backgroundColor:s.default.addKeyCoverBackground},"key-modal":{width:s.default.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:s.default.addKeyModalMargin,marginRight:s.default.addKeyModalMargin,padding:s.default.addKeyModalPadding,borderRadius:s.default.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:s.default.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:s.default.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:s.default.ellipsisFontSize,lineHeight:s.default.ellipsisLineHeight,cursor:s.default.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:s.default.iconFontSize,transform:"rotate(45deg)"}}},f=function(e){var t=o.rjv_default;return!1!==e&&"none"!==e||(t=o.rjv_grey),(0,l.createStyling)(c,{defaultBase16:t})(e)}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(32)("wks"),i=n(23),o=n(5).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";function r(e){var t=i(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}function i(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===r(e)){for(var n=0;n<t.length;n++)if(!(t[n]in e))return!1;return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.toType=r,t.isTheme=o},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(1)),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),n=e.displayDataTypes,r=e.theme;return n?c.default.createElement("span",s({className:"data-type-label"},(0,h.default)(r,"data-type-label")),t):null}}]),t}(c.default.PureComponent);t.default=d},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9),i=n(22);e.exports=n(10)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(16),i=n(44),o=n(29),a=Object.defineProperty;t.f=n(10)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(49),i=n(28);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(161),u,c=function(e){return e&&e.__esModule?e:{default:e}}(n(14)),f=n(4),h,d=new(function(e){function t(){var e,n,a,l;i(this,t);for(var u=arguments.length,c=Array(u),h=0;h<u;h++)c[h]=arguments[h];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.objects={},a.set=function(e,t,n,r){void 0===a.objects[e]&&(a.objects[e]={}),void 0===a.objects[e][t]&&(a.objects[e][t]={}),a.objects[e][t][n]=r},a.get=function(e,t,n,r){return void 0===a.objects[e]||void 0===a.objects[e][t]||void 0==a.objects[e][t][n]?r:a.objects[e][t][n]},a.handleAction=function(e){var t=e.rjvId,n=e.data;switch(e.name){case"RESET":a.emit("reset-"+t);break;case"VARIABLE_UPDATED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",s({},n,{type:"variable-edited"})),a.emit("variable-update-"+t);break;case"VARIABLE_REMOVED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",s({},n,{type:"variable-removed"})),a.emit("variable-update-"+t);break;case"VARIABLE_ADDED":e.data.updated_src=a.updateSrc(t,n),a.set(t,"action","variable-update",s({},n,{type:"variable-added"})),a.emit("variable-update-"+t);break;case"ADD_VARIABLE_KEY_REQUEST":a.set(t,"action","new-key-request",n),a.emit("add-key-request-"+t)}},a.updateSrc=function(e,t){var n=t.name,i=t.namespace,o=t.new_value,s=(t.existing_value,t.variable_removed);i.shift();var l=a.get(e,"global","src"),u=a.deepCopy(l,[].concat(r(i))),c=u,h=!0,d=!1,p=void 0;try{for(var m,g=i[Symbol.iterator]();!(h=(m=g.next()).done);h=!0)c=c[m.value]}catch(e){d=!0,p=e}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}return s?"array"==(0,f.toType)(c)?c.splice(n,1):delete c[n]:null!==n?c[n]=o:u=o,a.set(e,"global","src",u),u},a.deepCopy=function(e,t){var n=(0,f.toType)(e),i=void 0,o=t.shift();return"array"==n?i=[].concat(r(e)):"object"==n&&(i=s({},e)),void 0!==o&&(i[o]=a.deepCopy(e[o],t)),i},o(a,l=n)}return a(t,e),t}(l.EventEmitter));c.default.register(d.handleAction.bind(d)),t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=new(n(162).Dispatcher);t.default=i},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e||(e={}),{style:l({verticalAlign:"middle"},e,{color:e.color?e.color:h,height:"1em",width:"1em"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckCircle=t.Edit=t.Add=t.AddCircle=t.RemoveCircle=t.Clippy=t.ArrowDown=t.ArrowRight=t.SquarePlus=t.SquareMinus=t.CirclePlus=t.CircleMinus=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c,f=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),h="#000000";t.CircleMinus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),t}(f.default.PureComponent),t.CirclePlus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),t}(f.default.PureComponent),t.SquareMinus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]),i=s(t).style;return f.default.createElement("span",n,f.default.createElement("svg",{fill:i.color,width:i.height,height:i.width,style:i,viewBox:"0 0 1792 1792"},f.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(f.default.PureComponent),t.SquarePlus=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]),i=s(t).style;return f.default.createElement("span",n,f.default.createElement("svg",{fill:i.color,width:i.height,height:i.width,style:i,viewBox:"0 0 1792 1792"},f.default.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),t}(f.default.PureComponent),t.ArrowRight=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",{style:l({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},f.default.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),t}(f.default.PureComponent),t.ArrowDown=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",{style:l({},s(t).style,{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},f.default.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),t}(f.default.PureComponent),t.Clippy=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),t}(f.default.PureComponent),t.RemoveCircle=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(f.default.PureComponent),t.AddCircle=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(f.default.PureComponent),t.Add=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),t}(f.default.PureComponent),t.Edit=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),t}(f.default.PureComponent),t.CheckCircle=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=r(e,["style"]);return f.default.createElement("span",n,f.default.createElement("svg",l({},s(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),f.default.createElement("g",null,f.default.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),t}(f.default.PureComponent)},function(e,t,n){var r=n(17);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(48),i=n(33);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(5),i=n(2),o=n(71),a=n(8),s=n(7),l=function(e,t,n){var u,c,f,h=e&l.F,d=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,b=e&l.W,y=d?i:i[t]||(i[t]={}),v=y.prototype,w=d?r:p?r[t]:(r[t]||{}).prototype;for(u in d&&(n=t),n)(c=!h&&w&&void 0!==w[u])&&s(y,u)||(f=c?w[u]:n[u],y[u]=d&&"function"!=typeof w[u]?n[u]:g&&c?o(f,r):b&&w[u]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[u]=f,e&l.R&&v&&!v[u]&&a(v,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c,f=r(n(0)),h=n(41),d=n(4),p=n(42),m,g=r(n(171)),b,y=r(n(56)),v,w=r(n(57)),x,_=r(n(58)),S,E=r(n(13)),C=n(59),k,O=r(n(1)),T=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));N.call(n);var r=t.getState(e);return n.state=l({},r,{prevProps:{}}),n}return s(t,e),u(t,[{key:"getBraceStart",value:function(e,t){var n=this,r=this.props,i=r.src,o=r.theme,a=r.iconStyle;if("array_group"===r.parent_type)return f.default.createElement("span",null,f.default.createElement("span",(0,O.default)(o,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(i):null);var s=t?C.ExpandedIcon:C.CollapsedIcon;return f.default.createElement("span",null,f.default.createElement("span",l({onClick:function(e){n.toggleCollapsed()}},(0,O.default)(o,"brace-row")),f.default.createElement("div",l({className:"icon-container"},(0,O.default)(o,"icon-container")),f.default.createElement(s,{theme:o,iconStyle:a})),f.default.createElement(_.default,this.props),f.default.createElement("span",(0,O.default)(o,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(i):null)}},{key:"render",value:function(){var e=this.props,t=e.depth,n=e.src,r=(e.namespace,e.name,e.type,e.parent_type),o=e.theme,a=e.jsvRoot,s=e.iconStyle,u=i(e,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),c=this.state,h=c.object_type,d=c.expanded,p={};return a||"array_group"===r?"array_group"===r&&(p.borderLeft=0,p.display="inline"):p.paddingLeft=5*this.props.indentWidth,f.default.createElement("div",l({className:"object-key-val"},(0,O.default)(o,a?"jsv-root":"objectKeyVal",p)),this.getBraceStart(h,d),d?this.getObjectContent(t,n,l({theme:o,iconStyle:s},u)):this.getEllipsis(),f.default.createElement("span",{className:"brace-row"},f.default.createElement("span",{style:l({},(0,O.default)(o,"brace").style,{paddingLeft:d?"3px":"0px"})},"array"===h?"]":"}"),d?null:this.getObjectMetaData(n)))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r=n.prevProps;if(e.src!==r.src||e.collapsed!==r.collapsed||e.name!==r.name||e.namespace!==r.namespace||e.rjvId!==r.rjvId){var i=t.getState(e);return l({},i,{prevProps:e})}return null}}]),t}(f.default.PureComponent);T.getState=function(e){var t=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:(0,d.toType)(e.src),namespace:e.namespace}))&&0!==t;return{expanded:E.default.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t}};var N=function(){var e=this;this.toggleCollapsed=function(){e.setState({expanded:!e.state.expanded},function(){E.default.set(e.props.rjvId,e.props.namespace,"expanded",e.state.expanded)})},this.getObjectContent=function(t,n,r){return f.default.createElement("div",{className:"pushed-content object-container"},f.default.createElement("div",l({className:"object-content"},(0,O.default)(e.props.theme,"pushed-content")),e.renderObjectContents(n,r)))},this.getEllipsis=function(){return 0===e.state.size?null:f.default.createElement("div",l({},(0,O.default)(e.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:e.toggleCollapsed}),"...")},this.getObjectMetaData=function(t){var n=e.props,r=(n.rjvId,n.theme,e.state.size);return f.default.createElement(y.default,l({size:r},e.props))},this.renderObjectContents=function(t,n){var r=e.props,i=r.depth,o=r.parent_type,a=r.index_offset,s=r.groupArraysAfterLength,u=r.namespace,c=e.state.object_type,h=(n.theme,[]),d=void 0,m=Object.keys(t||{});return e.props.sortKeys&&(m=m.sort()),m.forEach(function(r){if(d=new A(r,t[r]),"array_group"===o&&a&&(d.name=parseInt(d.name)+a),t.hasOwnProperty(r))if("object"===d.type)h.push(f.default.createElement(p.JsonObject,l({key:d.name,depth:i+1,name:d.name,src:d.value,namespace:u.concat(d.name),parent_type:c},n)));else if("array"===d.type){var m=p.JsonObject;s&&d.value.length>s&&(m=w.default),h.push(f.default.createElement(m,l({key:d.name,depth:i+1,name:d.name,src:d.value,namespace:u.concat(d.name),type:"array",parent_type:c},n)))}else h.push(f.default.createElement(g.default,l({key:d.name+"_"+u,variable:d,singleIndent:5,namespace:u,type:e.props.type},n)))}),h}},A=function e(t,n){o(this,e),this.name=t,this.value=n,this.type=(0,d.toType)(n)};(0,h.polyfill)(T),t.default=T},function(e,t,n){"use strict";var r=n(70)(!0);n(43)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("keys"),i=n(23);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(2),i=n(5),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(20)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(9).f,i=n(7),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(28);e.exports=function(e){return Object(r(e))}},function(e,t,n){n(80);for(var r=n(5),i=n(8),o=n(18),a=n(3)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,n){t.f=n(3)},function(e,t,n){var r=n(5),i=n(2),o=n(20),a=n(37),s=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){function n(e,t,n){return Math.min(Math.max(e,t),n)}e.exports=n},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){function t(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}this.setState(t.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63);Object.defineProperty(t,"JsonBoolean",{enumerable:!0,get:function(){return r(i).default}});var o=n(158);Object.defineProperty(t,"JsonDate",{enumerable:!0,get:function(){return r(o).default}});var a=n(159);Object.defineProperty(t,"JsonFloat",{enumerable:!0,get:function(){return r(a).default}});var s=n(160);Object.defineProperty(t,"JsonFunction",{enumerable:!0,get:function(){return r(s).default}});var l=n(165);Object.defineProperty(t,"JsonNan",{enumerable:!0,get:function(){return r(l).default}});var u=n(166);Object.defineProperty(t,"JsonNull",{enumerable:!0,get:function(){return r(u).default}});var c=n(167);Object.defineProperty(t,"JsonInteger",{enumerable:!0,get:function(){return r(c).default}});var f=n(25);Object.defineProperty(t,"JsonObject",{enumerable:!0,get:function(){return r(f).default}});var h=n(168);Object.defineProperty(t,"JsonRegexp",{enumerable:!0,get:function(){return r(h).default}});var d=n(169);Object.defineProperty(t,"JsonString",{enumerable:!0,get:function(){return r(d).default}});var p=n(170);Object.defineProperty(t,"JsonUndefined",{enumerable:!0,get:function(){return r(p).default}})},function(e,t,n){"use strict";var r=n(20),i=n(21),o=n(46),a=n(8),s=n(18),l=n(73),u=n(34),c=n(79),f=n(3)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,p,m,g,b){l(n,t,p);var y,v,w,x=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",S="values"==m,E=!1,C=e.prototype,k=C[f]||C["@@iterator"]||m&&C[m],O=k||x(m),T=m?S?x("entries"):O:void 0,N="Array"==t&&C.entries||k;if(N&&(w=c(N.call(new e)))!==Object.prototype&&w.next&&(u(w,_,!0),r||"function"==typeof w[f]||a(w,f,d)),S&&k&&"values"!==k.name&&(E=!0,O=function(){return k.call(this)}),r&&!b||!h&&!E&&C[f]||a(C,f,O),s[t]=O,s[_]=d,m)if(y={values:S?O:x("values"),keys:g?O:x("keys"),entries:T},b)for(v in y)v in C||o(C,v,y[v]);else i(i.P+i.F*(h||E),t,y);return y}},function(e,t,n){e.exports=!n(10)&&!n(11)(function(){return 7!=Object.defineProperty(n(45)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(17),i=n(5).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=n(8)},function(e,t,n){var r=n(16),i=n(74),o=n(33),a=n(31)("IE_PROTO"),s=function(){},l=function(){var e,t=n(45)("iframe"),r=o.length;for(t.style.display="none",n(78).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(7),i=n(12),o=n(75)(!1),a=n(31)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(48),i=n(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(30),i=n(3)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){function n(e){return e.match(r)}var r=/-?\d+(\.\d+)?%?/g;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.default=function(e){var t,n=void 0;switch((0,r.toType)(e)){case"undefined":n="undefined";break;case"nan":n="NaN";break;case"string":n=e;break;case"date":case"function":case"regexp":n=e.toString();break;default:try{n=JSON.stringify(e,null,"  ")}catch(e){n=""}}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f=n(4),h,d=(r(n(54)),n(15)),p,m=r(n(1)),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copiedTimer=null,n.handleCopy=function(){var e=document.createElement("textarea"),t=n.props,r=t.clickCallback,i=t.src,o=t.namespace;e.innerHTML=JSON.stringify(n.clipboardValue(i),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),n.copiedTimer=setTimeout(function(){n.setState({copied:!1})},5500),n.setState({copied:!0},function(){"function"==typeof r&&r({src:i,namespace:o,name:o[o.length-1]})})},n.getClippyIcon=function(){var e=n.props.theme;return n.state.copied?c.default.createElement("span",null,c.default.createElement(d.Clippy,s({className:"copy-icon"},(0,m.default)(e,"copy-icon"))),c.default.createElement("span",(0,m.default)(e,"copy-icon-copied"),"\u2714")):c.default.createElement(d.Clippy,s({className:"copy-icon"},(0,m.default)(e,"copy-icon")))},n.clipboardValue=function(e){switch((0,f.toType)(e)){case"function":case"regexp":return e.toString();default:return e}},n.state={copied:!1},n}return a(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),n=e.hidden,r=(0,m.default)(t,"copy-to-clipboard").style,i="inline";return n&&(i="none"),c.default.createElement("span",{className:"copy-to-clipboard-container"},c.default.createElement("span",{style:s({},r,{display:i}),onClick:this.handleCopy},this.getClippyIcon()))}}]),t}(c.default.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u,c=r(n(0)),f,h=r(n(14)),d,p=r(n(55)),m=n(4),g=n(15),b,y=r(n(1)),v=function(e){function t(){var e,n,r,s;o(this,t);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.getObjectSize=function(){var e=r.props,t=e.size,n=e.theme;if(e.displayObjectSize)return c.default.createElement("span",l({className:"object-size"},(0,y.default)(n,"object-size")),t," item",1===t?"":"s")},r.getAddAttribute=function(){var e=r.props,t=e.theme,n=e.namespace,o=e.name,a=e.src,s=e.rjvId,u=e.depth;return c.default.createElement("span",{className:"click-to-add",style:{verticalAlign:"top"}},c.default.createElement(g.AddCircle,l({className:"click-to-add-icon"},(0,y.default)(t,"addVarIcon"),{onClick:function(){var e={name:u>0?o:null,namespace:n.splice(0,n.length-1),existing_value:a,variable_removed:!1,key_name:null};"object"===(0,m.toType)(a)?h.default.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:s,data:e}):h.default.dispatch({name:"VARIABLE_ADDED",rjvId:s,data:l({},e,{new_value:[].concat(i(a),[null])})})}})))},r.getRemoveObject=function(){var e=r.props,t=e.theme,n=(e.hover,e.namespace),i=e.name,o=e.src,a=e.rjvId;if(1!==n.length)return c.default.createElement("span",{className:"click-to-remove"},c.default.createElement(g.RemoveCircle,l({className:"click-to-remove-icon"},(0,y.default)(t,"removeVarIcon"),{onClick:function(){h.default.dispatch({name:"VARIABLE_REMOVED",rjvId:a,data:{name:i,namespace:n.splice(0,n.length-1),existing_value:o,variable_removed:!0}})}})))},r.render=function(){var e=r.props,t=e.theme,n=e.onDelete,i=e.onAdd,o=e.enableClipboard,a=e.src,s=e.namespace;return c.default.createElement("div",l({},(0,y.default)(t,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),r.getObjectSize(),o?c.default.createElement(p.default,l({clickCallback:o},{src:a,theme:t,namespace:s})):null,!1!==i?r.getAddAttribute():null,!1!==n?r.getRemoveObject():null)},a(r,s=n)}return s(t,e),t}(c.default.PureComponent);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f,h=r(n(0)),d,p=r(n(1)),m,g=r(n(56)),b,y=r(n(58)),v,w=r(n(25)),x=n(59),_=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCollapsed=function(e){var t=[];for(var r in n.state.expanded)t.push(n.state.expanded[r]);t[e]=!t[e],n.setState({expanded:t})},n.state={expanded:[]},n}return l(t,e),c(t,[{key:"getExpandedIcon",value:function(e){var t=this.props,n=t.theme,r=t.iconStyle;return this.state.expanded[e]?h.default.createElement(x.ExpandedIcon,{theme:n,iconStyle:r}):h.default.createElement(x.CollapsedIcon,{theme:n,iconStyle:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.groupArraysAfterLength,a=(t.depth,t.name),s=t.theme,l=t.jsvRoot,c=t.namespace,f=(t.parent_type,o(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),d=0,m=5*this.props.indentWidth;l||(d=5*this.props.indentWidth);var b=r,v=Math.ceil(n.length/b);return h.default.createElement("div",u({className:"object-key-val"},(0,p.default)(s,l?"jsv-root":"objectKeyVal",{paddingLeft:d})),h.default.createElement(y.default,this.props),h.default.createElement("span",null,h.default.createElement(g.default,u({size:n.length},this.props))),[].concat(i(Array(v))).map(function(t,r){return h.default.createElement("div",u({key:r,className:"object-key-val array-group"},(0,p.default)(s,"objectKeyVal",{marginLeft:6,paddingLeft:m})),h.default.createElement("span",(0,p.default)(s,"brace-row"),h.default.createElement("div",u({className:"icon-container"},(0,p.default)(s,"icon-container"),{onClick:function(t){e.toggleCollapsed(r)}}),e.getExpandedIcon(r)),e.state.expanded[r]?h.default.createElement(w.default,u({key:a+r,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:b,index_offset:r*b,src:n.slice(r*b,r*b+b),namespace:c,type:"array",parent_type:"array_group",theme:s},f)):h.default.createElement("span",u({},(0,p.default)(s,"brace"),{onClick:function(t){e.toggleCollapsed(r)},className:"array-group-brace"}),"[",h.default.createElement("div",u({},(0,p.default)(s,"array-group-meta-data"),{className:"array-group-meta-data"}),h.default.createElement("span",u({className:"object-size"},(0,p.default)(s,"object-size")),r*b," - ",r*b+b>n.length?n.length:r*b+b)),"]")))}))}}]),t}(h.default.PureComponent);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.parent_type,n=e.namespace,r=e.theme,i=e.jsvRoot,a=e.name,l=e.name?e.name:"";return!i||!1!==a&&null!==a?"array"==t?s.default.createElement("span",o({},(0,u.default)(r,"array-key"),{key:n}),s.default.createElement("span",{className:"array-key"},l),s.default.createElement("span",(0,u.default)(r,"colon"),":")):s.default.createElement("span",o({},(0,u.default)(r,"object-name"),{key:n}),s.default.createElement("span",{className:"object-key"},s.default.createElement("span",{style:{verticalAlign:"top"}},'"'),s.default.createElement("span",null,l),s.default.createElement("span",{style:{verticalAlign:"top"}},'"')),s.default.createElement("span",(0,u.default)(r,"colon"),":")):s.default.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a,s=r(n(0)),l,u=r(n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.theme;switch(e.iconStyle){case"triangle":return l.default.createElement(f.ArrowDown,a({},(0,c.default)(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return l.default.createElement(f.SquareMinus,a({},(0,c.default)(t,"expanded-icon"),{className:"expanded-icon"}));default:return l.default.createElement(f.CircleMinus,a({},(0,c.default)(t,"expanded-icon"),{className:"expanded-icon"}))}}function o(e){var t=e.theme;switch(e.iconStyle){case"triangle":return l.default.createElement(f.ArrowRight,a({},(0,c.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return l.default.createElement(f.SquarePlus,a({},(0,c.default)(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return l.default.createElement(f.CirclePlus,a({},(0,c.default)(t,"collapsed-icon"),{className:"collapsed-icon"}))}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.ExpandedIcon=i,t.CollapsedIcon=o;var s,l=r(n(0)),u,c=r(n(1)),f=n(15)},function(e,t,n){e.exports=n(61)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f=n(41),h,d=r(n(62)),p,m=r(n(177)),g,b=r(n(179)),y=n(4),v,w=r(n(13)),x,_=r(n(1));n(180);var S=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rjvId=Date.now().toString(),n.getListeners=function(){return{reset:n.resetState,"variable-update":n.updateSrc,"add-key-request":n.addKeyRequest}},n.updateSrc=function(){var e=w.default.get(n.rjvId,"action","variable-update"),t=e.name,r=e.namespace,i=e.new_value,o=e.existing_value,a=(e.variable_removed,e.updated_src),s=e.type,l=n.props,u=l.onEdit,c=l.onDelete,f=l.onAdd,h,d=void 0,p={existing_src:n.state.src,new_value:i,updated_src:a,name:t,namespace:r,existing_value:o};switch(s){case"variable-added":d=f(p);break;case"variable-edited":d=u(p);break;case"variable-removed":d=c(p)}!1!==d?(w.default.set(n.rjvId,"global","src",a),n.setState({src:a})):n.setState({validationFailure:!0})},n.addKeyRequest=function(){n.setState({addKeyRequest:!0})},n.resetState=function(){n.setState({validationFailure:!1,addKeyRequest:!1})},n.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:t.defaultProps.src,name:t.defaultProps.name,theme:t.defaultProps.theme,validationMessage:t.defaultProps.validationMessage,prevSrc:t.defaultProps.src,prevName:t.defaultProps.name,prevTheme:t.defaultProps.theme},n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){w.default.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)w.default.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&w.default.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)w.default.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,n=e.validationMessage,r=e.addKeyRequest,i=e.theme,o=e.src,a=e.name,l=this.props,u=l.style,f=l.defaultValue;return c.default.createElement("div",{className:"react-json-view",style:s({},(0,_.default)(i,"app-container").style,u)},c.default.createElement(b.default,{message:n,active:t,theme:i,rjvId:this.rjvId}),c.default.createElement(d.default,s({},this.props,{src:o,name:a,theme:i,type:(0,y.toType)(o),rjvId:this.rjvId})),c.default.createElement(m.default,{active:r,theme:i,rjvId:this.rjvId,defaultValue:f}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){if(e.src!==n.prevSrc||e.name!==n.prevName||e.theme!==n.prevTheme){var r={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return t.validateState(r)}return null}}]),t}(c.default.PureComponent);S.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null},S.validateState=function(e){var t={};return"object"!==(0,y.toType)(e.theme)||(0,y.isTheme)(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==(0,y.toType)(e.src)&&"array"!==(0,y.toType)(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),s({},e,t)},(0,f.polyfill)(S),t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l,u=r(n(0)),c,f=r(n(25)),h,d=r(n(57)),p=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,c=Array(l),h=0;h<l;h++)c[h]=arguments[h];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.render=function(){var e,t=r.props,n=[t.name],i=f.default;return t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(i=d.default),u.default.createElement("div",{className:"pretty-json-container object-container"},u.default.createElement("div",{className:"object-content"},u.default.createElement(i,s({namespace:n,depth:0,jsvRoot:!0},t))))},o(r,a=n)}return a(t,e),t}(u.default.PureComponent);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d,p=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,p.default)(e.theme,"boolean"),c.default.createElement(h.default,s({type_name:"bool"},e)),e.value?"true":"false")}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rjv_default={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},t.rjv_grey={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputHeight:"25px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var i,o=r(n(67)),a,s=r(n(94)),l,u=r(n(99)),c,f=r(n(107)),h,d=r(n(111)),p,m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(112)),g,b=r(n(150)),y,v=r(n(151)),w,x=r(n(156)),_=n(157),S=m.default,E=(0,f.default)(S),C=function(e){return e<.25?1:e<.5?.9-e:1.1-e},k=(0,x.default)(v.default,_.rgb2yuv,function(e){var t=(0,u.default)(e,3),n=t[0],r=t[1],i=t[2];return[C(n),r,i]},_.yuv2rgb,b.default),O=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,s.default)({},t.style||{},e.style||{})}}},T=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=void 0===e?"undefined":(0,o.default)(e),r=void 0===t?"undefined":(0,o.default)(t);switch(n){case"string":switch(r){case"string":return[t,e].filter(Boolean).join(" ");case"object":return O({className:e,style:t});case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return O({className:e})(t.apply(void 0,[n].concat(i)))}}case"object":switch(r){case"string":return O({className:t,style:e});case"object":return(0,s.default)({},t,e);case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return O({style:e})(t.apply(void 0,[n].concat(i)))}}case"function":switch(r){case"string":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(void 0,[O(n)({className:t})].concat(i))};case"object":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(void 0,[O(n)({style:t})].concat(i))};case"function":return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(void 0,[t.apply(void 0,[n].concat(i))].concat(i))}}}},N=function(e,t){var n=(0,f.default)(t);for(var r in e)-1===n.indexOf(r)&&n.push(r);return n.reduce(function(n,r){return n[r]=T(e[r],t[r]),n},{})},A=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(null===t)return e;Array.isArray(t)||(t=[t]);var a,l=t.map(function(t){return e[t]}).filter(Boolean).reduce(function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,o.default)(t))?e.style=(0,s.default)({},e.style,t):"function"==typeof t&&(e=(0,s.default)({},e,t.apply(void 0,[e].concat(r)))),e},{className:"",style:{}});return l.className||delete l.className,0===(0,f.default)(l.style).length&&delete l.style,l},I=t.invertTheme=function(e){return(0,f.default)(e).reduce(function(t,n){return t[n]=/^base/.test(n)?k(e[n]):"scheme"===n?e[n]+":inverted":e[n],t},{})},j=(t.createStyling=(0,d.default)(function(e){for(var t=arguments.length,n=Array(t>3?t-3:0),r=3;r<t;r++)n[r-3]=arguments[r];var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.defaultBase16,l=void 0===a?S:a,u=i.base16Themes,c,h=j(o,void 0===u?null:u);h&&(o=(0,s.default)({},h,o));var p=E.reduce(function(e,t){return e[t]=o[t]||l[t],e},{}),m=(0,f.default)(o).reduce(function(e,t){return-1===E.indexOf(t)?(e[t]=o[t],e):e},{}),g=e(p),b=N(m,g);return(0,d.default)(A,2).apply(void 0,[b].concat(n))},3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var n=e.split(":"),r=(0,u.default)(n,2),i=r[0],o=r[1];e=(t||{})[i]||m[i],"inverted"===o&&(e=I(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i,o=r(n(68)),a,s=r(n(83)),l="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":l(e)}},function(e,t,n){e.exports={default:n(69),__esModule:!0}},function(e,t,n){n(26),n(36),e.exports=n(37).f("iterator")},function(e,t,n){var r=n(27),i=n(28);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(72);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(47),i=n(22),o=n(34),a={};n(8)(a,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(9),i=n(16),o=n(19);e.exports=n(10)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(12),i=n(76),o=n(77);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(27),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(27),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(5).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(7),i=n(35),o=n(31)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(81),i=n(82),o=n(18),a=n(12);e.exports=n(43)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t,n){n(85),n(91),n(92),n(93),e.exports=n(2).Symbol},function(e,t,n){"use strict";var r=n(5),i=n(7),o=n(10),a=n(21),s=n(46),l=n(86).KEY,u=n(11),c=n(32),f=n(34),h=n(23),d=n(3),p=n(37),m=n(38),g=n(87),b=n(88),y=n(16),v=n(17),w=n(12),x=n(29),_=n(22),S=n(47),E=n(89),C=n(90),k=n(9),O=n(19),T=C.f,N=k.f,A=E.f,I=r.Symbol,j=r.JSON,R=j&&j.stringify,M=d("_hidden"),P=d("toPrimitive"),D={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),B=c("op-symbols"),z=Object.prototype,$="function"==typeof I,U=r.QObject,W=!U||!U.prototype||!U.prototype.findChild,V=o&&u(function(){return 7!=S(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(z,t);r&&delete z[t],N(e,t,n),r&&e!==z&&N(z,t,r)}:N,H=function(e){var t=F[e]=S(I.prototype);return t._k=e,t},G=$&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},q=function(e,t,n){return e===z&&q(B,t,n),y(e),t=x(t,!0),y(n),i(F,t)?(n.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),n=S(n,{enumerable:_(0,!1)})):(i(e,M)||N(e,M,_(1,{})),e[M][t]=!0),V(e,t,n)):N(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=w(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},Y=function(e,t){return void 0===t?S(e):K(S(e),t)},X=function(e){var t=D.call(this,e=x(e,!0));return!(this===z&&i(F,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,M)&&this[M][e])||t)},Z=function(e,t){if(e=w(e),t=x(t,!0),e!==z||!i(F,t)||i(B,t)){var n=T(e,t);return!n||!i(F,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=A(w(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==M||t==l||r.push(t);return r},Q=function(e){for(var t,n=e===z,r=A(n?B:w(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(z,t)||o.push(F[t]);return o};$||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(B,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),V(this,e,_(1,n))};return o&&W&&V(z,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),C.f=Z,k.f=q,n(50).f=E.f=J,n(24).f=X,n(39).f=Q,o&&!n(20)&&s(z,"propertyIsEnumerable",X,!0),p.f=function(e){return H(d(e))}),a(a.G+a.W+a.F*!$,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ne=O(d.store),re=0;ne.length>re;)m(ne[re++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=I(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!$,"Object",{create:Y,defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),j&&a(a.S+a.F*(!$||u(function(){var e=I();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(v(t)||void 0!==e)&&!G(e))return b(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,R.apply(j,r)}}),I.prototype[P]||n(8)(I.prototype,P,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(23)("meta"),i=n(17),o=n(7),a=n(9).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(11)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},h=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},d=function(e){return u&&p.NEED&&l(e)&&!o(e,r)&&c(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:d}},function(e,t,n){var r=n(19),i=n(39),o=n(24);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(30);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12),i=n(50).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(24),i=n(22),o=n(12),a=n(29),s=n(7),l=n(44),u=Object.getOwnPropertyDescriptor;t.f=n(10)?u:function(e,t){if(e=o(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(38)("asyncIterator")},function(e,t,n){n(38)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r,i=function(e){return e&&e.__esModule?e:{default:e}}(n(95));t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(96),__esModule:!0}},function(e,t,n){n(97),e.exports=n(2).Object.assign},function(e,t,n){var r=n(21);r(r.S+r.F,"Object",{assign:n(98)})},function(e,t,n){"use strict";var r=n(19),i=n(39),o=n(24),a=n(35),s=n(49),l=Object.assign;e.exports=!l||n(11)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,f=o.f;l>u;)for(var h,d=s(arguments[u++]),p=c?r(d).concat(c(d)):r(d),m=p.length,g=0;m>g;)f.call(d,h=p[g++])&&(n[h]=d[h]);return n}:l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i,o=r(n(100)),a,s=r(n(103));t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=(0,s.default)(e);!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(101),__esModule:!0}},function(e,t,n){n(36),n(26),e.exports=n(102)},function(e,t,n){var r=n(51),i=n(3)("iterator"),o=n(18);e.exports=n(2).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(104),__esModule:!0}},function(e,t,n){n(36),n(26),e.exports=n(105)},function(e,t,n){var r=n(16),i=n(106);e.exports=n(2).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(51),i=n(3)("iterator"),o=n(18);e.exports=n(2).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){e.exports={default:n(108),__esModule:!0}},function(e,t,n){n(109),e.exports=n(2).Object.keys},function(e,t,n){var r=n(35),i=n(19);n(110)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(21),i=n(2),o=n(11);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}function i(e,t){return!(!e||!e.length)&&a(e,t,0)>-1}function o(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function a(e,t,n){if(t!=t)return o(e,s,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function s(e){return e!=e}function l(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function f(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==V||(e[n]=V,o[i++]=n)}return o}function h(e){return P(e)?Ae(e):{}}function d(e){return!(!P(e)||N(e))&&(M(e)||c(e)?Ne:me).test(I(e))}function p(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Ie(o-a,0),c=Array(l+u),f=!r;++s<l;)c[s]=t[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function m(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Ie(o-s,0),f=Array(c+u),h=!r;++i<c;)f[i]=e[i];for(var d=i;++l<u;)f[d+l]=t[l];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function g(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function b(e,t,n){function r(){return(this&&this!==xe&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&H,o=y(e);return r}function y(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=h(e.prototype),r=e.apply(n,t);return P(r)?r:n}}function v(e,t,r){function i(){for(var a=arguments.length,s=Array(a),l=a,u=E(i);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:f(s,u);return(a-=c.length)<r?_(e,t,w,i.placeholder,void 0,s,c,void 0,void 0,r-a):n(this&&this!==xe&&this instanceof i?o:e,this,s)}var o=y(e);return i}function w(e,t,n,r,i,o,a,s,u,c){function h(){for(var C=arguments.length,k=Array(C),O=C;O--;)k[O]=arguments[O];if(v)var T=E(h),N=l(k,T);if(r&&(k=p(k,r,i,v)),o&&(k=m(k,o,a,v)),C-=N,v&&C<c){var I=f(k,T);return _(e,t,w,h.placeholder,n,k,I,s,u,c-C)}var j=g?n:this,R=b?j[e]:e;return C=k.length,s?k=A(k,s):x&&C>1&&k.reverse(),d&&u<C&&(k.length=u),this&&this!==xe&&this instanceof h&&(R=S||y(R)),R.apply(j,k)}var d=t&J,g=t&H,b=t&G,v=t&(K|Y),x=t&Q,S=b?void 0:y(e);return h}function x(e,t,r,i){function o(){for(var t=-1,l=arguments.length,u=-1,c=i.length,f=Array(c+l),h=this&&this!==xe&&this instanceof o?s:e;++u<c;)f[u]=i[u];for(;l--;)f[u++]=arguments[++t];return n(h,a?r:this,f)}var a=t&H,s=y(e);return o}function _(e,t,n,r,i,o,a,s,l,u){var c=t&K,f,h,d,p;t|=c?X:Z,(t&=~(c?Z:X))&q||(t&=~(H|G));var m=n(e,t,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,l,u);return m.placeholder=r,Me(m,e,t)}function S(e,t,n,r,i,o,a,s){var l=t&G;if(!l&&"function"!=typeof e)throw new TypeError(W);var u=r?r.length:0;if(u||(t&=~(X|Z),r=i=void 0),a=void 0===a?a:Ie(B(a),0),s=void 0===s?s:B(s),u-=i?i.length:0,t&Z){var c=r,f=i;r=i=void 0}var h=[e,t,n,r,i,c,f,o,a,s];if(e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(s=h[9]=null==h[9]?l?0:e.length:Ie(h[9]-u,0))&&t&(K|Y)&&(t&=~(K|Y)),t&&t!=H)d=t==K||t==Y?v(e,t,s):t!=X&&t!=(H|X)||i.length?w.apply(void 0,h):x(e,t,n,r);else var d=b(e,t,n);return Me(d,e,t)}function E(e){return e.placeholder}function C(e,t){var n=u(e,t);return d(n)?n:void 0}function k(e){var t=e.match(fe);return t?t[1].split(he):[]}function O(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}function T(e,t){return!!(t=null==t?te:t)&&("number"==typeof e||be.test(e))&&e>-1&&e%1==0&&e<t}function N(e){return!!Ce&&Ce in e}function A(e,t){for(var n=e.length,r=je(t.length,n),i=g(e);r--;){var o=t[r];e[r]=T(o,n)?i[o]:void 0}return e}function I(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function j(e,t){return r(ie,function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)}),e.sort()}function R(e,t,n){var r=S(e,K,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=R.placeholder,r}function M(e){var t=P(e)?Te.call(e):"";return t==oe||t==ae}function P(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return!!e&&"object"==typeof e}function L(e){return"symbol"==typeof e||D(e)&&Te.call(e)==se}function F(e){return e?(e=z(e))===ee||e===-ee?(e<0?-1:1)*ne:e==e?e:0:0===e?e:0}function B(e){var t=F(e),n=t%1;return t==t?n?t-n:t:0}function z(e){if("number"==typeof e)return e;if(L(e))return re;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ue,"");var n=pe.test(e);return n||ge.test(e)?ye(e.slice(2),n?2:8):de.test(e)?re:+e}function $(e){return function(){return e}}function U(e){return e}var W="Expected a function",V="__lodash_placeholder__",H=1,G=2,q=4,K=8,Y=16,X=32,Z=64,J=128,Q=512,ee=1/0,te=9007199254740991,ne=1.7976931348623157e308,re=NaN,ie=[["ary",J],["bind",H],["bindKey",G],["curry",K],["curryRight",Y],["flip",Q],["partial",X],["partialRight",Z],["rearg",256]],oe="[object Function]",ae="[object GeneratorFunction]",se="[object Symbol]",le=/[\\^$.*+?()[\]{}|]/g,ue=/^\s+|\s+$/g,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fe=/\{\n\/\* \[wrapped with (.+)\] \*/,he=/,? & /,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,ye=parseInt,ve="object"==typeof t&&t&&t.Object===Object&&t,we="object"==typeof self&&self&&self.Object===Object&&self,xe=ve||we||Function("return this")(),_e=Function.prototype,Se=Object.prototype,Ee=xe["__core-js_shared__"],Ce=function(){var e=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ke=_e.toString,Oe=Se.hasOwnProperty,Te=Se.toString,Ne=RegExp("^"+ke.call(Oe).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=Object.create,Ie=Math.max,je=Math.min,Re=function(){var e=C(Object,"defineProperty"),t=C.name;return t&&t.length>2?e:void 0}(),Me=Re?function(e,t,n){var r=t+"";return Re(e,"toString",{configurable:!0,enumerable:!1,value:$(O(r,j(k(r),n)))})}:U;R.placeholder={},e.exports=R}).call(t,n(52))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(113);t.threezerotwofour=r(i);var o=n(114);t.apathy=r(o);var a=n(115);t.ashes=r(a);var s=n(116);t.atelierDune=r(s);var l=n(117);t.atelierForest=r(l);var u=n(118);t.atelierHeath=r(u);var c=n(119);t.atelierLakeside=r(c);var f=n(120);t.atelierSeaside=r(f);var h=n(121);t.bespin=r(h);var d=n(122);t.brewer=r(d);var p=n(123);t.bright=r(p);var m=n(124);t.chalk=r(m);var g=n(125);t.codeschool=r(g);var b=n(126);t.colors=r(b);var y=n(127);t.default=r(y);var v=n(128);t.eighties=r(v);var w=n(129);t.embers=r(w);var x=n(130);t.flat=r(x);var _=n(131);t.google=r(_);var S=n(132);t.grayscale=r(S);var E=n(133);t.greenscreen=r(E);var C=n(134);t.harmonic=r(C);var k=n(135);t.hopscotch=r(k);var O=n(136);t.isotope=r(O);var T=n(137);t.marrakesh=r(T);var N=n(138);t.mocha=r(N);var A=n(139);t.monokai=r(A);var I=n(140);t.ocean=r(I);var j=n(141);t.paraiso=r(j);var R=n(142);t.pop=r(R);var M=n(143);t.railscasts=r(M);var P=n(144);t.shapeshifter=r(P);var D=n(145);t.solarized=r(D);var L=n(146);t.summerfruit=r(L);var F=n(147);t.tomorrow=r(F);var B=n(148);t.tube=r(B);var z=n(149);t.twilight=r(z)},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,n){function r(e){var t,n=Math.round(o(e,0,255)).toString(16);return 1==n.length?"0"+n:n}function i(e){var t=4===e.length?r(255*e[3]):"";return"#"+r(e[0])+r(e[1])+r(e[2])+t}var o=n(40);e.exports=i},function(e,t,n){function r(e){var t=o(e),n=l(t);return 4===t.length&&n.push(t[3]),n}function i(e){for(var t in u)if(0===e.indexOf(t))return u[t](e)}var o=n(152),a=n(153),s=n(154),l=n(155),u={"#":a,hsl:r,rgb:s};i.rgb=s,i.hsl=o,i.hex=a,e.exports=i},function(e,t,n){function r(e,t){switch(e=parseFloat(e),t){case 0:return a(e,0,360);case 1:case 2:return a(e,0,100);case 3:return a(e,0,1)}}function i(e){return o(e).map(r)}var o=n(53),a=n(40);e.exports=i},function(e,t){function n(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}function r(e){4!==e.length&&5!==e.length||(e=n(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var r=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(r)}return t}e.exports=r},function(e,t,n){function r(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*a(parseInt(e,10),0,100)/100):a(parseInt(e,10),0,255):a(parseFloat(e),0,1)}function i(e){return o(e).map(r)}var o=n(53),a=n(40);e.exports=i},function(e,t){function n(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*o;return i}e.exports=n},function(e,t,n){(function(t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function i(e,t,n,o,s){var l=-1,u=e.length;for(n||(n=a),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?i(c,t-1,n,o,s):r(s,c):o||(s[s.length]=c)}return s}function o(e,t){return t=O(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=O(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}function a(e){return T(e)||s(e)||!!(k&&e&&e[k])}function s(e){return u(e)&&_.call(e,"callee")&&(!C.call(e,"callee")||S.call(e)==m)}function l(e){return null!=e&&f(e.length)&&!c(e)}function u(e){return d(e)&&l(e)}function c(e){var t=h(e)?S.call(e):"";return t==g||t==b}function f(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){return!!e&&"object"==typeof e}var p=9007199254740991,m="[object Arguments]",g="[object Function]",b="[object GeneratorFunction]",y="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,w=y||v||Function("return this")(),x=Object.prototype,_=x.hasOwnProperty,S=x.toString,E=w.Symbol,C=x.propertyIsEnumerable,k=E?E.isConcatSpreadable:void 0,O=Math.max,T=Array.isArray,N=function(e){return o(function(e){for(var t=(e=i(e,1)).length,n=t;n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}})}();e.exports=N}).call(t,n(52))},function(e,t,n){"use strict";function r(e){var t,n,r,i=e[0],o=e[1],a=e[2];return t=1*i+0*o+1.13983*a,n=1*i+-.39465*o+-.5806*a,r=1*i+2.02311*o+0*a,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function i(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=r,t.rgb2yuv=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d,p=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return c.default.createElement("div",(0,p.default)(e.theme,"date"),c.default.createElement(h.default,s({type_name:"date"},e)),c.default.createElement("span",s({className:"date-value"},(0,p.default)(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",t)))}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d,p=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,p.default)(e.theme,"float"),c.default.createElement(h.default,s({type_name:"float"},e)),this.props.value)}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d,p=r(n(1)),m,g=r(n(13)),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y.call(n),n.state={collapsed:g.default.get(e.rjvId,e.namespace,"collapsed",!0)},n}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return c.default.createElement("div",(0,p.default)(e.theme,"function"),c.default.createElement(h.default,s({type_name:"function"},e)),c.default.createElement("span",s({},(0,p.default)(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),t}(c.default.PureComponent),y=function(){var e=this;this.toggleCollapsed=function(){e.setState({collapsed:!e.state.collapsed},function(){g.default.set(e.props.rjvId,e.props.namespace,"collapsed",e.state.collapsed)})},this.getFunctionDisplay=function(t){var n=e.props;return t?c.default.createElement("span",null,e.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),c.default.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},c.default.createElement("span",null,"{"),c.default.createElement("span",(0,p.default)(n.theme,"ellipsis"),"..."),c.default.createElement("span",null,"}"))):e.props.value.toString().slice(9,-1)}};t.default=b},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),i=(u=n.slice()).length,l=0;l<i;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){e.exports.Dispatcher=n(163)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=n(164),o=function(){function e(){r(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],f=0;(u=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,u=r(n(0)),c,f=r(n(1)),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",(0,f.default)(this.props.theme,"nan"),"NaN")}}]),t}(u.default.PureComponent);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,u=r(n(0)),c,f=r(n(1)),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",(0,f.default)(this.props.theme,"null"),"NULL")}}]),t}(u.default.PureComponent);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d,p=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,p.default)(e.theme,"integer"),c.default.createElement(h.default,s({type_name:"int"},e)),this.props.value)}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d,p=r(n(1)),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props;return c.default.createElement("div",(0,p.default)(e.theme,"regexp"),c.default.createElement(h.default,s({type_name:"regexp"},e)),this.props.value.toString())}}]),t}(c.default.PureComponent);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(6)),d=n(4),p,m=r(n(1)),g,b=r(n(13)),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCollapsed=function(){n.setState({collapsed:!n.state.collapsed},function(){b.default.set(n.props.rjvId,n.props.namespace,"collapsed",n.state.collapsed)})},n.state={collapsed:b.default.get(e.rjvId,e.namespace,"collapsed",!0)},n}return a(t,e),l(t,[{key:"render",value:function(){var e=(this.state.collapsed,this.props),t=e.collapseStringsAfterLength,n=e.theme,r=e.value,i,o={style:{cursor:"default"}};return"integer"===(0,d.toType)(t)&&r.length>t&&(o.style.cursor="pointer",this.state.collapsed&&(r=c.default.createElement("span",null,r.substring(0,t),c.default.createElement("span",(0,m.default)(n,"ellipsis")," ...")))),c.default.createElement("div",(0,m.default)(n,"string"),c.default.createElement(h.default,s({type_name:"string"},e)),c.default.createElement("span",s({className:"string-value"},o,{onClick:this.toggleCollapsed}),'"',r,'"'))}}]),t}(c.default.PureComponent);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l,u=r(n(0)),c,f=r(n(1)),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",(0,f.default)(this.props.theme,"undefined"),"undefined")}}]),t}(u.default.PureComponent);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c,f=r(n(0)),h,d=r(n(172)),p,m=r((n(4),n(14))),g,b=r(n(176)),y,v=r(n(54)),w,x=r(n(55)),_=n(42),S=n(15),E,C=r(n(1)),k=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return O.call(n),n.state={editMode:!1,editValue:"",renameKey:!1,parsedInput:{type:!1,value:null}},n}return s(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.variable,r=(t.src,t.singleIndent),o=t.type,a=t.theme,s=t.namespace,u=t.indentWidth,c=t.enableClipboard,h=t.onEdit,d=t.onDelete,p=t.onSelect,m=(t.rjvId,this.state.editMode);return f.default.createElement("div",l({},(0,C.default)(a,"objectKeyVal",{paddingLeft:u*r}),{className:"variable-row",key:n.name}),"array"==o?f.default.createElement("span",l({},(0,C.default)(a,"array-key"),{key:n.name+"_"+s}),n.name,f.default.createElement("div",(0,C.default)(a,"colon"),":")):f.default.createElement("span",null,f.default.createElement("span",l({},(0,C.default)(a,"object-name"),{className:"object-key",key:n.name+"_"+s}),f.default.createElement("span",{style:{verticalAlign:"top"}},'"'),f.default.createElement("span",{style:{display:"inline-block"}},n.name),f.default.createElement("span",{style:{verticalAlign:"top"}},'"')),f.default.createElement("span",(0,C.default)(a,"colon"),":")),f.default.createElement("div",l({className:"variable-value",onClick:!1===p&&!1===h?null:function(t){var r=[].concat(i(s));(t.ctrlKey||t.metaKey)&&!1!==h?e.prepopInput(n):!1!==p&&(r.shift(),p(l({},n,{namespace:r})))}},(0,C.default)(a,"variableValue",{cursor:!1===p?"default":"pointer"})),this.getValue(n,m)),c?f.default.createElement(x.default,l({hidden:m,src:n.value,clickCallback:c},{theme:a,namespace:s})):null,!1!==h&&0==m?this.getEditIcon():null,!1!==d&&0==m?this.getRemoveIcon():null)}}]),t}(f.default.PureComponent),O=function(){var e=this;this.getEditIcon=function(){var t=e.props,n=t.variable,r=t.theme;return f.default.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top"}},f.default.createElement(S.Edit,l({className:"click-to-edit-icon"},(0,C.default)(r,"editVarIcon"),{onClick:function(){e.prepopInput(n)}})))},this.prepopInput=function(t){if(!1!==e.props.onEdit){var n=(0,v.default)(t.value),r=(0,b.default)(n);e.setState({editMode:!0,editValue:n,parsedInput:{type:r.type,value:r.value}})}},this.getRemoveIcon=function(){var t=e.props,n=t.variable,r=t.namespace,i=t.theme,o=t.rjvId;return f.default.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top"}},f.default.createElement(S.RemoveCircle,l({className:"click-to-remove-icon"},(0,C.default)(i,"removeVarIcon"),{onClick:function(){m.default.dispatch({name:"VARIABLE_REMOVED",rjvId:o,data:{name:n.name,namespace:r,existing_value:n.value,variable_removed:!0}})}})))},this.getValue=function(t,n){var r=!n&&t.type,i=e.props;switch(r){case!1:return e.getEditInput();case"string":return f.default.createElement(_.JsonString,l({value:t.value},i));case"integer":return f.default.createElement(_.JsonInteger,l({value:t.value},i));case"float":return f.default.createElement(_.JsonFloat,l({value:t.value},i));case"boolean":return f.default.createElement(_.JsonBoolean,l({value:t.value},i));case"function":return f.default.createElement(_.JsonFunction,l({value:t.value},i));case"null":return f.default.createElement(_.JsonNull,i);case"nan":return f.default.createElement(_.JsonNan,i);case"undefined":return f.default.createElement(_.JsonUndefined,i);case"date":return f.default.createElement(_.JsonDate,l({value:t.value},i));case"regexp":return f.default.createElement(_.JsonRegexp,l({value:t.value},i));default:return f.default.createElement("div",{className:"object-value"},JSON.stringify(t.value))}},this.getEditInput=function(){var t=e.props.theme,n=e.state.editValue;return f.default.createElement("div",null,f.default.createElement(d.default,l({type:"text",inputRef:function(e){return e&&e.focus()},value:n,className:"variable-editor",onChange:function(t){var n=t.target.value,r=(0,b.default)(n);e.setState({editValue:n,parsedInput:{type:r.type,value:r.value}})},onKeyDown:function(t){switch(t.key){case"Escape":e.setState({editMode:!1,editValue:""});break;case"Enter":(t.ctrlKey||t.metaKey)&&e.submitEdit(!0)}t.stopPropagation()},placeholder:"update this value"},(0,C.default)(t,"edit-input"))),f.default.createElement("div",(0,C.default)(t,"edit-icon-container"),f.default.createElement(S.RemoveCircle,l({className:"edit-cancel"},(0,C.default)(t,"cancel-icon"),{onClick:function(){e.setState({editMode:!1,editValue:""})}})),f.default.createElement(S.CheckCircle,l({className:"edit-check string-value"},(0,C.default)(t,"check-icon"),{onClick:function(){e.submitEdit()}})),f.default.createElement("div",null,e.showDetected())))},this.submitEdit=function(t){var n=e.props,r=n.variable,i=n.namespace,o=n.rjvId,a=e.state,s=a.editValue,l=a.parsedInput,u=s;t&&l.type&&(u=l.value),e.setState({editMode:!1}),m.default.dispatch({name:"VARIABLE_UPDATED",rjvId:o,data:{name:r.name,namespace:i,existing_value:r.value,new_value:u,variable_removed:!1}})},this.showDetected=function(){var t=e.props,n=t.theme,r=(t.variable,t.namespace,t.rjvId,e.state.parsedInput),i=(r.type,r.value,e.getDetectedInput());if(i)return f.default.createElement("div",null,f.default.createElement("div",(0,C.default)(n,"detected-row"),i,f.default.createElement(S.CheckCircle,{className:"edit-check detected",style:l({verticalAlign:"top",paddingLeft:"3px"},(0,C.default)(n,"check-icon").style),onClick:function(){e.submitEdit(!0)}})))},this.getDetectedInput=function(){var t=e.state.parsedInput,n=t.type,r=t.value,i=e.props,o=i.theme;if(!1!==n)switch(n.toLowerCase()){case"object":return f.default.createElement("span",null,f.default.createElement("span",{style:l({},(0,C.default)(o,"brace").style,{cursor:"default"})},"{"),f.default.createElement("span",{style:l({},(0,C.default)(o,"ellipsis").style,{cursor:"default"})},"..."),f.default.createElement("span",{style:l({},(0,C.default)(o,"brace").style,{cursor:"default"})},"}"));case"array":return f.default.createElement("span",null,f.default.createElement("span",{style:l({},(0,C.default)(o,"brace").style,{cursor:"default"})},"["),f.default.createElement("span",{style:l({},(0,C.default)(o,"ellipsis").style,{cursor:"default"})},"..."),f.default.createElement("span",{style:l({},(0,C.default)(o,"brace").style,{cursor:"default"})},"]"));case"string":return f.default.createElement(_.JsonString,l({value:r},i));case"integer":return f.default.createElement(_.JsonInteger,l({value:r},i));case"float":return f.default.createElement(_.JsonFloat,l({value:r},i));case"boolean":return f.default.createElement(_.JsonBoolean,l({value:r},i));case"function":return f.default.createElement(_.JsonFunction,l({value:r},i));case"null":return f.default.createElement(_.JsonNull,i);case"nan":return f.default.createElement(_.JsonNan,i);case"undefined":return f.default.createElement(_.JsonUndefined,i);case"date":return f.default.createElement(_.JsonDate,l({value:new Date(r)},i))}}};t.default=k},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e,t,n,r,i){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),null===b.parentNode&&document.body.appendChild(b);var o=s(e,t,n);if(null===o)return null;var a=o.paddingSize,l=o.borderSize,u=o.boxSizing,c=o.sizingStyle;Object.keys(c).forEach(function(e){b.style[e]=c[e]}),y(b),b.value=e.value||e.placeholder||"x";var f=-1/0,h=1/0,d=b.scrollHeight;"border-box"===u?d+=l:"content-box"===u&&(d-=a),b.value="x";var p=b.scrollHeight-a;return null===r&&null===i||(null!==r&&(f=p*r,"border-box"===u&&(f=f+a+l),d=Math.max(f,d)),null!==i&&(h=p*i,"border-box"===u&&(h=h+a+l),d=Math.min(h,d))),{height:d,minHeight:f,maxHeight:h,rowCount:Math.floor(d/p)}}function s(e,t,n){if(void 0===n&&(n=!1),n&&g[t])return g[t];var r=window.getComputedStyle(e);if(null===r)return null;var i=m.reduce(function(e,t){return e[t]=r.getPropertyValue(t),e},{}),o=i["box-sizing"];if(""===o)return null;d&&"border-box"===o&&(i.width=parseFloat(i.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var a,s,l={sizingStyle:i,paddingSize:parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),borderSize:parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),boxSizing:o};return n&&(g[t]=l),l}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),u=n.n(l),c=n(173),f=n.n(c),h=(Object.setPrototypeOf,"object"==typeof Reflect&&Reflect.construct,"undefined"!=typeof window&&"undefined"!=typeof document),d=!!h&&!!document.documentElement.currentStyle,p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],g={},b=h&&document.createElement("textarea"),y=function(e){Object.keys(p).forEach(function(t){e.style.setProperty(t,p[t],"important")})};h&&y(b);var v=function(e){return delete g[e]},w=function(e){return void 0===e&&(e=0),function(){return++e}}(),x=function(){},_=h&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],S=_[0],E=_[1],C=function(e){function t(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=x),void 0!==n._rootDOMNode){var t=a(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,i=t.minHeight,o=t.maxHeight,s=t.rowCount;n.rowCount=s,n.state.height===r&&n.state.minHeight===i&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:i,maxHeight:o},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=w(),n._controlled="string"==typeof t.value,n}i(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,o(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=r({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),u.a.createElement("textarea",r({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},n.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){return e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},n.componentDidUpdate=function(e,t){var n=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=S(function(){return n._resizeComponent()})),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},n.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),v(this._uid)},n._clearNextFrame=function(){E(this._onNextFrameActionId)},t}(u.a.Component);C.propTypes={inputRef:f.a.func,maxRows:f.a.number,minRows:f.a.number,onChange:f.a.func,onHeightChange:f.a.func,useCacheForDOMMeasurements:f.a.bool,value:f.a.string},C.defaultProps={inputRef:x,onChange:x,onHeightChange:x,useCacheForDOMMeasurements:!1},t.default=C},function(e,t,n){e.exports=n(174)()},function(e,t,n){"use strict";function r(){}var i=n(175);e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return i("array",JSON.parse(e));if("{"===e[0])return i("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return i("float",parseFloat(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return i("integer",parseInt(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return i("undefined",void 0);case"nan":return i("nan",NaN);case"null":return i("null",null);case"true":return i("boolean",!0);case"false":return i("boolean",!1);default:if(e=Date.parse(e))return i("date",new Date(e))}return i(!1,null)}function i(e,t){return{type:e,value:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(14)),d,p=r(n(13)),m,g=r(n(178)),b,y=(r(n(1)),function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.isValid=function(e){var t=r.props.rjvId,n=p.default.get(t,"action","new-key-request");return""!=e&&-1===Object.keys(n.existing_value).indexOf(e)},r.submit=function(e){var t=r.props.rjvId,n=p.default.get(t,"action","new-key-request");n.new_value=s({},n.existing_value),n.new_value[e]=r.props.defaultValue,h.default.dispatch({name:"VARIABLE_ADDED",rjvId:t,data:n})},o(r,a=n)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.theme,r=e.rjvId;return t?c.default.createElement(g.default,{rjvId:r,theme:n,isValid:this.isValid,submit:this.submit}):null}}]),t}(c.default.PureComponent));t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(14)),d=n(15),p,m=r(n(1)),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.closeModal=function(){h.default.dispatch({rjvId:n.props.rjvId,name:"RESET"})},n.submit=function(){n.props.submit(n.state.input)},n.state={input:e.input?e.input:""},n}return a(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rjvId,i=t.isValid,o=this.state.input,a=i(o);return c.default.createElement("div",s({className:"key-modal-request"},(0,m.default)(n,"key-modal-request"),{onClick:this.closeModal}),c.default.createElement("div",s({},(0,m.default)(n,"key-modal"),{onClick:function(e){e.stopPropagation()}}),c.default.createElement("div",(0,m.default)(n,"key-modal-label"),"Key Name:"),c.default.createElement("div",{style:{position:"relative"}},c.default.createElement("input",s({},(0,m.default)(n,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:o,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){a&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),a?c.default.createElement(d.CheckCircle,s({},(0,m.default)(n,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),c.default.createElement("span",(0,m.default)(n,"key-modal-cancel"),c.default.createElement(d.Add,s({},(0,m.default)(n,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){h.default.dispatch({rjvId:r,name:"RESET"})}})))))}}]),t}(c.default.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u,c=r(n(0)),f,h=r(n(14)),d,p=(r(n(13)),n(15)),m,g=r(n(1)),b=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.active,r=e.theme,i=e.rjvId;return n?c.default.createElement("div",s({className:"validation-failure"},(0,g.default)(r,"validation-failure"),{onClick:function(){h.default.dispatch({rjvId:i,name:"RESET"})}}),c.default.createElement("span",(0,g.default)(r,"validation-failure-label"),t),c.default.createElement(p.Add,(0,g.default)(r,"validation-failure-clear"))):null}}]),t}(c.default.PureComponent);t.default=b},function(e,t,n){var r=n(181);"string"==typeof r&&(r=[[e.i,r,""]]);var i={transform:void 0};n(183)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(182)(!1)).push([e.i,".react-json-view .copy-to-clipboard-container{vertical-align:top;display:none}.react-json-view .click-to-add,.react-json-view .click-to-edit,.react-json-view .click-to-remove{display:none}.react-json-view .object-content .variable-row:hover .click-to-edit,.react-json-view .object-content .variable-row:hover .click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-add,.react-json-view .object-key-val:hover>span>.object-meta-data>.click-to-remove,.react-json-view .object-key-val:hover>span>.object-meta-data>.copy-to-clipboard-container,.react-json-view .variable-row:hover .copy-to-clipboard-container{display:inline-block}",""])},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s,l,u,c={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=y++;n=b||(b=s(t)),r=f.bind(null,n,u,!1),i=f.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=d.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=h.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),b=null,y=0,v=[],w=n(184);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l;(l=p[s.id]).refs--,o.push(l)}e&&r(i(e,t),t);for(var a=0;a<o.length;a++){var l;if(0===(l=o[a]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t}),o;return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}}])},e.exports=i(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyPoint=t.Point=t.LazyBrush=void 0;var r,i=u(n(617)),o,a=u(n(261)),s,l=u(n(260));function u(e){return e&&e.__esModule?e:{default:e}}t.LazyBrush=i.default,t.Point=a.default,t.LazyPoint=l.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=t.Catenary=void 0;var r,i=s(n(618)),o,a=s(n(262));function s(e){return e&&e.__esModule?e:{default:e}}t.Catenary=i.default,t.Point=a.default},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2;function s(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&u()}function l(){o(s)}function u(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=e}return u}var l=20,u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),l)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e;this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r;u.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),h=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){var t;return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=E(0,0,0,0);function m(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){var r;return t+m(e["border-"+n+"-width"])},0)}function b(e){for(var t,n={},r=0,i=["top","right","bottom","left"];r<i.length;r++){var o=i[r],a=e["padding-"+o];n[o]=m(a)}return n}function y(e){var t=e.getBBox();return E(0,0,t.width,t.height)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=d(e).getComputedStyle(e),i=b(r),o=i.left+i.right,a=i.top+i.bottom,s=m(r.width),l=m(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=g(r,"left","right")+o),Math.round(l+a)!==n&&(l-=g(r,"top","bottom")+a)),!x(e)){var u=Math.round(s+o)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return E(i.left,i.top,s,l)}var w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function x(e){return e===d(e).document.documentElement}function _(e){return r?w(e)?y(e):v(e):p}function S(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return h(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function E(e,t,n,r){return{x:e,y:t,width:n,height:r}}var C=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(){function e(e,t){var n=S(t);h(this,{target:e,contentRect:n})}return e}(),O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new C(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new k(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),T="undefined"!=typeof WeakMap?new WeakMap:new n,N=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new O(t,n,this);T.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){N.prototype[e]=function(){var t;return(t=T.get(this))[e].apply(t,arguments)}});var A=void 0!==i.ResizeObserver?i.ResizeObserver:N;t.a=A}).call(this,n(64))},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"json",function(){return r});
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]}]},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r=n(1),i=n(35),o=n(290);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
class a extends i.a{decodeUTF8(){return new s(this)}}class s extends o.a{constructor(e){super(),this.upstream=e,this.impl=new l(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class l extends i.b{constructor(e){if(super(),this.upstream=e,Object(r.nb)().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{const{StringDecoder:e}=n(636);this.decoder=new e("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){const t=await this.upstream.next();let n,i;return!t.done&&(n=t.value,i=Object(r.nb)().get("IS_BROWSER")?this.decoder.decode(n,{stream:!0}):this.decoder.write(e.from(n.buffer)),this.outputQueue.push(i),!0)}}}).call(this,n(188).Buffer)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(35);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class i extends r.a{split(e){return new o(this,e)}}class o extends i{constructor(e,t){super(),this.upstream=e,this.impl=new a(e,t)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class a extends r.b{constructor(e,t){super(),this.upstream=e,this.separator=t,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const e=await this.upstream.next();if(e.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);const t=e.value.split(this.separator);t[0]=this.carryover+t[0];for(const e of t.slice(0,-1))this.outputQueue.push(e);return this.carryover=t[t.length-1],!0}}},function(e,t,n){"use strict";(function(e){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var o=(a=function e(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a;Object.defineProperty(t,"__esModule",{value:!0}),t.UnControlled=t.Controlled=void 0;var s=n(2),l="undefined"==typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER,u;l||(u=n(264));var c=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,o=i(e),a=i(t);return e&&t&&"object"===o&&o===a?r(e).length===r(t).length&&r(e).every(function(r){return n.equals(e[r],t[r])}):e===t},e}(),f=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){var n;this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!c.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!c.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!c.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter(function(e){return/^on/.test(e)}).forEach(function(e){switch(e){case"onBlur":t.editor.on("blur",function(e,n){t.props.onBlur(t.editor,n)});break;case"onContextMenu":t.editor.on("contextmenu",function(e,n){t.props.onContextMenu(t.editor,n)});break;case"onCopy":t.editor.on("copy",function(e,n){t.props.onCopy(t.editor,n)});break;case"onCursor":t.editor.on("cursorActivity",function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())});break;case"onCursorActivity":t.editor.on("cursorActivity",function(e){t.props.onCursorActivity(t.editor)});break;case"onCut":t.editor.on("cut",function(e,n){t.props.onCut(t.editor,n)});break;case"onDblClick":t.editor.on("dblclick",function(e,n){t.props.onDblClick(t.editor,n)});break;case"onDragEnter":t.editor.on("dragenter",function(e,n){t.props.onDragEnter(t.editor,n)});break;case"onDragLeave":t.editor.on("dragleave",function(e,n){t.props.onDragLeave(t.editor,n)});break;case"onDragOver":t.editor.on("dragover",function(e,n){t.props.onDragOver(t.editor,n)});break;case"onDragStart":t.editor.on("dragstart",function(e,n){t.props.onDragStart(t.editor,n)});break;case"onDrop":t.editor.on("drop",function(e,n){t.props.onDrop(t.editor,n)});break;case"onFocus":t.editor.on("focus",function(e,n){t.props.onFocus(t.editor,n)});break;case"onGutterClick":t.editor.on("gutterClick",function(e,n,r,i){t.props.onGutterClick(t.editor,n,r,i)});break;case"onInputRead":t.editor.on("inputRead",function(e,n){t.props.onInputRead(t.editor,n)});break;case"onKeyDown":t.editor.on("keydown",function(e,n){t.props.onKeyDown(t.editor,n)});break;case"onKeyHandled":t.editor.on("keyHandled",function(e,n,r){t.props.onKeyHandled(t.editor,n,r)});break;case"onKeyPress":t.editor.on("keypress",function(e,n){t.props.onKeyPress(t.editor,n)});break;case"onKeyUp":t.editor.on("keyup",function(e,n){t.props.onKeyUp(t.editor,n)});break;case"onMouseDown":t.editor.on("mousedown",function(e,n){t.props.onMouseDown(t.editor,n)});break;case"onPaste":t.editor.on("paste",function(e,n){t.props.onPaste(t.editor,n)});break;case"onRenderLine":t.editor.on("renderLine",function(e,n,r){t.props.onRenderLine(t.editor,n,r)});break;case"onScroll":t.editor.on("scroll",function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())});break;case"onSelection":t.editor.on("beforeSelectionChange",function(e,n){t.props.onSelection(t.editor,n)});break;case"onTouchStart":t.editor.on("touchstart",function(e,n){t.props.onTouchStart(t.editor,n)});break;case"onUpdate":t.editor.on("update",function(e){t.props.onUpdate(t.editor)});break;case"onViewportChange":t.editor.on("viewportChange",function(e,n,r){t.props.onViewportChange(t.editor,n,r)})}})},e}(),h=function(e){function t(t){var n=e.call(this,t)||this;return l?n:(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n)}return o(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},i=r({},u.defaults,this.editor.options,n),o;Object.keys(i).some(function(e){return t.editor.getOption(e)!==i[e]})&&Object.keys(i).forEach(function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&(t.editor.setOption(e,i[e]),t.mirror.setOption(e,i[e]))}),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),n=t.lastLine(),r=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var n=t.getCursor();t.setValue(e),t.setCursor(n)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;l||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&u.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=u(this.ref,this.props.options),this.shared=new f(this.editor,this.props),this.mirror=u(function(){},this.props.options),this.editor.on("electricInput",function(){e.mirror.setHistory(e.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){e.mirror.setCursor(e.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}}),this.editor.on("change",function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!l){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(u)},t.prototype.shouldComponentUpdate=function(e,t){return!l},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function t(n){return e.ref=n}})},t}(s.Component);t.Controlled=h;var d=function(e){function t(t){var n=e.call(this,t)||this;return l?n:(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0},n)}return o(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},i=r({},u.defaults,this.editor.options,n),o;if(Object.keys(i).some(function(e){return t.editor.getOption(e)!==i[e]})&&Object.keys(i).forEach(function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&t.editor.setOption(e,i[e])}),!this.hydrated){var a=this.editor.getDoc(),s=a.lastLine(),l=a.getLine(a.lastLine()).length;a.replaceRange(e.value||"",{line:0,ch:0},{line:s,ch:l})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;l||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&u.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=u(this.ref,this.props.options),this.shared=new f(this.editor,this.props),this.editor.on("beforeChange",function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)}),this.editor.on("change",function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!l&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(u)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return l&&(n=!1),this.detached&&e.detach&&(n=!1),n},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function t(n){return e.ref=n}})},t}(s.Component);t.UnControlled=d}).call(this,n(64))},function(e,t,n){"use strict";var r=n(265),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function u(e){return r.isMemo(e)?s:l[e.$$typeof]||i}l[r.ForwardRef]=a,l[r.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function g(e,t,n){if("string"!=typeof t){if(m){var r=p(t);r&&r!==m&&g(e,r,n)}var i=f(t);h&&(i=i.concat(h(t)));for(var a=u(e),s=u(t),l=0;l<i.length;++l){var b=i[l];if(!(o[b]||n&&n[b]||s&&s[b]||a&&a[b])){var y=d(t,b);try{c(e,b,y)}catch(e){}}}}return e}e.exports=g},function(e,t,n){e.exports=n(652)},function(e,t,n){"use strict";var r=n(16),i=n(23),o=n(58),a=n(60),s=n(29),l=n(152),u=n(197),c=n(19),f=n(33),h=n(91),d=n(24),p=n(25),m=n(32),g=n(42),b=n(57),y=n(68),v=n(70),w=n(107),x=n(81),_=n(200),S=n(151),E=n(37),C=n(31),k=n(119),O=n(40),T=n(38),N=n(148),A=n(120),I=n(104),j=n(103),R=n(27),M=n(201),P=n(44),D=n(61),L=n(43),F=n(36).forEach,B=A("hidden"),z="Symbol",$="prototype",U=R("toPrimitive"),W=L.set,V=L.getterFor(z),H=Object.prototype,G=i.Symbol,q=o("JSON","stringify"),K=E.f,Y=C.f,X=_.f,Z=k.f,J=N("symbols"),Q=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),ne=N("wks"),re=i.QObject,ie=!re||!re.prototype||!re.prototype.findChild,oe=s&&c(function(){return 7!=v(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=K(H,t);r&&delete H[t],Y(e,t,n),r&&e!==H&&Y(H,t,r)}:Y,ae=function(e,t){var n=J[e]=v(G.prototype);return W(n,{type:z,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},le=function e(t,n,r){t===H&&le(Q,n,r),p(t);var i=b(n,!0);return p(r),f(J,i)?(r.enumerable?(f(t,B)&&t[B][i]&&(t[B][i]=!1),r=v(r,{enumerable:y(0,!1)})):(f(t,B)||Y(t,B,y(1,{})),t[B][i]=!0),oe(t,i,r)):Y(t,i,r)},ue=function e(t,n){p(t);var r=g(n),i=w(r).concat(pe(r));return F(i,function(e){s&&!fe.call(r,e)||le(t,e,r[e])}),t},ce=function e(t,n){return void 0===n?v(t):ue(v(t),n)},fe=function e(t){var n=b(t,!0),r=Z.call(this,n);return!(this===H&&f(J,n)&&!f(Q,n))&&(!(r||!f(this,n)||!f(J,n)||f(this,B)&&this[B][n])||r)},he=function e(t,n){var r=g(t),i=b(n,!0);if(r!==H||!f(J,i)||f(Q,i)){var o=K(r,i);return!o||!f(J,i)||f(r,B)&&r[B][i]||(o.enumerable=!0),o}},de=function e(t){var n=X(g(t)),r=[];return F(n,function(e){f(J,e)||f(I,e)||r.push(e)}),r},pe=function e(t){var n=t===H,r=X(n?Q:g(t)),i=[];return F(r,function(e){!f(J,e)||n&&!f(H,e)||i.push(J[e])}),i},me;(l||(T((G=function e(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=j(t),r=function(e){this===H&&r.call(Q,e),f(this,B)&&f(this[B],n)&&(this[B][n]=!1),oe(this,n,y(1,e))};return s&&ie&&oe(H,n,{configurable:!0,set:r}),ae(n,t)}).prototype,"toString",function e(){return V(this).tag}),T(G,"withoutSetter",function(e){return ae(j(e),e)}),k.f=fe,C.f=le,E.f=he,x.f=_.f=de,S.f=pe,M.f=function(e){return ae(R(e),e)},s&&(Y(G.prototype,"description",{configurable:!0,get:function e(){return V(this).description}}),a||T(H,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:G}),F(w(ne),function(e){P(e)}),r({target:z,stat:!0,forced:!l},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=G(t);return ee[t]=n,te[n]=t,n},keyFor:function e(t){if(!se(t))throw TypeError(t+" is not a symbol");if(f(te,t))return te[t]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:ce,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:he}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:c(function(){S.f(1)})},{getOwnPropertySymbols:function e(t){return S.f(m(t))}}),q)&&r({target:"JSON",stat:!0,forced:!l||c(function(){var e=G();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})},{stringify:function e(t,n,r){for(var i=[t],o=1,a;arguments.length>o;)i.push(arguments[o++]);if(a=n,(d(n)||void 0!==t)&&!se(t))return h(n)||(n=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!se(t))return t}),i[1]=n,q.apply(null,i)}});G.prototype[U]||O(G.prototype,U,G.prototype.valueOf),D(G,z),I[B]=!0},function(e,t,n){"use strict";var r=n(16),i=n(29),o=n(23),a=n(33),s=n(24),l=n(31).f,u=n(194),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var f={},h=function e(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof h?new c(t):void 0===t?c():c(t);return""===t&&(f[n]=!0),n};u(h,c);var d=h.prototype=c.prototype;d.constructor=h;var p=d.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;l(d,"description",{configurable:!0,get:function e(){var t=s(this)?this.valueOf():this,n=p.call(t);if(a(f,t))return"";var r=m?n.slice(7,-1):n.replace(g,"$1");return""===r?void 0:r}}),r({global:!0,forced:!0},{Symbol:h})}},function(e,t,n){var r;n(44)("asyncIterator")},function(e,t,n){var r;n(44)("hasInstance")},function(e,t,n){var r;n(44)("isConcatSpreadable")},function(e,t,n){var r;n(44)("iterator")},function(e,t,n){var r;n(44)("match")},function(e,t,n){var r;n(44)("replace")},function(e,t,n){var r;n(44)("search")},function(e,t,n){var r;n(44)("species")},function(e,t,n){var r;n(44)("split")},function(e,t,n){var r;n(44)("toPrimitive")},function(e,t,n){var r;n(44)("toStringTag")},function(e,t,n){var r;n(44)("unscopables")},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(91),a=n(24),s=n(32),l=n(30),u=n(82),c=n(108),f=n(109),h=n(27),d=n(153),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",b=d>=51||!i(function(){var e=[];return e[p]=!1,e.concat()[0]!==e}),y=f("concat"),v=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},w;r({target:"Array",proto:!0,forced:!b||!y},{concat:function e(t){var n=s(this),r=c(n,0),i=0,o,a,f,h,d;for(o=-1,f=arguments.length;o<f;o++)if(d=-1===o?n:arguments[o],v(d)){if(i+(h=l(d.length))>9007199254740991)throw TypeError(g);for(a=0;a<h;a++,i++)a in d&&u(r,i,d[a])}else{if(i>=9007199254740991)throw TypeError(g);u(r,i++,d)}return r.length=i,r}})},function(e,t,n){var r=n(16),i=n(202),o=n(72);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(e,t,n){"use strict";var r=n(16),i=n(36).every,o=n(65),a=n(41),s=o("every"),l=a("every");r({target:"Array",proto:!0,forced:!s||!l},{every:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),i=n(155),o=n(72);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t,n){"use strict";var r=n(16),i=n(36).filter,o=n(109),a=n(41),s=o("filter"),l=a("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(36).find,o=n(72),a,s="find",l=!0,u=n(41)(s);s in[]&&Array(1).find(function(){l=!1}),r({target:"Array",proto:!0,forced:l||!u},{find:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},function(e,t,n){"use strict";var r=n(16),i=n(36).findIndex,o=n(72),a,s="findIndex",l=!0,u=n(41)(s);s in[]&&Array(1).findIndex(function(){l=!1}),r({target:"Array",proto:!0,forced:l||!u},{findIndex:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},function(e,t,n){"use strict";var r=n(16),i=n(203),o=n(32),a=n(30),s=n(49),l=n(108);r({target:"Array",proto:!0},{flat:function e(){var t=arguments.length?arguments[0]:void 0,n=o(this),r=a(n.length),u=l(n,0);return u.length=i(u,n,n,r,0,void 0===t?1:s(t)),u}})},function(e,t,n){"use strict";var r=n(16),i=n(203),o=n(32),a=n(30),s=n(50),l=n(108);r({target:"Array",proto:!0},{flatMap:function e(t){var n=o(this),r=a(n.length),u;return s(t),(u=l(n,0)).length=i(u,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),u}})},function(e,t,n){"use strict";var r=n(16),i=n(204);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){var r=n(16),i=n(205),o,a;r({target:"Array",stat:!0,forced:!n(121)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var r=n(16),i=n(105).includes,o=n(72),a,s;r({target:"Array",proto:!0,forced:!n(41)("indexOf",{ACCESSORS:!0,1:0})},{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){"use strict";var r=n(16),i=n(105).indexOf,o=n(65),a=n(41),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function e(t){return l?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(102),o=n(42),a=n(65),s=[].join,l=i!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function e(t){return s.call(o(this),void 0===t?",":t)}})},function(e,t,n){var r=n(16),i=n(210);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,n){"use strict";var r=n(16),i=n(36).map,o=n(109),a=n(41),s=o("map"),l=a("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(82),a;r({target:"Array",stat:!0,forced:i(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function e(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)o(r,t,arguments[t++]);return r.length=n,r}})},function(e,t,n){"use strict";var r=n(16),i=n(123).left,o=n(65),a=n(41),s=o("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function e(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(123).right,o=n(65),a=n(41),s=o("reduceRight"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduceRight:function e(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(91),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function e(){return i(this)&&(this.length=this.length),o.call(this)}})},function(e,t,n){"use strict";var r=n(16),i=n(24),o=n(91),a=n(69),s=n(30),l=n(42),u=n(82),c=n(27),f=n(109),h=n(41),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function e(t,n){var r=l(this),c=s(r.length),f=a(t,c),h=a(void 0===n?c:n,c),d,p,y;if(o(r)&&("function"!=typeof(d=r.constructor)||d!==Array&&!o(d.prototype)?i(d)&&null===(d=d[m])&&(d=void 0):d=void 0,d===Array||void 0===d))return g.call(r,f,h);for(p=new(void 0===d?Array:d)(b(h-f,0)),y=0;f<h;f++,y++)f in r&&u(p,y,r[f]);return p.length=y,p}})},function(e,t,n){"use strict";var r=n(16),i=n(36).some,o=n(65),a=n(41),s=o("some"),l=a("some");r({target:"Array",proto:!0,forced:!s||!l},{some:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(50),o=n(32),a=n(19),s=n(65),l=[],u=l.sort,c=a(function(){l.sort(void 0)}),f=a(function(){l.sort(null)}),h=s("sort"),d;r({target:"Array",proto:!0,forced:c||!f||!h},{sort:function e(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},function(e,t,n){var r;n(92)("Array")},function(e,t,n){"use strict";var r=n(16),i=n(69),o=n(49),a=n(30),s=n(32),l=n(108),u=n(82),c=n(109),f=n(41),h=c("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!d},{splice:function e(t,n){var r=s(this),c=a(r.length),f=i(t,c),h=arguments.length,d,g,y,v,w,x;if(0===h?d=g=0:1===h?(d=0,g=c-f):(d=h-2,g=m(p(o(n),0),c-f)),c+d-g>9007199254740991)throw TypeError(b);for(y=l(r,g),v=0;v<g;v++)(w=f+v)in r&&u(y,v,r[w]);if(y.length=g,d<g){for(v=f;v<c-g;v++)x=v+d,(w=v+g)in r?r[x]=r[w]:delete r[x];for(v=c;v>c-g+d;v--)delete r[v-1]}else if(d>g)for(v=c-g;v>f;v--)x=v+d-1,(w=v+g-1)in r?r[x]=r[w]:delete r[x];for(v=0;v<d;v++)r[v+f]=arguments[v+2];return r.length=c-g+d,y}})},function(e,t,n){var r;n(72)("flat")},function(e,t,n){var r;n(72)("flatMap")},function(e,t,n){"use strict";var r=n(16),i=n(23),o=n(124),a=n(92),s="ArrayBuffer",l=o.ArrayBuffer,u;r({global:!0,forced:i.ArrayBuffer!==l},{ArrayBuffer:l}),a(s)},function(e,t){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,l=function(e,t,n){var l=new Array(n),u=8*n-t-1,c=(1<<u)-1,f=c>>1,h=23===t?i(2,-24)-i(2,-77):0,d=e<0||0===e&&1/e<0?1:0,p=0,m,g,b;for((e=r(e))!=e||e===1/0?(g=e!=e?1:0,m=c):(m=o(a(e)/s),e*(b=i(2,-m))<1&&(m--,b*=2),(e+=m+f>=1?h/b:h*i(2,1-f))*b>=2&&(m++,b/=2),m+f>=c?(g=0,m=c):m+f>=1?(g=(e*b-1)*i(2,t),m+=f):(g=e*i(2,f-1)*i(2,t),m=0));t>=8;l[p++]=255&g,g/=256,t-=8);for(m=m<<t|g,u+=t;u>0;l[p++]=255&m,m/=256,u-=8);return l[--p]|=128*d,l},u=function(e,t){var n=e.length,r=8*n-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,u=e[l--],c=127&u,f;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(f=c&(1<<-s)-1,c>>=-s,s+=t;s>0;f=256*f+e[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return f?NaN:u?-1/0:1/0;f+=i(2,t),c-=a}return(u?-1:1)*f*i(2,c-t)};e.exports={pack:l,unpack:u}},function(e,t,n){var r=n(16),i=n(28),o;r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(124),a=n(25),s=n(69),l=n(30),u=n(74),c=o.ArrayBuffer,f=o.DataView,h=c.prototype.slice,d;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new c(2).slice(1,void 0).byteLength})},{slice:function e(t,n){if(void 0!==h&&void 0===n)return h.call(a(this),t);for(var r=a(this).byteLength,i=s(t,r),o=s(void 0===n?r:n,r),d=new(u(this,c))(l(o-i)),p=new f(this),m=new f(d),g=0;i<o;)m.setUint8(g++,p.getUint8(i++));return d}})},function(e,t,n){var r=n(16),i=n(124),o;r({global:!0,forced:!n(160)},{DataView:i.DataView})},function(e,t,n){var r=n(16),i=n(341);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,n){"use strict";var r=n(19),i=n(161).start,o=Math.abs,a=Date.prototype,s=a.getTime,l=a.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-5e13-1))})||!r(function(){l.call(new Date(NaN))})?function e(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this,n=this.getUTCFullYear(),r=this.getUTCMilliseconds(),a=n<0?"-":n>9999?"+":"";return a+i(o(n),a?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(r,3,0)+"Z"}:l},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(32),a=n(57),s;r({target:"Date",proto:!0,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function e(t){var n=o(this),r=a(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(e,t,n){var r=n(40),i=n(344),o,a=n(27)("toPrimitive"),s=Date.prototype;a in s||r(s,a,i)},function(e,t,n){"use strict";var r=n(25),i=n(57);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},function(e,t,n){"use strict";var r=n(24),i=n(31),o=n(59),a,s=n(27)("hasInstance"),l=Function.prototype;s in l||i.f(l,s,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(29),i=n(31).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,l="name";!r||l in o||i(o,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(23),i;n(61)(r.JSON,"JSON",!0)},function(e,t,n){"use strict";var r=n(125),i=n(212);e.exports=r("Map",function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){var r=n(16),i=n(213),o=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2,u;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function e(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+l:i(t-1+s(t-1)*s(t+1))}})},function(e,t,n){var r=n(16),i=Math.asinh,o=Math.log,a=Math.sqrt;function s(e){return isFinite(e=+e)&&0!=e?e<0?-s(-e):o(e+a(e*e+1)):e}r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:s})},function(e,t,n){var r=n(16),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function e(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(e,t,n){var r=n(16),i=n(163),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function e(t){return i(t=+t)*a(o(t),1/3)}})},function(e,t,n){var r=n(16),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function e(t){return(t>>>=0)?31-i(o(t+.5)*a):32}})},function(e,t,n){var r=n(16),i=n(127),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function e(t){var n=i(a(t)-1)+1;return(n+1/(n*s*s))*(s/2)}})},function(e,t,n){var r=n(16),i=n(127);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(e,t,n){var r,i;n(16)({target:"Math",stat:!0},{fround:n(357)})},function(e,t,n){var r=n(163),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),u=o(2,-126),c=function(e){return e+1/a-1/a};e.exports=Math.fround||function e(t){var n=i(t),o=r(t),f,h;return n<u?o*c(n/u/s)*u*s:(h=(f=(1+s/a)*n)-(f-n))>l||h!=h?o*(1/0):o*h}},function(e,t,n){var r=n(16),i=Math.hypot,o=Math.abs,a=Math.sqrt,s;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function e(t,n){for(var r=0,i=0,s=arguments.length,l=0,u,c;i<s;)l<(u=o(arguments[i++]))?(r=r*(c=l/u)*c+1,l=u):r+=u>0?(c=u/l)*c:u;return l===1/0?1/0:l*a(r)}})},function(e,t,n){var r=n(16),i=n(19),o=Math.imul,a;r({target:"Math",stat:!0,forced:i(function(){return-5!=o(4294967295,5)||2!=o.length})},{imul:function e(t,n){var r=65535,i=+t,o=+n,a=65535&i,s=65535&o;return 0|a*s+((65535&i>>>16)*s+a*(65535&o>>>16)<<16>>>0)}})},function(e,t,n){var r=n(16),i=Math.log,o=Math.LOG10E;r({target:"Math",stat:!0},{log10:function e(t){return i(t)*o}})},function(e,t,n){var r,i;n(16)({target:"Math",stat:!0},{log1p:n(213)})},function(e,t,n){var r=n(16),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function e(t){return i(t)/o}})},function(e,t,n){var r,i;n(16)({target:"Math",stat:!0},{sign:n(163)})},function(e,t,n){var r=n(16),i=n(19),o=n(127),a=Math.abs,s=Math.exp,l=Math.E,u;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function e(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(l/2)}})},function(e,t,n){var r=n(16),i=n(127),o=Math.exp;r({target:"Math",stat:!0},{tanh:function e(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(e,t,n){var r;n(61)(Math,"Math",!0)},function(e,t,n){var r=n(16),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function e(t){return(t>0?o:i)(t)}})},function(e,t,n){"use strict";var r=n(29),i=n(23),o=n(106),a=n(38),s=n(33),l=n(56),u=n(126),c=n(57),f=n(19),h=n(70),d=n(81).f,p=n(37).f,m=n(31).f,g=n(94).trim,b="Number",y=i.Number,v=y.prototype,w=l(h(v))==b,x=function(e){var t=c(e,!1),n,r,i,o,a,s,l,u;if("string"==typeof t&&t.length>2)if(43===(n=(t=g(t)).charCodeAt(0))||45===n){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(s=(a=t.slice(2)).length,l=0;l<s;l++)if((u=a.charCodeAt(l))<48||u>o)return NaN;return parseInt(a,i)}return+t};if(o(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof _&&(w?f(function(){v.valueOf.call(r)}):l(r)!=b)?u(new y(x(n)),r,_):x(n)},S=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0,C;S.length>E;E++)s(y,C=S[E])&&!s(_,C)&&m(_,C,p(y,C));_.prototype=v,v.constructor=_,a(i,b,_)}},function(e,t,n){var r;n(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r,i;n(16)({target:"Number",stat:!0},{isFinite:n(371)})},function(e,t,n){var r,i=n(23).isFinite;e.exports=Number.isFinite||function e(t){return"number"==typeof t&&i(t)}},function(e,t,n){var r,i;n(16)({target:"Number",stat:!0},{isInteger:n(214)})},function(e,t,n){var r;n(16)({target:"Number",stat:!0},{isNaN:function e(t){return t!=t}})},function(e,t,n){var r=n(16),i=n(214),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function e(t){return i(t)&&o(t)<=9007199254740991}})},function(e,t,n){var r;n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r;n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(16),i=n(215);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(16),i=n(216);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(16),i=n(49),o=n(217),a=n(162),s=n(19),l=1..toFixed,u=Math.floor,c=function(e,t,n){return 0===t?n:t%2==1?c(e,t-1,n*e):c(e*e,t/2,n)},f=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t},h;r({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){l.call({})})},{toFixed:function e(t){var n=o(this),r=i(t),s=[0,0,0,0,0,0],l="",h="0",d,p,m,g,b=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=u(r/1e7)},y=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=u(n/e),n=n%e*1e7},v=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(r<0||r>20)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(n<0&&(l="-",n=-n),n>1e-21)if(p=(d=f(n*c(2,69,1))-69)<0?n*c(2,-d,1):n/c(2,d,1),p*=4503599627370496,(d=52-d)>0){for(b(0,p),m=r;m>=7;)b(1e7,0),m-=7;for(b(c(10,m,1),0),m=d-1;m>=23;)y(1<<23),m-=23;y(1<<m),b(1,1),y(2),h=v()}else b(0,p),b(1<<-d,0),h=v()+a.call("0",r);return h=r>0?l+((g=h.length)<=r?"0."+a.call("0",r-g)+h:h.slice(0,g-r)+"."+h.slice(g-r)):l+h}})},function(e,t,n){"use strict";var r=n(16),i=n(19),o=n(217),a=1..toPrecision,s;r({target:"Number",proto:!0,forced:i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})},{toPrecision:function e(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(e,t,n){var r=n(16),i=n(218);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(16),i=n(29),o=n(129),a=n(32),s=n(50),l=n(31);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function e(t,n){l.f(a(this),t,{get:s(n),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(16),i=n(29),o=n(129),a=n(32),s=n(50),l=n(31);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function e(t,n){l.f(a(this),t,{set:s(n),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(16),i=n(219).entries;r({target:"Object",stat:!0},{entries:function e(t){return i(t)}})},function(e,t,n){var r=n(16),i=n(113),o=n(19),a=n(24),s=n(84).onFreeze,l=Object.freeze,u;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!i},{freeze:function e(t){return l&&a(t)?l(s(t)):t}})},function(e,t,n){var r=n(16),i=n(114),o=n(82);r({target:"Object",stat:!0},{fromEntries:function e(t){var n={};return i(t,function(e,t){o(n,e,t)},void 0,!0),n}})},function(e,t,n){var r=n(16),i=n(19),o=n(42),a=n(37).f,s=n(29),l=i(function(){a(1)}),u;r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function e(t,n){return a(o(t),n)}})},function(e,t,n){var r=n(16),i=n(29),o=n(149),a=n(42),s=n(37),l=n(82);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function e(t){for(var n=a(t),r=s.f,i=o(n),u={},c=0,f,h;i.length>c;)void 0!==(h=r(n,f=i[c++]))&&l(u,f,h);return u}})},function(e,t,n){var r=n(16),i=n(19),o=n(200).f,a;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(e,t,n){var r=n(16),i=n(19),o=n(32),a=n(59),s=n(159),l;r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function e(t){return a(o(t))}})},function(e,t,n){var r,i;n(16)({target:"Object",stat:!0},{is:n(220)})},function(e,t,n){var r=n(16),i=n(19),o=n(24),a=Object.isExtensible,s;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function e(t){return!!o(t)&&(!a||a(t))}})},function(e,t,n){var r=n(16),i=n(19),o=n(24),a=Object.isFrozen,s;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function e(t){return!o(t)||!!a&&a(t)}})},function(e,t,n){var r=n(16),i=n(19),o=n(24),a=Object.isSealed,s;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function e(t){return!o(t)||!!a&&a(t)}})},function(e,t,n){var r=n(16),i=n(32),o=n(107),a,s;r({target:"Object",stat:!0,forced:n(19)(function(){o(1)})},{keys:function e(t){return o(i(t))}})},function(e,t,n){"use strict";var r=n(16),i=n(29),o=n(129),a=n(32),s=n(57),l=n(59),u=n(37).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function e(t){var n=a(this),r=s(t,!0),i;do{if(i=u(n,r))return i.get}while(n=l(n))}})},function(e,t,n){"use strict";var r=n(16),i=n(29),o=n(129),a=n(32),s=n(57),l=n(59),u=n(37).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function e(t){var n=a(this),r=s(t,!0),i;do{if(i=u(n,r))return i.set}while(n=l(n))}})},function(e,t,n){var r=n(16),i=n(24),o=n(84).onFreeze,a=n(113),s=n(19),l=Object.preventExtensions,u;r({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!a},{preventExtensions:function e(t){return l&&i(t)?l(o(t)):t}})},function(e,t,n){var r=n(16),i=n(24),o=n(84).onFreeze,a=n(113),s=n(19),l=Object.seal,u;r({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!a},{seal:function e(t){return l&&i(t)?l(o(t)):t}})},function(e,t,n){var r,i;n(16)({target:"Object",stat:!0},{setPrototypeOf:n(83)})},function(e,t,n){var r=n(157),i=n(38),o=n(402);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(157),i=n(112);e.exports=r?{}.toString:function e(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(16),i=n(219).values;r({target:"Object",stat:!0},{values:function e(t){return i(t)}})},function(e,t,n){var r=n(16),i=n(215);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(16),i=n(216);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(16),i=n(60),o=n(23),a=n(58),s=n(221),l=n(38),u=n(93),c=n(61),f=n(92),h=n(24),d=n(50),p=n(73),m=n(56),g=n(147),b=n(114),y=n(121),v=n(74),w=n(222).set,x=n(224),_=n(225),S=n(407),E=n(226),C=n(408),k=n(43),O=n(106),T=n(27),N=n(153),A=T("species"),I="Promise",j=k.get,R=k.set,M=k.getterFor(I),P=s,D=o.TypeError,L=o.document,F=o.process,B=a("fetch"),z=E.f,$=z,U="process"==m(F),W=!!(L&&L.createEvent&&o.dispatchEvent),V="unhandledrejection",H="rejectionhandled",G=0,q=1,K=2,Y=1,X=2,Z,J,Q,ee,te=O(I,function(){var e;if(!(g(P)!==String(P))){if(66===N)return!0;if(!U&&"function"!=typeof PromiseRejectionEvent)return!0}if(i&&!P.prototype.finally)return!0;if(N>=51&&/native code/.test(P))return!1;var t=P.resolve(1),n=function(e){e(function(){},function(){})},r;return(t.constructor={})[A]=n,!(t.then(function(){})instanceof n)}),ne=te||!y(function(e){P.all(e).catch(function(){})}),re=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;x(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s=r[a++],l=o?s.ok:s.fail,u=s.resolve,c=s.reject,f=s.domain,h,d,p;try{l?(o||(2===t.rejection&&le(e,t),t.rejection=1),!0===l?h=i:(f&&f.enter(),h=l(i),f&&(f.exit(),p=!0)),h===s.promise?c(D("Promise-chain cycle")):(d=re(h))?d.call(h,u,c):u(h)):c(i)}catch(e){f&&!p&&f.exit(),c(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ae(e,t)})}},oe=function(e,t,n){var r,i;W?((r=L.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),o.dispatchEvent(r)):r={promise:t,reason:n},(i=o["on"+e])?i(r):e===V&&S("Unhandled promise rejection",n)},ae=function(e,t){w.call(o,function(){var n=t.value,r,i;if(se(t)&&(i=C(function(){U?F.emit("unhandledRejection",n,e):oe(V,e,n)}),t.rejection=U||se(t)?2:1,i.error))throw i.value})},se=function(e){return 1!==e.rejection&&!e.parent},le=function(e,t){w.call(o,function(){U?F.emit("rejectionHandled",e):oe(H,e,t.value)})},ue=function(e,t,n,r){return function(i){e(t,n,i,r)}},ce=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,ie(e,t,!0))},fe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw D("Promise can't be resolved itself");var i=re(n);i?x(function(){var r={done:!1};try{i.call(n,ue(fe,e,r,t),ue(ce,e,r,t))}catch(n){ce(e,r,n,t)}}):(t.value=n,t.state=1,ie(e,t,!1))}catch(n){ce(e,{done:!1},n,t)}}};te&&(P=function e(t){p(this,P,I),d(t),Z.call(this);var n=j(this);try{t(ue(fe,this,n),ue(ce,this,n))}catch(e){ce(this,n,e)}},(Z=function e(t){R(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(P.prototype,{then:function e(t,n){var r=M(this),i=z(v(this,P));return i.ok="function"!=typeof t||t,i.fail="function"==typeof n&&n,i.domain=U?F.domain:void 0,r.parent=!0,r.reactions.push(i),0!=r.state&&ie(this,r,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),J=function(){var e=new Z,t=j(e);this.promise=e,this.resolve=ue(fe,e,t),this.reject=ue(ce,e,t)},E.f=z=function(e){return e===P||e===Q?new J(e):$(e)},i||"function"!=typeof s||(ee=s.prototype.then,l(s.prototype,"then",function e(t,n){var r=this;return new P(function(e,t){ee.call(r,e,t)}).then(t,n)},{unsafe:!0}),"function"==typeof B&&r({global:!0,enumerable:!0,forced:!0},{fetch:function e(t){return _(P,B.apply(o,arguments))}}))),r({global:!0,wrap:!0,forced:te},{Promise:P}),c(P,I,!1,!0),f(I),Q=a(I),r({target:I,stat:!0,forced:te},{reject:function e(t){var n=z(this);return n.reject.call(void 0,t),n.promise}}),r({target:I,stat:!0,forced:i||te},{resolve:function e(t){return _(i&&this===Q?P:this,t)}}),r({target:I,stat:!0,forced:ne},{all:function e(t){var n=this,r=z(n),i=r.resolve,o=r.reject,a=C(function(){var e=d(n.resolve),r=[],a=0,s=1;b(t,function(t){var l=a++,u=!1;r.push(void 0),s++,e.call(n,t).then(function(e){u||(u=!0,r[l]=e,--s||i(r))},o)}),--s||i(r)});return a.error&&o(a.value),r.promise},race:function e(t){var n=this,r=z(n),i=r.reject,o=C(function(){var e=d(n.resolve);b(t,function(t){e.call(n,t).then(r.resolve,i)})});return o.error&&i(o.value),r.promise}})},function(e,t,n){var r=n(23);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(16),i=n(60),o=n(221),a=n(19),s=n(58),l=n(74),u=n(225),c=n(38),f;r({target:"Promise",proto:!0,real:!0,forced:!!o&&a(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){var r=n(16),i=n(58),o=n(50),a=n(25),s=n(19),l=i("Reflect","apply"),u=Function.apply,c;r({target:"Reflect",stat:!0,forced:!s(function(){l(function(){})})},{apply:function e(t,n,r){return o(t),a(r),l?l(t,n,r):u.call(t,n,r)}})},function(e,t,n){var r=n(16),i=n(58),o=n(50),a=n(25),s=n(24),l=n(70),u=n(412),c=n(19),f=i("Reflect","construct"),h=c(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),d=!c(function(){f(function(){})}),p=h||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function e(t,n){o(t),a(n);var r=arguments.length<3?t:o(arguments[2]);if(d&&!h)return f(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var i=[null];return i.push.apply(i,n),new(u.apply(t,i))}var c=r.prototype,p=l(s(c)?c:Object.prototype),m=Function.apply.call(t,p,n);return s(m)?m:p}})},function(e,t,n){"use strict";var r=n(50),i=n(24),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function e(t){var n=r(this),a=o.call(arguments,1),l=function e(){var r=a.concat(o.call(arguments));return this instanceof l?s(n,r.length,r):n.apply(t,r)};return i(n.prototype)&&(l.prototype=n.prototype),l}},function(e,t,n){var r=n(16),i=n(29),o=n(25),a=n(57),s=n(31),l,u;r({target:"Reflect",stat:!0,forced:n(19)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function e(t,n,r){o(t);var i=a(n,!0);o(r);try{return s.f(t,i,r),!0}catch(e){return!1}}})},function(e,t,n){var r=n(16),i=n(25),o=n(37).f;r({target:"Reflect",stat:!0},{deleteProperty:function e(t,n){var r=o(i(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(e,t,n){var r=n(16),i=n(24),o=n(25),a=n(33),s=n(37),l=n(59);function u(e,t){var n=arguments.length<3?e:arguments[2],r,c;return o(e)===n?e[t]:(r=s.f(e,t))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(n):i(c=l(e))?u(c,t,n):void 0}r({target:"Reflect",stat:!0},{get:u})},function(e,t,n){var r=n(16),i=n(29),o=n(25),a=n(37);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function e(t,n){return a.f(o(t),n)}})},function(e,t,n){var r=n(16),i=n(25),o=n(59),a;r({target:"Reflect",stat:!0,sham:!n(159)},{getPrototypeOf:function e(t){return o(i(t))}})},function(e,t,n){var r;n(16)({target:"Reflect",stat:!0},{has:function e(t,n){return n in t}})},function(e,t,n){var r=n(16),i=n(25),o=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function e(t){return i(t),!o||o(t)}})},function(e,t,n){var r,i;n(16)({target:"Reflect",stat:!0},{ownKeys:n(149)})},function(e,t,n){var r=n(16),i=n(58),o=n(25),a;r({target:"Reflect",stat:!0,sham:!n(113)},{preventExtensions:function e(t){o(t);try{var n=i("Object","preventExtensions");return n&&n(t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(16),i=n(25),o=n(24),a=n(33),s=n(19),l=n(31),u=n(37),c=n(59),f=n(68),h;function d(e,t,n){var r=arguments.length<4?e:arguments[3],s=u.f(i(e),t),h,p;if(!s){if(o(p=c(e)))return d(p,t,n,r);s=f(0)}if(a(s,"value")){if(!1===s.writable||!o(r))return!1;if(h=u.f(r,t)){if(h.get||h.set||!1===h.writable)return!1;h.value=n,l.f(r,t,h)}else l.f(r,t,f(0,n));return!0}return void 0!==s.set&&(s.set.call(r,n),!0)}r({target:"Reflect",stat:!0,forced:s(function(){var e=l.f({},"a",{configurable:!0});return!1!==Reflect.set(c(e),"a",1,e)})},{set:d})},function(e,t,n){var r=n(16),i=n(25),o=n(209),a=n(83);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function e(t,n){i(t),o(n);try{return a(t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(29),i=n(23),o=n(106),a=n(126),s=n(31).f,l=n(81).f,u=n(164),c=n(130),f=n(165),h=n(38),d=n(19),p=n(43).set,m=n(92),g,b=n(27)("match"),y=i.RegExp,v=y.prototype,w=/a/g,x=/a/g,_=new y(w)!==w,S=f.UNSUPPORTED_Y,E;if(r&&o("RegExp",!_||S||d(function(){return x[b]=!1,y(w)!=w||y(x)==x||"/a/i"!=y(w,"i")}))){for(var C=function e(t,n){var r=this instanceof C,i=u(t),o=void 0===n,s;if(!r&&i&&t.constructor===C&&o)return t;_?i&&!o&&(t=t.source):t instanceof C&&(o&&(n=c.call(t)),t=t.source),S&&(s=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,""));var l=a(_?new y(t,n):y(t,n),r?this:v,C);return S&&s&&p(l,{sticky:s}),l},k=function(e){e in C||s(C,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},O=l(y),T=0;O.length>T;)k(O[T++]);v.constructor=C,C.prototype=v,h(i,"RegExp",C)}m("RegExp")},function(e,t,n){var r=n(29),i=n(31),o=n(130),a=n(165).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(e,t,n){"use strict";var r=n(38),i=n(25),o=n(19),a=n(130),s="toString",l=RegExp.prototype,u=l.toString,c=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),f=u.name!=s;(c||f)&&r(RegExp.prototype,s,function e(){var t=i(this),n=String(t.source),r=t.flags,o;return"/"+n+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in l)?a.call(t):r)},{unsafe:!0})},function(e,t,n){"use strict";var r=n(125),i=n(212);e.exports=r("Set",function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){"use strict";var r=n(16),i=n(132).codeAt;r({target:"String",proto:!0},{codePointAt:function e(t){return i(this,t)}})},function(e,t,n){"use strict";var r=n(16),i=n(37).f,o=n(30),a=n(166),s=n(39),l=n(167),u=n(60),c="".endsWith,f=Math.min,h=l("endsWith"),d,p;r({target:"String",proto:!0,forced:!!(u||h||(p=i(String.prototype,"endsWith"),!p||p.writable))&&!h},{endsWith:function e(t){var n=String(s(this));a(t);var r=arguments.length>1?arguments[1]:void 0,i=o(n.length),l=void 0===r?i:f(o(r),i),u=String(t);return c?c.call(n,u,l):n.slice(l-u.length,l)===u}})},function(e,t,n){var r=n(16),i=n(69),o=String.fromCharCode,a=String.fromCodePoint,s;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function e(t){for(var n=[],r=arguments.length,a=0,s;r>a;){if(s=+arguments[a++],i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");n.push(s<65536?o(s):o(55296+((s-=65536)>>10),s%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(16),i=n(166),o=n(39),a;r({target:"String",proto:!0,forced:!n(167)("includes")},{includes:function e(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(133),i=n(25),o=n(30),a=n(39),s=n(168),l=n(134);r("match",1,function(e,t,n){return[function t(n){var r=a(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this);if(!a.global)return l(a,u);var c=a.unicode;a.lastIndex=0;for(var f=[],h=0,d;null!==(d=l(a,u));){var p=String(d[0]);f[h]=p,""===p&&(a.lastIndex=s(u,o(a.lastIndex),c)),h++}return 0===h?null:f}]})},function(e,t,n){"use strict";var r=n(16),i=n(161).end,o;r({target:"String",proto:!0,forced:n(229)},{padEnd:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),i=n(161).start,o;r({target:"String",proto:!0,forced:n(229)},{padStart:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(16),i=n(42),o=n(30);r({target:"String",stat:!0},{raw:function e(t){for(var n=i(t.raw),r=o(n.length),a=arguments.length,s=[],l=0;r>l;)s.push(String(n[l++])),l<a&&s.push(String(arguments[l]));return s.join("")}})},function(e,t,n){var r,i;n(16)({target:"String",proto:!0},{repeat:n(162)})},function(e,t,n){"use strict";var r=n(133),i=n(25),o=n(32),a=n(30),s=n(49),l=n(39),u=n(168),c=n(134),f=Math.max,h=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,function(e,t,n,r){var b=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,v=b?"$":"$0";return[function n(r,i){var o=l(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):t.call(String(o),r,i)},function(e,r){if(!b&&y||"string"==typeof r&&-1===r.indexOf(v)){var o=n(t,e,this,r);if(o.done)return o.value}var l=i(e),d=String(this),p="function"==typeof r;p||(r=String(r));var m=l.global;if(m){var x=l.unicode;l.lastIndex=0}for(var _=[];;){var S=c(l,d),E;if(null===S)break;if(_.push(S),!m)break;""===String(S[0])&&(l.lastIndex=u(d,a(l.lastIndex),x))}for(var C="",k=0,O=0;O<_.length;O++){S=_[O];for(var T=String(S[0]),N=f(h(s(S.index),d.length),0),A=[],I=1;I<S.length;I++)A.push(g(S[I]));var j=S.groups;if(p){var R=[T].concat(A,N,d);void 0!==j&&R.push(j);var M=String(r.apply(void 0,R))}else M=w(T,d,N,A,j,r);N>=k&&(C+=d.slice(k,N)+M,k=N+T.length)}return C+d.slice(k)}];function w(e,n,r,i,a,s){var l=r+e.length,u=i.length,c=m;return void 0!==a&&(a=o(a),c=p),t.call(s,c,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>u){var f=d(c/10);return 0===f?t:f<=u?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(133),i=n(25),o=n(39),a=n(220),s=n(134);r("search",1,function(e,t,n){return[function t(n){var r=o(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),l=String(this),u=o.lastIndex;a(u,0)||(o.lastIndex=0);var c=s(o,l);return a(o.lastIndex,u)||(o.lastIndex=u),null===c?-1:c.index}]})},function(e,t,n){"use strict";var r=n(133),i=n(164),o=n(25),a=n(39),s=n(74),l=n(168),u=n(30),c=n(134),f=n(131),h=n(19),d=[].push,p=Math.min,m=4294967295,g=!h(function(){return!RegExp(4294967295,"y")});r("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=new RegExp(e.source,l+"g"),h,p,m;(h=f.call(c,r))&&!((p=c.lastIndex)>u&&(s.push(r.slice(u,h.index)),h.length>1&&h.index<r.length&&d.apply(s,h.slice(1)),m=h[0].length,u=p,s.length>=o));)c.lastIndex===h.index&&c.lastIndex++;return u===r.length?!m&&c.test("")||s.push(""):s.push(r.slice(u)),s.length>o?s.slice(0,o):s}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function t(n,i){var o=a(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,i):r.call(String(o),n,i)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),h=String(this),d=s(f,RegExp),m=f.unicode,b=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(g?"y":"g"),y=new d(g?f:"^(?:"+f.source+")",b),v=void 0===i?4294967295:i>>>0;if(0===v)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var w=0,x=0,_=[];x<h.length;){y.lastIndex=g?x:0;var S=c(y,g?h:h.slice(x)),E;if(null===S||(E=p(u(y.lastIndex+(g?0:x)),h.length))===w)x=l(h,x,m);else{if(_.push(h.slice(w,x)),_.length===v)return _;for(var C=1;C<=S.length-1;C++)if(_.push(S[C]),_.length===v)return _;x=w=E}}return _.push(h.slice(w)),_}]},!g)},function(e,t,n){"use strict";var r=n(16),i=n(37).f,o=n(30),a=n(166),s=n(39),l=n(167),u=n(60),c="".startsWith,f=Math.min,h=l("startsWith"),d,p;r({target:"String",proto:!0,forced:!!(u||h||(p=i(String.prototype,"startsWith"),!p||p.writable))&&!h},{startsWith:function e(t){var n=String(s(this));a(t);var r=o(f(arguments.length>1?arguments[1]:void 0,n.length)),i=String(t);return c?c.call(n,i,r):n.slice(r,r+i.length)===i}})},function(e,t,n){"use strict";var r=n(16),i=n(94).trim,o;r({target:"String",proto:!0,forced:n(169)("trim")},{trim:function e(){return i(this)}})},function(e,t,n){"use strict";var r=n(16),i=n(94).end,o,a=n(169)("trimEnd"),s=a?function e(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},function(e,t,n){"use strict";var r=n(16),i=n(94).start,o,a=n(169)("trimStart"),s=a?function e(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("anchor")},{anchor:function e(t){return i(this,"a","name",t)}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("big")},{big:function e(){return i(this,"big","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("blink")},{blink:function e(){return i(this,"blink","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("bold")},{bold:function e(){return i(this,"b","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("fixed")},{fixed:function e(){return i(this,"tt","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("fontcolor")},{fontcolor:function e(t){return i(this,"font","color",t)}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("fontsize")},{fontsize:function e(t){return i(this,"font","size",t)}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("italics")},{italics:function e(){return i(this,"i","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("link")},{link:function e(t){return i(this,"a","href",t)}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("small")},{small:function e(){return i(this,"small","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("strike")},{strike:function e(){return i(this,"strike","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("sub")},{sub:function e(){return i(this,"sub","","")}})},function(e,t,n){"use strict";var r=n(16),i=n(45),o;r({target:"String",proto:!0,forced:n(46)("sup")},{sup:function e(){return i(this,"sup","","")}})},function(e,t,n){var r;n(66)("Float32",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r=n(49);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,n){var r;n(66)("Float64",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(66)("Int8",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(66)("Int16",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(66)("Int32",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(66)("Uint8",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(66)("Uint8",function(e){return function t(n,r,i){return e(this,n,r,i)}},!0)},function(e,t,n){var r;n(66)("Uint16",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){var r;n(66)("Uint32",function(e){return function t(n,r,i){return e(this,n,r,i)}})},function(e,t,n){"use strict";var r=n(28),i=n(202),o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("copyWithin",function e(t,n){return i.call(o(this),t,n,arguments.length>2?arguments[2]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=n(36).every,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("every",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=n(155),o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("fill",function e(t){return i.apply(o(this),arguments)})},function(e,t,n){"use strict";var r=n(28),i=n(36).filter,o=n(74),a=r.aTypedArray,s=r.aTypedArrayConstructor,l;(0,r.exportTypedArrayMethod)("filter",function e(t){for(var n=i(a(this),t,arguments.length>1?arguments[1]:void 0),r=o(this,this.constructor),l=0,u=n.length,c=new(s(r))(u);u>l;)c[l]=n[l++];return c})},function(e,t,n){"use strict";var r=n(28),i=n(36).find,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("find",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=n(36).findIndex,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("findIndex",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=n(36).forEach,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("forEach",function e(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(170),i,o;(0,n(28).exportTypedArrayStaticMethod)("from",n(231),r)},function(e,t,n){"use strict";var r=n(28),i=n(105).includes,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("includes",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=n(105).indexOf,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("indexOf",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(23),i=n(28),o=n(122),a,s=n(27)("iterator"),l=r.Uint8Array,u=o.values,c=o.keys,f=o.entries,h=i.aTypedArray,d=i.exportTypedArrayMethod,p=l&&l.prototype[s],m=!!p&&("values"==p.name||void 0==p.name),g=function e(){return u.call(h(this))};d("entries",function e(){return f.call(h(this))}),d("keys",function e(){return c.call(h(this))}),d("values",g,!m),d(s,g,!m)},function(e,t,n){"use strict";var r=n(28),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].join;o("join",function e(t){return a.apply(i(this),arguments)})},function(e,t,n){"use strict";var r=n(28),i=n(210),o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("lastIndexOf",function e(t){return i.apply(o(this),arguments)})},function(e,t,n){"use strict";var r=n(28),i=n(36).map,o=n(74),a=r.aTypedArray,s=r.aTypedArrayConstructor,l;(0,r.exportTypedArrayMethod)("map",function e(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(o(e,e.constructor)))(t)})})},function(e,t,n){"use strict";var r=n(28),i=n(170),o=r.aTypedArrayConstructor,a;(0,r.exportTypedArrayStaticMethod)("of",function e(){for(var t=0,n=arguments.length,r=new(o(this))(n);n>t;)r[t]=arguments[t++];return r},i)},function(e,t,n){"use strict";var r=n(28),i=n(123).left,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("reduce",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=n(123).right,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("reduceRight",function e(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",function e(){for(var t=this,n=i(this).length,r=a(n/2),o=0,s;o<r;)s=this[o],this[o++]=this[--n],this[n]=s;return this})},function(e,t,n){"use strict";var r=n(28),i=n(30),o=n(230),a=n(32),s=n(19),l=r.aTypedArray,u,c;(0,r.exportTypedArrayMethod)("set",function e(t){l(this);var n=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,s=a(t),u=i(s.length),c=0;if(u+n>r)throw RangeError("Wrong length");for(;c<u;)this[n+c]=s[c++]},s(function(){new Int8Array(1).set({})}))},function(e,t,n){"use strict";var r=n(28),i=n(74),o=n(19),a=r.aTypedArray,s=r.aTypedArrayConstructor,l=r.exportTypedArrayMethod,u=[].slice,c;l("slice",function e(t,n){for(var r=u.call(a(this),t,n),o=i(this,this.constructor),l=0,c=r.length,f=new(s(o))(c);c>l;)f[l]=r[l++];return f},o(function(){new Int8Array(1).slice()}))},function(e,t,n){"use strict";var r=n(28),i=n(36).some,o=r.aTypedArray,a;(0,r.exportTypedArrayMethod)("some",function e(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(28),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",function e(t){return a.call(i(this),t)})},function(e,t,n){"use strict";var r=n(28),i=n(30),o=n(69),a=n(74),s=r.aTypedArray,l;(0,r.exportTypedArrayMethod)("subarray",function e(t,n){var r=s(this),l=r.length,u=o(t,l);return new(a(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,i((void 0===n?l:o(n,l))-u))})},function(e,t,n){"use strict";var r=n(23),i=n(28),o=n(19),a=r.Int8Array,s=i.aTypedArray,l=i.exportTypedArrayMethod,u=[].toLocaleString,c=[].slice,f=!!a&&o(function(){u.call(new a(1))}),h;l("toLocaleString",function e(){return u.apply(f?c.call(s(this)):s(this),arguments)},o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])}))},function(e,t,n){"use strict";var r=n(28).exportTypedArrayMethod,i=n(19),o,a=n(23).Uint8Array,s=a&&a.prototype||{},l=[].toString,u=[].join;i(function(){l.call({})})&&(l=function e(){return u.call(this)});var c=s.toString!=l;r("toString",l,c)},function(e,t,n){"use strict";var r=n(23),i=n(93),o=n(84),a=n(125),s=n(232),l=n(24),u=n(43).enforce,c=n(193),f=!r.ActiveXObject&&"ActiveXObject"in r,h=Object.isExtensible,d,p=function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=a("WeakMap",p,s);if(c&&f){d=s.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var g=m.prototype,b=g.delete,y=g.has,v=g.get,w=g.set;i(g,{delete:function(e){if(l(e)&&!h(e)){var t=u(this);return t.frozen||(t.frozen=new d),b.call(this,e)||t.frozen.delete(e)}return b.call(this,e)},has:function e(t){if(l(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new d),y.call(this,t)||n.frozen.has(t)}return y.call(this,t)},get:function e(t){if(l(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new d),y.call(this,t)?v.call(this,t):n.frozen.get(t)}return v.call(this,t)},set:function e(t,n){if(l(t)&&!h(t)){var r=u(this);r.frozen||(r.frozen=new d),y.call(this,t)?w.call(this,t,n):r.frozen.set(t,n)}else w.call(this,t,n);return this}})}},function(e,t,n){"use strict";var r,i;n(125)("WeakSet",function(e){return function t(){return e(this,arguments.length?arguments[0]:void 0)}},n(232))},function(e,t,n){var r=n(23),i=n(233),o=n(204),a=n(40);for(var s in i){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(e){u.forEach=o}}},function(e,t,n){var r=n(23),i=n(233),o=n(122),a=n(40),s=n(27),l=s("iterator"),u=s("toStringTag"),c=o.values;for(var f in i){var h=r[f],d=h&&h.prototype;if(d){if(d[l]!==c)try{a(d,l,c)}catch(e){d[l]=c}if(d[u]||a(d,u,f),i[f])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(e){d[p]=o[p]}}}},function(e,t,n){var r=n(234),i=n(509);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r=n(498),i=n(499),o=n(500),a=Object.defineProperty;t.f=n(173)?Object.defineProperty:function e(t,n,s){if(r(t),n=o(n,!0),r(s),i)try{return a(t,n,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[n]=s.value),t}},function(e,t,n){var r=n(172);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(173)&&!n(236)(function(){return 7!=Object.defineProperty(n(237)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(172);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(75),i=n(235),o=n(503),a=n(504)("src"),s=n(505),l="toString",u=(""+s).split(l);n(171).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,l,function e(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){e.exports=n(506)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(171),i=n(75),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(507)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(238),i=n(510),o=n(511),a=n(237),s=n(75),l=s.process,u=s.setImmediate,c=s.clearImmediate,f=s.MessageChannel,h=s.Dispatch,d=0,p={},m="onreadystatechange",g,b,y,v=function(){var e=+this;if(p.hasOwnProperty(e)){var t=p[e];delete p[e],t()}},w=function(e){v.call(e.data)};u&&c||(u=function e(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return p[++d]=function(){i("function"==typeof t?t:Function(t),n)},g(d),d},c=function e(t){delete p[t]},"process"==n(512)(l)?g=function(e){l.nextTick(r(v,e,1))}:h&&h.now?g=function(e){h.now(r(v,e,1))}:f?(y=(b=new f).port2,b.port1.onmessage=w,g=r(y.postMessage,y,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(g=function(e){s.postMessage(e+"","*")},s.addEventListener("message",w,!1)):g=m in a("script")?function(e){o.appendChild(a("script")).onreadystatechange=function(){o.removeChild(this),v.call(e)}}:function(e){setTimeout(r(v,e,1),0)}),e.exports={set:u,clear:c}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(75).document;e.exports=r&&r.documentElement},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(16),i=n(23),o=n(224),a=n(56),s=i.process,l="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function e(t){var n=l&&s.domain;o(n?n.bind(t):t)}})},function(e,t,n){var r=n(75),i=n(234),o=n(515),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(e,t,n){var r,i=n(75).navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";n(228);var r=n(16),i=n(29),o=n(239),a=n(23),s=n(198),l=n(38),u=n(73),c=n(33),f=n(218),h=n(205),d=n(132).codeAt,p=n(517),m=n(61),g=n(240),b=n(43),y=a.URL,v=g.URLSearchParams,w=g.getState,x=b.set,_=b.getterFor("URL"),S=Math.floor,E=Math.pow,C="Invalid authority",k="Invalid scheme",O="Invalid host",T="Invalid port",N=/[A-Za-z]/,A=/[\d+\-.A-Za-z]/,I=/\d/,j=/^(0x|0X)/,R=/^[0-7]+$/,M=/^\d+$/,P=/^[\dA-Fa-f]+$/,D=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,z,$=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return O;if(!(n=W(t.slice(1,-1))))return O;e.host=n}else if(J(e)){if(t=p(t),D.test(t))return O;if(null===(n=U(t)))return O;e.host=n}else{if(L.test(t))return O;for(n="",r=h(t),i=0;i<r.length;i++)n+=X(r[i],G);e.host=n}},U=function(e){var t=e.split("."),n,r,i,o,a,s,l;if(t.length&&""==t[t.length-1]&&t.pop(),(n=t.length)>4)return e;for(r=[],i=0;i<n;i++){if(""==(o=t[i]))return e;if(a=10,o.length>1&&"0"==o.charAt(0)&&(a=j.test(o)?16:8,o=o.slice(8==a?1:2)),""===o)s=0;else{if(!(10==a?M:8==a?R:P).test(o))return e;s=parseInt(o,a)}r.push(s)}for(i=0;i<n;i++)if(s=r[i],i==n-1){if(s>=E(256,5-n))return null}else if(s>255)return null;for(l=r.pop(),i=0;i<r.length;i++)l+=r[i]*E(256,3-i);return l},W=function(e){var t=[0,0,0,0,0,0,0,0],n=0,r=null,i=0,o,a,s,l,u,c,f,h=function(){return e.charAt(i)};if(":"==h()){if(":"!=e.charAt(1))return;i+=2,r=++n}for(;h();){if(8==n)return;if(":"!=h()){for(o=a=0;a<4&&P.test(h());)o=16*o+parseInt(h(),16),i++,a++;if("."==h()){if(0==a)return;if(i-=a,n>6)return;for(s=0;h();){if(l=null,s>0){if(!("."==h()&&s<4))return;i++}if(!I.test(h()))return;for(;I.test(h());){if(u=parseInt(h(),10),null===l)l=u;else{if(0==l)return;l=10*l+u}if(l>255)return;i++}t[n]=256*t[n]+l,2!=++s&&4!=s||n++}if(4!=s)return;break}if(":"==h()){if(i++,!h())return}else if(h())return;t[n++]=o}else{if(null!==r)return;i++,r=++n}}if(null!==r)for(c=n-r,n=7;0!=n&&c>0;)f=t[n],t[n--]=t[r+c-1],t[r+--c]=f;else if(8!=n)return;return t},V=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},H=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=V(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},G={},q=f({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),K=f({},q,{"#":1,"?":1,"{":1,"}":1}),Y=f({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),X=function(e,t){var n=d(e,0);return n>32&&n<127&&!c(t,e)?e:encodeURIComponent(e)},Z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return c(Z,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&N.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},le={},ue={},ce={},fe={},he={},de={},pe={},me={},ge={},be={},ye={},ve={},we={},xe={},_e={},Se={},Ee={},Ce={},ke={},Oe=function(e,t,n,r){var i=n||ae,o=0,a="",s=!1,l=!1,u=!1,f,d,p,m;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(B,""),f=h(t);o<=f.length;){switch(d=f[o],i){case ae:if(!d||!N.test(d)){if(n)return k;i=le;continue}a+=d.toLowerCase(),i=se;break;case se:if(d&&(A.test(d)||"+"==d||"-"==d||"."==d))a+=d.toLowerCase();else{if(":"!=d){if(n)return k;a="",i=le,o=0;continue}if(n&&(J(e)!=c(Z,a)||"file"==a&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=a,n)return void(J(e)&&Z[e.scheme]==e.port&&(e.port=null));a="","file"==e.scheme?i=ve:J(e)&&r&&r.scheme==e.scheme?i=ue:J(e)?i=de:"/"==f[o+1]?(i=ce,o++):(e.cannotBeABaseURL=!0,e.path.push(""),i=Ee)}break;case le:if(!r||r.cannotBeABaseURL&&"#"!=d)return k;if(r.cannotBeABaseURL&&"#"==d){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,i=ke;break}i="file"==r.scheme?ve:fe;continue;case ue:if("/"!=d||"/"!=f[o+1]){i=fe;continue}i=pe,o++;break;case ce:if("/"==d){i=me;break}i=Se;continue;case fe:if(e.scheme=r.scheme,d==z)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==d||"\\"==d&&J(e))i=he;else if("?"==d)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",i=Ce;else{if("#"!=d){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),i=Se;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=ke}break;case he:if(!J(e)||"/"!=d&&"\\"!=d){if("/"!=d){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,i=Se;continue}i=me}else i=pe;break;case de:if(i=pe,"/"!=d||"/"!=a.charAt(o+1))continue;o++;break;case pe:if("/"!=d&&"\\"!=d){i=me;continue}break;case me:if("@"==d){s&&(a="%40"+a),s=!0,p=h(a);for(var g=0;g<p.length;g++){var b=p[g];if(":"!=b||u){var y=X(b,Y);u?e.password+=y:e.username+=y}else u=!0}a=""}else if(d==z||"/"==d||"?"==d||"#"==d||"\\"==d&&J(e)){if(s&&""==a)return C;o-=h(a).length+1,a="",i=ge}else a+=d;break;case ge:case be:if(n&&"file"==e.scheme){i=xe;continue}if(":"!=d||l){if(d==z||"/"==d||"?"==d||"#"==d||"\\"==d&&J(e)){if(J(e)&&""==a)return O;if(n&&""==a&&(Q(e)||null!==e.port))return;if(m=$(e,a))return m;if(a="",i=_e,n)return;continue}"["==d?l=!0:"]"==d&&(l=!1),a+=d}else{if(""==a)return O;if(m=$(e,a))return m;if(a="",i=ye,n==be)return}break;case ye:if(!I.test(d)){if(d==z||"/"==d||"?"==d||"#"==d||"\\"==d&&J(e)||n){if(""!=a){var v=parseInt(a,10);if(v>65535)return T;e.port=J(e)&&v===Z[e.scheme]?null:v,a=""}if(n)return;i=_e;continue}return T}a+=d;break;case ve:if(e.scheme="file","/"==d||"\\"==d)i=we;else{if(!r||"file"!=r.scheme){i=Se;continue}if(d==z)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==d)e.host=r.host,e.path=r.path.slice(),e.query="",i=Ce;else{if("#"!=d){ne(f.slice(o).join(""))||(e.host=r.host,e.path=r.path.slice(),re(e)),i=Se;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",i=ke}}break;case we:if("/"==d||"\\"==d){i=xe;break}r&&"file"==r.scheme&&!ne(f.slice(o).join(""))&&(te(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),i=Se;continue;case xe:if(d==z||"/"==d||"\\"==d||"?"==d||"#"==d){if(!n&&te(a))i=Se;else if(""==a){if(e.host="",n)return;i=_e}else{if(m=$(e,a))return m;if("localhost"==e.host&&(e.host=""),n)return;a="",i=_e}continue}a+=d;break;case _e:if(J(e)){if(i=Se,"/"!=d&&"\\"!=d)continue}else if(n||"?"!=d)if(n||"#"!=d){if(d!=z&&(i=Se,"/"!=d))continue}else e.fragment="",i=ke;else e.query="",i=Ce;break;case Se:if(d==z||"/"==d||"\\"==d&&J(e)||!n&&("?"==d||"#"==d)){if(oe(a)?(re(e),"/"==d||"\\"==d&&J(e)||e.path.push("")):ie(a)?"/"==d||"\\"==d&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(a)&&(e.host&&(e.host=""),a=a.charAt(0)+":"),e.path.push(a)),a="","file"==e.scheme&&(d==z||"?"==d||"#"==d))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==d?(e.query="",i=Ce):"#"==d&&(e.fragment="",i=ke)}else a+=X(d,K);break;case Ee:"?"==d?(e.query="",i=Ce):"#"==d?(e.fragment="",i=ke):d!=z&&(e.path[0]+=X(d,G));break;case Ce:n||"#"!=d?d!=z&&("'"==d&&J(e)?e.query+="%27":e.query+="#"==d?"%23":X(d,G)):(e.fragment="",i=ke);break;case ke:d!=z&&(e.fragment+=X(d,q))}o++}},Te=function e(t){var n=u(this,Te,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(t),a=x(n,{type:"URL"}),s,l;if(void 0!==r)if(r instanceof Te)s=_(r);else if(l=Oe(s={},String(r)))throw TypeError(l);if(l=Oe(a,o,null,s))throw TypeError(l);var c=a.searchParams=new v,f=w(c);f.updateSearchParams(a.query),f.updateURL=function(){a.query=String(c)||null},i||(n.href=Ae.call(n),n.origin=Ie.call(n),n.protocol=je.call(n),n.username=Re.call(n),n.password=Me.call(n),n.host=Pe.call(n),n.hostname=De.call(n),n.port=Le.call(n),n.pathname=Fe.call(n),n.search=Be.call(n),n.searchParams=ze.call(n),n.hash=$e.call(n))},Ne=Te.prototype,Ae=function(){var e=_(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",Q(e)&&(u+=n+(r?":"+r:"")+"@"),u+=H(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Ie=function(){var e=_(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&J(e)?t+"://"+H(e.host)+(null!==n?":"+n:""):"null"},je=function(){return _(this).scheme+":"},Re=function(){return _(this).username},Me=function(){return _(this).password},Pe=function(){var e=_(this),t=e.host,n=e.port;return null===t?"":null===n?H(t):H(t)+":"+n},De=function(){var e=_(this).host;return null===e?"":H(e)},Le=function(){var e=_(this).port;return null===e?"":String(e)},Fe=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Be=function(){var e=_(this).query;return e?"?"+e:""},ze=function(){return _(this).searchParams},$e=function(){var e=_(this).fragment;return e?"#"+e:""},Ue=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Ne,{href:Ue(Ae,function(e){var t=_(this),n=String(e),r=Oe(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)}),origin:Ue(Ie),protocol:Ue(je,function(e){var t=_(this);Oe(t,String(e)+":",ae)}),username:Ue(Re,function(e){var t=_(this),n=h(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=X(n[r],Y)}}),password:Ue(Me,function(e){var t=_(this),n=h(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=X(n[r],Y)}}),host:Ue(Pe,function(e){var t=_(this);t.cannotBeABaseURL||Oe(t,String(e),ge)}),hostname:Ue(De,function(e){var t=_(this);t.cannotBeABaseURL||Oe(t,String(e),be)}),port:Ue(Le,function(e){var t=_(this);ee(t)||(""==(e=String(e))?t.port=null:Oe(t,e,ye))}),pathname:Ue(Fe,function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],Oe(t,e+"",_e))}),search:Ue(Be,function(e){var t=_(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Oe(t,e,Ce)),w(t.searchParams).updateSearchParams(t.query)}),searchParams:Ue(ze),hash:Ue($e,function(e){var t=_(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Oe(t,e,ke)):t.fragment=null})}),l(Ne,"toJSON",function e(){return Ae.call(this)},{enumerable:!0}),l(Ne,"toString",function e(){return Ae.call(this)},{enumerable:!0}),y){var We=y.createObjectURL,Ve=y.revokeObjectURL;We&&l(Te,"createObjectURL",function e(t){return We.apply(y,arguments)}),Ve&&l(Te,"revokeObjectURL",function e(t){return Ve.apply(y,arguments)})}m(Te,"URL"),r({global:!0,forced:!o,sham:!i},{URL:Te})},function(e,t,n){"use strict";var r=2147483647,i=36,o=1,a=26,s=38,l=700,u=72,c=128,f="-",h=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=35,g=Math.floor,b=String.fromCharCode,y=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},v=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?g(e/700):e>>1,e+=g(e/t);e>455;r+=36)e=g(e/35);return g(r+36*e/(e+38))},x=function(e){var t=[],n=(e=y(e)).length,i=128,o=0,a=72,s,l;for(s=0;s<e.length;s++)(l=e[s])<128&&t.push(b(l));var u=t.length,c=u;for(u&&t.push("-");c<n;){var f=r;for(s=0;s<e.length;s++)(l=e[s])>=i&&l<f&&(f=l);var h=c+1;if(f-i>g((r-o)/h))throw RangeError(p);for(o+=(f-i)*h,i=f,s=0;s<e.length;s++){if((l=e[s])<i&&++o>r)throw RangeError(p);if(l==i){for(var d=o,m=36;;m+=36){var x=m<=a?1:m>=a+26?26:m-a;if(d<x)break;var _=d-x,S=36-x;t.push(b(v(x+_%S))),d=g(_/S)}t.push(b(v(d))),a=w(o,h,c==u),o=0,++c}}++o,++i}return t.join("")};e.exports=function(e){var t=[],n=e.toLowerCase().replace(d,".").split("."),r,i;for(r=0;r<n.length;r++)i=n[r],t.push(h.test(i)?"xn--"+x(i):i);return t.join(".")}},function(e,t,n){var r=n(25),i=n(111);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";var r;n(16)({target:"URL",proto:!0,enumerable:!0},{toJSON:function e(){return URL.prototype.toString.call(this)}})},function(e,t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof e,c=t.regeneratorRuntime;if(c)u&&(e.exports=c);else{(c=t.regeneratorRuntime=u?e.exports:{}).wrap=w;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",m={},g={};g[a]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(j([])));y&&y!==n&&r.call(y,a)&&(g=y);var v=E.prototype=_.prototype=Object.create(g);S.prototype=v.constructor=E,E.constructor=S,E[l]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(v),e},c.awrap=function(e){return{__await:e}},C(k.prototype),k.prototype[s]=function(){return this},c.AsyncIterator=k,c.async=function(e,t,n,r){var i=new k(w(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(v),v[l]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=j,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e,t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=i),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=i),m}}}function w(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=O(e,n,a),o}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function _(){}function S(){}function E(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function k(e){function t(n,i,o,a){var s=x(e[n],e,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},a)}a(s.arg)}var n;function i(e,r){function i(){return new Promise(function(n,i){t(e,r,n,i)})}return n=n?n.then(i,i):i()}this._invoke=i}function O(e,t,n){var r=f;return function i(o,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return R()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=T(s,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}function T(e,t){var n=e.iterator[t.method];if(n===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,T(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=x(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=i,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),i=n(241),o=n(523);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,f=null,h={onError:function(e){l=!0,u=e}};function d(e,t,n,r,i,o,a,c,f){l=!1,u=null,s.apply(h,arguments)}function p(e,t,n,r,i,o,s,h,p){if(d.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,f=m)}}var m=null,g=null,b=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=b(n),p(r,t,void 0,e),e.currentTarget=null}var v=null,w={};function x(){if(v)for(var e in w){var t=w[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!S[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in S[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&_(u[i],s,l);i=!0}else o.registrationName?(_(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function _(e,t,n){if(C[e])throw Error(a(100,e));C[e]=t,k[e]=t.eventTypes[n].dependencies}var S=[],E={},C={},k={};function O(e){var t=!1,n;for(n in e)if(e.hasOwnProperty(n)){var r=e[n];if(!w.hasOwnProperty(n)||w[n]!==r){if(w[n])throw Error(a(102,n));w[n]=r,t=!0}}t&&x()}var T=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),N=null,A=null,I=null;function j(e){if(e=g(e)){if("function"!=typeof N)throw Error(a(280));var t=e.stateNode;t&&(t=m(t),N(e.stateNode,e.type,t))}}function R(e){A?I?I.push(e):I=[e]:A=e}function M(){if(A){var e=A,t=I;if(I=A=null,j(e),t)for(e=0;e<t.length;e++)j(t[e])}}function P(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=P,B=!1,z=!1;function $(){null===A&&null===I||(L(),M())}function U(e,t,n){if(z)return e(t,n);z=!0;try{return F(e,t,n)}finally{z=!1,$()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,H={},G={};function q(e){return!!V.call(G,e)||!V.call(H,e)&&(W.test(e)?G[e]=!0:(H[e]=!0,!1))}function K(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function Y(e,t,n,r){if(null===t||void 0===t||K(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function X(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Z[e]=new X(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Z[t]=new X(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Z[e]=new X(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Z[e]=new X(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Z[e]=new X(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Z[e]=new X(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Z[e]=new X(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Z[e]=new X(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Z[e]=new X(e,5,!1,e.toLowerCase(),null,!1)});var J=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J,Q);Z[t]=new X(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J,Q);Z[t]=new X(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J,Q);Z[t]=new X(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Z[e]=new X(e,1,!1,e.toLowerCase(),null,!1)}),Z.xlinkHref=new X("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Z[e]=new X(e,1,!1,e.toLowerCase(),null,!0)});var ee=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function te(e,t,n,r){var i=Z.hasOwnProperty(t)?Z[t]:null,o;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(Y(t,n,i,r)&&(n=null),r||null===i?q(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}ee.hasOwnProperty("ReactCurrentDispatcher")||(ee.ReactCurrentDispatcher={current:null}),ee.hasOwnProperty("ReactCurrentBatchConfig")||(ee.ReactCurrentBatchConfig={suspense:null});var ne=/^(.*)[\\\/]/,re="function"==typeof Symbol&&Symbol.for,ie=re?Symbol.for("react.element"):60103,oe=re?Symbol.for("react.portal"):60106,ae=re?Symbol.for("react.fragment"):60107,se=re?Symbol.for("react.strict_mode"):60108,le=re?Symbol.for("react.profiler"):60114,ue=re?Symbol.for("react.provider"):60109,ce=re?Symbol.for("react.context"):60110,fe=re?Symbol.for("react.concurrent_mode"):60111,he=re?Symbol.for("react.forward_ref"):60112,de=re?Symbol.for("react.suspense"):60113,pe=re?Symbol.for("react.suspense_list"):60120,me=re?Symbol.for("react.memo"):60115,ge=re?Symbol.for("react.lazy"):60116,be=re?Symbol.for("react.block"):60121,ye="function"==typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ye&&e[ye]||e["@@iterator"])?e:null}function we(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function xe(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ae:return"Fragment";case oe:return"Portal";case le:return"Profiler";case se:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ce:return"Context.Consumer";case ue:return"Context.Provider";case he:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case me:return xe(e.type);case be:return xe(e.render);case ge:if(e=1===e._status?e._result:null)return xe(e)}return null}function _e(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=xe(e.type);n=null,r&&(n=xe(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(ne,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function Se(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ce(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ke(e){e._valueTracker||(e._valueTracker=Ce(e))}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ee(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ne(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Se(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){null!=(t=t.checked)&&te(e,"checked",t,!1)}function Ie(e,t){Ae(e,t);var n=Se(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Re(e,t.type,n):t.hasOwnProperty("defaultValue")&&Re(e,t.type,Se(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function je(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Re(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Me(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function Pe(e,t){return e=i({children:void 0},t),(t=Me(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Se(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Se(n)}}function Be(e,t){var n=Se(t.value),r=Se(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ze(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var $e="http://www.w3.org/1999/xhtml",Ue="http://www.w3.org/1998/Math/MathML",We="http://www.w3.org/2000/svg";function Ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ge,qe=(Ke=function(e,t){if(e.namespaceURI!==We||"innerHTML"in e)e.innerHTML=t;else{for((Ge=Ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Ke(e,t,n,r)})}:Ke),Ke;function Ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Xe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ze={animationend:Xe("Animation","AnimationEnd"),animationiteration:Xe("Animation","AnimationIteration"),animationstart:Xe("Animation","AnimationStart"),transitionend:Xe("Transition","TransitionEnd")},Je={},Qe={};function et(e){if(Je[e])return Je[e];if(!Ze[e])return e;var t=Ze[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qe)return Je[e]=t[n];return e}T&&(Qe=document.createElement("div").style,"AnimationEvent"in window||(delete Ze.animationend.animation,delete Ze.animationiteration.animation,delete Ze.animationstart.animation),"TransitionEvent"in window||delete Ze.transitionend.transition);var tt=et("animationend"),nt=et("animationiteration"),rt=et("animationstart"),it=et("transitionend"),ot="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),at=new("function"==typeof WeakMap?WeakMap:Map);function st(e){var t=at.get(e);return void 0===t&&(t=new Map,at.set(e,t)),t}function lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ut(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ct(e){if(lt(e)!==e)throw Error(a(188))}function ft(e){var t=e.alternate;if(!t){if(null===(t=lt(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ct(i),e;if(o===r)return ct(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}function ht(e){if(!(e=ft(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function dt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function pt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var mt=null;function gt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function bt(e){if(null!==e&&(mt=dt(mt,e)),e=mt,mt=null,e){if(pt(e,gt),mt)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function yt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function vt(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var wt=[];function xt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wt.length&&wt.push(e)}function _t(e,t,n,r){if(wt.length){var i=wt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function St(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Vn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=yt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<S.length;l++){var u=S[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=dt(s,u))}bt(s)}}function Et(e,t,n){if(!n.has(e)){switch(e){case"scroll":sn(t,"scroll",!0);break;case"focus":case"blur":sn(t,"focus",!0),sn(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":vt(e)&&sn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ot.indexOf(e)&&an(e,t)}n.set(e,null)}}var Ct,kt,Ot,Tt=!1,Nt=[],At=null,It=null,jt=null,Rt=new Map,Mt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Lt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ft(e,t){var n=st(t);Dt.forEach(function(e){Et(e,t,n)}),Lt.forEach(function(e){Et(e,t,n)})}function Bt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function zt(e,t){switch(e){case"focus":case"blur":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function $t(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Bt(t,n,r,i,o),null!==t&&(null!==(t=Hn(t))&&kt(t)),e):(e.eventSystemFlags|=r,e)}function Ut(e,t,n,r,i){switch(t){case"focus":return At=$t(At,e,t,n,r,i),!0;case"dragenter":return It=$t(It,e,t,n,r,i),!0;case"mouseover":return jt=$t(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,$t(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Mt.set(o,$t(Mt.get(o)||null,e,t,n,r,i)),!0}return!1}function Wt(e){var t=Vn(e.target);if(null!==t){var n=lt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ut(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,function(){Ot(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;var t=fn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Hn(t);return null!==n&&kt(n),e.blockedOn=t,!1}return!0}function Ht(e,t,n){Vt(e)&&n.delete(t)}function Gt(){for(Tt=!1;0<Nt.length;){var e=Nt[0];if(null!==e.blockedOn){null!==(e=Hn(e.blockedOn))&&Ct(e);break}var t=fn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Nt.shift()}null!==At&&Vt(At)&&(At=null),null!==It&&Vt(It)&&(It=null),null!==jt&&Vt(jt)&&(jt=null),Rt.forEach(Ht),Mt.forEach(Ht)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Gt)))}function Kt(e){function t(t){return qt(t,e)}if(0<Nt.length){qt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&qt(At,e),null!==It&&qt(It,e),null!==jt&&qt(jt,e),Rt.forEach(t),Mt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Wt(n),null===n.blockedOn&&Pt.shift()}var Yt={},Xt=new Map,Zt=new Map,Jt=["abort","abort",tt,"animationEnd",nt,"animationIteration",rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",it,"transitionEnd","waiting","waiting"];function Qt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Zt.set(r,t),Xt.set(r,o),Yt[i]=o}}Qt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Qt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Qt(Jt,2);for(var en="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),tn=0;tn<en.length;tn++)Zt.set(en[tn],0);var nn=o.unstable_UserBlockingPriority,rn=o.unstable_runWithPriority,on=!0;function an(e,t){sn(t,e,!1)}function sn(e,t,n){var r=Zt.get(t);switch(void 0===r?2:r){case 0:r=ln.bind(null,t,1,e);break;case 1:r=un.bind(null,t,1,e);break;default:r=cn.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function ln(e,t,n,r){B||L();var i=cn,o=B;B=!0;try{D(i,e,t,n,r)}finally{(B=o)||$()}}function un(e,t,n,r){rn(nn,cn.bind(null,e,t,n,r))}function cn(e,t,n,r){if(on)if(0<Nt.length&&-1<Dt.indexOf(e))e=Bt(null,e,t,n,r),Nt.push(e);else{var i=fn(e,t,n,r);if(null===i)zt(e,r);else if(-1<Dt.indexOf(e))e=Bt(i,e,t,n,r),Nt.push(e);else if(!Ut(i,e,t,n,r)){zt(e,r),e=_t(e,r,null,t);try{U(St,e)}finally{xt(e)}}}}function fn(e,t,n,r){if(null!==(n=Vn(n=yt(r)))){var i=lt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=ut(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=_t(e,r,n,t);try{U(St,e)}finally{xt(e)}return null}var hn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dn=["Webkit","ms","Moz","O"];function pn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||hn.hasOwnProperty(e)&&hn[e]?(""+t).trim():t+"px"}function mn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(hn).forEach(function(e){dn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hn[t]=hn[e]})});var gn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(e,t){if(t){if(gn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function yn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vn=$e;function wn(e,t){var n=st(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)Et(t[r],e,n)}function xn(){}function _n(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function En(e,t){var n=Sn(e),r;for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sn(n)}}function Cn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Cn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function kn(){for(var e=window,t=_n();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=_n((e=t.contentWindow).document)}return t}function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Tn="$",Nn="/$",An="$?",In="$!",jn=null,Rn=null;function Mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Pn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Dn="function"==typeof setTimeout?setTimeout:void 0,Ln="function"==typeof clearTimeout?clearTimeout:void 0;function Fn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Bn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Tn||n===In||n===An){if(0===t)return e;t--}else n===Nn&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),$n="__reactInternalInstance$"+zn,Un="__reactEventHandlers$"+zn,Wn="__reactContainere$"+zn;function Vn(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[$n]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Bn(e);null!==e;){if(n=e[$n])return n;e=Bn(e)}return t}n=(e=n).parentNode}return null}function Hn(e){return!(e=e[$n]||e[Wn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Gn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function qn(e){return e[Un]||null}function Kn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t){var n=e.stateNode;if(!n)return null;var r=m(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Xn(e,t,n){(t=Yn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=dt(n._dispatchListeners,t),n._dispatchInstances=dt(n._dispatchInstances,e))}function Zn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Kn(t);for(t=n.length;0<t--;)Xn(n[t],"captured",e);for(t=0;t<n.length;t++)Xn(n[t],"bubbled",e)}}function Jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Yn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=dt(n._dispatchListeners,t),n._dispatchInstances=dt(n._dispatchInstances,e))}function Qn(e){e&&e.dispatchConfig.registrationName&&Jn(e._targetInst,null,e)}function er(e){pt(e,Zn)}var tr=null,nr=null,rr=null;function ir(){if(rr)return rr;var e,t=nr,n=t.length,r,i="value"in tr?tr.value:tr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return rr=i.slice(e,1<r?1-r:void 0)}function or(){return!0}function ar(){return!1}function sr(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?or:ar,this.isPropagationStopped=ar,this}function lr(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ur(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function cr(e){e.eventPool=[],e.getPooled=lr,e.release=ur}i(sr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){this.isPersistent=or},isPersistent:ar,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ar,this._dispatchInstances=this._dispatchListeners=null}}),sr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},sr.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,cr(n),n},cr(sr);var fr=sr.extend({data:null}),hr=sr.extend({data:null}),dr=[9,13,27,32],pr=T&&"CompositionEvent"in window,mr=null;T&&"documentMode"in document&&(mr=document.documentMode);var gr=T&&"TextEvent"in window&&!mr,br=T&&(!pr||mr&&8<mr&&11>=mr),yr=String.fromCharCode(32),vr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},wr=!1;function xr(e,t){switch(e){case"keyup":return-1!==dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _r(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Sr=!1;function Er(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return 32!==t.which?null:(wr=!0,yr);case"textInput":return(e=t.data)===yr&&wr?null:e;default:return null}}function Cr(e,t){if(Sr)return"compositionend"===e||!pr&&xr(e,t)?(e=ir(),rr=nr=tr=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return br&&"ko"!==t.locale?null:t.data;default:return null}}var kr={eventTypes:vr,extractEvents:function(e,t,n,r){var i;if(pr)e:{switch(e){case"compositionstart":var o=vr.compositionStart;break e;case"compositionend":o=vr.compositionEnd;break e;case"compositionupdate":o=vr.compositionUpdate;break e}o=void 0}else Sr?xr(e,n)&&(o=vr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=vr.compositionStart);return o?(br&&"ko"!==n.locale&&(Sr||o!==vr.compositionStart?o===vr.compositionEnd&&Sr&&(i=ir()):(nr="value"in(tr=r)?tr.value:tr.textContent,Sr=!0)),o=fr.getPooled(o,t,n,r),i?o.data=i:null!==(i=_r(n))&&(o.data=i),er(o),i=o):i=null,(e=gr?Er(e,n):Cr(e,n))?((t=hr.getPooled(vr.beforeInput,t,n,r)).data=e,er(t)):t=null,null===i?t:null===t?i:[i,t]}},Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}var Nr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ar(e,t,n){return(e=sr.getPooled(Nr.change,e,t,n)).type="change",R(n),er(e),e}var Ir=null,jr=null;function Rr(e){bt(e)}function Mr(e){var t;if(Oe(Gn(e)))return e}function Pr(e,t){if("change"===e)return t}var Dr=!1;function Lr(){Ir&&(Ir.detachEvent("onpropertychange",Fr),jr=Ir=null)}function Fr(e){if("value"===e.propertyName&&Mr(jr))if(e=Ar(jr,e,yt(e)),B)bt(e);else{B=!0;try{P(Rr,e)}finally{B=!1,$()}}}function Br(e,t,n){"focus"===e?(Lr(),jr=n,(Ir=t).attachEvent("onpropertychange",Fr)):"blur"===e&&Lr()}function zr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mr(jr)}function $r(e,t){if("click"===e)return Mr(t)}function Ur(e,t){if("input"===e||"change"===e)return Mr(t)}T&&(Dr=vt("input")&&(!document.documentMode||9<document.documentMode));var Wr={eventTypes:Nr,_isInputEventSupported:Dr,extractEvents:function(e,t,n,r){var i=t?Gn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Pr;else if(Tr(i))if(Dr)a=Ur;else{a=zr;var s=Br}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=$r);if(a&&(a=a(e,t)))return Ar(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Re(i,"number",i.value)}},Vr=sr.extend({view:null,detail:null}),Hr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Hr[e])&&!!t[e]}function qr(){return Gr}var Kr=0,Yr=0,Xr=!1,Zr=!1,Jr=Vr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kr;return Kr=e.screenX,Xr?"mousemove"===e.type?e.screenX-t:0:(Xr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yr;return Yr=e.screenY,Zr?"mousemove"===e.type?e.screenY-t:0:(Zr=!0,0)}}),Qr=Jr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),ei={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ti={eventTypes:ei,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e,s;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Vn(t):null)&&(t!==lt(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var l=Jr,u=ei.mouseLeave,c=ei.mouseEnter,f="mouse";else"pointerout"!==e&&"pointerover"!==e||(l=Qr,u=ei.pointerLeave,c=ei.pointerEnter,f="pointer");if(e=null==a?o:Gn(a),o=null==t?o:Gn(t),(u=l.getPooled(u,a,n,r)).type=f+"leave",u.target=e,u.relatedTarget=o,(n=l.getPooled(c,t,n,r)).type=f+"enter",n.target=o,n.relatedTarget=e,f=t,(r=a)&&f)e:{for(c=f,a=0,e=l=r;e;e=Kn(e))a++;for(e=0,t=c;t;t=Kn(t))e++;for(;0<a-e;)l=Kn(l),a--;for(;0<e-a;)c=Kn(c),e--;for(;a--;){if(l===c||l===c.alternate)break e;l=Kn(l),c=Kn(c)}l=null}else l=null;for(c=l,l=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)l.push(r),r=Kn(r);for(r=[];f&&f!==c&&(null===(a=f.alternate)||a!==c);)r.push(f),f=Kn(f);for(f=0;f<l.length;f++)Jn(l[f],"bubbled",u);for(f=r.length;0<f--;)Jn(r[f],"captured",n);return 0==(64&i)?[u]:[u,n]}};function ni(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var ri="function"==typeof Object.is?Object.is:ni,ii=Object.prototype.hasOwnProperty;function oi(e,t){if(ri(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ii.call(t,n[r])||!ri(e[n[r]],t[n[r]]))return!1;return!0}var ai=T&&"documentMode"in document&&11>=document.documentMode,si={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},li=null,ui=null,ci=null,fi=!1;function hi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return fi||null==li||li!==_n(n)?null:("selectionStart"in(n=li)&&On(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ci&&oi(ci,n)?null:(ci=n,(e=sr.getPooled(si.select,ui,e,t)).type="select",e.target=li,er(e),e))}var di={eventTypes:si,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=st(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Gn(t):window,e){case"focus":(Tr(i)||"true"===i.contentEditable)&&(li=i,ui=t,ci=null);break;case"blur":ci=ui=li=null;break;case"mousedown":fi=!0;break;case"contextmenu":case"mouseup":case"dragend":return fi=!1,hi(n,r);case"selectionchange":if(ai)break;case"keydown":case"keyup":return hi(n,r)}return null}},pi=sr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),mi=sr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gi=Vr.extend({relatedTarget:null});function bi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wi=Vr.extend({key:function(e){if(e.key){var t=yi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=bi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qr,charCode:function(e){return"keypress"===e.type?bi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?bi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xi=Jr.extend({dataTransfer:null}),_i=Vr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qr}),Si=sr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ei=Jr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ci={eventTypes:Yt,extractEvents:function(e,t,n,r){var i=Xt.get(e);if(!i)return null;switch(e){case"keypress":if(0===bi(n))return null;case"keydown":case"keyup":e=wi;break;case"blur":case"focus":e=gi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Jr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=xi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=_i;break;case tt:case nt:case rt:e=pi;break;case it:e=Si;break;case"scroll":e=Vr;break;case"wheel":e=Ei;break;case"copy":case"cut":case"paste":e=mi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qr;break;default:e=sr}return er(t=e.getPooled(i,t,n,r)),t}},ki;if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),m=qn,g=Hn,b=Gn,O({SimpleEventPlugin:Ci,EnterLeaveEventPlugin:ti,ChangeEventPlugin:Wr,SelectEventPlugin:di,BeforeInputEventPlugin:kr});var Oi=[],Ti=-1;function Ni(e){0>Ti||(e.current=Oi[Ti],Oi[Ti]=null,Ti--)}function Ai(e,t){Oi[++Ti]=e.current,e.current=t}var Ii={},ji={current:Ii},Ri={current:!1},Mi=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ni(Ri),Ni(ji)}function Fi(e,t,n){if(ji.current!==Ii)throw Error(a(168));Ai(ji,t),Ai(Ri,n)}function Bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,xe(t)||"Unknown",o));return i({},n,{},r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Mi=ji.current,Ai(ji,e),Ai(Ri,Ri.current),!0}function $i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Bi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ri),Ni(ji),Ai(ji,e)):Ni(Ri),Ai(Ri,n)}var Ui=o.unstable_runWithPriority,Wi=o.unstable_scheduleCallback,Vi=o.unstable_cancelCallback,Hi=o.unstable_requestPaint,Gi=o.unstable_now,qi=o.unstable_getCurrentPriorityLevel,Ki=o.unstable_ImmediatePriority,Yi=o.unstable_UserBlockingPriority,Xi=o.unstable_NormalPriority,Zi=o.unstable_LowPriority,Ji=o.unstable_IdlePriority,Qi={},eo=o.unstable_shouldYield,to=void 0!==Hi?Hi:function(){},no=null,ro=null,io=!1,oo=Gi(),ao=1e4>oo?Gi:function(){return Gi()-oo};function so(){switch(qi()){case Ki:return 99;case Yi:return 98;case Xi:return 97;case Zi:return 96;case Ji:return 95;default:throw Error(a(332))}}function lo(e){switch(e){case 99:return Ki;case 98:return Yi;case 97:return Xi;case 96:return Zi;case 95:return Ji;default:throw Error(a(332))}}function uo(e,t){return e=lo(e),Ui(e,t)}function co(e,t,n){return e=lo(e),Wi(e,t,n)}function fo(e){return null===no?(no=[e],ro=Wi(Ki,po)):no.push(e),Qi}function ho(){if(null!==ro){var e=ro;ro=null,Vi(e)}po()}function po(){if(!io&&null!==no){io=!0;var e=0;try{var t=no;uo(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),no=null}catch(t){throw null!==no&&(no=no.slice(e+1)),Wi(Ki,ho),t}finally{io=!1}}}function mo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function go(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var bo={current:null},yo=null,vo=null,wo=null;function xo(){wo=vo=yo=null}function _o(e){var t=bo.current;Ni(bo),e.type._context._currentValue=t}function So(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Eo(e,t){yo=e,wo=vo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Za=!0),e.firstContext=null)}function Co(e,t){if(wo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(wo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===vo){if(null===yo)throw Error(a(308));vo=t,yo.dependencies={expirationTime:0,firstContext:t,responders:null}}else vo=vo.next=t;return e._currentValue}var ko=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function To(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function No(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Io(e,t){var n=e.alternate;null!==n&&To(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function jo(e,t,n,r){var o=e.updateQueue;ko=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,f=null,h=null,d=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=m,f=u):d=d.next=m,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Bl(s,p.suspenseConfig);e:{var g=e,b=p;switch(s=t,m=n,b.tag){case 1:if("function"==typeof(g=b.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"==typeof(g=b.payload)?g.call(m,u,s):g)||void 0===s)break e;u=i({},u,s);break e;case 2:ko=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=u:d.next=h,o.baseState=f,o.baseQueue=d,zl(c),e.expirationTime=c,e.memoizedState=u}}function Ro(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var Mo=ee.ReactCurrentBatchConfig,Po=(new r.Component).refs;function Do(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Cl(),i=Mo.suspense;(i=No(r=kl(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Ao(e,i),Ol(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Cl(),i=Mo.suspense;(i=No(r=kl(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Ao(e,i),Ol(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Cl(),r=Mo.suspense;(r=No(n=kl(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Ao(e,r),Ol(e,n)}};function Fo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!oi(n,r)||!oi(i,o))}function Bo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"==typeof o&&null!==o?o=Co(o):(i=Di(t)?Mi:ji.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Po,Oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Co(o):(o=Di(t)?Mi:ji.current,i.context=Pi(e,o)),jo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Do(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Lo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Uo=Array.isArray;function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Vo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ho(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=uu(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=hu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=cu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=fu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ie:return(n=uu(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case oe:return(t=hu(t,e.mode,n)).return=e,t}if(Uo(t)||ve(t))return(t=cu(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ie:return n.key===i?n.type===ae?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case oe:return n.key===i?c(e,t,n,r):null}if(Uo(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Vo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ie:return e=e.get(null===r.key?n:r.key)||null,r.type===ae?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case oe:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Uo(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Vo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var b=d(i,f,s[m],l);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(i,f),a=o(b,a,m),null===c?u=b:c.sibling=b,c=b,f=g}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<s.length;m++)null!==(g=p(f,i,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(i,e)}),u}function g(i,s,l,u){var c=ve(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,g=s=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=d(i,m,y.value,u);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&t(i,m),s=o(v,s,g),null===f?c=v:f.sibling=v,f=v,m=b}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===ae&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ie:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ae){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Wo(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ae?((r=cu(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=uu(o.type,o.key,o.props,null,e.mode,l)).ref=Wo(e,r,o),l.return=e,e=l)}return s(e);case oe:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=hu(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=fu(o,e.mode,l)).return=e,e=r),s(e);if(Uo(o))return m(e,r,o,l);if(ve(o))return g(e,r,o,l);if(c&&Vo(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Go=Ho(!0),qo=Ho(!1),Ko={},Yo={current:Ko},Xo={current:Ko},Zo={current:Ko};function Jo(e){if(e===Ko)throw Error(a(174));return e}function Qo(e,t){switch(Ai(Zo,t),Ai(Xo,e),Ai(Yo,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:t=He(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Yo),Ai(Yo,t)}function ea(){Ni(Yo),Ni(Xo),Ni(Zo)}function ta(e){Jo(Zo.current);var t=Jo(Yo.current),n=He(t,e.type);t!==n&&(Ai(Xo,e),Ai(Yo,n))}function na(e){Xo.current===e&&(Ni(Yo),Ni(Xo))}var ra={current:0};function ia(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===An||n.data===In))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function oa(e,t){return{responder:e,props:t}}var aa=ee.ReactCurrentDispatcher,sa=ee.ReactCurrentBatchConfig,la=0,ua=null,ca=null,fa=null,ha=!1;function da(){throw Error(a(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ri(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,o){if(la=o,ua=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,aa.current=null===e||null===e.memoizedState?Fa:Ba,e=n(r,i),t.expirationTime===la){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,fa=ca=null,t.updateQueue=null,aa.current=za,e=n(r,i)}while(t.expirationTime===la)}if(aa.current=La,t=null!==ca&&null!==ca.next,la=0,fa=ca=ua=null,ha=!1,t)throw Error(a(300));return e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fa?ua.memoizedState=fa=e:fa=fa.next=e,fa}function ba(){if(null===ca){var e=ua.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===fa?ua.memoizedState:fa.next;if(null!==t)fa=t,ca=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===fa?ua.memoizedState=fa=e:fa=fa.next=e}return fa}function ya(e,t){return"function"==typeof t?t(e):t}function va(e){var t=ba(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ca,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.expirationTime;if(c<la){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,c>ua.expirationTime&&(ua.expirationTime=c,zl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),Bl(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,ri(r,t.memoizedState)||(Za=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ri(o,t.memoizedState)||(Za=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xa(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e}).dispatch=Da.bind(null,ua,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ua.updateQueue)?(t={lastEffect:null},ua.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sa(){return ba().memoizedState}function Ea(e,t,n,r){var i=ga();ua.effectTag|=e,i.memoizedState=_a(1|t,n,void 0,void 0===r?null:r)}function Ca(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==r&&pa(r,a.deps))return void _a(t,n,o,r)}ua.effectTag|=e,i.memoizedState=_a(1|t,n,o,r)}function ka(e,t){return Ea(516,4,e,t)}function Oa(e,t){return Ca(516,4,e,t)}function Ta(e,t){return Ca(4,2,e,t)}function Na(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Aa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ca(4,2,Na.bind(null,t,e),n)}function Ia(){}function ja(e,t){return ga().memoizedState=[e,void 0===t?null:t],e}function Ra(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ma(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pa(e,t,n){var r=so();uo(98>r?98:r,function(){e(!0)}),uo(97<r?97:r,function(){var r=sa.suspense;sa.suspense=void 0===t?null:t;try{e(!1),n()}finally{sa.suspense=r}})}function Da(e,t,n){var r=Cl(),i=Mo.suspense;i={expirationTime:r=kl(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===ua||null!==o&&o===ua)ha=!0,i.expirationTime=la,ua.expirationTime=la;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,ri(s,a))return}catch(e){}Ol(e,r)}}var La={readContext:Co,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useResponder:da,useDeferredValue:da,useTransition:da},Fa={readContext:Co,useCallback:ja,useContext:Co,useEffect:ka,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ea(4,2,Na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ea(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Da.bind(null,ua,e),[r.memoizedState,e]},useRef:function(e){var t;return e={current:e},ga().memoizedState=e},useState:xa,useDebugValue:Ia,useResponder:oa,useDeferredValue:function(e,t){var n=xa(e),r=n[0],i=n[1];return ka(function(){var n=sa.suspense;sa.suspense=void 0===t?null:t;try{i(e)}finally{sa.suspense=n}},[e,t]),r},useTransition:function(e){var t=xa(!1),n=t[0];return t=t[1],[ja(Pa.bind(null,t,e),[t,e]),n]}},Ba={readContext:Co,useCallback:Ra,useContext:Co,useEffect:Oa,useImperativeHandle:Aa,useLayoutEffect:Ta,useMemo:Ma,useReducer:va,useRef:Sa,useState:function(){return va(ya)},useDebugValue:Ia,useResponder:oa,useDeferredValue:function(e,t){var n=va(ya),r=n[0],i=n[1];return Oa(function(){var n=sa.suspense;sa.suspense=void 0===t?null:t;try{i(e)}finally{sa.suspense=n}},[e,t]),r},useTransition:function(e){var t=va(ya),n=t[0];return t=t[1],[Ra(Pa.bind(null,t,e),[t,e]),n]}},za={readContext:Co,useCallback:Ra,useContext:Co,useEffect:Oa,useImperativeHandle:Aa,useLayoutEffect:Ta,useMemo:Ma,useReducer:wa,useRef:Sa,useState:function(){return wa(ya)},useDebugValue:Ia,useResponder:oa,useDeferredValue:function(e,t){var n=wa(ya),r=n[0],i=n[1];return Oa(function(){var n=sa.suspense;sa.suspense=void 0===t?null:t;try{i(e)}finally{sa.suspense=n}},[e,t]),r},useTransition:function(e){var t=wa(ya),n=t[0];return t=t[1],[Ra(Pa.bind(null,t,e),[t,e]),n]}},$a=null,Ua=null,Wa=!1;function Va(e,t){var n=ou(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ha(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ga(e){if(Wa){var t=Ua;if(t){var n=t;if(!Ha(e,t)){if(!(t=Fn(n.nextSibling))||!Ha(e,t))return e.effectTag=-1025&e.effectTag|2,Wa=!1,void($a=e);Va($a,n)}$a=e,Ua=Fn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Wa=!1,$a=e}}function qa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$a=e}function Ka(e){if(e!==$a)return!1;if(!Wa)return qa(e),Wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Pn(t,e.memoizedProps))for(t=Ua;t;)Va(e,t),t=Fn(t.nextSibling);if(qa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Nn){if(0===t){Ua=Fn(e.nextSibling);break e}t--}else n!==Tn&&n!==In&&n!==An||t++}e=e.nextSibling}Ua=null}}else Ua=$a?Fn(e.stateNode.nextSibling):null;return!0}function Ya(){Ua=$a=null,Wa=!1}var Xa=ee.ReactCurrentOwner,Za=!1;function Ja(e,t,n,r){t.child=null===e?qo(t,null,n,r):Go(t,e.child,n,r)}function Qa(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=ma(e,t,n,r,o,i),null===e||Za?(t.effectTag|=1,Ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),gs(e,t,i))}function es(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||au(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=uu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ts(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:oi)(i,r)&&e.ref===t.ref)?gs(e,t,o):(t.effectTag|=1,(e=lu(a,r)).ref=t.ref,e.return=t,t.child=e)}function ts(e,t,n,r,i,o){return null!==e&&oi(e.memoizedProps,r)&&e.ref===t.ref&&(Za=!1,i<o)?(t.expirationTime=e.expirationTime,gs(e,t,o)):rs(e,t,n,r,o)}function ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function rs(e,t,n,r,i){var o=Di(n)?Mi:ji.current;return o=Pi(t,o),Eo(t,i),n=ma(e,t,n,r,o,i),null===e||Za?(t.effectTag|=1,Ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),gs(e,t,i))}function is(e,t,n,r,i){if(Di(n)){var o=!0;zi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Bo(t,n,r),$o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=Co(u):u=Pi(t,u=Di(n)?Mi:ji.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&zo(t,a,r,u),ko=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ri.current||ko?("function"==typeof c&&(Do(t,n,c,r),l=t.memoizedState),(s=ko||Fo(t,n,s,r,h,l,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,To(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:go(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=Co(u):u=Pi(t,u=Di(n)?Mi:ji.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&zo(t,a,r,u),ko=!1,l=t.memoizedState,a.state=l,jo(t,r,a,i),h=t.memoizedState,s!==r||l!==h||Ri.current||ko?("function"==typeof c&&(Do(t,n,c,r),h=t.memoizedState),(c=ko||Fo(t,n,s,r,l,h,u))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return os(e,t,n,r,o,i)}function os(e,t,n,r,i,o){ns(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&$i(t,n,!1),gs(e,t,o);r=t.stateNode,Xa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,s,o)):Ja(e,t,s,o),t.memoizedState=r.state,i&&$i(t,n,!0),t.child}function as(e){var t=e.stateNode;t.pendingContext?Fi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(e,t.context,!1),Qo(e,t.containerInfo)}var ss={dehydrated:null,retryTime:0},ls,us,cs,fs;function hs(e,t,n){var r=t.mode,i=t.pendingProps,o=ra.current,a=!1,s;if((s=0!=(64&t.effectTag))||(s=0!=(2&o)&&(null===e||null!==e.memoizedState)),s?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Ai(ra,1&o),null===e){if(void 0!==i.fallback&&Ga(t),a){if(a=i.fallback,(i=cu(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=cu(a,r,n,null)).return=t,i.sibling=n,t.memoizedState=ss,t.child=i,n}return r=i.children,t.memoizedState=null,t.child=qo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,a){if(i=i.fallback,(n=lu(e,e.pendingProps)).return=t,0==(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(r=lu(r,i)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=ss,t.child=n,r}return n=Go(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=i.fallback,(i=cu(null,r,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=cu(a,r,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=ss,t.child=i,n}return t.memoizedState=null,t.child=Go(t,e,i.children,n)}function ds(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),So(e.return,t)}function ps(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function ms(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ja(e,t,r.children,n),0!=(2&(r=ra.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ds(e,n);else if(19===e.tag)ds(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ra,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ia(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ps(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ia(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ps(t,!0,n,null,o,t.lastEffect);break;case"together":ps(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function gs(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&zl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function bs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Di(t.type)&&Li(),null;case 3:return ea(),Ni(Ri),Ni(ji),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ka(t)||(t.effectTag|=4),us(t),null;case 5:na(t),n=Jo(Zo.current);var o=t.type;if(null!==e&&null!=t.stateNode)cs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Jo(Yo.current),Ka(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[$n]=t,r[Un]=s,o){case"iframe":case"object":case"embed":an("load",r);break;case"video":case"audio":for(e=0;e<ot.length;e++)an(ot[e],r);break;case"source":an("error",r);break;case"img":case"image":case"link":an("error",r),an("load",r);break;case"form":an("reset",r),an("submit",r);break;case"details":an("toggle",r);break;case"input":Ne(r,s),an("invalid",r),wn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},an("invalid",r),wn(n,"onChange");break;case"textarea":Fe(r,s),an("invalid",r),wn(n,"onChange")}for(var l in bn(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):C.hasOwnProperty(l)&&null!=u&&wn(n,l)}switch(o){case"input":ke(r),je(r,s,!0);break;case"textarea":ke(r),ze(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=xn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===vn&&(e=Ve(o)),e===vn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[$n]=t,e[Un]=r,ls(e,t,!1,!1),t.stateNode=e,l=yn(o,r),o){case"iframe":case"object":case"embed":an("load",e),u=r;break;case"video":case"audio":for(u=0;u<ot.length;u++)an(ot[u],e);u=r;break;case"source":an("error",e),u=r;break;case"img":case"image":case"link":an("error",e),an("load",e),u=r;break;case"form":an("reset",e),an("submit",e),u=r;break;case"details":an("toggle",e),u=r;break;case"input":Ne(e,r),u=Te(e,r),an("invalid",e),wn(n,"onChange");break;case"option":u=Pe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),an("invalid",e),wn(n,"onChange");break;case"textarea":Fe(e,r),u=Le(e,r),an("invalid",e),wn(n,"onChange");break;default:u=r}bn(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?mn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&qe(e,f):"children"===s?"string"==typeof f?("textarea"!==o||""!==f)&&Ye(e,f):"number"==typeof f&&Ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(C.hasOwnProperty(s)?null!=f&&wn(n,s):null!=f&&te(e,s,f,l))}switch(o){case"input":ke(e),je(e,r,!1);break;case"textarea":ke(e),ze(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Se(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?De(e,!!r.multiple,n,!1):null!=r.defaultValue&&De(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=xn)}Mn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)fs(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Jo(Zo.current),Jo(Yo.current),Ka(t)?(n=t.stateNode,r=t.memoizedProps,n[$n]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$n]=t,t.stateNode=n)}return null;case 13:return Ni(ra),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&ra.current)?il===Ks&&(il=Zs):(il!==Ks&&il!==Zs||(il=Js),0!==ul&&null!==tl&&(mu(tl,rl),gu(tl,ul)))),(n||r)&&(t.effectTag|=4),null);case 4:return ea(),us(t),null;case 10:return _o(t),null;case 17:return Di(t.type)&&Li(),null;case 19:if(Ni(ra),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)bs(r,!1);else if(il!==Ks||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=ia(s))){for(t.effectTag|=64,bs(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return Ai(ra,1&ra.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=ia(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),bs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ao()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,bs(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ao()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ao(),n.sibling=null,t=ra.current,Ai(ra,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function vs(e){switch(e.tag){case 1:Di(e.type)&&Li();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ea(),Ni(Ri),Ni(ji),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return na(e),null;case 13:return Ni(ra),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Ni(ra),null;case 4:return ea(),null;case 10:return _o(e),null;default:return null}}function ws(e,t){return{value:e,source:t,stack:_e(t)}}ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},us=function(){},cs=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode,l,u;switch(Jo(Yo.current),e=null,n){case"input":a=Te(s,a),r=Te(s,r),e=[];break;case"option":a=Pe(s,a),r=Pe(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Le(s,a),r=Le(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=xn)}for(l in bn(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l)for(u in s=a[l])s.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(C.hasOwnProperty(l)?e||(e=[]):(e=e||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(e=e||[]).push(l,c)):"children"===l?s===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(C.hasOwnProperty(l)?(null!=c&&wn(o,l),e||s===c||(e=[])):(e=e||[]).push(l,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},fs=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var xs="function"==typeof WeakSet?WeakSet:Set;function _s(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=_e(n)),null!==n&&xe(n.type),t=t.value,null!==e&&1===e.tag&&xe(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Ss(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Jl(e,t)}}function Es(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Jl(e,t)}else t.current=null}function Cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:go(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ks(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ts(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Os(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:go(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Ro(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}Ro(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Mn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Kt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function Ns(e,t,n){switch("function"==typeof nu&&nu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;uo(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Jl(i,e)}}e=e.next}while(e!==r)})}break;case 1:Es(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&Ss(t,n);break;case 5:Es(t);break;case 4:Ps(e,t,n)}}function As(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&As(t)}function Is(e){return 5===e.tag||3===e.tag||4===e.tag}function js(e){e:{for(var t=e.return;null!==t;){if(Is(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ye(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Is(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?Rs(e,n,t):Ms(e,n,t)}function Rs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=xn));else if(4!==r&&null!==(e=e.child))for(Rs(e,t,n),e=e.sibling;null!==e;)Rs(e,t,n),e=e.sibling}function Ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ms(e,t,n),e=e.sibling;null!==e;)Ms(e,t,n),e=e.sibling}function Ps(e,t,n){for(var r=t,i=!1,o,s;;){if(!i){i=r.return;e:for(;;){if(null===i)throw Error(a(160));switch(o=i.stateNode,i.tag){case 5:s=!1;break e;case 3:case 4:o=o.containerInfo,s=!0;break e}i=i.return}i=!0}if(5===r.tag||6===r.tag){e:for(var l=e,u=r,c=n,f=u;;)if(Ns(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s?(l=o,u=r.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):o.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){o=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(Ns(e,r,n),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ks(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Un]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ae(n,r),yn(e,i),t=yn(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?mn(n,l):"dangerouslySetInnerHTML"===s?qe(n,l):"children"===s?Ye(n,l):te(n,s,l,t)}switch(e){case"input":Ie(n,r);break;case"textarea":Be(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Kt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,fl=ao()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=pn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Ls(t);case 19:return void Ls(t);case 17:return}throw Error(a(163))}function Ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new xs),t.forEach(function(t){var r=eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var Fs="function"==typeof WeakMap?WeakMap:Map;function Bs(e,t,n){(n=No(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pl||(pl=!0,ml=r),_s(e,t)},n}function zs(e,t,n){(n=No(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return _s(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===gl?gl=new Set([this]):gl.add(this),_s(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var $s=Math.ceil,Us=ee.ReactCurrentDispatcher,Ws=ee.ReactCurrentOwner,Vs=0,Hs=8,Gs=16,qs=32,Ks=0,Ys=1,Xs=2,Zs=3,Js=4,Qs=5,el=Vs,tl=null,nl=null,rl=0,il=Ks,ol=null,al=1073741823,sl=1073741823,ll=null,ul=0,cl=!1,fl=0,hl=500,dl=null,pl=!1,ml=null,gl=null,bl=!1,yl=null,vl=90,wl=null,xl=0,_l=null,Sl=0,El;function Cl(){return(el&(Gs|qs))!==Vs?1073741821-(ao()/10|0):0!==Sl?Sl:Sl=1073741821-(ao()/10|0)}function kl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=so();if(0==(4&t))return 99===r?1073741823:1073741822;if((el&Gs)!==Vs)return rl;if(null!==n)e=mo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=mo(e,150,100);break;case 97:case 96:e=mo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==tl&&e===rl&&--e,e}function Ol(e,t){if(50<xl)throw xl=0,_l=null,Error(a(185));if(null!==(e=Tl(e,t))){var n=so();1073741823===t?(el&Hs)!==Vs&&(el&(Gs|qs))===Vs?jl(e):(Al(e),el===Vs&&ho()):Al(e),(4&el)===Vs||98!==n&&99!==n||(null===wl?wl=new Map([[e,t]]):(void 0===(n=wl.get(e))||n>t)&&wl.set(e,t))}}function Tl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(tl===i&&(zl(t),il===Js&&mu(i,rl)),gu(i,t)),i}function Nl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!pu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Al(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=fo(jl.bind(null,e));else{var t=Nl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Cl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Qi&&Vi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?fo(jl.bind(null,e)):co(r,Il.bind(null,e),{timeout:10*(1073741821-t)-ao()}),e.callbackNode=t}}}function Il(e,t){if(Sl=0,t)return bu(e,t=Cl()),Al(e),null;var n=Nl(e);if(0!==n){if(t=e.callbackNode,(el&(Gs|qs))!==Vs)throw Error(a(327));if(Yl(),e===tl&&n===rl||Dl(e,n),null!==nl){var r=el;el|=Gs;for(var i=Fl();;)try{Ul();break}catch(t){Ll(e,t)}if(xo(),el=r,Us.current=i,il===Ys)throw t=ol,Dl(e,n),mu(e,n),Al(e),t;if(null===nl)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=il,tl=null,r){case Ks:case Ys:throw Error(a(345));case Xs:bu(e,2<n?2:n);break;case Zs:if(mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Hl(i)),1073741823===al&&10<(i=fl+hl-ao())){if(cl){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Dl(e,n);break}}if(0!==(o=Nl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Dn(Gl.bind(null,e),i);break}Gl(e);break;case Js:if(mu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Hl(i)),cl&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Dl(e,n);break}if(0!==(i=Nl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==sl?r=10*(1073741821-sl)-ao():1073741823===al?r=0:(r=10*(1073741821-al)-5e3,n=10*(1073741821-n)-(i=ao()),0>(r=i-r)&&(r=0),n<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Dn(Gl.bind(null,e),r);break}Gl(e);break;case Qs:if(1073741823!==al&&null!==ll){o=al;var s=ll;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=ao()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){mu(e,n),e.timeoutHandle=Dn(Gl.bind(null,e),r);break}}Gl(e);break;default:throw Error(a(329))}if(Al(e),e.callbackNode===t)return Il.bind(null,e)}}return null}function jl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(el&(Gs|qs))!==Vs)throw Error(a(327));if(Yl(),e===tl&&t===rl||Dl(e,t),null!==nl){var n=el;el|=Gs;for(var r=Fl();;)try{$l();break}catch(t){Ll(e,t)}if(xo(),el=n,Us.current=r,il===Ys)throw n=ol,Dl(e,t),mu(e,t),Al(e),n;if(null!==nl)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,tl=null,Gl(e),Al(e)}return null}function Rl(){if(null!==wl){var e=wl;wl=null,e.forEach(function(e,t){bu(t,e),Al(t)}),ho()}}function Ml(e,t){var n=el;el|=1;try{return e(t)}finally{(el=n)===Vs&&ho()}}function Pl(e,t){var n=el;el&=-2,el|=Hs;try{return e(t)}finally{(el=n)===Vs&&ho()}}function Dl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ln(n)),null!==nl)for(n=nl.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:ea(),Ni(Ri),Ni(ji);break;case 5:na(r);break;case 4:ea();break;case 13:case 19:Ni(ra);break;case 10:_o(r)}n=n.return}tl=e,nl=lu(e.current,null),rl=t,il=Ks,ol=null,sl=al=1073741823,ll=null,ul=0,cl=!1}function Ll(e,t){for(;;){try{if(xo(),aa.current=La,ha)for(var n=ua.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(la=0,fa=ca=ua=null,ha=!1,null===nl||null===nl.return)return il=Ys,ol=t,nl=null;e:{var i=e,o=nl.return,a=nl,s=t;if(t=rl,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&ra.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var m=f.updateQueue;if(null===m){var g=new Set;g.add(l),f.updateQueue=g}else m.add(l);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=No(1073741823,null);b.tag=2,Ao(a,b)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new Fs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var v=Ql.bind(null,i,l,a);l.then(v,v)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((xe(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_e(a))}il!==Qs&&(il=Xs),s=ws(s,a),f=o;do{switch(f.tag){case 3:var w;l=s,f.effectTag|=4096,f.expirationTime=t,Io(f,Bs(f,l,t));break e;case 1:l=s;var x=f.type,_=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===gl||!gl.has(_)))){var S;f.effectTag|=4096,f.expirationTime=t,Io(f,zs(f,l,t));break e}}f=f.return}while(null!==f)}nl=Vl(nl)}catch(e){t=e;continue}break}}function Fl(){var e=Us.current;return Us.current=La,null===e?La:e}function Bl(e,t){e<al&&2<e&&(al=e),null!==t&&e<sl&&2<e&&(sl=e,ll=t)}function zl(e){e>ul&&(ul=e)}function $l(){for(;null!==nl;)nl=Wl(nl)}function Ul(){for(;null!==nl&&!eo();)nl=Wl(nl)}function Wl(e){var t=El(e.alternate,e,rl);return e.memoizedProps=e.pendingProps,null===t&&(t=Vl(e)),Ws.current=null,t}function Vl(e){nl=e;do{var t=nl.alternate;if(e=nl.return,0==(2048&nl.effectTag)){if(t=ys(t,nl,rl),1===rl||1!==nl.childExpirationTime){for(var n=0,r=nl.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}nl.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=nl.firstEffect),null!==nl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=nl.firstEffect),e.lastEffect=nl.lastEffect),1<nl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=nl:e.firstEffect=nl,e.lastEffect=nl))}else{if(null!==(t=vs(nl)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=nl.sibling))return t;nl=e}while(null!==nl);return il===Ks&&(il=Qs),null}function Hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Gl(e){var t=so();return uo(99,ql.bind(null,e,t)),null}function ql(e,t){do{Yl()}while(null!==yl);if((el&(Gs|qs))!==Vs)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Hl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===tl&&(nl=tl=null,rl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=el;el|=qs,Ws.current=null,jn=on;var s=kn();if(On(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(e){l=null;break e}var h=0,d=-1,p=-1,m=0,g=0,b=s,y=null;t:for(;;){for(var v;b!==l||0!==c&&3!==b.nodeType||(d=h+c),b!==f||0!==u&&3!==b.nodeType||(p=h+u),3===b.nodeType&&(h+=b.nodeValue.length),null!==(v=b.firstChild);)y=b,b=v;for(;;){if(b===s)break t;if(y===l&&++m===c&&(d=h),y===f&&++g===u&&(p=h),null!==(v=b.nextSibling))break;y=(b=y).parentNode}b=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Rn={activeElementDetached:null,focusedElem:s,selectionRange:l},on=!1,dl=i;do{try{Kl()}catch(e){if(null===dl)throw Error(a(330));Jl(dl,e),dl=dl.nextEffect}}while(null!==dl);dl=i;do{try{for(s=e,l=t;null!==dl;){var w=dl.effectTag;if(16&w&&Ye(dl.stateNode,""),128&w){var x=dl.alternate;if(null!==x){var _=x.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:js(dl),dl.effectTag&=-3;break;case 6:js(dl),dl.effectTag&=-3,Ds(dl.alternate,dl);break;case 1024:dl.effectTag&=-1025;break;case 1028:dl.effectTag&=-1025,Ds(dl.alternate,dl);break;case 4:Ds(dl.alternate,dl);break;case 8:Ps(s,c=dl,l),As(c)}dl=dl.nextEffect}}catch(e){if(null===dl)throw Error(a(330));Jl(dl,e),dl=dl.nextEffect}}while(null!==dl);if(_=Rn,x=kn(),w=_.focusedElem,l=_.selectionRange,x!==w&&w&&w.ownerDocument&&Cn(w.ownerDocument.documentElement,w)){null!==l&&On(w)&&(x=l.start,void 0===(_=l.end)&&(_=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(_,w.value.length)):(_=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),c=w.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!_.extend&&s>l&&(c=l,l=s,s=c),c=En(w,s),f=En(w,l),c&&f&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==f.node||_.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),s>l?(_.addRange(x),_.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),_.addRange(x))))),x=[];for(_=w;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(_=x[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}on=!!jn,Rn=jn=null,e.current=n,dl=i;do{try{for(w=e;null!==dl;){var S=dl.effectTag;if(36&S&&Ts(w,dl.alternate,dl),128&S){x=void 0;var E=dl.ref;if(null!==E){var C=dl.stateNode;switch(dl.tag){case 5:x=C;break;default:x=C}"function"==typeof E?E(x):E.current=x}}dl=dl.nextEffect}}catch(e){if(null===dl)throw Error(a(330));Jl(dl,e),dl=dl.nextEffect}}while(null!==dl);dl=null,to(),el=o}else e.current=n;if(bl)bl=!1,yl=e,vl=t;else for(dl=i;null!==dl;)t=dl.nextEffect,dl.nextEffect=null,dl=t;if(0===(t=e.firstPendingTime)&&(gl=null),1073741823===t?e===_l?xl++:(xl=0,_l=e):xl=0,"function"==typeof tu&&tu(n.stateNode,r),Al(e),pl)throw pl=!1,e=ml,ml=null,e;return(el&Hs)!==Vs?null:(ho(),null)}function Kl(){for(;null!==dl;){var e=dl.effectTag;0!=(256&e)&&Cs(dl.alternate,dl),0==(512&e)||bl||(bl=!0,co(97,function(){return Yl(),null})),dl=dl.nextEffect}}function Yl(){if(90!==vl){var e=97<vl?97:vl;return vl=90,uo(e,Xl)}}function Xl(){if(null===yl)return!1;var e=yl;if(yl=null,(el&(Gs|qs))!==Vs)throw Error(a(331));var t=el;for(el|=qs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ks(5,n),Os(5,n)}}catch(t){if(null===e)throw Error(a(330));Jl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return el=t,ho(),!0}function Zl(e,t,n){Ao(e,t=Bs(e,t=ws(n,t),1073741823)),null!==(e=Tl(e,1073741823))&&Al(e)}function Jl(e,t){if(3===e.tag)Zl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Zl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===gl||!gl.has(r))){Ao(n,e=zs(n,e=ws(t,e),1073741823)),null!==(n=Tl(n,1073741823))&&Al(n);break}}n=n.return}}function Ql(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),tl===e&&rl===n?il===Js||il===Zs&&1073741823===al&&ao()-fl<hl?Dl(e,rl):cl=!0:pu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Al(e)))}function eu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=kl(t=Cl(),e,null)),null!==(e=Tl(e,t))&&Al(e)}El=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ri.current)Za=!0;else{if(r<n){switch(Za=!1,t.tag){case 3:as(t),Ya();break;case 5:if(ta(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Di(t.type)&&zi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Ai(bo,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?hs(e,t,n):(Ai(ra,1&ra.current),null!==(t=gs(e,t,n))?t.sibling:null);Ai(ra,1&ra.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ms(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Ai(ra,ra.current),!r)return null}return gs(e,t,n)}Za=!1}}else Za=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Pi(t,ji.current),Eo(t,n),i=ma(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)){var o=!0;zi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&Do(t,r,s,e),i.updater=Lo,t.stateNode=i,i._reactInternalFiber=t,$o(t,r,e,n),t=os(null,t,r,!0,o,n)}else t.tag=0,Ja(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,we(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=su(i),e=go(i,e),o){case 0:t=rs(null,t,i,e,n);break e;case 1:t=is(null,t,i,e,n);break e;case 11:t=Qa(null,t,i,e,n);break e;case 14:t=es(null,t,i,go(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,rs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:if(as(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,To(e,t),jo(t,r,null,n),(r=t.memoizedState.element)===i)Ya(),t=gs(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ua=Fn(t.stateNode.containerInfo.firstChild),$a=t,i=Wa=!0),i)for(n=qo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ja(e,t,r,n),Ya();t=t.child}return t;case 5:return ta(t),null===e&&Ga(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Pn(r,i)?s=null:null!==o&&Pn(r,o)&&(t.effectTag|=16),ns(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ja(e,t,s,n),t=t.child),t;case 6:return null===e&&Ga(t),null;case 13:return hs(e,t,n);case 4:return Qo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Go(t,null,r,n):Ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Qa(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return Ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(Ai(bo,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=ri(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!Ri.current){t=gs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=No(n,null)).tag=2,Ao(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),So(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Eo(t,n),r=r(i=Co(i,o.unstable_observedBits)),t.effectTag|=1,Ja(e,t,r,n),t.child;case 14:return o=go(i=t.type,t.pendingProps),es(e,t,i,o=go(i.type,o),r,n);case 15:return ts(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Di(r)?(e=!0,zi(t)):e=!1,Eo(t,n),Bo(t,r,i),$o(t,r,i,n),os(null,t,r,!0,e,n);case 19:return ms(e,t,n)}throw Error(a(156,t.tag))};var tu=null,nu=null;function ru(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);tu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},nu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ou(e,t,n,r){return new iu(e,t,n,r)}function au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function su(e){if("function"==typeof e)return au(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===he)return 11;if(e===me)return 14}return 2}function lu(e,t){var n=e.alternate;return null===n?((n=ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function uu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)au(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ae:return cu(n.children,i,o,t);case fe:s=8,i|=7;break;case se:s=8,i|=1;break;case le:return(e=ou(12,n,t,8|i)).elementType=le,e.type=le,e.expirationTime=o,e;case de:return(e=ou(13,n,t,i)).type=de,e.elementType=de,e.expirationTime=o,e;case pe:return(e=ou(19,n,t,i)).elementType=pe,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ue:s=10;break e;case ce:s=9;break e;case he:s=11;break e;case me:s=14;break e;case ge:s=16,r=null;break e;case be:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ou(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function cu(e,t,n,r){return(e=ou(7,e,r,t)).expirationTime=n,e}function fu(e,t,n){return(e=ou(6,e,null,t)).expirationTime=n,e}function hu(e,t,n){return(t=ou(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function du(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function pu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function mu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function gu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function bu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function yu(e,t,n,r){var i=t.current,o=Cl(),s=Mo.suspense;o=kl(o,i,s);e:if(n){n=n._reactInternalFiber;t:{if(lt(n)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Di(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(Di(u)){n=Bi(n,u,l);break e}}n=l}else n=Ii;return null===t.context?t.context=n:t.pendingContext=n,(t=No(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ao(i,t),Ol(i,o),o}function vu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function wu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function xu(e,t){wu(e,t),(e=e.alternate)&&wu(e,t)}function _u(e,t,n){var r=new du(e,t,n=null!=n&&!0===n.hydrate),i=ou(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,Oo(i),e[Wn]=r.current,n&&0!==t&&Ft(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Su(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Eu(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new _u(e,0,t?{hydrate:!0}:void 0)}function Cu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=vu(a);s.call(e)}}yu(t,a,e,i)}else{if(o=n._reactRootContainer=Eu(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=vu(a);l.call(e)}}Pl(function(){yu(t,a,e,i)})}return vu(a)}function ku(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:oe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ou(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Su(t))throw Error(a(200));return ku(e,t,null,n)}_u.prototype.render=function(e){yu(e,this._internalRoot,null,null)},_u.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;yu(null,e,null,function(){t[Wn]=null})},Ct=function(e){if(13===e.tag){var t=mo(Cl(),150,100);Ol(e,t),xu(e,t)}},kt=function(e){13===e.tag&&(Ol(e,3),xu(e,3))},Ot=function(e){if(13===e.tag){var t=Cl();Ol(e,t=kl(t,e,null)),xu(e,t)}},N=function(e,t,n){switch(t){case"input":if(Ie(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=qn(r);if(!i)throw Error(a(90));Oe(r),Ie(r,i)}}}break;case"textarea":Be(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},P=Ml,D=function(e,t,n,r,i){var o=el;el|=4;try{return uo(98,e.bind(null,t,n,r,i))}finally{(el=o)===Vs&&ho()}},L=function(){(el&(1|Gs|qs))===Vs&&(Rl(),Yl())},F=function(e,t){var n=el;el|=2;try{return e(t)}finally{(el=n)===Vs&&ho()}};var Tu={Events:[Hn,Gn,qn,O,E,er,function(e){pt(e,Qn)},R,M,cn,bt,Yl,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;ru(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ht(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Vn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tu,t.createPortal=Ou,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=ht(t))?null:e.stateNode},t.flushSync=function(e,t){if((el&(Gs|qs))!==Vs)throw Error(a(187));var n=el;el|=1;try{return uo(99,e.bind(null,t))}finally{el=n,ho()}},t.hydrate=function(e,t,n){if(!Su(t))throw Error(a(200));return Cu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Su(t))throw Error(a(200));return Cu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Su(e))throw Error(a(40));return!!e._reactRootContainer&&(Pl(function(){Cu(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0)},t.unstable_batchedUpdates=Ml,t.unstable_createPortal=function(e,t){return Ou(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Su(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Cu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(241),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}function x(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var S=_.prototype=new x;S.constructor=_,r(S,w.prototype),S.isPureReactComponent=!0;var E={current:null},C=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function T(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}function A(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}var I=/\/+/g,j=[];function R(e,t,n,r){if(j.length){var i=j.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function P(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return n(r,e,""===t?"."+L(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+L(i=e[l],l);s+=P(i,u,n,r)}else if(null===e||"object"!=typeof e?u=null:u="function"==typeof(u=g&&e[g]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),l=0;!(i=e.next()).done;)s+=P(i=i.value,u=t+L(i,l++),n,r);else if("object"===i)throw n=""+e,Error(b(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function D(e,t,n){return null==e?0:P(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?A(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,r,n,function(e){return e}):null!=e&&(N(e)&&(e=T(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function z(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),D(e,B,t=R(t,o,r,i)),M(t)}var $={current:null};function U(){var e=$.current;if(null===e)throw Error(b(321));return e}var W={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return z(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,F,t=R(null,null,t,n)),M(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return z(e,t,null,function(e){return e}),t},only:function(e){if(!N(e))throw Error(b(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=u,t.PureComponent=_,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(b(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(524)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var b=d.now();t.unstable_now=function(){return d.now()-b}}var y=!1,v=null,w=-1,x=5,_=0;a=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+x;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(e){throw E.postMessage(null),e}}else y=!1},r=function(e){v=e,y||(y=!0,E.postMessage(null))},i=function(e,n){w=p(function(){e(t.unstable_now())},n)},o=function(){m(w),w=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var N=[],A=[],I=1,j=null,R=3,M=!1,P=!1,D=!1;function L(e){for(var t=k(A);null!==t;){if(null===t.callback)O(A);else{if(!(t.startTime<=e))break;O(A),t.sortIndex=t.expirationTime,C(N,t)}t=k(A)}}function F(e){if(D=!1,L(e),!P)if(null!==k(N))P=!0,r(B);else{var t=k(A);null!==t&&i(F,t.startTime-e)}}function B(e,n){P=!1,D&&(D=!1,o()),M=!0;var r=R;try{for(L(n),j=k(N);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,R=j.priorityLevel;var l=s(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?j.callback=l:j===k(N)&&O(N),L(n)}else O(N);j=k(N)}if(null!==j)var u=!0;else{var c=k(A);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{j=null,R=r,M=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var $=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||M||(P=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return k(N)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=$,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:z(e)}else a=z(e),l=s;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,C(A,e),null===k(N)&&e===k(A)&&(D?o():D=!0,i(F,l-s))):(e.sortIndex=a,C(N,e),P||M||(P=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=k(N);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={default:n(536),__esModule:!0}},function(e,t,n){n(537),e.exports=n(77).Object.assign},function(e,t,n){var r=n(96);r(r.S+r.F,"Object",{assign:n(539)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(78),i=n(136),o=n(180),a=n(139),s=n(181),l=n(246),u=Object.assign;e.exports=!u||n(116)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function e(t,n){for(var u=s(t),c=arguments.length,f=1,h=o.f,d=a.f;c>f;)for(var p=l(arguments[f++]),m=h?i(p).concat(h(p)):i(p),g=m.length,b=0,y;g>b;)y=m[b++],r&&!d.call(p,y)||(u[y]=p[y]);return u}:u},function(e,t,n){var r=n(99),i=n(541),o=n(542);e.exports=function(e){return function(t,n,a){var s=r(t),l=i(s.length),u=o(a,l),c;if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(176),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(176),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){e.exports={default:n(544),__esModule:!0}},function(e,t,n){n(545),n(551),e.exports=n(185).f("iterator")},function(e,t,n){"use strict";var r=n(546)(!0);n(248)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i,n;return t>=e.length?{value:void 0,done:!0}:(n=r(e,t),this._i+=n.length,{value:n,done:!1})})},function(e,t,n){var r=n(176),i=n(175);e.exports=function(e){return function(t,n){var o=String(i(t)),a=r(n),s=o.length,l,u;return a<0||a>=s?e?"":void 0:(l=o.charCodeAt(a))<55296||l>56319||a+1===s||(u=o.charCodeAt(a+1))<56320||u>57343?e?o.charAt(a):l:e?o.slice(a,a+2):u-56320+(l-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(183),i=n(135),o=n(184),a={};n(97)(a,n(100)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(85),i=n(115),o=n(136);e.exports=n(78)?Object.defineProperties:function e(t,n){i(t);for(var a=o(n),s=a.length,l=0,u;s>l;)r.f(t,u=a[l++],n[u]);return t}},function(e,t,n){var r=n(76).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(86),i=n(181),o=n(177)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){n(552);for(var r=n(76),i=n(97),o=n(182),a=n(100)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],f=c&&c.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},function(e,t,n){"use strict";var r=n(553),i=n(554),o=n(182),a=n(99);e.exports=n(248)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(556),__esModule:!0}},function(e,t,n){n(557),n(562),n(563),n(564),e.exports=n(77).Symbol},function(e,t,n){"use strict";var r=n(76),i=n(86),o=n(78),a=n(96),s=n(249),l=n(558).KEY,u=n(116),c=n(178),f=n(184),h=n(138),d=n(100),p=n(185),m=n(186),g=n(559),b=n(560),y=n(115),v=n(98),w=n(181),x=n(99),_=n(174),S=n(135),E=n(183),C=n(561),k=n(251),O=n(180),T=n(85),N=n(136),A=k.f,I=T.f,j=C.f,R=r.Symbol,M=r.JSON,P=M&&M.stringify,D="prototype",L=d("_hidden"),F=d("toPrimitive"),B={}.propertyIsEnumerable,z=c("symbol-registry"),$=c("symbols"),U=c("op-symbols"),W=Object.prototype,V="function"==typeof R&&!!O.f,H=r.QObject,G=!H||!H.prototype||!H.prototype.findChild,q=o&&u(function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(W,t);r&&delete W[t],I(e,t,n),r&&e!==W&&I(W,t,r)}:I,K=function(e){var t=$[e]=E(R.prototype);return t._k=e,t},Y=V&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},X=function e(t,n,r){return t===W&&X(U,n,r),y(t),n=_(n,!0),y(r),i($,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=E(r,{enumerable:S(0,!1)})):(i(t,L)||I(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):I(t,n,r)},Z=function e(t,n){y(t);for(var r=g(n=x(n)),i=0,o=r.length,a;o>i;)X(t,a=r[i++],n[a]);return t},J=function e(t,n){return void 0===n?E(t):Z(E(t),n)},Q=function e(t){var n=B.call(this,t=_(t,!0));return!(this===W&&i($,t)&&!i(U,t))&&(!(n||!i(this,t)||!i($,t)||i(this,L)&&this[L][t])||n)},ee=function e(t,n){if(t=x(t),n=_(n,!0),t!==W||!i($,n)||i(U,n)){var r=A(t,n);return!r||!i($,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},te=function e(t){for(var n=j(x(t)),r=[],o=0,a;n.length>o;)i($,a=n[o++])||a==L||a==l||r.push(a);return r},ne=function e(t){for(var n=t===W,r=j(n?U:x(t)),o=[],a=0,s;r.length>a;)!i($,s=r[a++])||n&&!i(W,s)||o.push($[s]);return o};V||(s((R=function e(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(e){this===W&&n.call(U,e),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,e))};return o&&G&&q(W,t,{configurable:!0,set:n}),K(t)}).prototype,"toString",function e(){return this._k}),k.f=ee,T.f=X,n(250).f=C.f=te,n(139).f=Q,O.f=ne,o&&!n(137)&&s(W,"propertyIsEnumerable",Q,!0),p.f=function(e){return K(d(e))}),a(a.G+a.W+a.F*!V,{Symbol:R});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;re.length>ie;)d(re[ie++]);for(var oe=N(d.store),ae=0;oe.length>ae;)m(oe[ae++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return i(z,e+="")?z[e]:z[e]=R(e)},keyFor:function e(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in z)if(z[n]===t)return n},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!V,"Object",{create:J,defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:ee,getOwnPropertyNames:te,getOwnPropertySymbols:ne});var se=u(function(){O.f(1)});a(a.S+a.F*se,"Object",{getOwnPropertySymbols:function e(t){return O.f(w(t))}}),M&&a(a.S+a.F*(!V||u(function(){var e=R();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function e(t){for(var n=[t],r=1,i,o;arguments.length>r;)n.push(arguments[r++]);if(o=i=n[1],(v(i)||void 0!==t)&&!Y(t))return b(i)||(i=function(e,t){if("function"==typeof o&&(t=o.call(this,e,t)),!Y(t))return t}),n[1]=i,P.apply(M,n)}}),R.prototype[F]||n(97)(R.prototype,F,R.prototype.valueOf),f(R,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(138)("meta"),i=n(98),o=n(86),a=n(85).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(116)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},h=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},d=function(e){return u&&p.NEED&&l(e)&&!o(e,r)&&c(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:d}},function(e,t,n){var r=n(136),i=n(180),o=n(139);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a=n(e),s=o.f,l=0,u;a.length>l;)s.call(e,u=a[l++])&&t.push(u);return t}},function(e,t,n){var r=n(247);e.exports=Array.isArray||function e(t){return"Array"==r(t)}},function(e,t,n){var r=n(99),i=n(250).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(e,t){},function(e,t,n){n(186)("asyncIterator")},function(e,t,n){n(186)("observable")},function(e,t,n){e.exports={default:n(566),__esModule:!0}},function(e,t,n){n(567),e.exports=n(77).Object.setPrototypeOf},function(e,t,n){var r=n(96);r(r.S,"Object",{setPrototypeOf:n(568).set})},function(e,t,n){var r=n(98),i=n(115),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(242)(Function.call,n(251).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function e(n,i){return o(n,i),t?n.__proto__=i:r(n,i),n}}({},!1):void 0),check:o}},function(e,t,n){e.exports={default:n(570),__esModule:!0}},function(e,t,n){n(571);var r=n(77).Object;e.exports=function e(t,n){return r.create(t,n)}},function(e,t,n){var r=n(96);r(r.S,"Object",{create:n(183)})},function(e,t,n){"use strict";var r=n(573);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(0)),i=u(n(575)),o=u(n(578)),a=u(n(2)),s=u(n(252)),l=n(253);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var d=function e(t,n){return t&&n&&n.split(" ").forEach(function(e){return(0,i.default)(t,e)})},p=function e(t,n){return t&&n&&n.split(" ").forEach(function(e){return(0,o.default)(t,e)})},m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r,i=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),d(e,i),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r,i=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,i),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),d(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n,r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),d(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n,r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n,r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),d(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i,o=r?(r&&n?n+"-":"")+e:n[e],a,s;return{className:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}h(t,e);var n=t.prototype;return n.removeClasses=function e(t,n){var r=this.getClassNames(n),i=r.className,o=r.activeClassName,a=r.doneClassName;i&&p(t,i),o&&p(t,o),a&&p(t,a)},n.reflowAndAddClass=function e(t,n){n&&(t&&t.scrollTop,d(t,n))},n.render=function e(){var t=f({},this.props);return delete t.classNames,a.default.createElement(s.default,f({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.default.Component);m.defaultProps={classNames:""},m.propTypes={};var g=m;t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r=n(576);t.__esModule=!0,t.default=o;var i=r(n(577));function o(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}e.exports=t.default},function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function e(t,n){t.classList?t.classList.remove(n):"string"==typeof t.className?t.className=r(t.className,n):t.setAttribute("class",r(t.className&&t.className.baseVal||"",n))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(0)),i=s(n(2)),o=n(18),a=s(n(254));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}u(t,e);var n=t.prototype;return n.handleLifecycle=function e(t,n,r){var a,s=this.props.children,l=i.default.Children.toArray(s)[n];l.props[t]&&(a=l.props)[t].apply(a,r),this.props[t]&&this.props[t]((0,o.findDOMNode)(this))},n.render=function e(){var t=this.props,n=t.children,r=t.in,o=l(t,["children","in"]),s=i.default.Children.toArray(n),u=s[0],c=s[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,i.default.createElement(a.default,o,r?i.default.cloneElement(u,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):i.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(i.default.Component);c.propTypes={};var f=c;t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=s,t.getNextChildMapping=l;var r=n(2);function i(e,t){var n=function e(n){return t&&(0,r.isValidElement)(n)?t(n):n},i=Object.create(null);return e&&r.Children.map(e,function(e){return e}).forEach(function(e){i[e.key]=n(e)}),i}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[],o;for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];s[r[l][o]]=n(u)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}function s(e,t){return i(e.children,function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})})}function l(e,t,n){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach(function(i){var o=l[i];if((0,r.isValidElement)(o)){var u=i in t,c=i in s,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,r.isValidElement)(f)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}}),l}},function(e,t,n){(function(e){var t,r,i;r=this,i=function(){"use strict";var r,i;function o(){return r.apply(null,arguments)}function a(e){r=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function f(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n=[],r;for(r=0;r<e.length;++r)n.push(t(e[r],r));return n}function m(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function g(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function v(e){if(null==e._isValid){var t=y(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function w(e){var t=g(NaN);return null!=e?m(y(t),e):y(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var x=o.momentProperties=[],_=!1;function S(e,t){var n,r,i;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=y(t)),f(t._locale)||(e._locale=t._locale),x.length>0)for(n=0;n<x.length;n++)f(i=t[r=x[n]])||(e[r]=i);return e}function E(e){S(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,o.updateOffset(this),_=!1)}function C(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function k(e){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function O(e,t){var n=!0;return m(function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,e),n){var r=[],i,a,s;for(a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(s in i+="\n["+a+"] ",arguments[0])u(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];r.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var T={},N;function A(e,t){null!=o.deprecationHandler&&o.deprecationHandler(e,t),T[e]||(k(t),T[e]=!0)}function I(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function j(e){var t,n;for(n in e)u(e,n)&&(I(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(e,t){var n=m({},e),r;for(r in t)u(t,r)&&(l(e[r])&&l(t[r])?(n[r]={},m(n[r],e[r]),m(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)u(e,r)&&!u(t,r)&&l(e[r])&&(n[r]=m({},n[r]));return n}function M(e){null!=e&&this.set(e)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,N=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return I(r)?r.call(t,n):r}function L(e,t,n){var r=""+Math.abs(e),i=t-r.length,o;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},$={};function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&($[e]=i),t&&($[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&($[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t=e.match(F),n,r;for(n=0,r=t.length;n<r;n++)$[t[n]]?t[n]=$[t[n]]:t[n]=W(t[n]);return function(n){var i="",o;for(o=0;o<r;o++)i+=I(t[o])?t[o].call(n,e):t[o];return i}}function H(e,t){return e.isValid()?(t=G(t,e.localeData()),z[t]=z[t]||V(t),z[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;n>=0&&B.test(e);)e=e.replace(B,r),B.lastIndex=0,n-=1;return e}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(F).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var Y="Invalid date";function X(){return this._invalidDate}var Z="%d",J=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var ee={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function te(e,t,n,r){var i=this._relativeTime[n];return I(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ne(e,t){var n=this._relativeTime[e>0?"future":"past"];return I(n)?n(t):n.replace(/%s/i,t)}var re={};function ie(e,t){var n=e.toLowerCase();re[n]=re[n+"s"]=re[t]=e}function oe(e){return"string"==typeof e?re[e]||re[e.toLowerCase()]:void 0}function ae(e){var t={},n,r;for(r in e)u(e,r)&&(n=oe(r))&&(t[n]=e[r]);return t}var se={};function le(e,t){se[e]=t}function ue(e){var t=[],n;for(n in e)u(e,n)&&t.push({unit:n,priority:se[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function ce(e){return e%4==0&&e%100!=0||e%400==0}function fe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function he(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=fe(t)),n}function de(e,t){return function(n){return null!=n?(me(this,e,n),o.updateOffset(this,t),this):pe(this,e)}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function me(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ce(e.year())&&1===e.month()&&29===e.date()?(n=he(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),tt(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function ge(e){return I(this[e=oe(e)])?this[e]():this}function be(e,t){if("object"==typeof e){var n=ue(e=ae(e)),r;for(r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(I(this[e=oe(e)]))return this[e](t);return this}var ye=/\d/,ve=/\d\d/,we=/\d{3}/,xe=/\d{4}/,_e=/[+-]?\d{6}/,Se=/\d\d?/,Ee=/\d\d\d\d?/,Ce=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Oe=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ne=/\d+/,Ae=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,je=/Z|[+-]\d\d(?::?\d\d)?/gi,Re=/[+-]?\d+(\.\d{1,3})?/,Me=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pe;function De(e,t,n){Pe[e]=I(t)?t:function(e,r){return e&&n?n:t}}function Le(e,t){return u(Pe,e)?Pe[e](t._strict,t._locale):new RegExp(Fe(e))}function Fe(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Pe={};var ze={};function $e(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),h(t)&&(r=function(e,n){n[t]=he(e)}),n=0;n<e.length;n++)ze[e[n]]=r}function Ue(e,t){$e(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function We(e,t,n){null!=t&&u(ze,e)&&ze[e](t,n._a,n,e)}var Ve=0,He=1,Ge=2,qe=3,Ke=4,Ye=5,Xe=6,Ze=7,Je=8,Qe;function et(e,t){return(e%t+t)%t}function tt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=et(t,12);return e+=(t-n)/12,1===n?ce(e)?29:28:31-n%7%2}Qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),ie("month","M"),le("month",8),De("M",Se),De("MM",Se,ve),De("MMM",function(e,t){return t.monthsShortRegex(e)}),De("MMMM",function(e,t){return t.monthsRegex(e)}),$e(["M","MM"],function(e,t){t[He]=he(e)-1}),$e(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[He]=i:y(n).invalidMonth=e});var nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),it=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot=Me,at=Me;function st(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||it).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function lt(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[it.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=g([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Qe.call(this._shortMonthsParse,a))?i:null:-1!==(i=Qe.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Qe.call(this._shortMonthsParse,a))?i:-1!==(i=Qe.call(this._longMonthsParse,a))?i:null:-1!==(i=Qe.call(this._longMonthsParse,a))?i:-1!==(i=Qe.call(this._shortMonthsParse,a))?i:null}function ct(e,t,n){var r,i,o;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=g([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ft(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=he(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),tt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ht(e){return null!=e?(ft(this,e),o.updateOffset(this,!0),this):pe(this,"Month")}function dt(){return tt(this.year(),this.month())}function pt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||gt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=ot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function mt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||gt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function gt(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],i,o;for(i=0;i<12;i++)o=g([2e3,i]),t.push(this.monthsShort(o,"")),n.push(this.months(o,"")),r.push(this.months(o,"")),r.push(this.monthsShort(o,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Be(t[i]),n[i]=Be(n[i]);for(i=0;i<24;i++)r[i]=Be(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function bt(e){return ce(e)?366:365}U("Y",0,0,function(){var e=this.year();return e<=9999?L(e,4):"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),ie("year","y"),le("year",1),De("Y",Ae),De("YY",Se,ve),De("YYYY",Oe,xe),De("YYYYY",Te,_e),De("YYYYYY",Te,_e),$e(["YYYYY","YYYYYY"],Ve),$e("YYYY",function(e,t){t[Ve]=2===e.length?o.parseTwoDigitYear(e):he(e)}),$e("YY",function(e,t){t[Ve]=o.parseTwoDigitYear(e)}),$e("Y",function(e,t){t[Ve]=parseInt(e,10)}),o.parseTwoDigitYear=function(e){return he(e)+(he(e)>68?1900:2e3)};var yt=de("FullYear",!0);function vt(){return ce(this.year())}function wt(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function xt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _t(e,t,n){var r=7+t-n,i;return-((7+xt(e,0,r).getUTCDay()-t)%7)+r-1}function St(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+_t(e,r,i),l,u;return s<=0?u=bt(l=e-1)+s:s>bt(e)?(l=e+1,u=s-bt(e)):(l=e,u=s),{year:l,dayOfYear:u}}function Et(e,t,n){var r=_t(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,o,a;return i<1?o=i+Ct(a=e.year()-1,t,n):i>Ct(e.year(),t,n)?(o=i-Ct(e.year(),t,n),a=e.year()+1):(a=e.year(),o=i),{week:o,year:a}}function Ct(e,t,n){var r=_t(e,t,n),i=_t(e+1,t,n);return(bt(e)-r+i)/7}function kt(e){return Et(e,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),ie("week","w"),ie("isoWeek","W"),le("week",5),le("isoWeek",5),De("w",Se),De("ww",Se,ve),De("W",Se),De("WW",Se,ve),Ue(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=he(e)});var Ot={dow:0,doy:6};function Tt(){return this._week.dow}function Nt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function It(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function jt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Rt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Mt(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),ie("day","d"),ie("weekday","e"),ie("isoWeekday","E"),le("day",11),le("weekday",11),le("isoWeekday",11),De("d",Se),De("e",Se),De("E",Se),De("dd",function(e,t){return t.weekdaysMinRegex(e)}),De("ddd",function(e,t){return t.weekdaysShortRegex(e)}),De("dddd",function(e,t){return t.weekdaysRegex(e)}),Ue(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e}),Ue(["d","e","E"],function(e,t,n,r){t[r]=he(e)});var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ft=Me,Bt=Me,zt=Me;function $t(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Mt(n,this._week.dow):e?n[e.day()]:n}function Ut(e){return!0===e?Mt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Wt(e){return!0===e?Mt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=g([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Qe.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Qe.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Qe.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Qe.call(this._weekdaysParse,a))?i:-1!==(i=Qe.call(this._shortWeekdaysParse,a))?i:-1!==(i=Qe.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Qe.call(this._shortWeekdaysParse,a))?i:-1!==(i=Qe.call(this._weekdaysParse,a))?i:-1!==(i=Qe.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Qe.call(this._minWeekdaysParse,a))?i:-1!==(i=Qe.call(this._weekdaysParse,a))?i:-1!==(i=Qe.call(this._shortWeekdaysParse,a))?i:null}function Ht(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=g([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=jt(e,this.localeData()),this.add(e-t,"d")):t}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Kt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Rt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ft),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t=[],n=[],r=[],i=[],o,a,s,l,u;for(o=0;o<7;o++)a=g([2e3,1]).day(o),s=Be(this.weekdaysMin(a,"")),l=Be(this.weekdaysShort(a,"")),u=Be(this.weekdays(a,"")),t.push(s),n.push(l),r.push(u),i.push(s),i.push(l),i.push(u);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qt(){return this.hours()%12||12}function en(){return this.hours()||24}function tn(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function nn(e,t){return t._meridiemParse}function rn(e){return"p"===(e+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Qt),U("k",["kk",2],0,en),U("hmm",0,0,function(){return""+Qt.apply(this)+L(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Qt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),tn("a",!0),tn("A",!1),ie("hour","h"),le("hour",13),De("a",nn),De("A",nn),De("H",Se),De("h",Se),De("k",Se),De("HH",Se,ve),De("hh",Se,ve),De("kk",Se,ve),De("hmm",Ee),De("hmmss",Ce),De("Hmm",Ee),De("Hmmss",Ce),$e(["H","HH"],qe),$e(["k","kk"],function(e,t,n){var r=he(e);t[qe]=24===r?0:r}),$e(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),$e(["h","hh"],function(e,t,n){t[qe]=he(e),y(n).bigHour=!0}),$e("hmm",function(e,t,n){var r=e.length-2;t[qe]=he(e.substr(0,r)),t[Ke]=he(e.substr(r)),y(n).bigHour=!0}),$e("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[qe]=he(e.substr(0,r)),t[Ke]=he(e.substr(r,2)),t[Ye]=he(e.substr(i)),y(n).bigHour=!0}),$e("Hmm",function(e,t,n){var r=e.length-2;t[qe]=he(e.substr(0,r)),t[Ke]=he(e.substr(r))}),$e("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[qe]=he(e.substr(0,r)),t[Ke]=he(e.substr(r,2)),t[Ye]=he(e.substr(i))});var on=/[ap]\.?m?\.?/i,an=de("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var ln={calendar:P,longDateFormat:q,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:J,relativeTime:ee,months:nt,monthsShort:rt,week:Ot,weekdays:Pt,weekdaysMin:Lt,weekdaysShort:Dt,meridiemParse:on},un={},cn={},fn;function hn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function pn(e){for(var t=0,n,r,i,o;t<e.length;){for(n=(o=dn(e[t]).split("-")).length,r=(r=dn(e[t+1]))?r.split("-"):null;n>0;){if(i=mn(o.slice(0,n).join("-")))return i;if(r&&r.length>=n&&hn(o,r)>=n-1)break;n--}t++}return fn}function mn(r){var i=null,o;if(void 0===un[r]&&void 0!==e&&e&&e.exports)try{i=fn._abbr,o=t,n(582)("./"+r),gn(i)}catch(e){un[r]=null}return un[r]}function gn(e,t){var n;return e&&((n=f(t)?vn(e):bn(e,t))?fn=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),fn._abbr}function bn(e,t){if(null!==t){var n,r=ln;if(t.abbr=e,null!=un[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=mn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new M(R(r,t)),cn[e]&&cn[e].forEach(function(e){bn(e.name,e.config)}),gn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=ln;null!=un[e]&&null!=un[e].parentLocale?un[e].set(R(un[e]._config,t)):(null!=(r=mn(e))&&(i=r._config),t=R(i,t),null==r&&(t.abbr=e),(n=new M(t)).parentLocale=un[e],un[e]=n),gn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===gn()&&gn(e)):null!=un[e]&&delete un[e]);return un[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return fn;if(!s(e)){if(t=mn(e))return t;e=[e]}return pn(e)}function wn(){return N(un)}function xn(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[He]<0||n[He]>11?He:n[Ge]<1||n[Ge]>tt(n[Ve],n[He])?Ge:n[qe]<0||n[qe]>24||24===n[qe]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Xe])?qe:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Xe]<0||n[Xe]>999?Xe:-1,y(e)._overflowDayOfYear&&(t<Ve||t>Ge)&&(t=Ge),y(e)._overflowWeeks&&-1===t&&(t=Ze),y(e)._overflowWeekday&&-1===t&&(t=Je),y(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],On=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r=e._i,i=_n.exec(r)||Sn.exec(r),o,a,s,l;if(i){for(y(e).iso=!0,t=0,n=Cn.length;t<n;t++)if(Cn[t][1].exec(i[1])){a=Cn[t][0],o=!1!==Cn[t][2];break}if(null==a)return void(e._isValid=!1);if(i[3]){for(t=0,n=kn.length;t<n;t++)if(kn[t][1].exec(i[3])){s=(i[2]||" ")+kn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!o&&null!=s)return void(e._isValid=!1);if(i[4]){if(!En.exec(i[4]))return void(e._isValid=!1);l="Z"}e._f=a+(s||"")+(l||""),Un(e)}else e._isValid=!1}function In(e,t,n,r,i,o){var a=[jn(e),rt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function jn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mn(e,t,n){var r,i;if(e&&Dt.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return y(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}function Pn(e,t,n){if(e)return Nn[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o;return 60*((r-i)/100)+i}function Dn(e){var t=Tn.exec(Rn(e._i)),n;if(t){if(n=In(t[4],t[3],t[2],t[5],t[6],t[7]),!Mn(t[1],n,e))return;e._a=n,e._tzm=Pn(t[8],t[9],t[10]),e._d=xt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=On.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:o.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function Bn(e){var t=new Date(o.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zn(e){var t,n,r=[],i,o,a;if(!e._d){for(i=Bn(e),e._w&&null==e._a[Ge]&&null==e._a[He]&&$n(e),null!=e._dayOfYear&&(a=Fn(e._a[Ve],i[Ve]),(e._dayOfYear>bt(a)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=xt(a,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[qe]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Xe]&&(e._nextDay=!0,e._a[qe]=0),e._d=(e._useUTC?xt:wt).apply(null,r),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[qe]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(y(e).weekdayMismatch=!0)}}function $n(e){var t,n,r,i,o,a,s,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=Fn(t.GG,e._a[Ve],Et(Xn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,u=Et(Xn(),o,a),n=Fn(t.gg,e._a[Ve],u.year),r=Fn(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Ct(n,o,a)?y(e)._overflowWeeks=!0:null!=l?y(e)._overflowWeekday=!0:(s=St(n,r,i,o,a),e._a[Ve]=s.year,e._dayOfYear=s.dayOfYear)}function Un(e){if(e._f!==o.ISO_8601)if(e._f!==o.RFC_2822){e._a=[],y(e).empty=!0;var t=""+e._i,n,r,i,a,s,l=t.length,u=0,c;for(i=G(e._f,e._locale).match(F)||[],n=0;n<i.length;n++)a=i[n],(r=(t.match(Le(a,e))||[])[0])&&((s=t.substr(0,t.indexOf(r))).length>0&&y(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),u+=r.length),$[a]?(r?y(e).empty=!1:y(e).unusedTokens.push(a),We(a,r,e)):e._strict&&!r&&y(e).unusedTokens.push(a);y(e).charsLeftOver=l-u,t.length>0&&y(e).unusedInput.push(t),e._a[qe]<=12&&!0===y(e).bigHour&&e._a[qe]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[qe]=Wn(e._locale,e._a[qe],e._meridiem),null!==(c=y(e).era)&&(e._a[Ve]=e._locale.erasConvertYear(c,e._a[Ve])),zn(e),xn(e)}else Dn(e);else An(e)}function Wn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Vn(e){var t,n,r,i,o,a,s=!1;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,a=!1,t=S({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Un(t),v(t)&&(a=!0),o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));m(e,n||t)}function Hn(e){if(!e._d){var t=ae(e._i),n=void 0===t.day?t.date:t.day;e._a=p([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),zn(e)}}function Gn(e){var t=new E(xn(qn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function qn(e){var t=e._i,n=e._f;return e._locale=e._locale||vn(e._l),null===t||void 0===n&&""===t?w({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),C(t)?new E(xn(t)):(d(t)?e._d=t:s(n)?Vn(e):n?Un(e):Kn(e),v(e)||(e._d=null),e))}function Kn(e){var t=e._i;f(t)?e._d=new Date(o.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Ln(e):s(t)?(e._a=p(t.slice(0),function(e){return parseInt(e,10)}),zn(e)):l(t)?Hn(e):h(t)?e._d=new Date(t):o.createFromInputFallback(e)}function Yn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(l(e)&&c(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Gn(o)}function Xn(e,t,n,r){return Yn(e,t,n,r,!1)}o.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),o.ISO_8601=function(){},o.RFC_2822=function(){};var Zn=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:w()}),Jn=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:w()});function Qn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function er(){var e;return Qn("isBefore",[].slice.call(arguments,0))}function tr(){var e;return Qn("isAfter",[].slice.call(arguments,0))}var nr=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ir(e){var t,n=!1,r;for(t in e)if(u(e,t)&&(-1===Qe.call(rr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<rr.length;++r)if(e[rr[r]]){if(n)return!1;parseFloat(e[rr[r]])!==he(e[rr[r]])&&(n=!0)}return!0}function or(){return this._isValid}function ar(){return Nr(NaN)}function sr(e){var t=ae(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=ir(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function lr(e){return e instanceof sr}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0,a;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&he(e[a])!==he(t[a]))&&o++;return o+i}function fr(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+L(~~(e/60),2)+t+L(~~e%60,2)})}fr("Z",":"),fr("ZZ",""),De("Z",je),De("ZZ",je),$e(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=dr(je,e)});var hr=/([\+\-]|\d\d)/gi;function dr(e,t){var n=(t||"").match(e),r,i,o;return null===n?null:0===(o=60*(i=((r=n[n.length-1]||[])+"").match(hr)||["-",0,0])[1]+he(i[2]))?0:"+"===i[0]?o:-o}function pr(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(C(e)||d(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):Xn(e).local()}function mr(e){return-Math.round(e._d.getTimezoneOffset())}function gr(e,t,n){var r=this._offset||0,i;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=dr(je,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=mr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Mr(this,Nr(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:mr(this)}function br(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function vr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mr(this),"m")),this}function wr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=dr(Ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xr(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sr(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={},t;return S(e,this),(e=qn(e))._a?(t=e._isUTC?g(e._a):Xn(e._a),this._isDSTShifted=this.isValid()&&cr(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}o.updateOffset=function(){};var Or=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nr(e,t){var n=e,r=null,i,o,a;return lr(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:h(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Or.exec(e))?(i="-"===r[1]?-1:1,n={y:0,d:he(r[Ge])*i,h:he(r[qe])*i,m:he(r[Ke])*i,s:he(r[Ye])*i,ms:he(ur(1e3*r[Xe]))*i}):(r=Tr.exec(e))?(i="-"===r[1]?-1:1,n={y:Ar(r[2],i),M:Ar(r[3],i),w:Ar(r[4],i),d:Ar(r[5],i),h:Ar(r[6],i),m:Ar(r[7],i),s:Ar(r[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(a=jr(Xn(n.from),Xn(n.to)),(n={}).ms=a.milliseconds,n.M=a.months),o=new sr(n),lr(e)&&u(e,"_locale")&&(o._locale=e._locale),lr(e)&&u(e,"_isValid")&&(o._isValid=e._isValid),o}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ir(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jr(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Ir(e,t):((n=Ir(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Mr(this,i=Nr(n,r),e),this}}function Mr(e,t,n,r){var i=t._milliseconds,a=ur(t._days),s=ur(t._months);e.isValid()&&(r=null==r||r,s&&ft(e,pe(e,"Month")+s*n),a&&me(e,"Date",pe(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&o.updateOffset(e,a||s))}Nr.fn=sr.prototype,Nr.invalid=ar;var Pr=Rr(1,"add"),Dr=Rr(-1,"subtract");function Lr(e){return"string"==typeof e||e instanceof String}function Fr(e){return C(e)||d(e)||Lr(e)||h(e)||zr(e)||Br(e)||null===e||void 0===e}function Br(e){var t=l(e)&&!c(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o;for(i=0;i<r.length;i+=1)n=n||u(e,o=r[i]);return t&&n}function zr(e){var t=s(e),n=!1;return t&&(n=0===e.filter(function(t){return!h(t)&&Lr(e)}).length),t&&n}function $r(e){var t=l(e)&&!c(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)n=n||u(e,o=r[i]);return t&&n}function Ur(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wr(e,t){1===arguments.length&&(Fr(arguments[0])?(e=arguments[0],t=void 0):$r(arguments[0])&&(t=arguments[0],e=void 0));var n=e||Xn(),r=pr(n,this).startOf("day"),i=o.calendarFormat(this,r)||"sameElse",a=t&&(I(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Xn(n)))}function Vr(){return new E(this)}function Hr(e,t){var n=C(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=oe(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=C(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=oe(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function qr(e,t,n,r){var i=C(e)?e:Xn(e),o=C(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function Kr(e,t){var n=C(e)?e:Xn(e),r;return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=oe(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Zr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=oe(t)){case"year":o=Jr(this,r)/12;break;case"month":o=Jr(this,r);break;case"quarter":o=Jr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:fe(o)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months"),i,o;return-(n+(o=t-r<0?(t-r)/(r-(i=e.clone().add(n-1,"months"))):(t-r)/((i=e.clone().add(n+1,"months"))-r)))||0}function Qr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ei(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,o;return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(n+r+i+o)}function ni(e){e||(e=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function ri(e,t){return this.isValid()&&(C(e)&&e.isValid()||Xn(e).isValid())?Nr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.from(Xn(),e)}function oi(e,t){return this.isValid()&&(C(e)&&e.isValid()||Xn(e).isValid())?Nr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Xn(),e)}function si(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vn(e))&&(this._locale=t),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var li=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function ui(){return this._locale}var ci=1e3,fi=60*ci,hi=60*fi,di=3506328*hi;function pi(e,t){return(e%t+t)%t}function mi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-di:new Date(e,t,n).valueOf()}function gi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-di:Date.UTC(e,t,n)}function bi(e){var t,n;if(void 0===(e=oe(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*fi),hi);break;case"minute":t=this._d.valueOf(),t-=pi(t,fi);break;case"second":t=this._d.valueOf(),t-=pi(t,ci)}return this._d.setTime(t),o.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=oe(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hi-pi(t+(this._isUTC?0:this.utcOffset()*fi),hi)-1;break;case"minute":t=this._d.valueOf(),t+=fi-pi(t,fi)-1;break;case"second":t=this._d.valueOf(),t+=ci-pi(t,ci)-1}return this._d.setTime(t),o.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function xi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Ci(){return v(this)}function ki(){return m({},y(this))}function Oi(){return y(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ni(e,t){var n,r,i,a=this._eras||vn("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=o(a[n].since).startOf("day"),a[n].since=i.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=o(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}}return a}function Ai(e,t,n){var r,i,o=this.eras(),a,s,l;for(e=e.toUpperCase(),r=0,i=o.length;r<i;++r)if(a=o[r].name.toUpperCase(),s=o[r].abbr.toUpperCase(),l=o[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return o[r];break;case"NNNN":if(a===e)return o[r];break;case"NNNNN":if(l===e)return o[r]}else if([a,s,l].indexOf(e)>=0)return o[r]}function Ii(e,t){var n=e.since<=e.until?1:-1;return void 0===t?o(e.since).year():o(e.since).year()+(t-e.offset)*n}function ji(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Mi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-o(i[e].since).year())*n+i[e].offset;return this.year()}function Di(e){return u(this,"_erasNameRegex")||Wi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return u(this,"_erasAbbrRegex")||Wi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return u(this,"_erasNarrowRegex")||Wi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bi(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function $i(e,t){return t.erasNarrowRegex(e)}function Ui(e,t){return t._eraYearOrdinalRegex||Ne}function Wi(){var e=[],t=[],n=[],r=[],i,o,a=this.eras();for(i=0,o=a.length;i<o;++i)t.push(Be(a[i].name)),e.push(Be(a[i].abbr)),n.push(Be(a[i].narrow)),r.push(Be(a[i].name)),r.push(Be(a[i].abbr)),r.push(Be(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Vi(e,t){U(0,[e,e.length],0,t)}function Hi(e){return Zi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Zi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qi(){return Ct(this.year(),1,4)}function Ki(){return Ct(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return Ct(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return Ct(this.weekYear(),e.dow,e.doy)}function Zi(e,t,n,r,i){var o;return null==e?Et(this,r,i).year:(t>(o=Ct(e,r,i))&&(t=o),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var o=St(e,t,n,r,i),a=xt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Qi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),De("N",Bi),De("NN",Bi),De("NNN",Bi),De("NNNN",zi),De("NNNNN",$i),$e(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?y(n).era=i:y(n).invalidEra=e}),De("y",Ne),De("yy",Ne),De("yyy",Ne),De("yyyy",Ne),De("yo",Ui),$e(["y","yy","yyy","yyyy"],Ve),$e(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ve]=n._locale.eraYearOrdinalParse(e,i):t[Ve]=parseInt(e,10)}),U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Vi("gggg","weekYear"),Vi("ggggg","weekYear"),Vi("GGGG","isoWeekYear"),Vi("GGGGG","isoWeekYear"),ie("weekYear","gg"),ie("isoWeekYear","GG"),le("weekYear",1),le("isoWeekYear",1),De("G",Ae),De("g",Ae),De("GG",Se,ve),De("gg",Se,ve),De("GGGG",Oe,xe),De("gggg",Oe,xe),De("GGGGG",Te,_e),De("ggggg",Te,_e),Ue(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=he(e)}),Ue(["gg","GG"],function(e,t,n,r){t[r]=o.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),ie("quarter","Q"),le("quarter",7),De("Q",ye),$e("Q",function(e,t){t[He]=3*(he(e)-1)}),U("D",["DD",2],"Do","date"),ie("date","D"),le("date",9),De("D",Se),De("DD",Se,ve),De("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),$e(["D","DD"],Ge),$e("Do",function(e,t){t[Ge]=he(e.match(Se)[0])});var eo=de("Date",!0);function to(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),ie("dayOfYear","DDD"),le("dayOfYear",4),De("DDD",ke),De("DDDD",we),$e(["DDD","DDDD"],function(e,t,n){n._dayOfYear=he(e)}),U("m",["mm",2],0,"minute"),ie("minute","m"),le("minute",14),De("m",Se),De("mm",Se,ve),$e(["m","mm"],Ke);var no=de("Minutes",!1);U("s",["ss",2],0,"second"),ie("second","s"),le("second",15),De("s",Se),De("ss",Se,ve),$e(["s","ss"],Ye);var ro=de("Seconds",!1),io,oo;for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),ie("millisecond","ms"),le("millisecond",16),De("S",ke,ye),De("SS",ke,ve),De("SSS",ke,we),io="SSSS";io.length<=9;io+="S")De(io,Ne);function ao(e,t){t[Xe]=he(1e3*("0."+e))}for(io="S";io.length<=9;io+="S")$e(io,ao);function so(){return this._isUTC?"UTC":""}function lo(){return this._isUTC?"Coordinated Universal Time":""}oo=de("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var uo=E.prototype;function co(e){return Xn(1e3*e)}function fo(){return Xn.apply(null,arguments).parseZone()}function ho(e){return e}uo.add=Pr,uo.calendar=Wr,uo.clone=Vr,uo.diff=Zr,uo.endOf=yi,uo.format=ni,uo.from=ri,uo.fromNow=ii,uo.to=oi,uo.toNow=ai,uo.get=ge,uo.invalidAt=Oi,uo.isAfter=Hr,uo.isBefore=Gr,uo.isBetween=qr,uo.isSame=Kr,uo.isSameOrAfter=Yr,uo.isSameOrBefore=Xr,uo.isValid=Ci,uo.lang=li,uo.locale=si,uo.localeData=ui,uo.max=Jn,uo.min=Zn,uo.parsingFlags=ki,uo.set=be,uo.startOf=bi,uo.subtract=Dr,uo.toArray=_i,uo.toObject=Si,uo.toDate=xi,uo.toISOString=ei,uo.inspect=ti,"undefined"!=typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=Ei,uo.toString=Qr,uo.unix=wi,uo.valueOf=vi,uo.creationData=Ti,uo.eraName=ji,uo.eraNarrow=Ri,uo.eraAbbr=Mi,uo.eraYear=Pi,uo.year=yt,uo.isLeapYear=vt,uo.weekYear=Hi,uo.isoWeekYear=Gi,uo.quarter=uo.quarters=Qi,uo.month=ht,uo.daysInMonth=dt,uo.week=uo.weeks=At,uo.isoWeek=uo.isoWeeks=It,uo.weeksInYear=Yi,uo.weeksInWeekYear=Xi,uo.isoWeeksInYear=qi,uo.isoWeeksInISOWeekYear=Ki,uo.date=eo,uo.day=uo.days=Gt,uo.weekday=qt,uo.isoWeekday=Kt,uo.dayOfYear=to,uo.hour=uo.hours=an,uo.minute=uo.minutes=no,uo.second=uo.seconds=ro,uo.millisecond=uo.milliseconds=oo,uo.utcOffset=gr,uo.utc=yr,uo.local=vr,uo.parseZone=wr,uo.hasAlignedHourOffset=xr,uo.isDST=_r,uo.isLocal=Er,uo.isUtcOffset=Cr,uo.isUtc=kr,uo.isUTC=kr,uo.zoneAbbr=so,uo.zoneName=lo,uo.dates=O("dates accessor is deprecated. Use date instead.",eo),uo.months=O("months accessor is deprecated. Use month instead",ht),uo.years=O("years accessor is deprecated. Use year instead",yt),uo.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",br),uo.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sr);var po=M.prototype;function mo(e,t,n,r){var i=vn(),o=g().set(r,t);return i[n](o,e)}function go(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return mo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mo(e,r,n,"month");return i}function bo(e,t,n,r){"boolean"==typeof e?(h(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,h(t)&&(n=t,t=void 0),t=t||"");var i=vn(),o=e?i._week.dow:0,a,s=[];if(null!=n)return mo(t,(n+o)%7,r,"day");for(a=0;a<7;a++)s[a]=mo(t,(a+o)%7,r,"day");return s}function yo(e,t){return go(e,t,"months")}function vo(e,t){return go(e,t,"monthsShort")}function wo(e,t,n){return bo(e,t,n,"weekdays")}function xo(e,t,n){return bo(e,t,n,"weekdaysShort")}function _o(e,t,n){return bo(e,t,n,"weekdaysMin")}po.calendar=D,po.longDateFormat=K,po.invalidDate=X,po.ordinal=Q,po.preparse=ho,po.postformat=ho,po.relativeTime=te,po.pastFuture=ne,po.set=j,po.eras=Ni,po.erasParse=Ai,po.erasConvertYear=Ii,po.erasAbbrRegex=Li,po.erasNameRegex=Di,po.erasNarrowRegex=Fi,po.months=st,po.monthsShort=lt,po.monthsParse=ct,po.monthsRegex=mt,po.monthsShortRegex=pt,po.week=kt,po.firstDayOfYear=Nt,po.firstDayOfWeek=Tt,po.weekdays=$t,po.weekdaysMin=Wt,po.weekdaysShort=Ut,po.weekdaysParse=Ht,po.weekdaysRegex=Yt,po.weekdaysShortRegex=Xt,po.weekdaysMinRegex=Zt,po.isPM=rn,po.meridiem=sn,gn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n;return e+(1===he(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),o.lang=O("moment.lang is deprecated. Use moment.locale instead.",gn),o.langData=O("moment.langData is deprecated. Use moment.localeData instead.",vn);var So=Math.abs;function Eo(){var e=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),e.milliseconds=So(e.milliseconds),e.seconds=So(e.seconds),e.minutes=So(e.minutes),e.hours=So(e.hours),e.months=So(e.months),e.years=So(e.years),this}function Co(e,t,n,r){var i=Nr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ko(e,t){return Co(this,e,t,1)}function Oo(e,t){return Co(this,e,t,-1)}function To(e){return e<0?Math.floor(e):Math.ceil(e)}function No(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,o,a,s,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=864e5*To(Io(n)+t),t=0,n=0),r.milliseconds=e%1e3,i=fe(e/1e3),r.seconds=i%60,o=fe(i/60),r.minutes=o%60,a=fe(o/60),r.hours=a%24,n+=l=fe(Ao(t+=fe(a/24))),t-=To(Io(l)),s=fe(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function Ao(e){return 4800*e/146097}function Io(e){return 146097*e/4800}function jo(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=oe(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ao(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Io(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ro(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*he(this._months/12):NaN}function Mo(e){return function(){return this.as(e)}}var Po=Mo("ms"),Do=Mo("s"),Lo=Mo("m"),Fo=Mo("h"),Bo=Mo("d"),zo=Mo("w"),$o=Mo("M"),Uo=Mo("Q"),Wo=Mo("y");function Vo(){return Nr(this)}function Ho(e){return e=oe(e),this.isValid()?this[e+"s"]():NaN}function Go(e){return function(){return this.isValid()?this._data[e]:NaN}}var qo=Go("milliseconds"),Ko=Go("seconds"),Yo=Go("minutes"),Xo=Go("hours"),Zo=Go("days"),Jo=Go("months"),Qo=Go("years");function ea(){return fe(this.days()/7)}var ta=Math.round,na={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ra(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ia(e,t,n,r){var i=Nr(e).abs(),o=ta(i.as("s")),a=ta(i.as("m")),s=ta(i.as("h")),l=ta(i.as("d")),u=ta(i.as("M")),c=ta(i.as("w")),f=ta(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),(h=h||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,ra.apply(null,h)}function oa(e){return void 0===e?ta:"function"==typeof e&&(ta=e,!0)}function aa(e,t){return void 0!==na[e]&&(void 0===t?na[e]:(na[e]=t,"s"===e&&(na.ss=t-1),!0))}function sa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=na,i,o;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(r=Object.assign({},na,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),o=ia(this,!n,r,i=this.localeData()),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var la=Math.abs;function ua(e){return(e>0)-(e<0)||+e}function ca(){if(!this.isValid())return this.localeData().invalidDate();var e=la(this._milliseconds)/1e3,t=la(this._days),n=la(this._months),r,i,o,a,s=this.asSeconds(),l,u,c,f;return s?(i=fe((r=fe(e/60))/60),e%=60,r%=60,o=fe(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=ua(this._months)!==ua(s)?"-":"",c=ua(this._days)!==ua(s)?"-":"",f=ua(this._milliseconds)!==ua(s)?"-":"",l+"P"+(o?u+o+"Y":"")+(n?u+n+"M":"")+(t?c+t+"D":"")+(i||r||e?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(e?f+a+"S":"")):"P0D"}var fa=sr.prototype;return fa.isValid=or,fa.abs=Eo,fa.add=ko,fa.subtract=Oo,fa.as=jo,fa.asMilliseconds=Po,fa.asSeconds=Do,fa.asMinutes=Lo,fa.asHours=Fo,fa.asDays=Bo,fa.asWeeks=zo,fa.asMonths=$o,fa.asQuarters=Uo,fa.asYears=Wo,fa.valueOf=Ro,fa._bubble=No,fa.clone=Vo,fa.get=Ho,fa.milliseconds=qo,fa.seconds=Ko,fa.minutes=Yo,fa.hours=Xo,fa.days=Zo,fa.weeks=ea,fa.months=Jo,fa.years=Qo,fa.humanize=sa,fa.toISOString=ca,fa.toString=ca,fa.toJSON=ca,fa.locale=si,fa.localeData=ui,fa.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ca),fa.lang=li,U("X",0,0,"unix"),U("x",0,0,"valueOf"),De("x",Ae),De("X",Re),$e("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),$e("x",function(e,t,n){n._d=new Date(he(e))}),o.version="2.27.0",a(Xn),o.fn=uo,o.min=er,o.max=tr,o.now=nr,o.utc=g,o.unix=co,o.months=yo,o.isDate=d,o.locale=gn,o.invalid=w,o.duration=Nr,o.isMoment=C,o.weekdays=wo,o.parseZone=fo,o.localeData=vn,o.isDuration=lr,o.monthsShort=vo,o.weekdaysMin=_o,o.defineLocale=bn,o.updateLocale=yn,o.locales=wn,o.weekdaysShort=xo,o.normalizeUnits=oe,o.relativeTimeRounding=oa,o.relativeTimeThreshold=aa,o.calendarFormat=Ur,o.prototype=uo,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o},e.exports=i()}).call(this,n(87)(e))},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=582},function(e,t,n){e.exports={default:n(584),__esModule:!0}},function(e,t,n){n(585);var r=n(77).Object;e.exports=function e(t,n,i){return r.defineProperty(t,n,i)}},function(e,t,n){var r=n(96);r(r.S+r.F*!n(78),"Object",{defineProperty:n(85).f})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),o=new RegExp("("+r+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(i);return e}}function l(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),a=0;a<i.length;a++){var l=i[a];e=e.replace(new RegExp(l,"g"),t[l])}return e}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return l(e)}}},function(e,t,n){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(51),i=n(255),o=n(601),a=n(187);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var l=s(a);l.Axios=o,l.create=function e(t){return s(r.merge(a,t))},l.Cancel=n(259),l.CancelToken=n(614),l.isCancel=n(258),l.all=function e(t){return Promise.all(t)},l.spread=n(615),e.exports=l,e.exports.default=l},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function e(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(e,t,n){"use strict";var r=n(187),i=n(51),o=n(609),a=n(610);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function e(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var n=[a,void 0],o=Promise.resolve(t);for(this.interceptors.request.forEach(function e(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function e(t){n.push(t.fulfilled,t.rejected)});n.length;)o=o.then(n.shift(),n.shift());return o},i.forEach(["delete","get","head","options"],function e(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function e(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(51);e.exports=function e(t,n){r.forEach(t,function e(r,i){i!==n&&i.toUpperCase()===n.toUpperCase()&&(t[n]=r,delete t[i])})}},function(e,t,n){"use strict";var r=n(257);e.exports=function e(t,n,i){var o=i.config.validateStatus;i.status&&o&&!o(i.status)?n(r("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},function(e,t,n){"use strict";e.exports=function e(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t}},function(e,t,n){"use strict";var r=n(51);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function e(t,n,o){if(!n)return t;var a;if(o)a=o(n);else if(r.isURLSearchParams(n))a=n.toString();else{var s=[];r.forEach(n,function e(t,n){null!==t&&void 0!==t&&(r.isArray(t)?n+="[]":t=[t],r.forEach(t,function e(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(n)+"="+i(t))}))}),a=s.join("&")}return a&&(t+=(-1===t.indexOf("?")?"?":"&")+a),t}},function(e,t,n){"use strict";var r=n(51),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function e(t){var n={},o,a,s;return t?(r.forEach(t.split("\n"),function e(t){if(s=t.indexOf(":"),o=r.trim(t.substr(0,s)).toLowerCase(),a=r.trim(t.substr(s+1)),o){if(n[o]&&i.indexOf(o)>=0)return;n[o]="set-cookie"===o?(n[o]?n[o]:[]).concat([a]):n[o]?n[o]+", "+a:a}}),n):n}},function(e,t,n){"use strict";var r=n(51);e.exports=r.isStandardBrowserEnv()?function e(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function e(t){var n=r.isString(t)?o(t):t;return n.protocol===i.protocol&&n.host===i.host}}():function e(){return!0}},function(e,t,n){"use strict";var r=n(51);e.exports=r.isStandardBrowserEnv()?function e(){return{write:function e(t,n,i,o,a,s){var l=[];l.push(t+"="+encodeURIComponent(n)),r.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),r.isString(o)&&l.push("path="+o),r.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read:function e(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function e(t){this.write(t,"",Date.now()-864e5)}}}():{write:function e(){},read:function e(){return null},remove:function e(){}}},function(e,t,n){"use strict";var r=n(51);function i(){this.handlers=[]}i.prototype.use=function e(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},i.prototype.eject=function e(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function e(t){r.forEach(this.handlers,function e(n){null!==n&&t(n)})},e.exports=i},function(e,t,n){"use strict";var r=n(51),i=n(611),o=n(258),a=n(187),s=n(612),l=n(613);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function e(t){var n;return u(t),t.baseURL&&!s(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function e(n){delete t.headers[n]}),(t.adapter||a.adapter)(t).then(function e(n){return u(t),n.data=i(n.data,n.headers,t.transformResponse),n},function e(n){return o(n)||(u(t),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})}},function(e,t,n){"use strict";var r=n(51);e.exports=function e(t,n,i){return r.forEach(i,function e(r){t=r(t,n)}),t}},function(e,t,n){"use strict";e.exports=function e(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(e,t,n){"use strict";e.exports=function e(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}},function(e,t,n){"use strict";var r=n(259);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function e(n){t=n});var n=this;e(function e(i){n.reason||(n.reason=new r(i),t(n.reason))})}i.prototype.throwIfRequested=function e(){if(this.reason)throw this.reason},i.source=function e(){var t,n;return{token:new i(function e(n){t=n}),cancel:t}},e.exports=i},function(e,t,n){"use strict";e.exports=function e(t){return function e(n){return t.apply(null,n)}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i,o=a(n(260));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=30,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.radius,r=void 0===n?l:n,i=t.enabled,a=void 0===i||i,u=t.initialPoint,c=void 0===u?{x:0,y:0}:u;s(this,e),this.radius=r,this._isEnabled=a,this.pointer=new o.default(c.x,c.y),this.brush=new o.default(c.x,c.y),this.angle=0,this.distance=0,this._hasMoved=!1}return r(e,[{key:"enable",value:function e(){this._isEnabled=!0}},{key:"disable",value:function e(){this._isEnabled=!1}},{key:"isEnabled",value:function e(){return this._isEnabled}},{key:"setRadius",value:function e(t){this.radius=t}},{key:"getRadius",value:function e(){return this.radius}},{key:"getBrushCoordinates",value:function e(){return this.brush.toObject()}},{key:"getPointerCoordinates",value:function e(){return this.pointer.toObject()}},{key:"getBrush",value:function e(){return this.brush}},{key:"getPointer",value:function e(){return this.pointer}},{key:"getAngle",value:function e(){return this.angle}},{key:"getDistance",value:function e(){return this.distance}},{key:"brushHasMoved",value:function e(){return this._hasMoved}},{key:"update",value:function e(t){var n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).both,i=void 0!==r&&r;return this._hasMoved=!1,!(this.pointer.equalsTo(t)&&!i)&&(this.pointer.update(t),i?(this._hasMoved=!0,this.brush.update(t),!0):(this._isEnabled?(this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush),this.distance>this.radius&&(this.brush.moveByAngle(this.angle,this.distance-this.radius),this._hasMoved=!0)):(this.distance=0,this.angle=0,this.brush.update(t),this._hasMoved=!0),!0))}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i,o=a(n(262));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=1e-6,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.segments,r=void 0===n?50:n,i=t.iterationLimit,a=void 0===i?100:i;s(this,e),this.p1=new o.default,this.p2=new o.default,this.segments=r,this.iterationLimit=a}return r(e,[{key:"drawToCanvas",value:function e(t,n,r,i){this.p1.update(n),this.p2.update(r);var o=this.p1.x>this.p2.x,a=o?this.p2:this.p1,s=o?this.p1:this.p2,l,u=[],c=!0,f;if(a.getDistanceTo(s)<i)if(s.x-a.x>.01){var h=s.x-a.x,d=s.y-a.y,p=-this.getCatenaryParameter(h,d,i,this.iterationLimit),m=.5*(p*Math.log((i+d)/(i-d))-h),g=p*Math.cosh(m/p),b=a.x-m,y=a.y-g;u=this.getCurve(p,a,s,b,y,this.segments),c=!1}else{var v=.5*(a.x+s.x),w=.5*(a.y+s.y+i);u=[[a.x,a.y],[v,w],[s.x,s.y]]}else u=[[a.x,a.y],[s.x,s.y]];return c?this.drawLine(u,t):this.drawCurve(u,t),u}},{key:"getCatenaryParameter",value:function e(t,n,r,i){for(var o=Math.sqrt(r*r-n*n)/t,a=Math.acosh(o)+1,s=-1,l=0;Math.abs(a-s)>1e-6&&l<i;)s=a,a-=(Math.sinh(a)-o*a)/(Math.cosh(a)-o),l++;return t/(2*a)}},{key:"getCurve",value:function e(t,n,r,i,o,a){for(var s=[n.x,t*Math.cosh((n.x-i)/t)+o],l=r.x-n.x,u=a-1,c=0;c<u;c++){var f=n.x+l*(c+.5)/u,h=t*Math.cosh((f-i)/t)+o;s.push(f,h)}return s.push(r.x,t*Math.cosh((r.x-i)/t)+o),s}},{key:"drawLine",value:function e(t,n){n.moveTo(t[0][0],t[0][1]),n.lineTo(t[1][0],t[1][1])}},{key:"drawCurve",value:function e(t,n){var r=.5*t.length-1,i=t[2],o=t[3],a=[];n.moveTo(t[0],t[1]);for(var s=2;s<r;s++){var l=t[2*s],u=t[2*s+1],c=.5*(l+i),f=.5*(u+o);a.push([i,o,c,f]),n.quadraticCurveTo(i,o,c,f),i=l,o=u}return r=t.length,n.quadraticCurveTo(t[r-4],t[r-3],t[r-2],t[r-1]),a}}]),e}();t.default=u},function(e,t,n){"use strict";(function(e){var t=n(140),r=n(21);
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const i=Object(r.b)();i.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),i.registerFlag("IS_BROWSER",()=>t.isBrowser()),i.registerFlag("IS_NODE",()=>void 0!==e&&void 0!==e.versions&&void 0!==e.versions.node),i.registerFlag("IS_CHROME",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),i.registerFlag("PROD",()=>!1),i.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>i.getBool("DEBUG")),i.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),i.registerFlag("IS_TEST",()=>!1)}).call(this,n(95))},function(e,t,n){"use strict";(function(e){var t=n(21);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r={importFetch:()=>n(621)};let i;function o(){i=null}function a(e){i=e}function s(){return i}class l{constructor(){this.util=n(622),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return null!=Object(t.b)().global.fetch?Object(t.b)().global.fetch(e,n):(null==i&&(i=r.importFetch()),i(e,n))}now(){const t=e.hrtime();return 1e3*t[0]+t[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}Object(t.b)().get("IS_NODE")&&Object(t.b)().setPlatform("node",new l)}).call(this,n(95))},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.byteLength=c,t.toByteArray=h,t.fromByteArray=m;for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("="),r;return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function h(e){var t,n=u(e),r=n[0],a=n[1],s=new o(f(e,r,a)),l=0,c=a>0?r-4:r,h;for(h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,l=n-i;s<l;s+=16383)o.push(p(e,s,s+16383>l?l:s+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n=u();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}function u(){var e=4022871197,t;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}i&&i.exports?i.exports=l:n(52)&&n(101)?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.alea=l}(this,e,n(52))}).call(this,n(87)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e,t,r=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(52)&&n(101)?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor128=l}(this,e,n(52))}).call(this,n(87)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e,t,r=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(52)&&n(101)?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorwow=l}(this,e,n(52))}).call(this,n(87)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this;function n(e,t){var n,r,i=[];if(t===(0|t))r=i[0]=t;else for(t=""+t,n=0;n<t.length;++n)i[7&n]=i[7&n]<<15^t.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(r=8==n?i[7]=-1:i[n],e.x=i,e.i=0,n=256;n>0;--n)e.next()}t.next=function(){var e=t.x,n=t.i,r,i,o;return r=e[n],i=(r^=r>>>7)^r<<24,i^=(r=e[n+1&7])^r>>>10,i^=(r=e[n+3&7])^r>>>3,i^=(r=e[n+4&7])^r<<7,r=e[n+7&7],i^=(r^=r<<13)^r<<9,e[n]=i,t.i=n+1&7,i},n(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e,t,r=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(52)&&n(101)?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorshift7=l}(this,e,n(52))}).call(this,n(87)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this;function n(e,t){var n,r,i,o,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}t.next=function(){var e=t.w,n=t.X,r=t.i,i,o;return t.w=e=e+1640531527|0,o=n[r+34&127],i=n[r=r+1&127],o^=o<<13,i^=i<<17,o^=o>>>15,i^=i>>>12,o=n[r]=o^i,t.i=r,o+(e^e>>>16)|0},n(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e,t,r=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(52)&&n(101)?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor4096=l}(this,e,n(52))}).call(this,n(87)(e))},function(e,t,n){(function(e){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e,t,r=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n(52)&&n(101)?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.tychei=l}(this,e,n(52))}).call(this,n(87)(e))},function(e,t,n){var r;!function(i,o){var a=this,s=256,l=6,u=52,c="random",f=o.pow(s,l),h=o.pow(2,52),d=2*h,p=s-1,m;function g(e,t,n){var r=[],a=w(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,_(i)]:null==e?x():e,3),r),u=new b(r),p=function(){for(var e=u.g(l),t=f,n=0;e<h;)e=(e+n)*s,t*=s,n=u.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return p.int32=function(){return 0|u.g(4)},p.quick=function(){return u.g(4)/4294967296},p.double=p,w(_(u.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&y(r,u),e.state=function(){return y(u,{})}),n?(o[c]=e,t):e})(p,a,"global"in t?t.global:this==o,t.state)}function b(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<s;)a[i]=i++;for(i=0;i<s;i++)a[i]=a[o=p&o+e[i%n]+(t=a[i])],a[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=p&i+1],n=n*s+a[p&(a[i]=a[o=p&o+t])+(a[o]=t)];return r.i=i,r.j=o,n})(s)}function y(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n=[],r=typeof e,i;if(t&&"object"==r)for(i in e)try{n.push(v(e[i],t-1))}catch(e){}return n.length?n:"string"==r?e:e+"\0"}function w(e,t){for(var n=e+"",r,i=0;i<n.length;)t[p&i]=p&(r^=19*t[p&i])+n.charCodeAt(i++);return _(t)}function x(){try{var e;return m&&(e=m.randomBytes)?e=e(s):(e=new Uint8Array(s),(a.crypto||a.msCrypto).getRandomValues(e)),_(e)}catch(e){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,_(i)]}}function _(e){return String.fromCharCode.apply(0,e)}if(o["seed"+c]=g,w(o.random(),i),e.exports){e.exports=g;try{m=n(633)}catch(e){}}else void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}([],Math)},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function t(){e._onTimeout&&e._onTimeout()},t))},n(635),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(64))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r=1,i={},o=!1,a=e.document,s,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?d():p()?m():e.MessageChannel?g():a&&"onreadystatechange"in a.createElement("script")?b():y(),l.setImmediate=u,l.clearImmediate=c}function u(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return i[r]=o,s(r),r++}function c(e){delete i[e]}function f(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function h(e){if(o)setTimeout(h,0,e);else{var t=i[e];if(t){o=!0;try{f(t)}finally{c(e),o=!1}}}}function d(){s=function(e){t.nextTick(function(){h(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function m(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&h(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}function g(){var e=new MessageChannel;e.port1.onmessage=function(e){var t;h(e.data)},s=function(t){e.port2.postMessage(t)}}function b(){var e=a.documentElement;s=function(t){var n=a.createElement("script");n.onreadystatechange=function(){h(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function y(){s=function(e){setTimeout(h,0,e)}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(64),n(95))},function(e,t){},function(e,t){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var r;(r=function(e){"use strict";e.defineMode("javascript",function(t,n){var r=t.indentUnit,i=n.statementIndent,o=n.jsonld,a=n.json||o,s=n.typescript,l=n.wordCharacters||/[\w$\xa1-\uffff]/,u=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),c=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,h,d;function p(e){for(var t=!1,n,r=!1;null!=(n=e.next());){if(!t){if("/"==n&&!r)return;"["==n?r=!0:r&&"]"==n&&(r=!1)}t=!t&&"\\"==n}}function m(e,t,n){return h=e,d=n,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=b(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):et(e,t,1)?(p(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=v,v(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(l))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(c.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(l.test(n)){e.eatWhile(l);var r=e.current();if("."!=t.lastType){if(u.propertyIsEnumerable(r)){var i=u[r];return m(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function b(e){return function(t,n){var r=!1,i;if(o&&"@"==t.peek()&&t.match(f))return n.tokenize=g,m("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||r);)r=!r&&"\\"==i;return r||(n.tokenize=g),m("string","string")}}function y(e,t){for(var n=!1,r;r=e.next();){if("/"==r&&n){t.tokenize=g;break}n="*"==r}return m("comment","comment")}function v(e,t){for(var n=!1,r;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==r}return m("quasi","string-2",e.current())}var w="([{}])";function x(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(s){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var u=e.string.charAt(a),c=w.indexOf(u);if(c>=0&&c<3){if(!i){++a;break}if(0==--i){"("==u&&(o=!0);break}}else if(c>=3&&c<6)++i;else if(l.test(u))o=!0;else if(/["'\/`]/.test(u))for(;;--a){if(0==a)return;var f;if(e.string.charAt(a-1)==u&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function S(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function E(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function C(e,t,n,r,i){var o=e.cc;for(k.state=e,k.stream=i,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s;if((o.length?o.pop():a?V:U)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&E(e,r)?"variable-2":t}}}var k={state:null,column:null,marked:null,cc:null};function O(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function T(){return O.apply(null,arguments),!0}function N(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function A(e){var t=k.state;if(k.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=I(e,t.context);if(null!=r)return void(t.context=r)}else if(!N(e,t.localVars))return void(t.localVars=new M(e,t.localVars));n.globalVars&&!N(e,t.globalVars)&&(t.globalVars=new M(e,t.globalVars))}function I(e,t){if(t){if(t.block){var n=I(e,t.prev);return n?n==t.prev?t:new R(n,t.vars,!0):null}return N(e,t.vars)?t:new R(t.prev,new M(e,t.vars),!1)}return null}function j(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function R(e,t,n){this.prev=e,this.vars=t,this.block=n}function M(e,t){this.name=e,this.next=t}var P=new M("this",new M("arguments",null));function D(){k.state.context=new R(k.state.context,k.state.localVars,!1),k.state.localVars=P}function L(){k.state.context=new R(k.state.context,k.state.localVars,!0),k.state.localVars=null}function F(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function B(e,t){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new S(r,k.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function z(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function $(e){function t(n){return n==e?T():";"==e||"}"==n||")"==n||"]"==n?O():T(t)}return t}function U(e,t){return"var"==e?T(B("vardef",t),Ee,$(";"),z):"keyword a"==e?T(B("form"),G,U,z):"keyword b"==e?T(B("form"),U,z):"keyword d"==e?k.stream.match(/^\s*$/,!1)?T():T(B("stat"),K,$(";"),z):"debugger"==e?T($(";")):"{"==e?T(B("}"),L,fe,z,F):";"==e?T():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==z&&k.state.cc.pop()(),T(B("form"),G,U,z,Ae)):"function"==e?T(Me):"for"==e?T(B("form"),Ie,U,z):"class"==e||s&&"interface"==t?(k.marked="keyword",T(B("form","class"==e?e:t),Be,z)):"variable"==e?s&&"declare"==t?(k.marked="keyword",T(U)):s&&("module"==t||"enum"==t||"type"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==t?T(Ze):"type"==t?T(De,$("operator"),ge,$(";")):T(B("form"),Ce,$("{"),B("}"),fe,z,z)):s&&"namespace"==t?(k.marked="keyword",T(B("form"),V,U,z)):s&&"abstract"==t?(k.marked="keyword",T(U)):T(B("stat"),ie):"switch"==e?T(B("form"),G,$("{"),B("}","switch"),L,fe,z,z,F):"case"==e?T(V,$(":")):"default"==e?T($(":")):"catch"==e?T(B("form"),D,W,U,z,F):"export"==e?T(B("stat"),We,z):"import"==e?T(B("stat"),He,z):"async"==e?T(U):"@"==t?T(V,U):O(B("stat"),V,$(";"),z)}function W(e){if("("==e)return T(Le,$(")"))}function V(e,t){return q(e,t,!1)}function H(e,t){return q(e,t,!0)}function G(e){return"("!=e?O():T(B(")"),K,$(")"),z)}function q(e,t,n){if(k.state.fatArrowAt==k.stream.start){var r=n?ee:Q;if("("==e)return T(D,B(")"),ue(Le,")"),z,$("=>"),r,F);if("variable"==e)return O(D,Ce,$("=>"),r,F)}var i=n?X:Y;return _.hasOwnProperty(e)?T(i):"function"==e?T(Me,i):"class"==e||s&&"interface"==t?(k.marked="keyword",T(B("form"),Fe,z)):"keyword c"==e||"async"==e?T(n?H:V):"("==e?T(B(")"),K,$(")"),z,i):"operator"==e||"spread"==e?T(n?H:V):"["==e?T(B("]"),Xe,z,i):"{"==e?ce(ae,"}",null,i):"quasi"==e?O(Z,i):"new"==e?T(te(n)):"import"==e?T(V):T()}function K(e){return e.match(/[;\}\)\],]/)?O():O(V)}function Y(e,t){return","==e?T(K):X(e,t,!1)}function X(e,t,n){var r=0==n?Y:X,i=0==n?V:H;return"=>"==e?T(D,n?ee:Q,F):"operator"==e?/\+\+|--/.test(t)||s&&"!"==t?T(r):s&&"<"==t&&k.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(B(">"),ue(ge,">"),z,r):"?"==t?T(V,$(":"),i):T(i):"quasi"==e?O(Z,r):";"!=e?"("==e?ce(H,")","call",r):"."==e?T(oe,r):"["==e?T(B("]"),K,$("]"),z,r):s&&"as"==t?(k.marked="keyword",T(ge,r)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),T(i)):void 0:void 0}function Z(e,t){return"quasi"!=e?O():"${"!=t.slice(t.length-2)?T(Z):T(V,J)}function J(e){if("}"==e)return k.marked="string-2",k.state.tokenize=v,T(Z)}function Q(e){return x(k.stream,k.state),O("{"==e?U:V)}function ee(e){return x(k.stream,k.state),O("{"==e?U:H)}function te(e){return function(t){return"."==t?T(e?re:ne):"variable"==t&&s?T(xe,e?X:Y):O(e?H:V)}}function ne(e,t){if("target"==t)return k.marked="keyword",T(Y)}function re(e,t){if("target"==t)return k.marked="keyword",T(X)}function ie(e){return":"==e?T(z,U):O(Y,$(";"),z)}function oe(e){if("variable"==e)return k.marked="property",T()}function ae(e,t){if("async"==e)return k.marked="property",T(ae);if("variable"==e||"keyword"==k.style){return k.marked="property","get"==t||"set"==t?T(se):(s&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),T(le));var n}else{if("number"==e||"string"==e)return k.marked=o?"property":k.style+" property",T(le);if("jsonld-keyword"==e)return T(le);if(s&&j(t))return k.marked="keyword",T(ae);if("["==e)return T(V,he,$("]"),le);if("spread"==e)return T(H,le);if("*"==t)return k.marked="keyword",T(ae);if(":"==e)return O(le)}}function se(e){return"variable"!=e?O(le):(k.marked="property",T(Me))}function le(e){return":"==e?T(H):"("==e?O(Me):void 0}function ue(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T(function(n,r){return n==t||r==t?O():O(e)},r)}return i==t||o==t?T():n&&n.indexOf(";")>-1?O(e):T($(t))}return function(n,i){return n==t||i==t?T():O(e,r)}}function ce(e,t,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return T(B(t,n),ue(e,t),z)}function fe(e){return"}"==e?T():O(U,fe)}function he(e,t){if(s){if(":"==e)return T(ge);if("?"==t)return T(he)}}function de(e,t){if(s&&(":"==e||"in"==t))return T(ge)}function pe(e){if(s&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?T(V,me,ge):T(ge)}function me(e,t){if("is"==t)return k.marked="keyword",T()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(k.marked="keyword",T("typeof"==t?H:ge)):"variable"==e||"void"==t?(k.marked="type",T(we)):"|"==t||"&"==t?T(ge):"string"==e||"number"==e||"atom"==e?T(we):"["==e?T(B("]"),ue(ge,"]",","),z,we):"{"==e?T(B("}"),ue(ye,"}",",;"),z,we):"("==e?T(ue(ve,")"),be,we):"<"==e?T(ue(ge,">"),ge):void 0}function be(e){if("=>"==e)return T(ge)}function ye(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",T(ye)):"?"==t||"number"==e||"string"==e?T(ye):":"==e?T(ge):"["==e?T($("variable"),de,$("]"),ye):"("==e?O(Pe,ye):void 0}function ve(e,t){return"variable"==e&&k.stream.match(/^\s*[?:]/,!1)||"?"==t?T(ve):":"==e?T(ge):"spread"==e?T(ve):O(ge)}function we(e,t){return"<"==t?T(B(">"),ue(ge,">"),z,we):"|"==t||"."==e||"&"==t?T(ge):"["==e?T(ge,$("]"),we):"extends"==t||"implements"==t?(k.marked="keyword",T(ge)):"?"==t?T(ge,$(":"),ge):void 0}function xe(e,t){if("<"==t)return T(B(">"),ue(ge,">"),z,we)}function _e(){return O(ge,Se)}function Se(e,t){if("="==t)return T(ge)}function Ee(e,t){return"enum"==t?(k.marked="keyword",T(Ze)):O(Ce,he,Te,Ne)}function Ce(e,t){return s&&j(t)?(k.marked="keyword",T(Ce)):"variable"==e?(A(t),T()):"spread"==e?T(Ce):"["==e?ce(Oe,"]"):"{"==e?ce(ke,"}"):void 0}function ke(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?T(Ce):"}"==e?O():"["==e?T(V,$("]"),$(":"),ke):T($(":"),Ce,Te)):(A(t),T(Te))}function Oe(){return O(Ce,Te)}function Te(e,t){if("="==t)return T(H)}function Ne(e){if(","==e)return T(Ee)}function Ae(e,t){if("keyword b"==e&&"else"==t)return T(B("form","else"),U,z)}function Ie(e,t){return"await"==t?T(Ie):"("==e?T(B(")"),je,z):void 0}function je(e){return"var"==e?T(Ee,Re):"variable"==e?T(Re):O(Re)}function Re(e,t){return")"==e?T():";"==e?T(Re):"in"==t||"of"==t?(k.marked="keyword",T(V,Re)):O(V,Re)}function Me(e,t){return"*"==t?(k.marked="keyword",T(Me)):"variable"==e?(A(t),T(Me)):"("==e?T(D,B(")"),ue(Le,")"),z,pe,U,F):s&&"<"==t?T(B(">"),ue(_e,">"),z,Me):void 0}function Pe(e,t){return"*"==t?(k.marked="keyword",T(Pe)):"variable"==e?(A(t),T(Pe)):"("==e?T(D,B(")"),ue(Le,")"),z,pe,F):s&&"<"==t?T(B(">"),ue(_e,">"),z,Pe):void 0}function De(e,t){return"keyword"==e||"variable"==e?(k.marked="type",T(De)):"<"==t?T(B(">"),ue(_e,">"),z):void 0}function Le(e,t){return"@"==t&&T(V,Le),"spread"==e?T(Le):s&&j(t)?(k.marked="keyword",T(Le)):s&&"this"==e?T(he,Te):O(Ce,he,Te)}function Fe(e,t){return"variable"==e?Be(e,t):ze(e,t)}function Be(e,t){if("variable"==e)return A(t),T(ze)}function ze(e,t){return"<"==t?T(B(">"),ue(_e,">"),z,ze):"extends"==t||"implements"==t||s&&","==e?("implements"==t&&(k.marked="keyword"),T(s?ge:V,ze)):"{"==e?T(B("}"),$e,z):void 0}function $e(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||s&&j(t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",T($e)):"variable"==e||"keyword"==k.style?(k.marked="property",T(Ue,$e)):"number"==e||"string"==e?T(Ue,$e):"["==e?T(V,he,$("]"),Ue,$e):"*"==t?(k.marked="keyword",T($e)):s&&"("==e?O(Pe,$e):";"==e||","==e?T($e):"}"==e?T():"@"==t?T(V,$e):void 0}function Ue(e,t){if("?"==t)return T(Ue);if(":"==e)return T(ge,Te);if("="==t)return T(H);var n=k.state.lexical.prev,r;return O(n&&"interface"==n.info?Pe:Me)}function We(e,t){return"*"==t?(k.marked="keyword",T(Ye,$(";"))):"default"==t?(k.marked="keyword",T(V,$(";"))):"{"==e?T(ue(Ve,"}"),Ye,$(";")):O(U)}function Ve(e,t){return"as"==t?(k.marked="keyword",T($("variable"))):"variable"==e?O(H,Ve):void 0}function He(e){return"string"==e?T():"("==e?O(V):O(Ge,qe,Ye)}function Ge(e,t){return"{"==e?ce(Ge,"}"):("variable"==e&&A(t),"*"==t&&(k.marked="keyword"),T(Ke))}function qe(e){if(","==e)return T(Ge,qe)}function Ke(e,t){if("as"==t)return k.marked="keyword",T(Ge)}function Ye(e,t){if("from"==t)return k.marked="keyword",T(V)}function Xe(e){return"]"==e?T():O(ue(H,"]"))}function Ze(){return O(B("form"),Ce,$("{"),B("}"),ue(Je,"}"),z,z)}function Je(){return O(Ce,Te)}function Qe(e,t){return"operator"==e.lastType||","==e.lastType||c.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function et(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return F.lex=!0,z.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new S((e||0)-r,0,"block",!1),localVars:n.localVars,context:n.localVars&&new R(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),x(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==h?n:(t.lastType="operator"!=h||"++"!=d&&"--"!=d?h:"incdec",C(t,n,h,d,e))},indent:function(t,o){if(t.tokenize==y)return e.Pass;if(t.tokenize!=g)return 0;var a=o&&o.charAt(0),s=t.lexical,l;if(!/^\s*else\b/.test(o))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==z)s=s.prev;else if(c!=Ae)break}for(;("stat"==s.type||"form"==s.type)&&("}"==a||(l=t.cc[t.cc.length-1])&&(l==Y||l==X)&&!/^[,\.=+\-*:?[\(]/.test(o));)s=s.prev;i&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var f=s.type,h=a==f;return"vardef"==f?s.indented+("operator"==t.lastType||","==t.lastType?s.info.length+1:0):"form"==f&&"{"==a?s.indented:"form"==f?s.indented+r:"stat"==f?s.indented+(Qe(t,o)?i||r:0):"switch"!=s.info||h||0==n.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:r):s.indented+(/^(?:case|default)\b/.test(o)?r:2*r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:a?null:"/*",blockCommentEnd:a?null:"*/",blockCommentContinue:a?null:" * ",lineComment:a?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:a?"json":"javascript",jsonldMode:o,jsonMode:a,expressionAllowed:et,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=V&&t!=H||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(n(264))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e,t){for(var r in e)if(n.call(e,r))return e[r]===t[r];return!1}function i(e,t){if(!e&&!t||e===t)return!0;if(!e!=!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function o(e,t){var r,a=0,s=0;for(r in e)if(n.call(e,r)){switch(r){case"transform":if(!i(e[r],t[r]))return!1;break;case"shadowOffset":if(!o(e[r],t[r]))return!1;break;default:if(e[r]!==t[r])return!1}a++}for(r in t)n.call(t,r)&&s++;return a===s}function a(e,t){if(!e&&!t||e===t)return!0;if(!e!=!t)return!1;switch(typeof e){case"object":if(e instanceof Array){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return e.length===t.length}return o(e,t);case"number":default:return e===t}}e.exports=a},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,b=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case b:case g:case u:return e;default:return t}}case o:return t}}}function S(e){return _(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=b,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===b},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===l||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===w||e.$$typeof===x||e.$$typeof===y)},t.typeOf=_},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"ieVersion",function(){return jo}),n.d(r,"isProduction",function(){return Ro}),n.d(r,"default",function(){return Mo});var i={};n.r(i),n.d(i,"deprecated",function(){return Po}),n.d(i,"warning",function(){return Do});var o={};n.r(o),n.d(o,"typeOf",function(){return Lo}),n.d(o,"isArrayLike",function(){return Fo}),n.d(o,"isPromise",function(){return Bo}),n.d(o,"isPlainObject",function(){return zo}),n.d(o,"shallowEqual",function(){return $o}),n.d(o,"each",function(){return Uo}),n.d(o,"pickOthers",function(){return Vo}),n.d(o,"pickAttrsWith",function(){return Ho}),n.d(o,"isNil",function(){return Go}),n.d(o,"deepMerge",function(){return qo}),n.d(o,"isFunctionComponent",function(){return Ko}),n.d(o,"isClassComponent",function(){return Yo}),n.d(o,"isReactFragment",function(){return Xo});var a={};n.r(a),n.d(a,"camelcase",function(){return Zo}),n.d(a,"hyphenate",function(){return Jo}),n.d(a,"template",function(){return Qo});var s={};n.r(s),n.d(s,"hasDOM",function(){return ea}),n.d(s,"hasClass",function(){return ta}),n.d(s,"addClass",function(){return na}),n.d(s,"removeClass",function(){return ra}),n.d(s,"toggleClass",function(){return ia}),n.d(s,"matches",function(){return oa}),n.d(s,"getStyle",function(){return fa}),n.d(s,"setStyle",function(){return ha}),n.d(s,"scrollbar",function(){return da}),n.d(s,"getOffset",function(){return pa}),n.d(s,"getPixels",function(){return ma}),n.d(s,"getClosest",function(){return ga}),n.d(s,"getMatches",function(){return ba});var l={};n.r(l),n.d(l,"off",function(){return ya}),n.d(l,"on",function(){return va}),n.d(l,"once",function(){return wa});var u={};n.r(u),n.d(u,"noop",function(){return xa}),n.d(u,"prevent",function(){return _a}),n.d(u,"makeChain",function(){return Sa}),n.d(u,"bindCtx",function(){return Ea}),n.d(u,"promiseCall",function(){return Ca});var c={};n.r(c),n.d(c,"animation",function(){return Aa}),n.d(c,"transition",function(){return Ia}),n.d(c,"flex",function(){return ja});var f={};n.r(f),n.d(f,"getFocusNodeList",function(){return Da}),n.d(f,"saveLastFocusNode",function(){return Fa}),n.d(f,"clearLastFocusNode",function(){return Ba}),n.d(f,"backLastFocusNode",function(){return za}),n.d(f,"limitTabRange",function(){return $a});var h={};n.r(h),n.d(h,"randomId",function(){return Va}),n.d(h,"escapeForId",function(){return Ha});var d={};n.r(d),n.d(d,"maxImpl",function(){return pN}),n.d(d,"transposeImpl",function(){return mN});var p=n(294),m=n(295),g=n(296),b=n(297),y=n(298),v=n(299),w=n(300),x=n(301),_=n(302),S=n(303),E=n(304),C=n(305),k=n(306),O=n(307),T=n(308),N=n(309),A=n(310),I=n(311),j=n(312),R=n(313),M=n(314),P=n(315),D=n(316),L=n(317),F=n(318),B=n(319),z=n(320),$=n(122),U=n(321),W=n(322),V=n(323),H=n(324),G=n(325),q=n(326),K=n(327),Y=n(328),X=n(329),Z=n(330),J=n(331),Q=n(332),ee=n(333),te=n(334),ne=n(335),re=n(337),ie=n(338),oe=n(339),ae=n(340),se=n(342),le=n(343),ue=n(345),ce=n(346),fe=n(347),he=n(348),de=n(349),pe=n(350),me=n(351),ge=n(352),be=n(353),ye=n(354),ve=n(355),we=n(356),xe=n(358),_e=n(359),Se=n(360),Ee=n(361),Ce=n(362),ke=n(363),Oe=n(364),Te=n(365),Ne=n(366),Ae=n(367),Ie=n(368),je=n(369),Re=n(370),Me=n(372),Pe=n(373),De=n(374),Le=n(375),Fe=n(376),Be=n(377),ze=n(378),$e=n(379),Ue=n(380),We=n(381),Ve=n(382),He=n(383),Ge=n(384),qe=n(385),Ke=n(386),Ye=n(387),Xe=n(388),Ze=n(389),Je=n(390),Qe=n(391),et=n(392),tt=n(393),nt=n(394),rt=n(395),it=n(396),ot=n(397),at=n(398),st=n(399),lt=n(400),ut=n(401),ct=n(403),ft=n(404),ht=n(405),dt=n(406),pt=n(409),mt=n(410),gt=n(411),bt=n(413),yt=n(414),vt=n(415),wt=n(416),xt=n(417),_t=n(418),St=n(419),Et=n(420),Ct=n(421),kt=n(422),Ot=n(423),Tt=n(424),Nt=n(227),At=n(425),It=n(426),jt=n(427),Rt=n(428),Mt=n(429),Pt=n(430),Dt=n(431),Lt=n(228),Ft=n(432),Bt=n(433),zt=n(434),$t=n(435),Ut=n(436),Wt=n(437),Vt=n(438),Ht=n(439),Gt=n(440),qt=n(441),Kt=n(442),Yt=n(443),Xt=n(444),Zt=n(445),Jt=n(446),Qt=n(447),en=n(448),tn=n(449),nn=n(450),rn=n(451),on=n(452),an=n(453),sn=n(454),ln=n(455),un=n(456),cn=n(457),fn=n(459),hn=n(460),dn=n(461),pn=n(462),mn=n(463),gn=n(464),bn=n(465),yn=n(466),vn=n(467),wn=n(468),xn=n(469),_n=n(470),Sn=n(471),En=n(472),Cn=n(473),kn=n(474),On=n(475),Tn=n(476),Nn=n(477),An=n(478),In=n(479),jn=n(480),Rn=n(481),Mn=n(482),Pn=n(483),Dn=n(484),Ln=n(485),Fn=n(486),Bn=n(487),zn=n(488),$n=n(489),Un=n(490),Wn=n(491),Vn=n(492),Hn=n(493),Gn=n(494),qn=n(495),Kn=n(496),Yn=n(513),Xn=n(514),Zn=n(516),Jn=n(519),Qn=n(240),er=n(520),tr=n(18),nr=n.n(tr),rr=n(525),ir=n(47),or=n(2),ar=n.n(or),sr=n(0),lr=n.n(sr);function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cr(e){return"/"===e.charAt(0)}function fr(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function hr(e,t){void 0===t&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&cr(e),o=t&&cr(t),a=i||o,s;if(e&&cr(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";if(r.length){var l=r[r.length-1];s="."===l||".."===l||""===l}else s=!1;for(var u=0,c=r.length;c>=0;c--){var f=r[c];"."===f?fr(r,c):".."===f?(fr(r,c),u++):u&&(fr(r,c),u--)}if(!a)for(;u--;u)r.unshift("..");!a||""===r[0]||r[0]&&cr(r[0])||r.unshift("");var h=r.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h}var dr=hr;function pr(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function mr(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return mr(e,t[n])});if("object"==typeof e||"object"==typeof t){var n=pr(e),r=pr(t);return n!==e||r!==t?mr(n,r):Object.keys(Object.assign({},e,t)).every(function(n){return mr(e[n],t[n])})}return!1}var gr=mr,br=!0,yr="Invariant failed";function vr(e,t){if(!e){if(br)throw new Error(yr);throw new Error(yr+": "+(t||""))}}var wr=vr;function xr(e){return"/"===e.charAt(0)?e:"/"+e}function _r(e){return"/"===e.charAt(0)?e.substr(1):e}function Sr(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}function Er(e,t){return Sr(e,t)?e.substr(t.length):e}function Cr(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function kr(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function Or(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Tr(e,t,n,r){var i;"string"==typeof e?(i=kr(e)).state=t:(void 0===(i=ur({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=dr(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Nr(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&gr(e.state,t.state)}function Ar(){var e=null;function t(t){return e=t,function(){e===t&&(e=null)}}function n(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)}var r=[];function i(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return r.push(n),function(){t=!1,r=r.filter(function(e){return e!==n})}}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.forEach(function(e){return e.apply(void 0,t)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var Ir=!("undefined"==typeof window||!window.document||!window.document.createElement);function jr(e,t){t(window.confirm(e))}function Rr(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function Mr(){return-1===window.navigator.userAgent.indexOf("Trident")}function Pr(){return-1===window.navigator.userAgent.indexOf("Firefox")}function Dr(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}var Lr="popstate",Fr="hashchange";function Br(){try{return window.history.state||{}}catch(e){return{}}}function zr(e){void 0===e&&(e={}),Ir||wr(!1);var t=window.history,n=Rr(),r=!Mr(),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,l=void 0===s?jr:s,u=i.keyLength,c=void 0===u?6:u,f=e.basename?Cr(xr(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,o,a,s,l=i.pathname+i.search+i.hash;return f&&(l=Er(l,f)),Tr(l,r,n)}function d(){return Math.random().toString(36).substr(2,c)}var p=Ar();function m(e){ur(M,e),M.length=t.length,p.notifyListeners(M.location,M.action)}function g(e){Dr(e)||v(h(e.state))}function b(){v(h(Br()))}var y=!1;function v(e){if(y)y=!1,m();else{var t="POP";p.confirmTransitionTo(e,"POP",l,function(t){t?m({action:"POP",location:e}):w(e)})}}function w(e){var t=M.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,k(i))}var x=h(Br()),_=[x.key];function S(e){return f+Or(e)}function E(e,r){var i="PUSH",o=Tr(e,r,d(),M.location);p.confirmTransitionTo(o,"PUSH",l,function(e){if(e){var r=S(o),i=o.key,s=o.state;if(n)if(t.pushState({key:i,state:s},null,r),a)window.location.href=r;else{var l=_.indexOf(M.location.key),u=_.slice(0,l+1);u.push(o.key),_=u,m({action:"PUSH",location:o})}else window.location.href=r}})}function C(e,r){var i="REPLACE",o=Tr(e,r,d(),M.location);p.confirmTransitionTo(o,i,l,function(e){if(e){var r=S(o),s=o.key,l=o.state;if(n)if(t.replaceState({key:s,state:l},null,r),a)window.location.replace(r);else{var u=_.indexOf(M.location.key);-1!==u&&(_[u]=o.key),m({action:i,location:o})}else window.location.replace(r)}})}function k(e){t.go(e)}function O(){k(-1)}function T(){k(1)}var N=0;function A(e){1===(N+=e)&&1===e?(window.addEventListener(Lr,g),r&&window.addEventListener(Fr,b)):0===N&&(window.removeEventListener(Lr,g),r&&window.removeEventListener(Fr,b))}var I=!1;function j(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return I||(A(1),I=!0),function(){return I&&(I=!1,A(-1)),t()}}function R(e){var t=p.appendListener(e);return A(1),function(){A(-1),t()}}var M={length:t.length,action:"POP",location:x,createHref:S,push:E,replace:C,go:k,goBack:O,goForward:T,block:j,listen:R};return M}var $r="hashchange",Ur={hashbang:{encodePath:function e(t){return"!"===t.charAt(0)?t:"!/"+_r(t)},decodePath:function e(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:_r,decodePath:xr},slash:{encodePath:xr,decodePath:xr}};function Wr(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Vr(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Hr(e){window.location.hash=e}function Gr(e){window.location.replace(Wr(window.location.href)+"#"+e)}function qr(e){void 0===e&&(e={}),Ir||wr(!1);var t=window.history,n=Pr(),r=e,i=r.getUserConfirmation,o=void 0===i?jr:i,a=r.hashType,s=void 0===a?"slash":a,l=e.basename?Cr(xr(e.basename)):"",u=Ur[s],c=u.encodePath,f=u.decodePath;function h(){var e=f(Vr());return l&&(e=Er(e,l)),Tr(e)}var d=Ar();function p(e){ur(D,e),D.length=t.length,d.notifyListeners(D.location,D.action)}var m=!1,g=null;function b(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}function y(){var e=Vr(),t=c(e);if(e!==t)Gr(t);else{var n=h(),r=D.location;if(!m&&b(r,n))return;if(g===Or(n))return;g=null,v(n)}}function v(e){if(m)m=!1,p();else{var t="POP";d.confirmTransitionTo(e,"POP",o,function(t){t?p({action:"POP",location:e}):w(e)})}}function w(e){var t=D.location,n=E.lastIndexOf(Or(t));-1===n&&(n=0);var r=E.lastIndexOf(Or(e));-1===r&&(r=0);var i=n-r;i&&(m=!0,T(i))}var x=Vr(),_=c(x);x!==_&&Gr(_);var S=h(),E=[Or(S)];function C(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=Wr(window.location.href)),n+"#"+c(l+Or(e))}function k(e,t){var n="PUSH",r=Tr(e,void 0,void 0,D.location);d.confirmTransitionTo(r,"PUSH",o,function(e){if(e){var t=Or(r),n=c(l+t),i;if(Vr()!==n){g=t,Hr(n);var o=E.lastIndexOf(Or(D.location)),a=E.slice(0,o+1);a.push(t),E=a,p({action:"PUSH",location:r})}else p()}})}function O(e,t){var n="REPLACE",r=Tr(e,void 0,void 0,D.location);d.confirmTransitionTo(r,n,o,function(e){if(e){var t=Or(r),i=c(l+t),o;Vr()!==i&&(g=t,Gr(i));var a=E.indexOf(Or(D.location));-1!==a&&(E[a]=t),p({action:n,location:r})}})}function T(e){t.go(e)}function N(){T(-1)}function A(){T(1)}var I=0;function j(e){1===(I+=e)&&1===e?window.addEventListener($r,y):0===I&&window.removeEventListener($r,y)}var R=!1;function M(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return R||(j(1),R=!0),function(){return R&&(R=!1,j(-1)),t()}}function P(e){var t=d.appendListener(e);return j(1),function(){j(-1),t()}}var D={length:t.length,action:"POP",location:S,createHref:C,push:k,replace:O,go:T,goBack:N,goForward:A,block:M,listen:P};return D}function Kr(e,t,n){return Math.min(Math.max(e,t),n)}function Yr(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,l=void 0===s?6:s,u=Ar();function c(e){ur(S,e),S.length=S.entries.length,u.notifyListeners(S.location,S.action)}function f(){return Math.random().toString(36).substr(2,l)}var h=Kr(a,0,i.length-1),d=i.map(function(e){return Tr(e,void 0,"string"==typeof e?f():e.key||f())}),p=Or;function m(e,t){var r="PUSH",i=Tr(e,t,f(),S.location);u.confirmTransitionTo(i,"PUSH",n,function(e){if(e){var t,n=S.index+1,r=S.entries.slice(0);r.length>n?r.splice(n,r.length-n,i):r.push(i),c({action:"PUSH",location:i,index:n,entries:r})}})}function g(e,t){var r="REPLACE",i=Tr(e,t,f(),S.location);u.confirmTransitionTo(i,r,n,function(e){e&&(S.entries[S.index]=i,c({action:r,location:i}))})}function b(e){var t=Kr(S.index+e,0,S.entries.length-1),r="POP",i=S.entries[t];u.confirmTransitionTo(i,"POP",n,function(e){e?c({action:"POP",location:i,index:t}):c()})}function y(){b(-1)}function v(){b(1)}function w(e){var t=S.index+e;return t>=0&&t<S.entries.length}function x(e){return void 0===e&&(e=!1),u.setPrompt(e)}function _(e){return u.appendListener(e)}var S={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:m,replace:g,go:b,goBack:y,goForward:v,canGo:w,block:x,listen:_};return S}var Xr=n(189),Zr=n(190),Jr=n.n(Zr),Qr=n(265);function ei(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}var ti=n(292),ni=n.n(ti),ri,ii=function e(t){var n=Object(Xr.a)();return n.displayName=t,n}("Router-History"),oi,ai=function e(t){var n=Object(Xr.a)();return n.displayName=t,n}("Router"),si=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}Object(ir.a)(t,e),t.computeRootMatch=function e(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=t.prototype;return n.componentDidMount=function e(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function e(){this.unlisten&&this.unlisten()},n.render=function e(){return ar.a.createElement(ai.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ar.a.createElement(ii.Provider,{children:this.props.children||null,value:this.props.history}))},t}(ar.a.Component);var li=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Yr(t.props),t}var n;return Object(ir.a)(t,e),t.prototype.render=function e(){return ar.a.createElement(si,{history:this.history,children:this.props.children})},t}(ar.a.Component);var ui=function(e){function t(){return e.apply(this,arguments)||this}Object(ir.a)(t,e);var n=t.prototype;return n.componentDidMount=function e(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function e(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function e(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function e(){return null},t}(ar.a.Component),ci;function fi(e){var t=e.message,n=e.when,r=void 0===n||n;return ar.a.createElement(ai.Consumer,null,function(e){if(e||wr(!1),!r||e.staticContext)return null;var n=e.history.block;return ar.a.createElement(ui,{onMount:function e(r){r.release=n(t)},onUpdate:function e(r,i){i.message!==t&&(r.release(),r.release=n(t))},onUnmount:function e(t){t.release()},message:t})})}var hi={},di=1e4,pi=0;function mi(e){if(hi[e])return hi[e];var t=Jr.a.compile(e);return pi<di&&(hi[e]=t,pi++),t}function gi(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:mi(e)(t,{pretty:!0})}function bi(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return ar.a.createElement(ai.Consumer,null,function(e){e||wr(!1);var r=e.history,o=e.staticContext,a=i?r.push:r.replace,s=Tr(t?"string"==typeof n?gi(n,t.params):ur({},n,{pathname:gi(n.pathname,t.params)}):n);return o?(a(s),null):ar.a.createElement(ui,{onMount:function e(){a(s)},onUpdate:function e(t,n){var r=Tr(n.to);Nr(r,ur({},s,{key:r.key}))||a(s)},to:n})})}var yi={},vi=1e4,wi=0;function xi(e,t){var n=""+t.end+t.strict+t.sensitive,r=yi[n]||(yi[n]={});if(r[e])return r[e];var i=[],o,a={regexp:Jr()(e,i,t),keys:i};return wi<vi&&(r[e]=a,wi++),a}function _i(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l,c;return[].concat(r).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=xi(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],f=l.slice(1),h=e===c;return o&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:a.reduce(function(e,t,n){return e[t.name]=f[n],e},{})}},null)}function Si(e){return 0===ar.a.Children.count(e)}function Ei(e,t,n){var r;return e(t)||null}var Ci=function(e){function t(){return e.apply(this,arguments)||this}var n;return Object(ir.a)(t,e),t.prototype.render=function e(){var t=this;return ar.a.createElement(ai.Consumer,null,function(e){e||wr(!1);var n=t.props.location||e.location,r,i=ur({},e,{location:n,match:t.props.computedMatch?t.props.computedMatch:t.props.path?_i(n.pathname,t.props):e.match}),o=t.props,a=o.children,s=o.component,l=o.render;return Array.isArray(a)&&0===a.length&&(a=null),ar.a.createElement(ai.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:s?ar.a.createElement(s,i):l?l(i):null:"function"==typeof a?a(i):null)})},t}(ar.a.Component);function ki(e){return"/"===e.charAt(0)?e:"/"+e}function Oi(e,t){return e?ur({},t,{pathname:ki(e)+t.pathname}):t}function Ti(e,t){if(!e)return t;var n=ki(e);return 0!==t.pathname.indexOf(n)?t:ur({},t,{pathname:t.pathname.substr(n.length)})}function Ni(e){return"string"==typeof e?e:Or(e)}function Ai(e){return function(){wr(!1)}}function Ii(){}var ji=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return Ii},t.handleBlock=function(){return Ii},t}Object(ir.a)(t,e);var n=t.prototype;return n.navigateTo=function e(t,n){var r=this.props,i=r.basename,o=void 0===i?"":i,a=r.context,s=void 0===a?{}:a;s.action=n,s.location=Oi(o,Tr(t)),s.url=Ni(s.location)},n.render=function e(){var t=this.props,n=t.basename,r=void 0===n?"":n,i=t.context,o=void 0===i?{}:i,a=t.location,s=void 0===a?"/":a,l=ei(t,["basename","context","location"]),u={createHref:function e(t){return ki(r+Ni(t))},action:"POP",location:Ti(r,Tr(s)),push:this.handlePush,replace:this.handleReplace,go:Ai("go"),goBack:Ai("goBack"),goForward:Ai("goForward"),listen:this.handleListen,block:this.handleBlock};return ar.a.createElement(si,ur({},l,{history:u,staticContext:o}))},t}(ar.a.Component);var Ri=function(e){function t(){return e.apply(this,arguments)||this}var n;return Object(ir.a)(t,e),t.prototype.render=function e(){var t=this;return ar.a.createElement(ai.Consumer,null,function(e){e||wr(!1);var n=t.props.location||e.location,r,i;return ar.a.Children.forEach(t.props.children,function(t){if(null==i&&ar.a.isValidElement(t)){r=t;var o=t.props.path||t.props.from;i=o?_i(n.pathname,ur({},t.props,{path:o})):e.match}}),i?ar.a.cloneElement(r,{location:n,computedMatch:i}):null})},t}(ar.a.Component);function Mi(e){var t="withRouter("+(e.displayName||e.name)+")",n=function t(n){var r=n.wrappedComponentRef,i=ei(n,["wrappedComponentRef"]);return ar.a.createElement(ai.Consumer,null,function(t){return t||wr(!1),ar.a.createElement(e,ur({},i,t,{ref:r}))})};return n.displayName=t,n.WrappedComponent=e,ni()(n,e)}var Pi=ar.a.useContext,Di,Li,Fi,Bi,zi;function $i(){return Pi(ii)}function Ui(){return Pi(ai).location}function Wi(){var e=Pi(ai).match;return e?e.params:{}}function Vi(e){var t=Ui(),n=Pi(ai).match;return e?_i(t.pathname,e):n}var Hi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=zr(t.props),t}var n;return Object(ir.a)(t,e),t.prototype.render=function e(){return ar.a.createElement(si,{history:this.history,children:this.props.children})},t}(ar.a.Component);var Gi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=qr(t.props),t}var n;return Object(ir.a)(t,e),t.prototype.render=function e(){return ar.a.createElement(si,{history:this.history,children:this.props.children})},t}(ar.a.Component);var qi=function e(t,n){return"function"==typeof t?t(n):t},Ki=function e(t,n){return"string"==typeof t?Tr(t,null,null,n):t},Yi=function e(t){return t},Xi=ar.a.forwardRef;function Zi(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}void 0===Xi&&(Xi=Yi);var Ji=Xi(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=ei(e,["innerRef","navigate","onClick"]),a=o.target,s=ur({},o,{onClick:function e(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||Zi(t)||(t.preventDefault(),r())}});return s.ref=Yi!==Xi&&t||n,ar.a.createElement("a",s)});var Qi=Xi(function(e,t){var n=e.component,r=void 0===n?Ji:n,i=e.replace,o=e.to,a=e.innerRef,s=ei(e,["component","replace","to","innerRef"]);return ar.a.createElement(ai.Consumer,null,function(e){e||wr(!1);var n=e.history,l=Ki(qi(o,e.location),e.location),u=l?n.createHref(l):"",c=ur({},s,{href:u,navigate:function t(){var r=qi(o,e.location),a;(i?n.replace:n.push)(r)}});return Yi!==Xi?c.ref=t||a:c.innerRef=a,ar.a.createElement(r,c)})}),eo,to,no=function e(t){return t},ro=ar.a.forwardRef;function io(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}void 0===ro&&(ro=no);var oo=ro(function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,a=e.activeStyle,s=e.className,l=e.exact,u=e.isActive,c=e.location,f=e.sensitive,h=e.strict,d=e.style,p=e.to,m=e.innerRef,g=ei(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ar.a.createElement(ai.Consumer,null,function(e){e||wr(!1);var n=c||e.location,i=Ki(qi(p,n),n),b=i.pathname,y=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),v=y?_i(n.pathname,{path:y,exact:l,sensitive:f,strict:h}):null,w=!!(u?u(v,n):v),x=w?io(s,o):s,_=w?ur({},d,{},a):d,S=ur({"aria-current":w&&r||null,className:x,style:_,to:i},g);return no!==ro?S.ref=t||m:S.innerRef=m,ar.a.createElement(Qi,S)})}),ao,so=n(266),lo=n.n(so),uo=n(526),co=n(527),fo=n(528),ho=n(529),po=n(530),mo=n(531),go=n(532),bo=n(533),yo=n(6),vo=n.n(yo),wo=n(14),xo=n.n(wo),_o=n(11),So=n.n(_o),Eo=n(9),Co=n.n(Eo),ko=n(12),Oo=n.n(ko),To=n(20),No={momentLocale:"zh-cn",Timeline:{expand:"\u5c55\u5f00",fold:"\u6536\u8d77"},Balloon:{close:"\u5173\u95ed"},Card:{expand:"\u5c55\u5f00",fold:"\u6536\u8d77"},Calendar:{today:"\u4eca\u5929",now:"\u6b64\u523b",ok:"\u786e\u5b9a",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",prevYear:"\u4e0a\u4e00\u5e74",nextYear:"\u4e0b\u4e00\u5e74",prevMonth:"\u4e0a\u4e2a\u6708",nextMonth:"\u4e0b\u4e2a\u6708",prevDecade:"\u4e0a\u5341\u5e74",nextDecade:"\u540e\u5341\u5e74",yearSelectAriaLabel:"\u9009\u62e9\u5e74\u4efd",monthSelectAriaLabel:"\u9009\u62e9\u6708\u4efd"},DatePicker:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",datetimePlaceholder:"\u8bf7\u9009\u62e9\u65e5\u671f\u548c\u65f6\u95f4",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",now:"\u6b64\u523b",selectTime:"\u9009\u62e9\u65f6\u95f4",selectDate:"\u9009\u62e9\u65e5\u671f",ok:"\u786e\u5b9a",clear:"\u6e05\u9664",startPlaceholder:"\u8d77\u59cb\u65e5\u671f",endPlaceholder:"\u7ed3\u675f\u65e5\u671f",hour:"\u65f6",minute:"\u5206",second:"\u79d2"},Dialog:{close:"\u5173\u95ed",ok:"\u786e\u8ba4",cancel:"\u53d6\u6d88"},Drawer:{close:"\u5173\u95ed"},Message:{closeAriaLabel:"\u5173\u95ed"},Pagination:{prev:"\u4e0a\u4e00\u9875",next:"\u4e0b\u4e00\u9875",goTo:"\u5230\u7b2c",page:"\u9875",go:"\u786e\u5b9a",total:"\u7b2c{current}\u9875\uff0c\u5171{total}\u9875",labelPrev:"\u4e0a\u4e00\u9875\uff0c\u5f53\u524d\u7b2c{current}\u9875",labelNext:"\u4e0b\u4e00\u9875\uff0c\u5f53\u524d\u7b2c{current}\u9875",inputAriaLabel:"\u8bf7\u8f93\u5165\u8df3\u8f6c\u5230\u7b2c\u51e0\u9875",selectAriaLabel:"\u8bf7\u9009\u62e9\u6bcf\u9875\u663e\u793a\u51e0\u6761",pageSize:"\u6bcf\u9875\u663e\u793a\uff1a"},Input:{clear:"\u6e05\u9664"},Select:{selectPlaceholder:"\u8bf7\u9009\u62e9",autoCompletePlaceholder:"\u8bf7\u8f93\u5165",notFoundContent:"\u65e0\u9009\u9879",maxTagPlaceholder:"\u5df2\u9009\u62e9 {selected}/{total} \u9879",selectAll:"\u5168\u9009"},Table:{empty:"\u6ca1\u6709\u6570\u636e",ok:"\u786e\u8ba4",reset:"\u91cd\u7f6e",asc:"\u5347\u5e8f",desc:"\u964d\u5e8f",expanded:"\u5df2\u5c55\u5f00",folded:"\u5df2\u6298\u53e0",filter:"\u7b5b\u9009",selectAll:"\u5168\u9009"},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",clear:"\u6e05\u9664",hour:"\u65f6",minute:"\u5206",second:"\u79d2"},Transfer:{items:"\u9879",item:"\u9879",moveAll:"\u79fb\u52a8\u5168\u90e8",searchPlaceholder:"\u8bf7\u8f93\u5165",moveToLeft:"\u64a4\u9500\u9009\u4e2d\u5143\u7d20",moveToRight:"\u63d0\u4ea4\u9009\u4e2d\u5143\u7d20"},Upload:{card:{cancel:"\u53d6\u6d88",addPhoto:"\u4e0a\u4f20\u56fe\u7247",download:"\u4e0b\u8f7d",delete:"\u5220\u9664"},drag:{text:"\u70b9\u51fb\u6216\u8005\u62d6\u52a8\u6587\u4ef6\u5230\u865a\u7ebf\u6846\u5185\u4e0a\u4f20",hint:"\u652f\u6301 docx, xls, PDF, rar, zip, PNG, JPG \u7b49\u7c7b\u578b\u7684\u6587\u4ef6"},upload:{delete:"\u5220\u9664"}},Search:{buttonText:"\u641c\u7d22"},Tag:{delete:"\u5220\u9664"},Rating:{description:"\u8bc4\u5206\u9009\u9879"},Switch:{on:"\u5df2\u6253\u5f00",off:"\u5df2\u5173\u95ed"},Tab:{closeAriaLabel:"\u5173\u95ed"}},Ao=n(26),Io=n.n(Ao),jo="undefined"!=typeof document?document.documentMode:void 0,Ro=function e(){var t="production",n=!1;try{n=!0}catch(e){}return n},Mo={ieVersion:jo,isProduction:Ro};function Po(e,t,n){if(!Ro()&&"undefined"!=typeof console&&console.error)return console.error("Warning: [ "+e+" ] is deprecated at [ "+n+" ], use [ "+t+" ] instead of it.")}function Do(e){if(!Ro()&&"undefined"!=typeof console&&console.error)return console.error("Warning: "+e)}function Lo(e){return Object.prototype.toString.call(e).replace(/\[object\s|]/g,"")}function Fo(e){var t=!!e&&"length"in e&&e.length,n;return"Array"===Lo(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function Bo(e){return!!e&&("object"===(void 0===e?"undefined":Io()(e))||"function"==typeof e)&&"function"==typeof e.then}function zo(e){if("Object"!==Lo(e))return!1;var t=e.constructor;if("function"!=typeof t)return!1;var n=t.prototype;return"Object"===Lo(n)&&!!n.hasOwnProperty("isPrototypeOf")}function $o(e,t,n){if(e===t)return!0;if(!e||!t||(void 0===e?"undefined":Io()(e))+(void 0===t?"undefined":Io()(t))!=="objectobject")return!1;var r=Object.keys(e),i=Object.keys(t),o=r.length;if(o!==i.length)return!1;for(var a="function"==typeof n,s=0;s<o;s++){var l=r[s];if(!Object.prototype.hasOwnProperty.call(t,l))return!1;var u=e[l],c=t[l],f=a?n(u,c,l):void 0;if(!1===f||void 0===f&&u!==c)return!1}return!0}function Uo(e,t,n){var r=-1===n,i=e.length,o=void 0,a=r?i-1:0;if(Fo(e))for(;a<i&&a>=0&&!1!==(o=t.call(e[a],e[a],a));r?a--:a++);else for(a in e)if(e.hasOwnProperty(a)&&!1===(o=t.call(e[a],e[a],a)))break;return e}var Wo=function e(t,n,r){return r?n.indexOf(t)>-1:t in n};function Vo(e,t){var n={},r="Array"===Lo(e);for(var i in t)Wo(i,e,r)||(n[i]=t[i]);return n}function Ho(e,t){var n={};for(var r in e)r.match(t)&&(n[r]=e[r]);return n}function Go(e){return null==e}function qo(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(zo(e)||(e={}),zo(e)&&zo(i))for(var o in i){var a,s;if(zo(i[o])&&!ar.a.isValidElement(i[o]))e[o]||vo()(e,((a={})[o]={},a)),zo(e[o])||(e[o]=i[o]),qo(e[o],i[o]);else vo()(e,((s={})[o]=i[o],s))}return qo.apply(void 0,[e].concat(n))}function Ko(e){return"Function"===Lo(e)&&e.prototype&&void 0===e.prototype.isReactComponent}function Yo(e){return"Function"===Lo(e)&&e.prototype&&void 0!==e.prototype.isReactComponent}function Xo(e){return!Go(e)&&(e.type?e.type===ar.a.Fragment:e===ar.a.Fragment)}function Zo(e){return/-/.test(e)?e.toLowerCase().replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}):e||""}function Jo(e){var t=Lo(e);return"String"!==t?(Do("[ hyphenate(str: string): string ] Expected arguments[0] to be a string but get a "+t+".It will return an empty string without any processing."),""):e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lo(e);return"String"!==n?(Do("[ template(tpl: string, object: object): string ] Expected arguments[0] to be a string but get a "+n+".It will return an empty string without any processing."),""):e.replace(/\{[a-z]*\}/g,function(e){var n=e.substring(1,e.length-1);return t[n]||""})}var ea="undefined"!=typeof window&&!!window.document&&!!document.createElement;function ta(e,t){return!(!ea||!e)&&(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)}function na(e,t,n){ea&&e&&(e.classList?e.classList.add(t):!0!==n&&ta(e,t)||(e.className+=" "+t))}function ra(e,t,n){ea&&e&&(e.classList?e.classList.remove(t):(!0===n||ta(e,t))&&(e.className=e.className.replace(t,"").replace(/\s+/g," ").trim()))}function ia(e,t){if(!ea||!e)return!1;if(e.classList)return e.classList.toggle(t);var n=ta(e,t);return n?ra(e,t,!0):na(e,t,!0),!n}var oa=function(){var e=null;if(ea){var t=document.body||document.head;e=t.matches?"matches":t.webkitMatchesSelector?"webkitMatchesSelector":t.msMatchesSelector?"msMatchesSelector":t.mozMatchesSelector?"mozMatchesSelector":null}return function(t,n){return!(!ea||!t)&&(!!e&&t[e](n))}}();function aa(e){return e&&1===e.nodeType?window.getComputedStyle(e,null):{}}var sa=/margin|padding|width|height|max|min|offset|size|top/i,la={left:1,top:1,right:1,bottom:1};function ua(e,t,n){if(t=t.toLowerCase(),"auto"===n){if("height"===t)return e.offsetHeight||0;if("width"===t)return e.offsetWidth||0}return t in la||(la[t]=sa.test(t)),la[t]?parseFloat(n)||0:n}var ca={cssFloat:1,styleFloat:1,float:1};function fa(e,t){if(!ea||!e)return null;var n=aa(e);return 1===arguments.length?n:ua(e,t=ca[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,n.getPropertyValue(Jo(t))||e.style[Zo(t)])}function ha(e,t,n){if(!ea||!e)return!1;"object"===(void 0===t?"undefined":Io()(t))&&2===arguments.length?Uo(t,function(t,n){return ha(e,n,t)}):(t=ca[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,"number"==typeof n&&sa.test(t)&&(n+="px"),e.style[Zo(t)]=n)}function da(){var e=document.createElement("div");ha(e,{position:"absolute",width:"100px",height:"100px",overflow:"scroll",top:"-9999px"}),document.body&&document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth,n=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:n}}function pa(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}function ma(e){var t=document.defaultView;if("number"==typeof+e&&!isNaN(+e))return+e;if("string"==typeof e){var n=/(\d+)px/,r=/(\d+)vh/;if(Array.isArray(e.match(n)))return+e.match(n)[1]||0;if(Array.isArray(e.match(r))){var i=t.innerHeight/100;return+e.match(r)[1]*i||0}}return 0}function ga(e,t){if(!ea||!e)return null;if(Element.prototype.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(ba(e,t))return e;e=e.parentElement}while(null!==e);return null}function ba(e,t){return ea&&e?Element.prototype.matches?e.matches(t):Element.prototype.msMatchesSelector?e.msMatchesSelector(t):Element.prototype.webkitMatchesSelector?e.webkitMatchesSelector(t):null:null}function ya(e,t,n,r){e.removeEventListener&&e.removeEventListener(t,n,r||!1)}function va(e,t,n,r){return e.addEventListener&&e.addEventListener(t,n,r||!1),{off:function i(){return ya(e,t,n,r)}}}function wa(e,t,n,r){return va(e,t,function i(){for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];n.apply(this,a),ya(e,t,i,r)},r)}var xa=function e(){},_a=function e(){return!1};function Sa(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?t[0]:function e(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o=0,a=t.length;o<a;o++)t[o]&&t[o].apply&&t[o].apply(this,r)}}function Ea(e,t,n){"string"==typeof t&&(t=[t]),n=n||e,t.forEach(function(t){n[t]=n[t].bind(e)})}function Ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xa;return Bo(e)?e.then(function(e){return t(e),e}).catch(function(e){n(e)}):!1!==e?t(e):n(e)}var ka,Oa={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};function Ta(e){if(!ea)return!1;var t=document.createElement("div"),n=!1;return Uo(e,function(e,r){if(void 0!==t.style[r])return n={end:e},!1}),n}function Na(e){if(!ea)return!1;var t=document.createElement("div"),n=!1;return Uo(e,function(e,r){return Uo(e,function(e){try{t.style[r]=e,n=n||t.style[r]===e}catch(e){}return!n}),!n}),n}var Aa=Ta({WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"}),Ia=Ta(Oa),ja=Na({display:["flex","-webkit-flex","-moz-flex","-ms-flexbox"]}),Ra={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGE_UP:33,PAGE_DOWN:34,ESCAPE:27,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,CONTROL:17,OPTION:18,CMD:91,COMMAND:91,DELETE:8};function Ma(e){for(;e&&e!==document.body&&e!==document.documentElement;){if("none"===e.style.display||"hidden"===e.style.visibility)return!1;e=e.parentNode}return!0}function Pa(e){var t=e.nodeName.toLowerCase(),n=parseInt(e.getAttribute("tabindex"),10),r=!isNaN(n)&&n>-1;return!!Ma(e)&&("input"===t?!e.disabled&&"hidden"!==e.type:["select","textarea","button"].indexOf(t)>-1?!e.disabled:"a"===t&&e.getAttribute("href")||r)}function Da(e){var t=[],n;return Uo(e.querySelectorAll("*"),function(e){if(Pa(e)){var n=e.getAttribute("data-auto-focus")?"unshift":"push";t[n](e)}}),Pa(e)&&t.unshift(e),t}var La=null;function Fa(){La=document.activeElement}function Ba(){La=null}function za(){if(La)try{La.focus()}catch(e){}}function $a(e,t){if(t.keyCode===Ra.TAB){var n=Da(e),r=n.length-1,i=n.indexOf(document.activeElement);if(i>-1){var o=i+(t.shiftKey?-1:1);o<0&&(o=r),o>r&&(o=0),n[o].focus(),t.preventDefault()}}}var Ua=Date.now(),Wa;function Va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6,n=Math.ceil(Math.random()*t);return e?Ha(e)+"-"+n:n.toString(10)}function Ha(e){return e?("object"===(void 0===e?"undefined":Io()(e))?e=JSON.stringify(e):"string"!=typeof e&&(e=String(e)),e.replace(/['"]/gm,"").replace(/[\s'"]/gm,"-")):""}var Ga=s,qa=r,Ka=l,Ya=u,Xa=i,Za=o,Ja=a,Qa=c,es=f,ts=function(e){return(e=e||"")+(Ua++).toString(36)},ns=Ra,rs=h,is=function e(t){var n=void 0;return void 0===t||null===t?{}:n="boolean"==typeof t?{open:t}:vo()({open:!0},t)};function os(e,t,n){var r=e.prefix,i=e.locale,o=e.pure,a=e.rtl,s=e.device,l=e.popupContainer,u=e.errorBoundary,c=t.nextPrefix,f=t.nextLocale,h=t.nextPure,d=t.nextWarning,p=t.nextRtl,m=t.nextDevice,g=t.nextPopupContainer,b=t.nextErrorBoundary,y=r||c,v=void 0;f&&(v=f[n])&&(v.momentLocale=f.momentLocale);var w=void 0;i?w=Za.deepMerge({},No[n],v,i):v&&(w=Za.deepMerge({},No[n],v));var x="boolean"==typeof o?o:h,_="boolean"==typeof a?a:p,S=vo()({},is(b),is(u));return"open"in S||(S.open=!1),{prefix:y,locale:w,pure:x,rtl:_,warning:d,device:s||m||void 0,popupContainer:l||g,errorBoundary:S}}var as=n(267),ss=n.n(as),ls,us;function cs(){return""}cs.propTypes={error:lr.a.object,errorInfo:lr.a.object};var fs=(us=ls=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.state={error:null,errorInfo:null},r}return Oo()(t,e),t.prototype.componentDidCatch=function e(t,n){this.setState({error:t,errorInfo:n});var r=this.props.afterCatch;"afterCatch"in this.props&&"function"==typeof r&&this.props.afterCatch(t,n)},t.prototype.render=function e(){var t=this.props.fallbackUI,n=void 0===t?cs:t;return this.state.errorInfo?ar.a.createElement(n,{error:this.state.error,errorInfo:this.state.errorInfo}):this.props.children},t}(ar.a.Component),ls.propTypes={children:lr.a.element,afterCatch:lr.a.func,fallbackUI:lr.a.func},us);fs.displayName="ErrorBoundary";var hs=Za.shallowEqual;function ds(e){return e.displayName||e.name||"Component"}var ps=void 0,ms="zh-cn",gs={},bs=void 0;function ys(e){ps=e,e&&(gs=e[ms],"boolean"!=typeof bs&&(bs=gs&&gs.rtl))}function vs(e){ps&&(ms=e,gs=ps[e],"boolean"!=typeof bs&&(bs=gs&&gs.rtl))}function ws(e){gs=vo()({},ps?ps[ms]:{},e),"boolean"!=typeof bs&&(bs=gs&&gs.rtl)}function xs(e){bs="rtl"===e}function _s(){return gs}function Ss(){return ms}function Es(){return bs}function Cs(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Za.isClassComponent(e)&&void 0===e.prototype.shouldComponentUpdate&&(e.prototype.shouldComponentUpdate=function e(t,n){return!this.props.pure||(!hs(this.props,t)||!hs(this.state,n))});var i=(n=t=function(t){function n(e,r){So()(this,n);var i=Co()(this,t.call(this,e,r));return i._getInstance=i._getInstance.bind(i),i._deprecated=i._deprecated.bind(i),i}return Oo()(n,t),n.prototype._getInstance=function e(t){var n=this;this._instance=t,this._instance&&r.exportNames&&r.exportNames.forEach(function(e){var t=n._instance[e];n[e]="function"==typeof t?t.bind(n._instance):t})},n.prototype._deprecated=function e(){!1!==this.context.nextWarning&&Xa.deprecated.apply(Xa,arguments)},n.prototype.getInstance=function e(){return this._instance},n.prototype.render=function t(){var n=this.props,i=n.prefix,o=n.locale,a=n.pure,s=n.rtl,l=n.device,u=n.popupContainer,c=n.errorBoundary,f=xo()(n,["prefix","locale","pure","rtl","device","popupContainer","errorBoundary"]),h=this.context,d=h.nextPrefix,p=h.nextLocale,m=void 0===p?{}:p,g=h.nextPure,b=h.nextRtl,y=h.nextDevice,v=h.nextPopupContainer,w=h.nextErrorBoundary,x=r.componentName||ds(e),_=os({prefix:i,locale:o,pure:a,device:l,popupContainer:u,rtl:s,errorBoundary:c},{nextPrefix:d,nextLocale:vo()({},gs,m),nextPure:g,nextDevice:y,nextPopupContainer:v,nextRtl:"boolean"==typeof b?b:!0===bs||void 0,nextErrorBoundary:w},x),S=["prefix","locale","pure","rtl","device","popupContainer"].reduce(function(e,t){return void 0!==_[t]&&(e[t]=_[t]),e},{});"pure"in S&&S.pure&&Xa.warning("pure of ConfigProvider is deprecated, use Function Component or React.PureComponent");var E=r.transform?r.transform(f,this._deprecated):f,C=ar.a.createElement(e,vo()({},E,S,{ref:Za.isClassComponent(e)?this._getInstance:null})),k=_.errorBoundary,O=k.open,T=xo()(k,["open"]);return O?ar.a.createElement(fs,T,C):C},n}(ar.a.Component),t.propTypes=vo()({},e.propTypes||{},{prefix:lr.a.string,locale:lr.a.object,pure:lr.a.bool,rtl:lr.a.bool,device:lr.a.oneOf(["tablet","desktop","phone"]),popupContainer:lr.a.any,errorBoundary:lr.a.oneOfType([lr.a.bool,lr.a.object])}),t.contextTypes=vo()({},e.contextTypes||{},{nextPrefix:lr.a.string,nextLocale:lr.a.object,nextPure:lr.a.bool,nextRtl:lr.a.bool,nextWarning:lr.a.bool,nextDevice:lr.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:lr.a.any,nextErrorBoundary:lr.a.oneOfType([lr.a.bool,lr.a.object])}),n);return i.displayName="ConfigedComponent",i.displayName="Config("+ds(e)+")",ss()(i,e),i}var ks=function e(t,n){var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i],a;r[n(i,o)]=o}return r},Os=function e(t){return t.replace(/^(next)([A-Z])/,function(e,t,n){return n.toLowerCase()})},Ts=function e(t){return ks(t,Os)},Ns=function e(t,n){var r=t.children;return"function"==typeof r?r(Ts(n)):null};Ns.propTypes={children:lr.a.func},Ns.contextTypes={nextPrefix:lr.a.string,nextLocale:lr.a.object,nextPure:lr.a.bool,newRtl:lr.a.bool,nextWarning:lr.a.bool,nextDevice:lr.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:lr.a.any};var As=Ns,Is,js,Rs,Ms,Ps=new(function(){function e(){So()(this,e),this._root=null,this._store=new Map}return e.prototype.empty=function e(){return 0===this._store.size},e.prototype.has=function e(t){return this._store.has(t)},e.prototype.get=function e(t,n){var r=this.has(t)?this._store.get(t):this.root();return void 0===r||null===r?n:r},e.prototype.add=function e(t,n){this.empty()&&(this._root=t),this._store.set(t,n)},e.prototype.update=function e(t,n){this.has(t)&&this._store.set(t,n)},e.prototype.remove=function e(t){if(this._store.delete(t),t===this._root){var n,r=this._store.keys().next().value;this._root=r}},e.prototype.root=function e(){return this._store.get(this._root)},e}()),Ds=function e(t){var r=void 0;try{r=n(581)}catch(e){}r&&t&&r.locale(t.momentLocale)},Ls=(Ms=Rs=function(e){function t(){So()(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Co()(this,e.call.apply(e,[this].concat(r)));return Ps.add(o,vo()({},Ps.get(o,{}),o.getChildContext())),Ds(o.props.locale),o.state={locale:o.props.locale},o}return Oo()(t,e),t.prototype.getChildContext=function e(){var t=this.props,n=t.prefix,r=t.locale,i=t.pure,o=t.warning,a=t.rtl,s=t.device,l=t.popupContainer,u=t.errorBoundary,c=this.context,f=c.nextPrefix,h=c.nextLocale,d=c.nextPure,p=c.nextRtl,m=c.nextWarning,g=c.nextDevice,b=c.nextPopupContainer,y=c.nextErrorBoundary;return{nextPrefix:n||f,nextLocale:r||h,nextPure:"boolean"==typeof i?i:d,nextRtl:"boolean"==typeof a?a:p,nextWarning:"boolean"==typeof o?o:m,nextDevice:s||g,nextPopupContainer:l||b,nextErrorBoundary:u||y}},t.getDerivedStateFromProps=function e(t,n){return t.locale!==n.locale?(Ds(t.locale),{locale:t.locale}):null},t.prototype.componentDidUpdate=function e(){Ps.add(this,vo()({},Ps.get(this,{}),this.getChildContext()))},t.prototype.componentWillUnmount=function e(){Ps.remove(this)},t.prototype.render=function e(){return or.Children.only(this.props.children)},t}(or.Component),Rs.propTypes={prefix:lr.a.string,locale:lr.a.object,errorBoundary:lr.a.oneOfType([lr.a.bool,lr.a.object]),pure:lr.a.bool,warning:lr.a.bool,rtl:lr.a.bool,device:lr.a.oneOf(["tablet","desktop","phone"]),children:lr.a.any,popupContainer:lr.a.any},Rs.defaultProps={warning:!0,errorBoundary:!1},Rs.contextTypes={nextPrefix:lr.a.string,nextLocale:lr.a.object,nextPure:lr.a.bool,nextRtl:lr.a.bool,nextWarning:lr.a.bool,nextDevice:lr.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:lr.a.any,nextErrorBoundary:lr.a.oneOfType([lr.a.bool,lr.a.object])},Rs.childContextTypes={nextPrefix:lr.a.string,nextLocale:lr.a.object,nextPure:lr.a.bool,nextRtl:lr.a.bool,nextWarning:lr.a.bool,nextDevice:lr.a.oneOf(["tablet","desktop","phone"]),nextPopupContainer:lr.a.any,nextErrorBoundary:lr.a.oneOfType([lr.a.bool,lr.a.object])},Rs.config=function(e,t){return Cs(e,t)},Rs.getContextProps=function(e,t){return os(e,Ps.root()||{},t)},Rs.initLocales=ys,Rs.setLanguage=vs,Rs.setLocale=ws,Rs.setDirection=xs,Rs.getLanguage=Ss,Rs.getLocale=_s,Rs.getDirection=Es,Rs.Consumer=As,Rs.ErrorBoundary=fs,Rs.getContext=function(){var e=Ps.root()||{},t,n,r,i,o,a,s,l;return{prefix:e.nextPrefix,locale:e.nextLocale,pure:e.nextPure,rtl:e.nextRtl,warning:e.nextWarning,device:e.nextDevice,popupContainer:e.nextPopupContainer,errorBoundary:e.nextErrorBoundary}},Ms);Ls.displayName="ConfigProvider";var Fs=Object(To.polyfill)(Ls),Bs=n(13),zs=n.n(Bs),$s=n(141),Us,Ws,Vs=function e(){},Hs=Ka.on,Gs=Ka.off,qs=Ga.addClass,Ks=Ga.removeClass,Ys=["-webkit-","-moz-","-o-","ms-",""];function Xs(e,t){for(var n=window.getComputedStyle(e),r="",i=0;i<Ys.length&&!(r=n.getPropertyValue(Ys[i]+t));i++);return r}var Zs=(Ws=Us=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return Ya.bindCtx(r,["handleEnter","handleEntering","handleEntered","handleExit","handleExiting","handleExited","addEndListener"]),r.endListeners={transitionend:[],animationend:[]},r.timeoutMap={},r}return Oo()(t,e),t.prototype.componentWillUnmount=function e(){var t=this;Object.keys(this.endListeners).forEach(function(e){t.endListeners[e].forEach(function(n){Gs(t.node,e,n)})}),this.endListeners={transitionend:[],animationend:[]}},t.prototype.generateEndListener=function e(t,n,r,i){var o=this;return function e(a){if(a&&a.target===t){o.timeoutMap[i]&&(clearTimeout(o.timeoutMap[i]),delete o.timeoutMap[i]),n(),Gs(t,r,e);var s=o.endListeners[r],l=s.indexOf(e);l>-1&&s.splice(l,1)}}},t.prototype.addEndListener=function e(t,n){var r=this;if(Qa.transition||Qa.animation){var i=ts();if(this.node=t,Qa.transition){var o=this.generateEndListener(t,n,"transitionend",i);Hs(t,"transitionend",o),this.endListeners.transitionend.push(o)}if(Qa.animation){var a=this.generateEndListener(t,n,"animationend",i);Hs(t,"animationend",a),this.endListeners.animationend.push(a)}setTimeout(function(){var e=parseFloat(Xs(t,"transition-delay"))||0,o=parseFloat(Xs(t,"transition-duration"))||0,a=parseFloat(Xs(t,"animation-delay"))||0,s=parseFloat(Xs(t,"animation-duration"))||0,l=Math.max(o+e,s+a);l&&(r.timeoutMap[i]=setTimeout(function(){n()},1e3*l+200))},15)}else n()},t.prototype.removeEndtListener=function e(){this.transitionOff&&this.transitionOff(),this.animationOff&&this.animationOff()},t.prototype.removeClassNames=function e(t,n){Object.keys(n).forEach(function(e){Ks(t,n[e])})},t.prototype.handleEnter=function e(t,n){var r=this.props.names,i,o;r&&(this.removeClassNames(t,r),qs(t,r[n?"appear":"enter"]));(n?this.props.onAppear:this.props.onEnter)(t)},t.prototype.handleEntering=function e(t,n){var r=this;setTimeout(function(){var e=r.props.names,i,o;e&&qs(t,e[n?"appearActive":"enterActive"]);(n?r.props.onAppearing:r.props.onEntering)(t)},10)},t.prototype.handleEntered=function e(t,n){var r=this.props.names,i,o;r&&(n?[r.appear,r.appearActive]:[r.enter,r.enterActive]).forEach(function(e){Ks(t,e)});(n?this.props.onAppeared:this.props.onEntered)(t)},t.prototype.handleExit=function e(t){var n=this.props.names;n&&(this.removeClassNames(t,n),qs(t,n.leave)),this.props.onExit(t)},t.prototype.handleExiting=function e(t){var n=this;setTimeout(function(){var e=n.props.names;e&&qs(t,e.leaveActive),n.props.onExiting(t)},10)},t.prototype.handleExited=function e(t){var n=this.props.names;n&&[n.leave,n.leaveActive].forEach(function(e){Ks(t,e)}),this.props.onExited(t)},t.prototype.render=function e(){var t=this.props,n=t.names,r=t.onAppear,i=t.onAppeared,o=t.onAppearing,a=t.onEnter,s=t.onEntering,l=t.onEntered,u=t.onExit,c=t.onExiting,f=t.onExited,h=xo()(t,["names","onAppear","onAppeared","onAppearing","onEnter","onEntering","onEntered","onExit","onExiting","onExited"]);return ar.a.createElement($s.Transition,vo()({},h,{onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered,onExit:this.handleExit,onExiting:this.handleExiting,onExited:this.handleExited,addEndListener:this.addEndListener}))},t}(or.Component),Us.propTypes={names:lr.a.oneOfType([lr.a.string,lr.a.object]),onAppear:lr.a.func,onAppearing:lr.a.func,onAppeared:lr.a.func,onEnter:lr.a.func,onEntering:lr.a.func,onEntered:lr.a.func,onExit:lr.a.func,onExiting:lr.a.func,onExited:lr.a.func},Us.defaultProps={onAppear:Vs,onAppearing:Vs,onAppeared:Vs,onEnter:Vs,onEntering:Vs,onEntered:Vs,onExit:Vs,onExiting:Vs,onExited:Vs},Ws),Js,Qs;Zs.displayName="AnimateChild";var el=function e(){},tl=function e(t){var n;return ar.a.Children.toArray(t.children)[0]||null},nl=(Qs=Js=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.normalizeNames=function e(t){return"string"==typeof t?{appear:t+"-appear",appearActive:t+"-appear-active",enter:t+"-enter",enterActive:t+"-enter-active",leave:t+"-leave",leaveActive:t+"-leave-active"}:"object"===(void 0===t?"undefined":Io()(t))?{appear:t.appear,appearActive:t.appear+"-active",enter:""+t.enter,enterActive:t.enter+"-active",leave:""+t.leave,leaveActive:t.leave+"-active"}:void 0},t.prototype.render=function e(){var t=this,n=this.props,r=n.animation,i=n.children,o=n.animationAppear,a=n.singleMode,s=n.component,l=n.beforeAppear,u=n.onAppear,c=n.afterAppear,f=n.beforeEnter,h=n.onEnter,d=n.afterEnter,p=n.beforeLeave,m=n.onLeave,g=n.afterLeave,b=xo()(n,["animation","children","animationAppear","singleMode","component","beforeAppear","onAppear","afterAppear","beforeEnter","onEnter","afterEnter","beforeLeave","onLeave","afterLeave"]),y=or.Children.map(i,function(e){return ar.a.createElement(Zs,{key:e.key,names:t.normalizeNames(r),onAppear:l,onAppearing:u,onAppeared:c,onEnter:f,onEntering:h,onEntered:d,onExit:p,onExiting:m,onExited:g},e)});return ar.a.createElement($s.TransitionGroup,vo()({appear:o,component:a?tl:s},b),y)},t}(or.Component),Js.propTypes={animation:lr.a.oneOfType([lr.a.string,lr.a.object]),animationAppear:lr.a.bool,component:lr.a.any,singleMode:lr.a.bool,children:lr.a.oneOfType([lr.a.element,lr.a.arrayOf(lr.a.element)]),beforeAppear:lr.a.func,onAppear:lr.a.func,afterAppear:lr.a.func,beforeEnter:lr.a.func,onEnter:lr.a.func,afterEnter:lr.a.func,beforeLeave:lr.a.func,onLeave:lr.a.func,afterLeave:lr.a.func},Js.defaultProps={animationAppear:!0,component:"div",singleMode:!0,beforeAppear:el,onAppear:el,afterAppear:el,beforeEnter:el,onEnter:el,afterEnter:el,beforeLeave:el,onLeave:el,afterLeave:el},Qs);nl.displayName="Animate";var rl=nl,il,ol,al=function e(){},sl=Ga.getStyle,ll=(ol=il=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return Ya.bindCtx(r,["beforeEnter","onEnter","afterEnter","beforeLeave","onLeave","afterLeave"]),r}return Oo()(t,e),t.prototype.beforeEnter=function e(t){this.leaving&&this.afterLeave(t),this.cacheCurrentStyle(t),this.cacheComputedStyle(t),this.setCurrentStyleToZero(t),this.props.beforeEnter(t)},t.prototype.onEnter=function e(t){this.setCurrentStyleToComputedStyle(t),this.props.onEnter(t)},t.prototype.afterEnter=function e(t){this.restoreCurrentStyle(t),this.props.afterEnter(t)},t.prototype.beforeLeave=function e(t){this.leaving=!0,this.cacheCurrentStyle(t),this.cacheComputedStyle(t),this.setCurrentStyleToComputedStyle(t),this.props.beforeLeave(t)},t.prototype.onLeave=function e(t){this.setCurrentStyleToZero(t),this.props.onLeave(t)},t.prototype.afterLeave=function e(t){this.leaving=!1,this.restoreCurrentStyle(t),this.props.afterLeave(t)},t.prototype.cacheCurrentStyle=function e(t){this.styleBorderTopWidth=t.style.borderTopWidth,this.stylePaddingTop=t.style.paddingTop,this.styleHeight=t.style.height,this.stylePaddingBottom=t.style.paddingBottom,this.styleBorderBottomWidth=t.style.borderBottomWidth},t.prototype.cacheComputedStyle=function e(t){this.borderTopWidth=sl(t,"borderTopWidth"),this.paddingTop=sl(t,"paddingTop"),this.height=t.offsetHeight,this.paddingBottom=sl(t,"paddingBottom"),this.borderBottomWidth=sl(t,"borderBottomWidth")},t.prototype.setCurrentStyleToZero=function e(t){t.style.borderTopWidth="0px",t.style.paddingTop="0px",t.style.height="0px",t.style.paddingBottom="0px",t.style.borderBottomWidth="0px"},t.prototype.setCurrentStyleToComputedStyle=function e(t){t.style.borderTopWidth=this.borderTopWidth+"px",t.style.paddingTop=this.paddingTop+"px",t.style.height=this.height+"px",t.style.paddingBottom=this.paddingBottom+"px",t.style.borderBottomWidth=this.borderBottomWidth+"px"},t.prototype.restoreCurrentStyle=function e(t){t.style.borderTopWidth=this.styleBorderTopWidth,t.style.paddingTop=this.stylePaddingTop,t.style.height=this.styleHeight,t.style.paddingBottom=this.stylePaddingBottom,t.style.borderBottomWidth=this.styleBorderBottomWidth},t.prototype.render=function e(){var t=this.props,n=t.animation,r=xo()(t,["animation"]),i=n||"expand";return ar.a.createElement(rl,vo()({},r,{animation:i,beforeEnter:this.beforeEnter,onEnter:this.onEnter,afterEnter:this.afterEnter,beforeLeave:this.beforeLeave,onLeave:this.onLeave,afterLeave:this.afterLeave}))},t}(or.Component),il.propTypes={animation:lr.a.oneOfType([lr.a.string,lr.a.object]),beforeEnter:lr.a.func,onEnter:lr.a.func,afterEnter:lr.a.func,beforeLeave:lr.a.func,onLeave:lr.a.func,afterLeave:lr.a.func},il.defaultProps={beforeEnter:al,onEnter:al,afterEnter:al,beforeLeave:al,onLeave:al,afterLeave:al},ol);ll.displayName="Expand",rl.Expand=ll;var ul=rl,cl=new Set,fl,hl;function dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,r=void 0===n?{}:n,i=cl.has(t);if(document.querySelector('script[data-namespace="'+t+'"]')&&(i=!0),"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&"string"==typeof t&&t.length&&!i){var o=document.createElement("script");o.setAttribute("src",t),o.setAttribute("data-namespace",t),cl.add(t),document.body.appendChild(o)}var a=function e(t){var n,i=t.type,o=t.size,a=t.children,s=t.className,l=t.prefix,u=void 0===l?"next-":l,c=xo()(t,["type","size","children","className","prefix"]),f=null;t.type&&(f=ar.a.createElement("use",{xlinkHref:"#"+i})),a&&(f=a);var h=zs()(((n={})[u+"icon-remote"]=!0,n),s);return ar.a.createElement(ml,{size:o},ar.a.createElement("svg",vo()({className:h,focusable:!1},c,r),f))};return a.displayName="Iconfont",Fs.config(a)}var pl=(hl=fl=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.type,a=r.size,s=r.className,l=r.rtl,u=r.style,c=r.children,f=Za.pickOthers(vo()({},t.propTypes),this.props),h=zs()(((n={})[i+"icon"]=!0,n[i+"icon-"+o]=!!o,n[""+i+a]=!!a&&"string"==typeof a,n[s]=!!s,n));l&&-1!==["arrow-left","arrow-right","arrow-double-left","arrow-double-right","switch","sorting","descending","ascending"].indexOf(o)&&(f.dir="rtl");var d="number"==typeof a?{width:a,height:a,lineHeight:a+"px",fontSize:a}:{};return ar.a.createElement("i",vo()({},f,{style:vo()({},d,u),className:h}),c)},t}(or.Component),fl.propTypes=vo()({},Fs.propTypes,{type:lr.a.string,children:lr.a.node,size:lr.a.oneOfType([lr.a.oneOf(["xxs","xs","small","medium","large","xl","xxl","xxxl","inherit"]),lr.a.number]),className:lr.a.string,style:lr.a.object}),fl.defaultProps={prefix:"next-",size:"medium"},fl._typeMark="icon",hl);pl.displayName="Icon",pl.createFromIconfontCN=dl;var ml=Fs.config(pl),gl,bl,yl=Ya.bindCtx,vl=Za.pickOthers,wl=(bl=gl=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return yl(r,["handleClick","handleKeyDown"]),r}return Oo()(t,e),t.prototype.componentDidMount=function e(){this.itemNode=Object(tr.findDOMNode)(this);var t=this.props,n=t.parentMode,r=t.root,i=t.menu;if(i)this.menuNode=Object(tr.findDOMNode)(i);else if("popup"===n)this.menuNode=this.itemNode.parentNode;else{this.menuNode=Object(tr.findDOMNode)(r);var o=r.props,a=o.prefix,s=o.header,l=o.footer;(s||l)&&(this.menuNode=this.menuNode.querySelector("."+a+"menu-content"))}this.setFocus()},t.prototype.componentDidUpdate=function e(){this.setFocus()},t.prototype.focusable=function e(){var t=this.props,n=t.root,r=t.type,i=t.disabled,e=n.props.focusable;return e&&("submenu"===r||!i)},t.prototype.getFocused=function e(){var t=this.props,n=t._key,r,i;return t.root.state.focusedKey===n},t.prototype.setFocus=function e(){var t;if(this.getFocused()&&(this.focusable()&&this.itemNode.focus({preventScroll:!0}),this.menuNode&&this.menuNode.scrollHeight>this.menuNode.clientHeight)){var n=this.menuNode.clientHeight+this.menuNode.scrollTop,r=this.itemNode.offsetTop+this.itemNode.offsetHeight;r>n?this.menuNode.scrollTop=r-this.menuNode.clientHeight:this.itemNode.offsetTop<this.menuNode.scrollTop&&(this.menuNode.scrollTop=this.itemNode.offsetTop)}},t.prototype.handleClick=function e(t){t.stopPropagation();var n=this.props,r=n._key,i=n.root,o;n.disabled?t.preventDefault():(i.handleItemClick(r,this,t),this.props.onClick&&this.props.onClick(t))},t.prototype.handleKeyDown=function e(t){var n=this.props,r=n._key,i=n.root,o=n.type;if(this.focusable())switch(i.handleItemKeyDown(r,o,this,t),t.keyCode){case ns.ENTER:"submenu"!==o&&this.handleClick(t)}this.props.onKeyDown&&this.props.onKeyDown(t)},t.prototype.getTitle=function e(t){if("string"==typeof t)return t},t.prototype.render=function e(){var n,r=this.props,i=r.inlineLevel,o=r.root,a=r.replaceClassName,s=r.groupIndent,l=r.component,u=r.disabled,c=r.className,f=r.children,h=r.needIndent,d=r.parentMode,p=r._key,m=vl(Object.keys(t.propTypes),this.props),g=o.props,b=g.prefix,y=g.focusable,v=g.inlineIndent,w=g.itemClassName,x=g.rtl,_=this.getFocused(),S=a?c:zs()(((n={})[b+"menu-item"]=!0,n[b+"disabled"]=u,n[b+"focused"]=!y&&_,n[w]=!!w,n[c]=!!c,n));if(u&&(m["aria-disabled"]=!0,m["aria-hidden"]=!0),m.tabIndex=o.state.tabbableKey===p?"0":"-1","inline"===d&&i>1&&v>0&&h){var E,C=x?"paddingRight":"paddingLeft";m.style=vo()({},m.style||{},((E={})[C]=i*v-.4*(s||0)*v+"px",E))}var k=l,O="menuitem";return"selectMode"in o.props&&(O="option"),ar.a.createElement(k,vo()({role:O,title:this.getTitle(f)},m,{className:S,onClick:this.handleClick,onKeyDown:this.handleKeyDown}),ar.a.createElement("div",{className:b+"menu-item-inner"},f))},t}(or.Component),gl.propTypes={_key:lr.a.string,level:lr.a.number,inlineLevel:lr.a.number,groupIndent:lr.a.number,root:lr.a.object,menu:lr.a.any,parent:lr.a.object,parentMode:lr.a.oneOf(["inline","popup"]),type:lr.a.oneOf(["submenu","item"]),component:lr.a.string,disabled:lr.a.bool,className:lr.a.string,onClick:lr.a.func,onKeyDown:lr.a.func,needIndent:lr.a.bool,replaceClassName:lr.a.bool},gl.defaultProps={component:"li",groupIndent:0,replaceClassName:!1,needIndent:!0},bl),xl,_l;wl.displayName="Item";var Sl=Ya.bindCtx,El=Za.pickOthers,Cl=(_l=xl=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return Sl(r,["handleKeyDown","handleClick"]),r}return Oo()(t,e),t.prototype.getSelected=function e(){var t=this.props,n=t._key,r=t.root,i=t.selected,o=r.props.selectMode,a=r.state.selectedKeys;return i||!!o&&a.indexOf(n)>-1},t.prototype.handleSelect=function e(t){var n=this.props,r=n._key,i=n.root,o=n.onSelect;o?o(!this.getSelected(),this,t):i.handleSelect(r,!this.getSelected(),this)},t.prototype.handleKeyDown=function e(t){t.keyCode!==ns.SPACE||this.props.disabled||this.handleSelect(t),this.props.onKeyDown&&this.props.onKeyDown(t)},t.prototype.handleClick=function e(t){this.handleSelect(t),this.props.onClick&&this.props.onClick(t)},t.prototype.renderSelectedIcon=function e(t){var n,r=this.props,i=r.root,o=r.inlineIndent,a=r.needIndent,s=r.hasSelectedIcon,l=r.isSelectIconRight,u=r.type,c=i.props,f=c.prefix,h=c.hasSelectedIcon,d=c.isSelectIconRight,p=c.icons,m=p.select;!Object(or.isValidElement)(p.select)&&p.select&&(m=ar.a.createElement("span",null,p.select));var g=zs()(((n={})[f+"menu-icon-selected"]=!0,n[f+"menu-symbol-icon-selected"]=!m,n[f+"menu-icon-right"]=("isSelectIconRight"in this.props?l:d)&&"submenu"!==u,n));return("hasSelectedIcon"in this.props?s:h)&&t?ar.a.cloneElement(m||ar.a.createElement(ml,{type:"select"}),{style:a&&o>0?{left:o+"px"}:null,className:g}):null},t.prototype.render=function e(){var n,r=this.props,i=r._key,o=r.root,a=r.className,s=r.disabled,l=r.helper,u=r.children,c=r.needIndent,f=o.props.prefix,h=El(Object.keys(t.propTypes),this.props),d=this.getSelected(),p=vo()({_key:i,root:o,disabled:s,type:"item",className:zs()((n={},n[f+"selected"]=d,n[a]=!!a,n)),onKeyDown:this.handleKeyDown,onClick:s?this.props.onClick:this.handleClick,needIndent:c},h);"title"in p||"string"!=typeof u||(p.title=u);var m={};return"selectMode"in o.props&&(m["aria-selected"]=d),ar.a.createElement(wl,p,this.renderSelectedIcon(d),ar.a.createElement("span",vo()({className:f+"menu-item-text"},m),u),l?ar.a.createElement("div",{className:f+"menu-item-helper"},l):null)},t}(or.Component),xl.menuChildType="item",xl.propTypes={_key:lr.a.string,root:lr.a.object,selected:lr.a.bool,onSelect:lr.a.func,inlineIndent:lr.a.number,disabled:lr.a.bool,helper:lr.a.node,children:lr.a.node,className:lr.a.string,onKeyDown:lr.a.func,onClick:lr.a.func,needIndent:lr.a.bool,hasSelectedIcon:lr.a.bool,isSelectIconRight:lr.a.bool,icons:lr.a.object},xl.defaultProps={disabled:!1,needIndent:!0,icons:{}},_l);Cl.displayName="SelectableItem";var kl,Ol={allOverlays:[],addOverlay:function e(t){this.removeOverlay(t),this.allOverlays.unshift(t)},isCurrentOverlay:function e(t){return t&&this.allOverlays[0]===t},removeOverlay:function e(t){var n=this.allOverlays.indexOf(t);n>-1&&this.allOverlays.splice(n,1)}},Tl,Nl;function Al(e,t){if(!e)return null;if("string"==typeof e)return document.getElementById(e);if("function"==typeof e)try{e=e(t)}catch(t){e=null}if(!e)return null;try{return Object(tr.findDOMNode)(e)}catch(t){return e}}var Il=Ya.makeChain,jl=function e(t){var n=Al(t.target);return Al(t.container,n)},Rl=(Nl=Tl=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.saveChildRef=function(e){r.child=e},r.state={containerNode:null},r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t){return{containerNode:jl(t)}},t.prototype.componentDidMount=function e(){this.setState({containerNode:jl(this.props)})},t.prototype.getChildNode=function e(){try{return Object(tr.findDOMNode)(this.child)}catch(e){return null}},t.prototype.render=function e(){var t=this.state.containerNode;if(!t)return null;var n=this.props.children,r=n?or.Children.only(n):null;if(!r)return null;if("string"==typeof r.ref)throw new Error("Can not set ref by string in Gateway, use function instead.");return r=ar.a.cloneElement(r,{ref:Il(this.saveChildRef,r.ref)}),Object(tr.createPortal)(r,t)},t}(or.Component),Tl.propTypes={children:lr.a.node,container:lr.a.any,target:lr.a.any},Tl.defaultProps={container:function e(){return document.body}},Nl);Rl.displayName="Gateway";var Ml=Object(To.polyfill)(Rl),Pl,Dl,Ll,Fl="viewport",Bl=function e(){return window.pageXOffset||document.documentElement.scrollLeft},zl=function e(){return window.pageYOffset||document.documentElement.scrollTop};function $l(e,t){var n=0,r=0,i=0,o=0,a=e.offsetHeight,s=e.offsetWidth;do{isNaN(e.offsetTop)||(n+=e.offsetTop),isNaN(e.offsetLeft)||(r+=e.offsetLeft),e&&e.offsetParent&&(isNaN(e.offsetParent.scrollLeft)||e.offsetParent===document.body||(o+=e.offsetParent.scrollLeft),isNaN(e.offsetParent.scrollTop)||e.offsetParent===document.body||(i+=e.offsetParent.scrollTop)),e=e.offsetParent}while(null!==e&&e!==t);var l=!t||t===document.body;return{top:n-i-(l?document.documentElement.scrollTop||document.body.scrollTop:0),left:r-o-(l?document.documentElement.scrollLeft||document.body.scrollLeft:0),height:a,width:s}}function Ul(e){if(!e||e===document.body)return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};var t=e.getBoundingClientRect(),n,r;return{width:t.width,height:t.height}}var Wl=function e(t){var n=t.container,r=t.autoFit,i,o=Al(n,t.baseElement);if(o||(o=document.body),!r)return o;for(;"static"===Ga.getStyle(o,"position");){if(!o||o===document.body)return document.body;o=o.parentNode}return o},Vl=(Dl=Pl=function(){function e(t){So()(this,e),Ll.call(this),this.pinElement=t.pinElement,this.baseElement=t.baseElement,this.pinFollowBaseElementWhenFixed=t.pinFollowBaseElementWhenFixed,this.container=Wl(t),this.autoFit=t.autoFit||!1,this.align=t.align||"tl tl",this.offset=t.offset||[0,0],this.needAdjust=t.needAdjust||!1,this.isRtl=t.isRtl||!1}return e.prototype.setPosition=function e(){var t=this.pinElement,n=this.baseElement,r=this.pinFollowBaseElementWhenFixed,i=this._getExpectedAlign(),o=void 0,a=void 0,s=void 0;if(t!==Fl){"fixed"!==Ga.getStyle(t,"position")?(Ga.setStyle(t,"position","absolute"),o=!1):o=!0,a=n!==Fl&&"fixed"===Ga.getStyle(n,"position");for(var l=0;l<i.length;l++){var u=i[l],c=this._normalizePosition(t,u.split(" ")[0],o),f=this._normalizePosition(n,u.split(" ")[1],o&&!r),h=this._getParentOffset(t),d=this._getParentScrollOffset(t),p=o&&a?this._getLeftTop(n):f.offset(o&&r),m=p.top+f.y-h.top-c.y+d.top,g=p.left+f.x-h.left-c.x+d.left;if(this._setPinElementPostion(t,{left:g,top:m},this.offset),s||(s={left:g,top:m}),this._isInViewport(t,u))return u}var b=this._makeElementInViewport(t,s.left,"Left",o),y=this._makeElementInViewport(t,s.top,"Top",o);return this._setPinElementPostion(t,{left:b,top:y},this._calPinOffset(i[0])),i[0]}},e.prototype._getParentOffset=function e(t){var n=t.offsetParent||document.documentElement,r=void 0;return(r=n===document.body&&"static"===Ga.getStyle(n,"position")?{top:0,left:0}:this._getElementOffset(n)).top+=parseFloat(Ga.getStyle(n,"border-top-width"),10),r.left+=parseFloat(Ga.getStyle(n,"border-left-width"),10),r.offsetParent=n,r},e.prototype._makeElementInViewport=function e(t,n,r,i){var o=n,a=document.documentElement,s=t.offsetParent||document.documentElement;return o<0&&(i?o=0:s===document.body&&"static"===Ga.getStyle(s,"position")&&(o=Math.max(a["scroll"+r],document.body["scroll"+r]))),o},e.prototype._normalizePosition=function e(t,n,r){var i=this._normalizeElement(t,r);return this._normalizeXY(i,n),i},e.prototype._normalizeXY=function e(t,n){var r=n.split("")[1],i=n.split("")[0];return t.x=this._xyConverter(r,t,"width"),t.y=this._xyConverter(i,t,"height"),t},e.prototype._xyConverter=function e(t,n,r){var i=t.replace(/t|l/gi,"0%").replace(/c/gi,"50%").replace(/b|r/gi,"100%").replace(/(\d+)%/gi,function(e,t){return n.size()[r]*(t/100)});return parseFloat(i,10)||0},e.prototype._getLeftTop=function e(t){return{left:parseFloat(Ga.getStyle(t,"left"))||0,top:parseFloat(Ga.getStyle(t,"top"))||0}},e.prototype._normalizeElement=function e(t,n){var r=this,i={element:t,x:0,y:0},o=t===Fl,a=document.documentElement;return i.offset=function(e){return n?{left:0,top:0}:o?{left:Bl(),top:zl()}:r._getElementOffset(t,e)},i.size=function(){return o?{width:a.clientWidth,height:a.clientHeight}:{width:t.offsetWidth,height:t.offsetHeight}},i},e.prototype._getElementOffset=function e(t,n){var r=t.getBoundingClientRect(),i=document.documentElement,o=document.body,a=i.clientLeft||o.clientLeft||0,s=i.clientTop||o.clientTop||0;return{left:r.left+(n?0:Bl())-a,top:r.top+(n?0:zl())-s}},e.prototype._getExpectedAlign=function e(){var t=this.isRtl?this._replaceAlignDir(this.align,/l|r/g,{l:"r",r:"l"}):this.align,n=[t];return this.needAdjust&&(/t|b/g.test(t)&&n.push(this._replaceAlignDir(t,/t|b/g,{t:"b",b:"t"})),/l|r/g.test(t)&&n.push(this._replaceAlignDir(t,/l|r/g,{l:"r",r:"l"})),/c/g.test(t)&&(n.push(this._replaceAlignDir(t,/c(?= |$)/g,{c:"l"})),n.push(this._replaceAlignDir(t,/c(?= |$)/g,{c:"r"}))),n.push(this._replaceAlignDir(t,/l|r|t|b/g,{l:"r",r:"l",t:"b",b:"t"}))),n},e.prototype._replaceAlignDir=function e(t,n,r){return t.replace(n,function(e){return r[e]})},e.prototype._isRightAligned=function e(t){var n=t.split(" "),r=n[0],i=n[1];return"r"===r[1]&&r[1]===i[1]},e.prototype._isBottomAligned=function e(t){var n=t.split(" "),r=n[0],i=n[1];return"b"===r[0]&&r[0]===i[0]},e.prototype._isInViewport=function e(t,n){var r=Ul(this.container),i=$l(t,this.container),o=this._isRightAligned(n)?r.width:r.width-1,a=this._isBottomAligned(n)?r.height:r.height-1;return this.autoFit?i.top>=0&&i.top+t.offsetHeight<=a:i.left>=0&&i.left+t.offsetWidth<=o&&i.top>=0&&i.top+t.offsetHeight<=a},e.prototype._setPinElementPostion=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],i=n.top,o=n.left;if(this.isRtl){var a,s,l,u,c,f=$l(this._getParentOffset(t).offsetParent).width-(o+$l(t).width);Ga.setStyle(t,{left:"auto",right:f+r[0]+"px",top:i+r[1]+"px"})}else Ga.setStyle(t,{left:o+r[0]+"px",top:i+r[1]+"px"})},e}(),Pl.VIEWPORT=Fl,Pl.place=function(e){return new Vl(e).setPosition()},Ll=function e(){var t=this;this._calPinOffset=function(e){var n=[].concat(t.offset);if(t.autoFit&&e&&t.container&&t.container!==document.body){var r=$l(t.baseElement,t.container),i=$l(t.pinElement,t.container),o=Ul(t.container),a=e.split(" ")[0],s=a.charAt(1),l=a.charAt(0);(i.top<0||i.top+i.height>o.height)&&(n[1]=-r.top-("t"===l?r.height:0))}return n},this._getParentScrollOffset=function(e){var t=0,n=0;return e&&e.offsetParent&&e.offsetParent!==document.body&&(isNaN(e.offsetParent.scrollTop)||(t+=e.offsetParent.scrollTop),isNaN(e.offsetParent.scrollLeft)||(n+=e.offsetParent.scrollLeft)),{top:t,left:n}}},Dl),Hl,Gl,ql=Ya.noop,Kl=Ya.bindCtx,Yl=Ga.getStyle,Xl=Vl.place,Zl=(Gl=Hl=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return Kl(r,["handleResize"]),r}return Oo()(t,e),t.prototype.componentDidMount=function e(){this.setPosition(),this.props.needListenResize&&Ka.on(window,"resize",this.handleResize)},t.prototype.componentDidUpdate=function e(t){var n=this.props;("align"in n&&n.align!==t.align||n.shouldUpdatePosition)&&(this.shouldUpdatePosition=!0),this.shouldUpdatePosition&&(this.setPosition(),this.shouldUpdatePosition=!1)},t.prototype.componentWillUnmount=function e(){this.props.needListenResize&&Ka.off(window,"resize",this.handleResize),clearTimeout(this.resizeTimeout)},t.prototype.setPosition=function e(){var t=this.props,n=t.align,r=t.offset,i=t.beforePosition,o=t.onPosition,a=t.needAdjust,s=t.container,l=t.rtl,u=t.pinFollowBaseElementWhenFixed,c=t.autoFit;i();var f=this.getContentNode(),h=this.getTargetNode();if(f&&h){var d=Xl({pinElement:f,baseElement:h,pinFollowBaseElementWhenFixed:u,align:n,offset:r,autoFit:c,container:s,needAdjust:a,isRtl:l}),p=Yl(f,"top"),m=Yl(f,"left");o({align:d.split(" "),top:p,left:m},f)}},t.prototype.getContentNode=function e(){try{return Object(tr.findDOMNode)(this)}catch(e){return null}},t.prototype.getTargetNode=function e(){var t=this.props.target;return t===Vl.VIEWPORT?Vl.VIEWPORT:Al(t,this.props)},t.prototype.handleResize=function e(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.setPosition()},200)},t.prototype.render=function e(){return or.Children.only(this.props.children)},t}(or.Component),Hl.VIEWPORT=Vl.VIEWPORT,Hl.propTypes={children:lr.a.node,target:lr.a.any,container:lr.a.any,align:lr.a.oneOfType([lr.a.string,lr.a.bool]),offset:lr.a.array,beforePosition:lr.a.func,onPosition:lr.a.func,needAdjust:lr.a.bool,autoFit:lr.a.bool,needListenResize:lr.a.bool,shouldUpdatePosition:lr.a.bool,rtl:lr.a.bool,pinFollowBaseElementWhenFixed:lr.a.bool},Hl.defaultProps={align:"tl bl",offset:[0,0],beforePosition:ql,onPosition:ql,needAdjust:!0,autoFit:!1,needListenResize:!0,shouldUpdatePosition:!1,rtl:!1},Gl),Jl,Ql;Zl.displayName="Position";var eu=es.saveLastFocusNode,tu=es.getFocusNodeList,nu=es.backLastFocusNode,ru=Ya.makeChain,iu=Ya.noop,ou=Ya.bindCtx,au=function e(t){try{var n=window.getComputedStyle(t,"::-webkit-scrollbar");return!n||"none"!==n.getPropertyValue("display")}catch(e){}return!0},su=function e(){var t=document.documentElement;return t.scrollHeight>t.clientHeight&&Ga.scrollbar().width>0&&au(document.documentElement)&&au(document.body)},lu=["-webkit-","-moz-","-o-","ms-",""],uu=function e(t,n){for(var r=window.getComputedStyle(t),i="",o=0;o<lu.length&&!(i=r.getPropertyValue(lu[o]+n));o++);return i},cu=[],fu=void 0,hu=void 0,du=(Ql=Jl=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.saveContentRef=function(e){r.contentRef=e},r.saveGatewayRef=function(e){r.gatewayRef=e},r.lastAlign=n.align,ou(r,["handlePosition","handleAnimateEnd","handleDocumentKeyDown","handleDocumentClick","handleMaskClick","beforeOpen","beforeClose"]),r.state={visible:!1,status:"none",animation:r.getAnimation(n),beforeOpen:r.beforeOpen,beforeClose:r.beforeClose},r.timeoutMap={},r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r=!n.visible&&t.visible,i=n.visible&&!t.visible;r?(n.beforeOpen(),t.beforeOpen()):i&&(n.beforeClose(),t.beforeClose());var o={};return(t.animation||!1===t.animation)&&(o.animation=t.animation),!1!==t.animation&&Qa.animation?r?(o.visible=!0,o.status="mounting"):i&&(o.status="leaving"):"visible"in t&&t.visible!==n.visible&&(o.visible=t.visible),o},t.prototype.componentDidMount=function e(){this.state.visible&&(this.doAnimation(!0,!1),this._isMounted=!0),this.addDocumentEvents(),Ol.addOverlay(this)},t.prototype.componentDidUpdate=function e(t){!this._isMounted&&this.props.visible&&(this._isMounted=!0),this.props.align!==t.align&&(this.lastAlign=t.align);var n=!t.visible&&this.props.visible,r=t.visible&&!this.props.visible;(n||r)&&this.doAnimation(n,r)},t.prototype.componentWillUnmount=function e(){this._isDestroyed=!0,this._isMounted=!1,Ol.removeOverlay(this),this.removeDocumentEvents(),this.focusTimeout&&clearTimeout(this.focusTimeout),this._animation&&(this._animation.off(),this._animation=null),this.beforeClose()},t.prototype.doAnimation=function e(t,n){var r=this;if(this.state.animation&&Qa.animation)t?this.onEntering():n&&this.onLeaving(),this.addAnimationEvents();else{var i=this.getWrapperNode();t?setTimeout(function(){r.props.onOpen(),r.props.afterOpen(),Ga.addClass(i,"opened"),Ol.addOverlay(r)}):n&&(this.props.onClose(),this.props.afterClose(),Ga.removeClass(i,"opened"),Ol.removeOverlay(this)),this.setFocusNode()}},t.prototype.getAnimation=function e(t){return!1!==t.animation&&(t.animation?t.animation:this.getAnimationByAlign(t.align))},t.prototype.getAnimationByAlign=function e(t){switch(t[0]){case"t":return{in:"expandInDown",out:"expandOutUp"};case"b":return{in:"expandInUp",out:"expandOutDown"};default:return{in:"expandInDown",out:"expandOutUp"}}},t.prototype.addAnimationEvents=function e(){var t=this;setTimeout(function(){var e=t.getContentNode();if(e){var n=ts();t._animation=Ka.on(e,Qa.animation.end,t.handleAnimateEnd.bind(t,n));var r,i,o=(parseFloat(uu(e,"animation-delay"))||0)+(parseFloat(uu(e,"animation-duration"))||0);o&&(t.timeoutMap[n]=setTimeout(function(){t.handleAnimateEnd(n)},1e3*o+200))}})},t.prototype.handlePosition=function e(t){var n=t.align.join(" "),r;"animation"in this.props||!this.props.needAdjust||this.lastAlign===n||this.setState({animation:this.getAnimationByAlign(n)}),"mounting"===this.state.status&&this.setState({status:"entering"}),this.lastAlign=n},t.prototype.handleAnimateEnd=function e(t){this.timeoutMap[t]&&clearTimeout(this.timeoutMap[t]),delete this.timeoutMap[t],this._animation&&(this._animation.off(),this._animation=null),this._isMounted&&("leaving"===this.state.status?(this.setState({visible:!1,status:"none"}),this.onLeaved()):"entering"===this.state.status&&(this.setState({status:"none"}),this.onEntered()))},t.prototype.onEntering=function e(){var t=this;this._isDestroyed||setTimeout(function(){var e=t.getWrapperNode();Ga.addClass(e,"opened"),t.props.onOpen()})},t.prototype.onLeaving=function e(){var t=this.getWrapperNode();Ga.removeClass(t,"opened"),this.props.onClose()},t.prototype.onEntered=function e(){Ol.addOverlay(this),this.setFocusNode(),this.props.afterOpen()},t.prototype.onLeaved=function e(){Ol.removeOverlay(this),this.setFocusNode(),this.props.afterClose()},t.prototype.beforeOpen=function e(){if(this.props.disableScroll){if(0===cu.length){var t={overflow:"hidden"},n=document.body;fu=n.style.overflow,su()&&(hu=n.style.paddingRight,t.paddingRight=Ga.getStyle(n,"paddingRight")+Ga.scrollbar().width+"px"),Ga.setStyle(n,t)}cu.push(this)}},t.prototype.beforeClose=function e(){if(this.props.disableScroll){var t=cu.indexOf(this);if(t>-1){if(1===cu.length){var n={overflow:fu};su()&&(n.paddingRight=hu),Ga.setStyle(document.body,n),fu=void 0,hu=void 0}cu.splice(t,1)}}},t.prototype.setFocusNode=function e(){var t=this;this.props.autoFocus&&(this.state.visible&&!this._hasFocused?(eu(),this.focusTimeout=setTimeout(function(){var e=t.getContentNode();if(e){var n=tu(e);n.length&&n[0].focus(),t._hasFocused=!0}},100)):!this.state.visible&&this._hasFocused&&(nu(),this._hasFocused=!1))},t.prototype.getContent=function e(){return this.contentRef},t.prototype.getContentNode=function e(){try{return Object(tr.findDOMNode)(this.contentRef)}catch(e){return null}},t.prototype.getWrapperNode=function e(){return this.gatewayRef?this.gatewayRef.getChildNode():null},t.prototype.addDocumentEvents=function e(){this.props.canCloseByEsc&&(this._keydownEvents=Ka.on(document,"keydown",this.handleDocumentKeyDown)),this.props.canCloseByOutSideClick&&(this._clickEvents=Ka.on(document,"click",this.handleDocumentClick),this._touchEvents=Ka.on(document,"touchend",this.handleDocumentClick))},t.prototype.removeDocumentEvents=function e(){this._keydownEvents&&(this._keydownEvents.off(),this._keydownEvents=null),this._clickEvents&&(this._clickEvents.off(),this._clickEvents=null),this._touchEvents&&(this._touchEvents.off(),this._touchEvents=null)},t.prototype.handleDocumentKeyDown=function e(t){this.state.visible&&t.keyCode===ns.ESC&&Ol.isCurrentOverlay(this)&&this.props.onRequestClose("keyboard",t)},t.prototype.isInShadowDOM=function e(t){return!!t.getRootNode&&11===t.getRootNode().nodeType},t.prototype.getEventPath=function e(t){return t.path||t.composedPath&&t.composedPath()||this.composedPath(t.target)},t.prototype.composedPath=function e(t){for(var n=[];t;){if(n.push(t),"HTML"===t.tagName)return n.push(document),n.push(window),n;t=t.parentElement}},t.prototype.matchInShadowDOM=function e(t,n){if(this.isInShadowDOM(t)){var r=this.getEventPath(n);return t===r[0]||t.contains(r[0])}return!1},t.prototype.handleDocumentClick=function e(t){var n=this;if(this.state.visible){var r=this.props.safeNode,i=Array.isArray(r)?[].concat(r):[r];i.unshift(function(){return n.getWrapperNode()});for(var o=0;o<i.length;o++){var a=Al(i[o],this.props);if(a&&(a===t.target||a.contains(t.target)||this.matchInShadowDOM(a,t)||t.target!==document&&!document.documentElement.contains(t.target)))return}this.props.onRequestClose("docClick",t)}},t.prototype.handleMaskClick=function e(t){this.props.canCloseByMask&&this.props.onRequestClose("maskClick",t)},t.prototype.getInstance=function e(){return this},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.className,i=t.style,o=t.children,a=t.target,s=t.align,l=t.offset,u=t.container,c=t.hasMask,f=t.needAdjust,h=t.autoFit,d=t.beforePosition,p=t.onPosition,m=t.wrapperStyle,g=t.rtl,b=t.shouldUpdatePosition,y=t.cache,v=t.wrapperClassName,w=t.onMaskMouseEnter,x=t.onMaskMouseLeave,_=t.maskClass,S=t.isChildrenInMask,E=t.pinFollowBaseElementWhenFixed,C=this.state,k=C.visible,O=C.status,T=C.animation,N=k||y&&this._isMounted?o:null;if(N){var A,I,j=or.Children.only(N);"function"!=typeof j.type||j.type.prototype instanceof or.Component||(j=ar.a.createElement("div",{role:"none"},j));var R=zs()(((A={})[n+"overlay-inner"]=!0,A[T.in]="entering"===O||"mounting"===O,A[T.out]="leaving"===O,A[j.props.className]=!!j.props.className,A[r]=!!r,A));if("string"==typeof j.ref)throw new Error("Can not set ref by string in Overlay, use function instead.");if(N=ar.a.cloneElement(j,{className:R,style:vo()({},j.props.style,i),ref:ru(this.saveContentRef,j.ref),"aria-hidden":!k&&y&&this._isMounted,onClick:this.props.onClick}),s){var M="leaving"!==O&&b;N=ar.a.createElement(Zl,{children:N,target:a,align:s,offset:l,autoFit:h,container:u,needAdjust:f,pinFollowBaseElementWhenFixed:E,beforePosition:d,onPosition:ru(this.handlePosition,p),shouldUpdatePosition:M,rtl:g})}var P=zs()([n+"overlay-wrapper",v]),D=vo()({},{display:k?"":"none"},m),L=zs()(((I={})[n+"overlay-backdrop"]=!0,I[_]=!!_,I));N=ar.a.createElement("div",{className:P,style:D,dir:g?"rtl":void 0},c?ar.a.createElement("div",{className:L,onClick:this.handleMaskClick,onMouseEnter:w,onMouseLeave:x,dir:g?"rtl":void 0},S&&N):null,!S&&N)}return ar.a.createElement(Ml,vo()({container:u,target:a,children:N},{ref:this.saveGatewayRef}))},t}(or.Component),Jl.propTypes={prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,className:lr.a.string,style:lr.a.object,children:lr.a.any,visible:lr.a.bool,onRequestClose:lr.a.func,target:lr.a.any,align:lr.a.oneOfType([lr.a.string,lr.a.bool]),offset:lr.a.array,container:lr.a.any,hasMask:lr.a.bool,canCloseByEsc:lr.a.bool,canCloseByOutSideClick:lr.a.bool,canCloseByMask:lr.a.bool,beforeOpen:lr.a.func,onOpen:lr.a.func,afterOpen:lr.a.func,beforeClose:lr.a.func,onClose:lr.a.func,afterClose:lr.a.func,beforePosition:lr.a.func,onPosition:lr.a.func,shouldUpdatePosition:lr.a.bool,autoFocus:lr.a.bool,needAdjust:lr.a.bool,disableScroll:lr.a.bool,cache:lr.a.bool,safeNode:lr.a.any,wrapperClassName:lr.a.string,wrapperStyle:lr.a.object,animation:lr.a.oneOfType([lr.a.object,lr.a.bool]),onMaskMouseEnter:lr.a.func,onMaskMouseLeave:lr.a.func,onClick:lr.a.func,maskClass:lr.a.string,isChildrenInMask:lr.a.bool,pinFollowBaseElementWhenFixed:lr.a.bool},Jl.defaultProps={prefix:"next-",pure:!1,visible:!1,onRequestClose:iu,target:Zl.VIEWPORT,align:"tl bl",offset:[0,0],hasMask:!1,canCloseByEsc:!0,canCloseByOutSideClick:!0,canCloseByMask:!0,beforeOpen:iu,onOpen:iu,afterOpen:iu,beforeClose:iu,onClose:iu,afterClose:iu,beforePosition:iu,onPosition:iu,onMaskMouseEnter:iu,onMaskMouseLeave:iu,shouldUpdatePosition:!1,autoFocus:!1,needAdjust:!0,disableScroll:!1,cache:!1,isChildrenInMask:!1,onClick:function e(t){return t.stopPropagation()},maskClass:""},Ql);du.displayName="Overlay";var pu=Object(To.polyfill)(du),mu,gu,bu=Ya.noop,yu=Ya.makeChain,vu=Ya.bindCtx,wu=(gu=mu=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.state={visible:void 0===n.visible?n.defaultVisible:n.visible},vu(r,["handleTriggerClick","handleTriggerKeyDown","handleTriggerMouseEnter","handleTriggerMouseLeave","handleTriggerFocus","handleTriggerBlur","handleContentMouseEnter","handleContentMouseLeave","handleContentMouseDown","handleRequestClose","handleMaskMouseEnter","handleMaskMouseLeave"]),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){return"visible"in t?vo()({},n,{visible:t.visible}):null},t.prototype.componentWillUnmount=function e(){var t=this;["_timer","_hideTimer","_showTimer"].forEach(function(e){t[e]&&clearTimeout(t[e])})},t.prototype.handleVisibleChange=function e(t,n,r){"visible"in this.props||this.setState({visible:t}),this.props.onVisibleChange(t,n,r)},t.prototype.handleTriggerClick=function e(t){this.state.visible&&!this.props.canCloseByTrigger||this.handleVisibleChange(!this.state.visible,"fromTrigger",t)},t.prototype.handleTriggerKeyDown=function e(t){var n=this.props.triggerClickKeycode,r;(Array.isArray(n)?n:[n]).includes(t.keyCode)&&(t.preventDefault(),this.handleTriggerClick(t))},t.prototype.handleTriggerMouseEnter=function e(t){var n=this;this._mouseNotFirstOnMask=!1,this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=null),this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null),this.state.visible||(this._showTimer=setTimeout(function(){n.handleVisibleChange(!0,"fromTrigger",t)},this.props.delay))},t.prototype.handleTriggerMouseLeave=function e(t,n){var r=this;this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null),this.state.visible&&(this._hideTimer=setTimeout(function(){r.handleVisibleChange(!1,n||"fromTrigger",t)},this.props.delay))},t.prototype.handleTriggerFocus=function e(t){this.handleVisibleChange(!0,"fromTrigger",t)},t.prototype.handleTriggerBlur=function e(t){this._isForwardContent||this.handleVisibleChange(!1,"fromTrigger",t),this._isForwardContent=!1},t.prototype.handleContentMouseDown=function e(){this._isForwardContent=!0},t.prototype.handleContentMouseEnter=function e(){clearTimeout(this._hideTimer)},t.prototype.handleContentMouseLeave=function e(t){this.handleTriggerMouseLeave(t,"fromContent")},t.prototype.handleMaskMouseEnter=function e(){this._mouseNotFirstOnMask||(clearTimeout(this._hideTimer),this._hideTimer=null,this._mouseNotFirstOnMask=!1)},t.prototype.handleMaskMouseLeave=function e(){this._mouseNotFirstOnMask=!0},t.prototype.handleRequestClose=function e(t,n){this.handleVisibleChange(!1,t,n)},t.prototype.renderTrigger=function e(){var t=this,n=this.props,r=n.trigger,i=n.disabled,o={key:"trigger","aria-haspopup":!0,"aria-expanded":this.state.visible};if(this.state.visible||(o["aria-describedby"]=void 0),!i){var a=this.props.triggerType,s=Array.isArray(a)?a:[a],l=r&&r.props||{},u=l.onClick,c=l.onKeyDown,f=l.onMouseEnter,h=l.onMouseLeave,d=l.onFocus,p=l.onBlur;s.forEach(function(e){switch(e){case"click":o.onClick=yu(t.handleTriggerClick,u),o.onKeyDown=yu(t.handleTriggerKeyDown,c);break;case"hover":o.onMouseEnter=yu(t.handleTriggerMouseEnter,f),o.onMouseLeave=yu(t.handleTriggerMouseLeave,h);break;case"focus":o.onFocus=yu(t.handleTriggerFocus,d),o.onBlur=yu(t.handleTriggerBlur,p)}})}return r&&ar.a.cloneElement(r,o)},t.prototype.renderContent=function e(){var t=this,n=this.props,r=n.children,i=n.triggerType,o=Array.isArray(i)?i:[i],a=or.Children.only(r),s=a.props,l=s.onMouseDown,u=s.onMouseEnter,c=s.onMouseLeave,f={key:"portal"};return o.forEach(function(e){switch(e){case"focus":f.onMouseDown=yu(t.handleContentMouseDown,l);break;case"hover":f.onMouseEnter=yu(t.handleContentMouseEnter,u),f.onMouseLeave=yu(t.handleContentMouseLeave,c)}}),ar.a.cloneElement(a,f)},t.prototype.renderPortal=function e(){var t=this,n=this.props,r=n.target,i=n.safeNode,o=n.followTrigger,a=n.triggerType,s=n.hasMask,l=n.wrapperStyle,u=xo()(n,["target","safeNode","followTrigger","triggerType","hasMask","wrapperStyle"]),c=this.props.container,f=function e(){return Object(tr.findDOMNode)(t)},h=Array.isArray(i)?[].concat(i):[i];h.unshift(f);var d=l||{};return o&&(c=function e(t){return t&&t.parentNode||t},d.position="relative"),"hover"===a&&s&&(u.onMaskMouseEnter=this.handleMaskMouseEnter,u.onMaskMouseLeave=this.handleMaskMouseLeave),ar.a.createElement(pu,vo()({},u,{key:"overlay",ref:function e(n){return t.overlay=n},visible:this.state.visible,target:r||f,container:c,safeNode:h,wrapperStyle:d,triggerType:a,hasMask:s,onRequestClose:this.handleRequestClose}),this.renderContent())},t.prototype.render=function e(){return[this.renderTrigger(),this.renderPortal()]},t}(or.Component),mu.propTypes={children:lr.a.node,trigger:lr.a.element,triggerType:lr.a.oneOfType([lr.a.string,lr.a.array]),triggerClickKeycode:lr.a.oneOfType([lr.a.number,lr.a.array]),visible:lr.a.bool,defaultVisible:lr.a.bool,onVisibleChange:lr.a.func,disabled:lr.a.bool,autoFit:lr.a.bool,delay:lr.a.number,canCloseByTrigger:lr.a.bool,target:lr.a.any,safeNode:lr.a.any,followTrigger:lr.a.bool,container:lr.a.any,hasMask:lr.a.bool,wrapperStyle:lr.a.object,rtl:lr.a.bool},mu.defaultProps={triggerType:"hover",triggerClickKeycode:[ns.SPACE,ns.ENTER],defaultVisible:!1,onVisibleChange:bu,disabled:!1,autoFit:!1,delay:200,canCloseByTrigger:!0,followTrigger:!1,container:function e(){return document.body},rtl:!1},gu);wu.displayName="Popup";var xu=Object(To.polyfill)(wu);pu.Gateway=Ml,pu.Position=Zl,pu.Popup=Fs.config(xu,{exportNames:["overlay"]});var _u=Fs.config(pu,{exportNames:["getContent","getContentNode"]}),Su=function e(t){var n=t&&"function"==typeof t.getBoundingClientRect&&t.getBoundingClientRect().width;return n&&(n=+n.toFixed(6)),n||0},Eu=function e(t){return t?Array.isArray(t)?t:[t]:[]},Cu=function e(t,n){var r=t.split("-").slice(0,-1),i=n.split("-").slice(0,-1);return r.length===i.length&&r.every(function(e,t){return e===i[t]})},ku=function e(t,n){var r=t.split("-"),i=n.split("-");return r.length>i.length&&i.every(function(e,t){return e===r[t]})},Ou=function e(t,n,r){var i=r[n],o=i.type,a=i.disabled;return Cu(t,n)&&("item"===o&&!a||"submenu"===o)},Tu=function e(t,n){var r=Object.keys(n).find(function(e){return Ou(t+"-0",e,n)});return r?n[r].key:null},Nu=function e(t){var n=t.selectMode,r=t.selectedKeys,i=t._k2n,o=t._key;if(!i)return!1;var a=(i[o]&&i[o].pos)+"-";return!!n&&r.some(function(e){return i[e]&&0===i[e].pos.indexOf(a)})},Au,Iu,ju=Ya.bindCtx,Ru=Ga.setStyle,Mu=_u.Popup,Pu=(Iu=Au=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return ju(r,["handleOpen","handlePopupOpen","handlePopupClose","getPopup"]),r}return Oo()(t,e),t.prototype.getPopup=function e(t){this.popup=t},t.prototype.getOpen=function e(){var t=this.props,n=t._key,r,i;return t.root.state.openKeys.indexOf(n)>-1},t.prototype.getPopupProps=function e(){var t=this.props.root.props.popupProps;return"function"==typeof t&&(t=t(this.props)),t},t.prototype.handleOpen=function e(t,n,r){var i=this.props,o=i._key,a;i.root.handleOpen(o,t,n,r);var s=this.popupProps;s.onVisibleChange&&s.onVisibleChange(t,n,r)},t.prototype.handlePopupOpen=function e(){var t=this.props,n=t.root,r=t.level,i=t.align,o=t.autoWidth,a=n.props,s=a.popupAutoWidth,l=a.popupAlign,u=a.direction,c=i||l,f="autoWidth"in this.props?o:s,h=Object(tr.findDOMNode)(this),d=h.parentNode;if(this.popupNode=this.popup.getInstance().overlay.getInstance().getContentNode(),n.popupNodes.push(this.popupNode),f){var p="hoz"===u&&1===r?h:d;p.offsetWidth>this.popupNode.offsetWidth&&Ru(this.popupNode,"width",p.offsetWidth+"px")}"outside"!==c||"hoz"===u&&1===r||(Ru(this.popupNode,"height",d.offsetHeight+"px"),Ru(this.popupNode,"overflow-y","scroll"));var m=this.popupProps;m.onOpen&&m.onOpen()},t.prototype.handlePopupClose=function e(){var t,n=this.props.root.popupNodes,r=n.indexOf(this.popupNode);r>-1&&n.splice(r,1);var i=this.popupProps;i.onClose&&i.onClose()},t.prototype.renderItem=function e(t,n,r){var i,o=this.props,a=o._key,s=o.root,l=o.level,u=o.inlineLevel,c=o.label,f=o.className,h=s.props,d=h.prefix,p=h.selectMode,m=t?Cl:wl,g=this.getOpen(),b=s.state,y=b.selectedKeys,v=b._k2n,w=Nu({_key:a,_k2n:v,selectMode:p,selectedKeys:y}),x={"aria-haspopup":!0,"aria-expanded":g,_key:a,root:s,level:l,inlineLevel:u,type:"submenu"};return x.className=zs()(((i={})[d+"opened"]=g,i[d+"child-selected"]=w,i[f]=!!f,i)),ar.a.createElement(m,vo()({},x,r),ar.a.createElement("span",{className:d+"menu-item-text"},c),n)},t.prototype.renderPopup=function e(t,n,r,i){var o=this,a=this.props,s=a.root,l=a.level,u=a.selectable,c=s.props.direction;this.popupProps=this.getPopupProps();var f=this.getOpen();return"hoz"===c&&1===l&&u&&(r.target=function(){return Object(tr.findDOMNode)(o)}),ar.a.createElement(Mu,vo()({ref:this.getPopup},r,this.popupProps,{canCloseByEsc:!1,trigger:t,triggerType:n,visible:f,pinFollowBaseElementWhenFixed:!0,onVisibleChange:this.handleOpen,onOpen:this.handlePopupOpen,onClose:this.handlePopupClose}),i)},t.prototype.render=function e(){var n=this,r=this.props,i=r.root,o=r.level,a=r.hasSubMenu,s=r.selectable,l=r.children,u=r.triggerType,c=r.align,f=r.noIcon,h=r.rtl,d=Za.pickOthers(Object.keys(t.propTypes),this.props),p=i.props,m=p.prefix,g=p.selectMode,b=p.direction,y=p.popupAlign,v=p.triggerType,w=c||y,x=u||(a?v:"hover"),_=Array.isArray(l)?l[0]:l,S=g&&s,E=S&&"click"===x,C=this.getOpen(),k={},O=void 0,T;"hoz"===b&&1===o?(k.align="tl bl",k.offset=[0,0],O={type:"arrow-down",className:zs()((T={},T[m+"menu-hoz-icon-arrow"]=!0,T[m+"open"]=C,T))}):("outside"===w?(k.target=function(){return Object(tr.findDOMNode)(i)},k.align="tl tr",k.offset=h?[-2,0]:[2,0]):(E&&(k.target=function(){return Object(tr.findDOMNode)(n)}),k.align="tl tr",k.offset=h?[2,-8]:[-2,-8]),O={type:"arrow-right",className:m+"menu-icon-arrow "+m+"menu-symbol-popupfold"});var N=ar.a.createElement(ml,O),A=E?N:this.renderItem(S,f?null:N,d),I=this.renderPopup(A,x,k,_);return E?this.renderItem(S,I,d):I},t}(or.Component),Au.menuChildType="submenu",Au.propTypes={_key:lr.a.string,root:lr.a.object,level:lr.a.number,hasSubMenu:lr.a.bool,noIcon:lr.a.bool,rtl:lr.a.bool,selectable:lr.a.bool,label:lr.a.node,children:lr.a.node,className:lr.a.string,triggerType:lr.a.oneOf(["click","hover"]),align:lr.a.oneOf(["outside","follow"]),autoWidth:lr.a.bool},Au.defaultProps={selectable:!1,noIcon:!1},Iu),Du,Lu;Pu.displayName="PopupItem";var Fu=ul.Expand,Bu=Ya.bindCtx,zu=(Lu=Du=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return Bu(r,["handleMouseEnter","handleMouseLeave","handleClick","handleOpen","afterLeave"]),r}return Oo()(t,e),t.prototype.componentDidMount=function e(){this.itemNode=Object(tr.findDOMNode)(this)},t.prototype.afterLeave=function e(){var t=this.props,n=t.focused,r,i;t.root.props.focusable&&n&&this.itemNode.focus()},t.prototype.getOpen=function e(){var t=this.props,n=t._key,r,i;return t.root.state.openKeys.indexOf(n)>-1},t.prototype.handleMouseEnter=function e(t){this.handleOpen(!0),this.props.onMouseEnter&&this.props.onMouseEnter(t)},t.prototype.handleMouseLeave=function e(t){this.handleOpen(!1),this.props.onMouseLeave&&this.props.onMouseLeave(t)},t.prototype.handleClick=function e(t){var n=this.props,r=n.root,i=n.selectable,o;r.props.selectMode&&i&&t.stopPropagation();var a=this.getOpen();this.handleOpen(!a)},t.prototype.handleOpen=function e(t,n,r){var i=this.props,o=i._key,a;i.root.handleOpen(o,t,n,r)},t.prototype.passParentToChildren=function e(t){var n=this,r=this.props,i=r.mode,o=r.root;return or.Children.map(t,function(e){return"function"!=typeof e&&"object"!==(void 0===e?"undefined":Io()(e))?e:Object(or.cloneElement)(e,{parent:n,parentMode:i||o.props.mode})})},t.prototype.renderInline=function e(){var n,r,i,o,a=this.props,s=a._key,l=a.level,u=a.inlineLevel,c=a.root,f=a.className,h=a.selectable,d=a.label,p=a.children,m=a.noIcon,g=a.subMenuContentClassName,b=a.triggerType,y=a.parentMode,v=c.props,w=v.prefix,x=v.selectMode,_=v.triggerType,S=v.inlineArrowDirection,E=v.expandAnimation,C=v.rtl,k=b||_,O=this.getOpen(),T=c.state,N=T.selectedKeys,A=T._k2n,I=Nu({_key:s,_k2n:A,selectMode:x,selectedKeys:N}),j=Za.pickOthers(Object.keys(t.propTypes),this.props),R={className:zs()((n={},n[w+"menu-sub-menu-wrapper"]=!0,n[f]=!!f,n))},M={"aria-expanded":O,_key:s,level:l,role:"listitem",inlineLevel:u,root:c,type:"submenu",component:"div",parentMode:y,className:zs()((r={},r[w+"opened"]=O,r[w+"child-selected"]=I,r))};"string"==typeof d&&(M.title=d);var P={type:"right"===S?"arrow-right":"arrow-down",className:zs()((i={},i[w+"menu-icon-arrow"]=!0,i[w+"menu-icon-arrow-down"]="down"===S,i[w+"menu-icon-arrow-right"]="right"===S,i[w+"open"]=O,i))},D=!!x&&h,L=D?Cl:wl;"hover"===k?(R.onMouseEnter=this.handleMouseEnter,R.onMouseLeave=this.handleMouseLeave):D?P.onClick=this.handleClick:M.onClick=this.handleClick;var F=zs()(((o={})[w+"menu-sub-menu"]=!0,o[g]=!!g,o)),B="menu",z="menuitem";"selectMode"in c.props&&(B="listbox",z="option");var $=O?ar.a.createElement("ul",{role:B,dir:C?"rtl":void 0,className:F},this.passParentToChildren(p)):null;return ar.a.createElement("li",vo()({role:z},j,R),ar.a.createElement(L,M,ar.a.createElement("span",{className:w+"menu-item-text"},d),m?null:ar.a.createElement(ml,P)),E?ar.a.createElement(Fu,{animationAppear:!1,afterLeave:this.afterLeave},$):$)},t.prototype.renderPopup=function e(){var t,n=this.props,r=n.children,i=n.subMenuContentClassName,o=n.noIcon,a=xo()(n,["children","subMenuContentClassName","noIcon"]),s,l=this.props.root.props,u=l.prefix,c=l.popupClassName,f=l.popupStyle,h=l.rtl,d=zs()(((t={})[u+"menu"]=!0,t[u+"ver"]=!0,t[c]=!!c,t[i]=!!i,t));return a.rtl=h,ar.a.createElement(Pu,vo()({},a,{noIcon:o,hasSubMenu:!0}),ar.a.createElement("ul",{role:"menu",dir:h?"rtl":void 0,className:d,style:f},this.passParentToChildren(r)))},t.prototype.render=function e(){var t=this.props,n=t.mode,r=t.root,i;return"popup"===(n||r.props.mode)?this.renderPopup():this.renderInline()},t}(or.Component),Du.menuChildType="submenu",Du.propTypes={_key:lr.a.string,root:lr.a.object,level:lr.a.number,inlineLevel:lr.a.number,groupIndent:lr.a.number,noIcon:lr.a.bool,label:lr.a.node,selectable:lr.a.bool,mode:lr.a.oneOf(["inline","popup"]),children:lr.a.node,onMouseEnter:lr.a.func,onMouseLeave:lr.a.func,subMenuContentClassName:lr.a.string,triggerType:lr.a.oneOf(["click","hover"]),align:lr.a.oneOf(["outside","follow"]),parentMode:lr.a.oneOf(["inline","popup"]),parent:lr.a.any},Du.defaultProps={groupIndent:0,noIcon:!1,selectable:!1},Lu),$u,Uu,Wu;zu.displayName="SubMenu";var Vu=Ya.bindCtx,Hu=Za.pickOthers,Gu=Za.isNil,qu=function e(){},Ku="menuitem-overflowed",Yu=function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments[3],a=zs()(((r={})[i+"menu-more"]=!0,r)),s={};if(n?(s.visibility="hidden",s.display="inline-block"):t&&0===t.length&&(s.display="none",s.visibility="unset"),o&&"function"==typeof o){var l=o(t),u=zs()(a,l.props&&l.props.className);return ar.a.isValidElement(l)?ar.a.cloneElement(l,{style:s,className:u}):l}return ar.a.createElement(zu,{label:"\xb7\xb7\xb7",noIcon:!0,className:a,style:s},t)},Xu=function e(t){var n=t.children,r=t.lastVisibleIndex,i=t.prefix,o=t.renderMore,a=[];return n.forEach(function(e,t){var s=[];t>r&&(e=ar.a.cloneElement(e,{key:"more-"+t,style:{display:"none"},className:(e.className||"")+" menuitem-overflowed"})),t===r+1&&(s=n.slice(r+1).map(function(e,n){return ar.a.cloneElement(e,{key:"more-"+t+"-"+n})}),a.push(Yu(s,!1,i,o))),a.push(e)}),a.push(Yu([],!0,i,o)),a},Zu=function e(t){var n=t.children,r=t.root,i=t.lastVisibleIndex,o=t.hozInLine,a=t.prefix,s=t.renderMore,l={},u={},c,f,h;return{newChildren:function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{index:0},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=[];return or.Children.map(t,function(t){if(t&&("function"==typeof t.type||"object"===Io()(t.type))&&"menuChildType"in t.type){var s=void 0,c=void 0,f={root:r};if(["item","submenu","group"].indexOf(t.type.menuChildType)>-1){c=n+"-"+i.index++;var h="string"==typeof t.key?t.key:c;if(a.indexOf(h)>-1)return;a.push(h);var d=c.split("-").length-1;l[h]=u[c]={key:h,pos:c,mode:t.props.mode,type:t.type.menuChildType,disabled:t.props.disabled,label:t.props.label||t.props.children},f.level=d,f.inlineLevel=o,f._key=h,f.groupIndent="group"===t.type.menuChildType?1:0}var p="popup"===(t.props.mode||f.root.props.mode)?1:o+1;switch(t.type.menuChildType){case"submenu":s=Object(or.cloneElement)(t,f,e(t.props.children,c,void 0,p));break;case"group":s=Object(or.cloneElement)(t,f,e(t.props.children,n,i,f.level));break;case"item":case"divider":s=Object(or.cloneElement)(t,f);break;default:s=t}return s}return t})}(o?Xu({children:n,lastVisibleIndex:i,prefix:a,renderMore:s}):n,"0"),_k2n:l,_p2n:u}},Ju=(Uu=$u=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));Wu.call(r);var i=r.props,o=i.prefix,a=i.children,s=i.selectedKeys,l=i.defaultSelectedKeys,u=i.focusedKey,c=i.focusable,f=i.autoFocus,h=i.hozInLine,d=i.renderMore;r.state={lastVisibleIndex:void 0};var p=Zu({root:r,hozInLine:h,prefix:o,children:a,renderMore:d}),m=p.newChildren,g=p._k2n,b=p._p2n,y=c?Tu("0",b):void 0;return r.state={root:r,lastVisibleIndex:void 0,newChildren:m,_k2n:g,_p2n:b,tabbableKey:y,openKeys:r.getInitOpenKeys(n,g,b),selectedKeys:Eu(s||l),focusedKey:Gu(r.props.focusedKey)?c&&f?y:null:u},Vu(r,["handleOpen","handleSelect","handleItemClick","handleItemKeyDown","onBlur","adjustChildrenWidth"]),r.popupNodes=[],r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};"openKeys"in t&&(r.openKeys=Eu(t.openKeys)),"selectedKeys"in t&&(r.selectedKeys=Eu(t.selectedKeys)),"focusedKey"in t&&(r.focusedKey=t.focusedKey);var i=t.hozInLine,o=t.children,a=t.prefix,s=t.renderMore,l=Zu({root:n.root,hozInLine:i,lastVisibleIndex:n.lastVisibleIndex,prefix:a,children:o,renderMore:s}),u=l.newChildren,c=l._k2n,f=l._p2n;return r.newChildren=u,r._k2n=c,r._p2n=f,t.focusable&&(n.tabbableKey in c?n.focusedKey&&(r.tabbableKey=n.focusedKey):r.tabbableKey=Tu("0",f)),r},t.prototype.componentDidMount=function e(){this.menuNode=Object(tr.findDOMNode)(this),this.adjustChildrenWidth(),this.props.hozInLine&&Ka.on(window,"resize",this.adjustChildrenWidth)},t.prototype.componentDidUpdate=function e(t,n){n.lastVisibleIndex!==this.state.lastVisibleIndex&&this.adjustChildrenWidth()},t.prototype.componentWillUnmount=function e(){Ka.off(window,"resize",this.adjustChildrenWidth)},t.prototype.adjustChildrenWidth=function e(){var t=this.props,n=t.direction,r=t.prefix,i=t.header,o=t.footer,a=t.hozInLine;if("hoz"===n&&a&&(this.menuNode||this.menuContent)){var s=[],l=void 0;if(i||o?(s=this.menuContent.children,l=Su(this.menuNode)-Su(this.menuHeader)-Su(this.menuFooter)):(s=this.menuNode.children,l=Su(this.menuNode)),!(s.length<2)){var u=0,c=-1,f="",h=[].slice.call(s).filter(function(e){return e.className.split(" ").indexOf(r+"menu-more")<0||(f=e,!1)}),d=h.filter(function(e){return e.className.split(" ").indexOf("menuitem-overflowed")>=0});d.forEach(function(e){Ga.setStyle(e,"display","inline-block")}),Ga.setStyle(f,"display","inline-block");var p=Su(f);this.menuItemSizes=h.map(function(e){return Su(e)});var m=this.menuItemSizes.length;d.forEach(function(e){Ga.setStyle(e,"display","none")}),this.menuItemSizes.forEach(function(e,t){u+=e,(t>=m-1&&u<=l||u+p<=l)&&c++}),c>=m-1&&Ga.setStyle(f,"display","none"),this.setState(vo()({lastVisibleIndex:c},this.getUpdateChildren()))}}},t.prototype.onBlur=function e(t){this.setState({focusedKey:void 0}),this.props.onBlur&&this.props.onBlur(t)},t.prototype.getInitOpenKeys=function e(t,n,r){var i=void 0,o=t.openKeys,a=t.defaultOpenKeys,s=t.defaultOpenAll,l=t.mode,u=t.openMode;return i=o||(s&&"inline"===l&&"multiple"===u?Object.keys(n).filter(function(e){return"submenu"===n[e].type}):a),Eu(i)},t.prototype.handleOpen=function e(t,n,r,i){var o=void 0,a=this.props,s=a.mode,l=a.openMode,u=this.state,c=u.openKeys,f=u._k2n,h=c.indexOf(t);n&&-1===h?"inline"===s?"single"===l?(o=c.filter(function(e){return f[e]&&!Cu(f[t].pos,f[e].pos)})).push(t):o=c.concat(t):(o=c.filter(function(e){return f[e]&&ku(f[t].pos,f[e].pos)})).push(t):!n&&h>-1&&("inline"===s?o=[].concat(c.slice(0,h),c.slice(h+1)):"docClick"===r?this.popupNodes.concat(this.menuNode).some(function(e){return e.contains(i.target)})||(o=[]):o=c.filter(function(e){return e!==t&&f[e]&&!ku(f[e].pos,f[t].pos)})),o&&(Gu(this.props.openKeys)&&this.setState(vo()({openKeys:o},this.getUpdateChildren())),this.props.onOpen(o,{key:t,open:n}))},t.prototype.getPath=function e(t,n,r){for(var i=[],o=[],a,s=n[t].pos.split("-"),l=1;l<s.length-1;l++){var u,c,f=r[s.slice(0,l+1).join("-")];i.push(f.key),o.push(f.label)}return{keyPath:i,labelPath:o}},t.prototype.handleSelect=function e(t,n,r){var i=this.state,o=i._k2n,a=i._p2n,s,l=o[t].pos.split("-").length-1;if(!(this.props.shallowSelect&&l>1)){var u=void 0,c=this.props.selectMode,f=this.state.selectedKeys,h=f.indexOf(t);n&&-1===h?"single"===c?u=[t]:"multiple"===c&&(u=f.concat(t)):!n&&h>-1&&"multiple"===c&&(u=[].concat(f.slice(0,h),f.slice(h+1))),u&&(Gu(this.props.selectedKeys)&&this.setState({selectedKeys:u}),this.props.onSelect(u,r,vo()({key:t,select:n,label:o[t].label},this.getPath(t,o,a))))}},t.prototype.handleItemClick=function e(t,n,r){var i=this.state._k2n;this.props.focusable&&(Gu(this.props.focusedKey)&&this.setState({focusedKey:t}),this.props.onItemFocus(t,n,r)),"item"===n.props.type&&("popup"===n.props.parentMode&&this.state.openKeys.length&&(Gu(this.props.openKeys)&&this.setState({openKeys:[]}),this.props.onOpen([],{key:this.state.openKeys.sort(function(e,t){return i[t].pos.split("-").length-i[e].pos.split("-").length})[0],open:!1})),this.props.onItemClick(t,n,r))},t.prototype.getAvailableKey=function e(t,n){var r=this.state._p2n,i=Object.keys(r).filter(function(e){return Ou(t,e,r)});if(i.length>1){var o=i.indexOf(t),a=void 0;return a=n?0===o?i.length-1:o-1:o===i.length-1?0:o+1,r[i[a]].key}return null},t.prototype.getParentKey=function e(t){return this.state._p2n[t.slice(0,t.length-2)].key},t.prototype.handleItemKeyDown=function e(t,n,r,i){[ns.UP,ns.DOWN,ns.RIGHT,ns.LEFT,ns.ENTER,ns.ESC,ns.SPACE].indexOf(i.keyCode)>-1&&(i.preventDefault(),i.stopPropagation());var o=this.state.focusedKey,a=this.state,s=a._p2n,l=a._k2n,u=this.props.direction,c=l[t].pos,f=c.split("-").length-1;switch(i.keyCode){case ns.UP:var h=this.getAvailableKey(c,!0);h&&(o=h);break;case ns.DOWN:var d=void 0;"hoz"===u&&1===f&&"submenu"===n?(this.handleOpen(t,!0),d=Tu(c,s)):d=this.getAvailableKey(c,!1),d&&(o=d);break;case ns.RIGHT:var p=void 0;"hoz"===u&&1===f?p=this.getAvailableKey(c,!1):"submenu"===n&&(this.handleOpen(t,!0),p=Tu(c,s)),p&&(o=p);break;case ns.ENTER:if("submenu"===n){this.handleOpen(t,!0);var m=Tu(c,s);m&&(o=m)}break;case ns.LEFT:if("hoz"===u&&1===f){var g=this.getAvailableKey(c,!0);g&&(o=g)}else if(f>1){var b=this.getParentKey(c);this.handleOpen(b,!1),o=b}break;case ns.ESC:if(f>1){var y=this.getParentKey(c);this.handleOpen(y,!1),o=y}break;case ns.TAB:o=null}o!==this.state.focusedKey&&(Gu(this.props.focusedKey)&&this.setState({focusedKey:o}),this.props.onItemKeyDown(o,r,i),this.props.onItemFocus(o,i))},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.className,a=r.direction,s=r.hozAlign,l=r.header,u=r.footer,c=r.embeddable,f=r.selectMode,h=r.hozInLine,d=r.rtl,p=r.flatenContent,m=this.state.newChildren,g=Hu(Object.keys(t.propTypes),this.props),b=zs()(((n={})[i+"menu"]=!0,n[i+"ver"]="ver"===a,n[i+"hoz"]="hoz"===a,n[i+"menu-embeddable"]=c,n[i+"menu-nowrap"]=h,n[o]=!!o,n)),y="hoz"===a?"menubar":"menu",v=void 0;"selectMode"in this.props&&(y="listbox",v=!("multiple"!==f));var w=l?ar.a.createElement("li",{className:i+"menu-header",ref:this.menuHeaderRef},l):null,x=p||!l&&!u?m:ar.a.createElement("ul",{className:i+"menu-content",ref:this.menuContentRef},m),_=u?ar.a.createElement("li",{className:i+"menu-footer",ref:this.menuFooterRef},u):null,S="right"===s&&!!l;return d&&(g.dir="rtl"),ar.a.createElement("ul",vo()({role:y,onBlur:this.onBlur,className:b,onKeyDown:this.handleEnter,"aria-multiselectable":v},g),w,S?ar.a.createElement("div",{className:i+"menu-hoz-right"},x,_):null,S?null:x,S?null:_)},t}(or.Component),$u.isNextMenu=!0,$u.propTypes=vo()({},Fs.propTypes,{prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,className:lr.a.string,children:lr.a.node,onItemClick:lr.a.func,openKeys:lr.a.oneOfType([lr.a.string,lr.a.array]),defaultOpenKeys:lr.a.oneOfType([lr.a.string,lr.a.array]),defaultOpenAll:lr.a.bool,onOpen:lr.a.func,mode:lr.a.oneOf(["inline","popup"]),triggerType:lr.a.oneOf(["click","hover"]),openMode:lr.a.oneOf(["single","multiple"]),inlineIndent:lr.a.number,inlineArrowDirection:lr.a.oneOf(["down","right"]),popupAutoWidth:lr.a.bool,popupAlign:lr.a.oneOf(["follow","outside"]),popupProps:lr.a.oneOfType([lr.a.object,lr.a.func]),popupClassName:lr.a.string,popupStyle:lr.a.object,selectedKeys:lr.a.oneOfType([lr.a.string,lr.a.array]),defaultSelectedKeys:lr.a.oneOfType([lr.a.string,lr.a.array]),onSelect:lr.a.func,selectMode:lr.a.oneOf(["single","multiple"]),shallowSelect:lr.a.bool,hasSelectedIcon:lr.a.bool,labelToggleChecked:lr.a.bool,isSelectIconRight:lr.a.bool,direction:lr.a.oneOf(["ver","hoz"]),hozAlign:lr.a.oneOf(["left","right"]),hozInLine:lr.a.bool,renderMore:lr.a.func,header:lr.a.node,footer:lr.a.node,autoFocus:lr.a.bool,focusedKey:lr.a.string,focusable:lr.a.bool,onItemFocus:lr.a.func,onBlur:lr.a.func,embeddable:lr.a.bool,onItemKeyDown:lr.a.func,expandAnimation:lr.a.bool,itemClassName:lr.a.string,icons:lr.a.object,flatenContent:lr.a.bool}),$u.defaultProps={prefix:"next-",pure:!1,defaultOpenKeys:[],defaultOpenAll:!1,onOpen:qu,mode:"inline",triggerType:"click",openMode:"multiple",inlineIndent:20,inlineArrowDirection:"down",popupAutoWidth:!1,popupAlign:"follow",popupProps:{},defaultSelectedKeys:[],onSelect:qu,shallowSelect:!1,hasSelectedIcon:!0,isSelectIconRight:!1,labelToggleChecked:!0,direction:"ver",hozAlign:"left",hozInLine:!1,autoFocus:!1,focusable:!0,embeddable:!1,onItemFocus:qu,onItemKeyDown:qu,onItemClick:qu,expandAnimation:!0,icons:{}},Wu=function e(){var t=this;this.getUpdateChildren=function(){var e=t.state,n=e.root,r=e.lastVisibleIndex,i=t.props,o=i.prefix,a=i.hozInLine,s=i.children,l=i.renderMore;return Zu({root:n,hozInLine:a,lastVisibleIndex:r,prefix:o,children:s,renderMore:l})},this.menuContentRef=function(e){t.menuContent=e},this.menuHeaderRef=function(e){t.menuHeader=e},this.menuFooterRef=function(e){t.menuFooter=e}},Uu);Ju.displayName="Menu";var Qu=Object(To.polyfill)(Ju),ec=n(142),tc=n.n(ec),nc=Ya.makeChain,rc=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.state={},["_onUIFocus","_onUIBlur"].forEach(function(e){r[e]=r[e].bind(r)}),r}return Oo()(t,e),t.prototype.getStateElement=function e(t){var n=this.props,r=n.onFocus,i=n.onBlur;return ar.a.cloneElement(t,{onFocus:nc(this._onUIFocus,r),onBlur:nc(this._onUIBlur,i)})},t.prototype.getStateClassName=function e(){var t=this.state.focused;return zs()({focused:t})},t.prototype.resetUIState=function e(){this.setState({focused:!1})},t.prototype._onUIFocus=function e(){this.setState({focused:!0})},t.prototype._onUIBlur=function e(){this.setState({focused:!1})},t}(or.Component);rc.displayName="UIState";var ic=rc,oc,ac;function sc(e){var t,n;return n=t=function(t){function n(){return So()(this,n),Co()(this,t.apply(this,arguments))}return Oo()(n,t),n.prototype.render=function t(){return ar.a.createElement(e,vo()({},this.props,{context:this.context}))},n}(ar.a.Component),t.displayName="Checkbox",t.contextTypes={onChange:lr.a.func,__group__:lr.a.bool,selectedValue:lr.a.array,disabled:lr.a.bool,prefix:lr.a.string},n}var lc=Ya.noop;function uc(e,t){return e.indexOf(t)>-1}var cc=(ac=oc=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n)),i=n.context,o=void 0,a=void 0;return o="checked"in n?n.checked:n.defaultChecked,a="indeterminate"in n?n.indeterminate:n.defaultIndeterminate,i.__group__&&(o=uc(i.selectedValue,n.value)),r.state={checked:o,indeterminate:a},r.onChange=r.onChange.bind(r),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t){var n=t.context,r={};return n.__group__?"selectedValue"in n&&(r.checked=uc(n.selectedValue,t.value)):"checked"in t&&(r.checked=t.checked),"indeterminate"in t&&(r.indeterminate=t.indeterminate),r},t.prototype.shouldComponentUpdate=function e(t,n,r){var i=Za.shallowEqual;return!i(this.props,t)||!i(this.state,n)||!i(this.context,r)},t.prototype.onChange=function e(t){var n=this.props,r=n.context,i=n.value,o=t.target.checked;this.disabled||(r.__group__?r.onChange(i,t):("checked"in this.props||this.setState({checked:o}),"indeterminate"in this.props||this.setState({indeterminate:!1}),this.props.onChange(o,t)))},t.prototype.render=function e(){var n,r,i=this.props,o=i.id,a=i.className,s=i.children,l=i.style,u=i.label,c=i.onMouseEnter,f=i.onMouseLeave,h=i.rtl,d=i.isPreview,p=i.renderPreview,m=i.context,g=i.value,b=i.name,y=xo()(i,["id","className","children","style","label","onMouseEnter","onMouseLeave","rtl","isPreview","renderPreview","context","value","name"]),v=!!this.state.checked,w=this.disabled,x=!!this.state.indeterminate,_=m.prefix||this.props.prefix,S=Za.pickOthers(t.propTypes,y),E=Za.pickAttrsWith(S,"data-");y.title&&(E.title=y.title);var C=ar.a.createElement("input",vo()({},Za.pickOthers(t.propTypes,y),{id:o,value:g,name:b,disabled:w,checked:v,type:"checkbox",onChange:this.onChange,"aria-checked":x?"mixed":v,className:_+"checkbox-input"}));w||(C=this.getStateElement(C));var k=zs()(((n={})[_+"checkbox-wrapper"]=!0,n[a]=!!a,n.checked=v,n.disabled=w,n.indeterminate=x,n[this.getStateClassName()]=!0,n)),O=_+"checkbox-label",T=x?"semi-select":"select";if(d){var N=zs()(a,_+"form-preview");return"renderPreview"in this.props?ar.a.createElement("div",vo()({id:o,dir:h?"rtl":void 0},E,{className:N}),p(v,this.props)):ar.a.createElement("p",vo()({id:o,dir:h?"rtl":void 0},E,{className:N}),v&&(s||u||this.state.value))}var A=zs()(((r={zoomIn:x})[_+"checkbox-semi-select-icon"]=x,r[_+"checkbox-select-icon"]=!x,r));return ar.a.createElement("label",vo()({},E,{className:k,style:l,dir:h?"rtl":void 0,onMouseEnter:c,onMouseLeave:f}),ar.a.createElement("span",{className:_+"checkbox"},ar.a.createElement("span",{className:_+"checkbox-inner"},ar.a.createElement(ml,{type:T,size:"xs",className:A})),C),[u,s].map(function(e,t){return-1===[void 0,null].indexOf(e)?ar.a.createElement("span",{key:t,className:O},e):null}))},tc()(t,[{key:"disabled",get:function e(){var t=this.props,n=t.context;return t.disabled||"disabled"in n&&n.disabled}}]),t}(ic),oc.displayName="Checkbox",oc.propTypes=vo()({},Fs.propTypes,{prefix:lr.a.string,rtl:lr.a.bool,className:lr.a.string,id:lr.a.string,style:lr.a.object,checked:lr.a.bool,defaultChecked:lr.a.bool,disabled:lr.a.bool,label:lr.a.node,indeterminate:lr.a.bool,defaultIndeterminate:lr.a.bool,onChange:lr.a.func,onMouseEnter:lr.a.func,onMouseLeave:lr.a.func,value:lr.a.oneOfType([lr.a.string,lr.a.number]),name:lr.a.string,isPreview:lr.a.bool,renderPreview:lr.a.func}),oc.defaultProps={defaultChecked:!1,defaultIndeterminate:!1,onChange:lc,onMouseEnter:lc,onMouseLeave:lc,prefix:"next-",isPreview:!1},ac),fc=Fs.config(sc(Object(To.polyfill)(cc))),hc,dc,pc=Za.pickOthers,mc=(dc=hc=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n)),i=[];return"value"in n?i=n.value:"defaultValue"in n&&(i=n.defaultValue),Array.isArray(i)||(i=null===i||void 0===i?[]:[i]),r.state={value:[].concat(i)},r.onChange=r.onChange.bind(r),r}return Oo()(t,e),t.prototype.getChildContext=function e(){return{__group__:!0,onChange:this.onChange,selectedValue:this.state.value,disabled:this.props.disabled}},t.getDerivedStateFromProps=function e(t){if("value"in t){var n=t.value;return Array.isArray(n)||(n=null===n||void 0===n?[]:[n]),{value:n}}return null},t.prototype.onChange=function e(t,n){var r=this.state.value,i=r.indexOf(t),o=[].concat(r);-1===i?o.push(t):o.splice(i,1),"value"in this.props||this.setState({value:o}),this.props.onChange(o,n)},t.prototype.render=function e(){var n=this,r,i=this.props,o=i.className,a=i.style,s=i.prefix,l=i.disabled,u=i.itemDirection,c=i.rtl,f=i.isPreview,h=i.renderPreview,d=pc(t.propTypes,this.props),p=void 0,m=[];if(p=this.props.children?ar.a.Children.map(this.props.children,function(e){return ar.a.isValidElement(e)?(n.state.value&&n.state.value.indexOf(e.props.value)>-1&&m.push({label:e.props.children,value:e.props.value}),ar.a.cloneElement(e,void 0===e.props.rtl?{rtl:c}:null)):e;var t}):this.props.dataSource.map(function(e,t){var r=e;"object"!==(void 0===e?"undefined":Io()(e))&&(r={label:e,value:e,disabled:l});var i=n.state.value&&n.state.value.indexOf(r.value)>-1;return i&&m.push({label:r.label,value:r.value}),ar.a.createElement(fc,{key:t,value:r.value,checked:i,rtl:c,disabled:l||r.disabled,label:r.label})}),f){var g=zs()(o,s+"form-preview");return"renderPreview"in this.props?ar.a.createElement("div",vo()({},d,{dir:c?"rtl":void 0,className:g}),h(m,this.props)):ar.a.createElement("p",vo()({},d,{dir:c?"rtl":void 0,className:g}),m.map(function(e){return e.label}).join(", "))}var b=zs()(((r={})[s+"checkbox-group"]=!0,r[s+"checkbox-group-"+u]=!0,r[o]=!!o,r.disabled=l,r));return ar.a.createElement("span",vo()({dir:c?"rtl":void 0},d,{className:b,style:a}),p)},t}(or.Component),hc.propTypes={prefix:lr.a.string,rtl:lr.a.bool,className:lr.a.string,style:lr.a.object,disabled:lr.a.bool,dataSource:lr.a.oneOfType([lr.a.arrayOf(lr.a.string),lr.a.arrayOf(lr.a.object)]),value:lr.a.oneOfType([lr.a.array,lr.a.string,lr.a.number]),defaultValue:lr.a.oneOfType([lr.a.array,lr.a.string,lr.a.number]),children:lr.a.arrayOf(lr.a.element),onChange:lr.a.func,itemDirection:lr.a.oneOf(["hoz","ver"]),isPreview:lr.a.bool,renderPreview:lr.a.func},hc.defaultProps={dataSource:[],onChange:function e(){},prefix:"next-",itemDirection:"hoz",isPreview:!1},hc.childContextTypes={onChange:lr.a.func,__group__:lr.a.bool,selectedValue:lr.a.array,disabled:lr.a.bool},dc);mc.displayName="CheckboxGroup";var gc=Fs.config(Object(To.polyfill)(mc));fc.Group=gc;var bc=fc,yc,vc;function wc(e){var t,n;return n=t=function(t){function n(){return So()(this,n),Co()(this,t.apply(this,arguments))}return Oo()(n,t),n.prototype.render=function t(){return ar.a.createElement(e,vo()({},this.props,{context:this.context}))},n}(ar.a.Component),t.displayName="Radio",t.contextTypes={onChange:lr.a.func,__group__:lr.a.bool,isButton:lr.a.bool,selectedValue:lr.a.oneOfType([lr.a.string,lr.a.number,lr.a.bool]),disabled:lr.a.bool},n}var xc=Ya.makeChain,_c=Ya.noop,Sc=(vc=yc=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n)),i=n.context,o=void 0;return o=i.__group__?i.selectedValue===n.value:"checked"in n?n.checked:n.defaultChecked,r.state={checked:o},r.onChange=r.onChange.bind(r),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t){var n=t.context;return n.__group__&&"selectedValue"in n?{checked:n.selectedValue===t.value}:"checked"in t?{checked:t.checked}:null},t.prototype.shouldComponentUpdate=function e(t,n,r){var i=Za.shallowEqual;return!i(this.props,t)||!i(this.state,n)||!i(this.context,r)},t.prototype.componentDidUpdate=function e(){this.disabled&&this.resetUIState()},t.prototype.onChange=function e(t){var n=t.target.checked,r=this.props,i=r.context,o=r.value;i.__group__?i.onChange(o,t):this.state.checked!==n&&("checked"in this.props||this.setState({checked:n}),this.props.onChange(n,t))},t.prototype.render=function e(){var n,r,i,o=this.props,a=o.id,s=o.className,l=o.children,u=o.style,c=o.label,f=o.onMouseEnter,h=o.onMouseLeave,d=o.tabIndex,p=o.rtl,m=o.name,g=o.isPreview,b=o.renderPreview,y=o.value,v=o.context,w=xo()(o,["id","className","children","style","label","onMouseEnter","onMouseLeave","tabIndex","rtl","name","isPreview","renderPreview","value","context"]),x=!!this.state.checked,_=this.disabled,S=v.isButton,E=v.prefix||this.props.prefix,C=Za.pickOthers(t.propTypes,w),k=Za.pickAttrsWith(C,"data-");if(g){var O=zs()(s,E+"form-preview");return"renderPreview"in this.props?ar.a.createElement("div",vo()({id:a,dir:p?"rtl":"ltr"},C,{className:O}),b(x,this.props)):ar.a.createElement("p",vo()({id:a,dir:p?"rtl":"ltr"},C,{className:O}),x&&(l||c||y))}var T=ar.a.createElement("input",vo()({},Za.pickOthers(k,C),{name:m,id:a,tabIndex:d,disabled:_,checked:x,type:"radio",onChange:this.onChange,"aria-checked":x,className:E+"radio-input"}));_||(T=this.getStateElement(T));var N=zs()(((n={})[E+"radio"]=!0,n.checked=x,n.disabled=_,n[this.getStateClassName()]=!0,n)),A=zs()(((r={})[E+"radio-inner"]=!0,r.press=x,r.unpress=!x,r)),I=zs()(((i={})[E+"radio-wrapper"]=!0,i[s]=!!s,i.checked=x,i.disabled=_,i[this.getStateClassName()]=!0,i)),j=E+"radio-label",R=S?ar.a.createElement("span",{className:E+"radio-single-input"},T):ar.a.createElement("span",{className:N},ar.a.createElement("span",{className:A}),T);return ar.a.createElement("label",vo()({},k,{dir:p?"rtl":"ltr",style:u,"aria-checked":x,"aria-disabled":_,className:I,onMouseEnter:_?f:xc(this._onUIMouseEnter,f),onMouseLeave:_?h:xc(this._onUIMouseLeave,h)}),R,[l,c].map(function(e,t){return void 0!==e?ar.a.createElement("span",{key:t,className:j},e):null}))},tc()(t,[{key:"disabled",get:function e(){var t=this.props,n=t.context,r;return t.disabled||n.__group__&&"disabled"in n&&n.disabled}}]),t}(ic),yc.displayName="Radio",yc.propTypes=vo()({},Fs.propTypes,{className:lr.a.string,id:lr.a.string,style:lr.a.object,checked:lr.a.bool,defaultChecked:lr.a.bool,label:lr.a.node,onChange:lr.a.func,onMouseEnter:lr.a.func,onMouseLeave:lr.a.func,disabled:lr.a.bool,value:lr.a.oneOfType([lr.a.string,lr.a.number,lr.a.bool]),name:lr.a.string,isPreview:lr.a.bool,renderPreview:lr.a.func}),yc.defaultProps={onChange:_c,onMouseLeave:_c,onMouseEnter:_c,tabIndex:0,prefix:"next-",isPreview:!1},yc.contextTypes={onChange:lr.a.func,__group__:lr.a.bool,isButton:lr.a.bool,selectedValue:lr.a.oneOfType([lr.a.string,lr.a.number,lr.a.bool]),disabled:lr.a.bool},vc),Ec=Fs.config(wc(Object(To.polyfill)(Sc))),Cc,kc,Oc=Za.pickOthers,Tc=(kc=Cc=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n)),i="";return"value"in n?i=n.value:"defaultValue"in n&&(i=n.defaultValue),r.state={value:i},r.onChange=r.onChange.bind(r),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){return"value"in t&&t.value!==n.value?{value:t.value}:null},t.prototype.getChildContext=function e(){var t=this.props.disabled;return{__group__:!0,isButton:"button"===this.props.shape,onChange:this.onChange,selectedValue:this.state.value,disabled:t}},t.prototype.onChange=function e(t,n){"value"in this.props||this.setState({value:t}),t!==this.state.value&&this.props.onChange(t,n)},t.prototype.render=function e(){var n=this,r,i=this.props,o=i.rtl,a=i.className,s=i.disabled,l=i.shape,u=i.size,c=i.style,f=i.prefix,h=i.itemDirection,d=i.component,p=i.isPreview,m=i.renderPreview,g=Oc(Object.keys(t.propTypes),this.props);o&&(g.dir="rtl");var b=void 0,y={};if(b=this.props.children?ar.a.Children.map(this.props.children,function(e,t){if(!ar.a.isValidElement(e))return e;var r=n.state.value===e.props.value;r&&(y.label=e.props.children,y.value=e.props.value);var i=0===t&&!n.state.value||r?0:-1,a=void 0===e.props.rtl?o:e.props.rtl;return e.type&&"Config(Radio)"===e.type.displayName?ar.a.cloneElement(e,{checked:r,tabIndex:i,rtl:a}):ar.a.cloneElement(e,{checked:r,rtl:a})}):this.props.dataSource.map(function(e,t){var r=e;"object"!==(void 0===e?"undefined":Io()(e))&&(r={label:e,value:e,disabled:s});var i=n.state.value===r.value;return i&&(y.label=r.label,y.value=r.value),ar.a.createElement(Ec,{key:t,tabIndex:0===t&&!n.state.value||i?0:-1,value:r.value,checked:i,label:r.label,disabled:s||r.disabled})}),p){var v=zs()(a,f+"form-preview");return"renderPreview"in this.props?ar.a.createElement("div",vo()({},g,{className:v}),m(y,this.props)):ar.a.createElement("p",vo()({},g,{className:v}),y.label)}var w="button"===l,x=zs()(((r={})[f+"radio-group"]=!0,r[f+"radio-group-"+h]=!w,r[f+"radio-button"]=w,r[f+"radio-button-"+u]=w,r[a]=!!a,r.disabled=s,r)),_=d;return ar.a.createElement(_,vo()({},g,{"aria-disabled":s,role:"radiogroup",className:x,style:c}),b)},t}(or.Component),Cc.propTypes=vo()({},Fs.propTypes,{prefix:lr.a.string,className:lr.a.string,style:lr.a.object,name:lr.a.string,value:lr.a.oneOfType([lr.a.string,lr.a.number,lr.a.bool]),defaultValue:lr.a.oneOfType([lr.a.string,lr.a.number,lr.a.bool]),component:lr.a.oneOfType([lr.a.string,lr.a.func]),onChange:lr.a.func,disabled:lr.a.bool,shape:lr.a.oneOf(["normal","button"]),size:lr.a.oneOf(["large","medium","small"]),dataSource:lr.a.oneOfType([lr.a.arrayOf(lr.a.string),lr.a.arrayOf(lr.a.object)]),children:lr.a.oneOfType([lr.a.arrayOf(lr.a.element),lr.a.element]),itemDirection:lr.a.oneOf(["hoz","ver"]),isPreview:lr.a.bool,renderPreview:lr.a.func}),Cc.defaultProps={dataSource:[],size:"medium",onChange:function e(){},prefix:"next-",component:"div",itemDirection:"hoz",isPreview:!1},Cc.childContextTypes={onChange:lr.a.func,__group__:lr.a.bool,isButton:lr.a.bool,selectedValue:lr.a.oneOfType([lr.a.string,lr.a.number,lr.a.bool]),disabled:lr.a.bool},kc);Tc.displayName="RadioGroup";var Nc=Fs.config(Object(To.polyfill)(Tc));Ec.Group=Nc;var Ac=Ec,Ic,jc,Rc={},Mc=Ya.bindCtx,Pc=Za.pickOthers,Dc=(jc=Ic=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return Mc(r,["stopPropagation","handleKeyDown","handleClick"]),r.id=rs.escapeForId("checkable-item-"+(n.id||n._key)),r}return Oo()(t,e),t.prototype.stopPropagation=function e(t){t.stopPropagation()},t.prototype.handleCheck=function e(t){var n=this.props,r=n.checkType,i=n.checked,o=n.onChange;"radio"===r&&i||o(!i,t)},t.prototype.handleKeyDown=function e(t){t.keyCode!==ns.SPACE||this.props.checkDisabled||this.handleCheck(t),this.props.onKeyDown&&this.props.onKeyDown(t)},t.prototype.handleClick=function e(t){this.handleCheck(t),this.props.onClick&&this.props.onClick(t)},t.prototype.renderCheck=function e(){var t=this.props,n=t.root,r=t.checked,i=t.indeterminate,o=t.disabled,a=t.checkType,s=t.checkDisabled,l=t.onChange,u=n.props.labelToggleChecked,c="radio"===a?Ac:bc,f={tabIndex:"-1",checked:r,disabled:o||s};return"checkbox"===a&&(f.indeterminate=i),u||(f.onChange=l,f.onClick=this.stopPropagation),ar.a.createElement(c,vo()({"aria-labelledby":this.id},f))},t.prototype.render=function e(){var n=this.props,r=n._key,i=n.root,o=n.checked,a=n.disabled,s=n.onClick,l=n.helper,u=n.children,c=i.props,f=c.prefix,h=c.labelToggleChecked,d=Pc(Object.keys(t.propTypes),this.props),p=vo()({_key:r,root:i,disabled:a,type:"item",onClick:s,onKeyDown:this.handleKeyDown},d);h&&!a&&(p.onClick=this.handleClick);var m=void 0;return"string"==typeof u&&(m=u),ar.a.createElement(wl,vo()({"aria-checked":o,title:m},p),this.renderCheck(),ar.a.createElement("span",{className:f+"menu-item-text",id:this.id},u),l?ar.a.createElement("div",{className:f+"menu-item-helper"},l):null)},t}(or.Component),Ic.propTypes={_key:lr.a.string,root:lr.a.object,disabled:lr.a.bool,inlineIndent:lr.a.number,checked:lr.a.bool,indeterminate:lr.a.bool,onChange:lr.a.func,checkType:lr.a.oneOf(["checkbox","radio"]),checkDisabled:lr.a.bool,helper:lr.a.node,children:lr.a.node,onKeyDown:lr.a.func,onClick:lr.a.func,id:lr.a.string},Ic.defaultProps={disabled:!1,checked:!1,indeterminate:!1,checkType:"checkbox",checkDisabled:!1,onChange:Rc},jc),Lc,Fc;Dc.displayName="CheckableItem";var Bc=(Fc=Lc=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.checkboxDisabled,r=xo()(t,["checkboxDisabled"]);return ar.a.createElement(Dc,vo()({role:"menuitemcheckbox",checkType:"checkbox",checkDisabled:n},r))},t}(or.Component),Lc.menuChildType="item",Lc.propTypes={checked:lr.a.bool,indeterminate:lr.a.bool,disabled:lr.a.bool,onChange:lr.a.func,helper:lr.a.node,children:lr.a.node,checkboxDisabled:lr.a.bool},Lc.defaultProps={checked:!1,indeterminate:!1,disabled:!1,onChange:function e(){},checkboxDisabled:!1},Fc),zc,$c;Bc.displayName="CheckboxItem";var Uc=($c=zc=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){return ar.a.createElement(Dc,vo()({role:"menuitemradio",checkType:"radio"},this.props))},t}(or.Component),zc.menuChildType="item",zc.propTypes={checked:lr.a.bool,disabled:lr.a.bool,onChange:lr.a.func,helper:lr.a.node,children:lr.a.node},zc.defaultProps={checked:!1,disabled:!1,onChange:function e(){}},$c),Wc,Vc;Uc.displayName="RadioItem";var Hc=(Vc=Wc=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.root,i=n.className,o=n.label,a=n.children,s=n.parentMode,l=xo()(n,["root","className","label","children","parentMode"]),u=r.props.prefix,c=zs()(((t={})[u+"menu-group-label"]=!0,t[i]=!!i,t)),f=a.map(function(e){var t;if("function"!=typeof e&&"object"!==(void 0===e?"undefined":Io()(e)))return e;var n=e.props.className,r=zs()(((t={})[u+"menu-group-item"]=!0,t[n]=!!n,t));return Object(or.cloneElement)(e,{parentMode:s,className:r})});return[ar.a.createElement(wl,vo()({key:"menu-group-label",className:c,replaceClassName:!0,root:r,parentMode:s},l),o)].concat(f)},t}(or.Component),Wc.menuChildType="group",Wc.propTypes={root:lr.a.object,className:lr.a.string,label:lr.a.node,children:lr.a.node,parentMode:lr.a.oneOf(["inline","popup"])},Vc),Gc,qc;Hc.displayName="Group";var Kc=(qc=Gc=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.root,i=n.className,o=xo()(n,["root","className"]),a=r.props.prefix,s=zs()(((t={})[a+"menu-divider"]=!0,t[i]=!!i,t));return ar.a.createElement("li",vo()({role:"separator",className:s},o))},t}(or.Component),Gc.menuChildType="divider",Gc.propTypes={root:lr.a.object,className:lr.a.string},qc),Yc,Xc;Kc.displayName="Divider";var Zc=Ya.bindCtx,Jc=Fs.getContextProps,Qc=Fs.config(Qu),ef=void 0,tf=(Xc=Yc=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.state={visible:!0},Zc(r,["handleOverlayClose","handleOverlayOpen","handleItemClick","getOverlay"]),r}return Oo()(t,e),t.prototype.getOverlay=function e(t){this.overlay=t},t.prototype.close=function e(){this.setState({visible:!1}),ef=null},t.prototype.handleOverlayClose=function e(t,n){var r;if(!("docClick"===t&&this.popupNodes.some(function(e){return e.contains(n.target)}))){this.close();var i=this.props.overlayProps;if(i&&i.onRequestClose){for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];i.onRequestClose.apply(i,[t,n].concat(a))}}},t.prototype.handleOverlayOpen=function e(){this.popupNodes=this.overlay.getInstance().getContent().getInstance().popupNodes;var t=this.props.overlayProps;t&&t.onOpen&&t.onOpen()},t.prototype.handleItemClick=function e(){var t;this.close(),this.props.onItemClick&&(t=this.props).onItemClick.apply(t,arguments)},t.prototype.render=function e(){var t,n,r=this.props,i=r.className,o=r.popupClassName,a=r.target,s=r.align,l=r.offset,u=r.afterClose,c=r.overlayProps,f=void 0===c?{}:c,h=xo()(r,["className","popupClassName","target","align","offset","afterClose","overlayProps"]),d=Jc(this.props),p=d.prefix,m=this.state.visible,g=vo()({},d,f,{target:a,align:s,offset:l,afterClose:u,visible:m,onRequestClose:this.handleOverlayClose,onOpen:this.handleOverlayOpen,ref:this.getOverlay}),b=vo()({},d,{triggerType:"hover"},h,{className:zs()((t={},t[p+"context"]=!0,t[i]=!!i,t)),popupClassName:zs()((n={},n[p+"context"]=!0,n[o]=!!o,n)),onItemClick:this.handleItemClick});return g.rtl=!1,ar.a.createElement(_u,g,ar.a.createElement(Qc,b))},t}(or.Component),Yc.propTypes={className:lr.a.string,popupClassName:lr.a.string,target:lr.a.any,align:lr.a.string,offset:lr.a.array,overlayProps:lr.a.object,afterClose:lr.a.func,mode:lr.a.oneOf(["inline","popup"]),onOpen:lr.a.func,onItemClick:lr.a.func},Yc.defaultProps={prefix:"next-",align:"tl tl",mode:"popup"},Xc);function nf(e){ef&&ef.destroy();var t=e.afterClose,n=xo()(e,["afterClose"]),r=document.createElement("div");document.body.appendChild(r);var i=function e(){Object(tr.unmountComponentAtNode)(r),document.body.removeChild(r),t&&t()},o=Fs.getContext(),a=void 0;return Object(tr.render)(ar.a.createElement(Fs,o,ar.a.createElement(tf,vo()({ref:function e(t){a=t},afterClose:i},n))),r),ef={destroy:function e(){a&&a.close()}}}tf.displayName="ContextMenu",Qu.SubMenu=zu,Qu.Item=Cl,Qu.CheckboxItem=Bc,Qu.RadioItem=Uc,Qu.PopupItem=Pu,Qu.Group=Hc,Qu.Divider=Kc,Qu.create=nf;var rf=function e(t,n){if("indentSize"in t){n("indentSize","inlineIndent","Menu");var r=t,i=r.indentSize,o=xo()(r,["indentSize"]);t=vo()({inlineIndent:i},o)}if("onDeselect"in t&&(n("onDeselect","onSelect","Menu"),t.onDeselect)){var a=t,s=a.onDeselect,l=a.onSelect,u=xo()(a,["onDeselect","onSelect"]),c=function e(t,n,r){r.select||s(r.key),l&&l(t,n,r)};t=vo()({onSelect:c},u)}return t},of=Fs.config(Qu,{transform:rf}),af,sf,lf=(sf=af=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.getMenuRef=r.getMenuRef.bind(r),r}return Oo()(t,e),t.prototype.getChildContext=function e(){var t=this.props,n=t.prefix,r=t.direction,i=t.mode,o=t.iconOnly,a=t.hasTooltip,s=t.hasArrow,l=this.context.isCollapse;return{prefix:n,mode:"hoz"===r?"popup":i,iconOnly:"iconOnly"in this.props?o:l,hasTooltip:a,hasArrow:s}},t.prototype.getMenuRef=function e(t){this.menu=t},t.prototype.render=function e(){var t,n,r=this.props,i=r.prefix,o=r.className,a=r.style,s=r.children,l=r.type,u=r.direction,c=r.activeDirection,f=r.mode,h=r.triggerType,d=r.inlineIndent,p=r.openMode,m=r.popupAlign,g=r.popupClassName,b=r.iconOnly,y=r.hasArrow,v=r.hasTooltip,w=r.embeddable,x=r.popupProps,_=r.rtl,S=xo()(r,["prefix","className","style","children","type","direction","activeDirection","mode","triggerType","inlineIndent","openMode","popupAlign","popupClassName","iconOnly","hasArrow","hasTooltip","embeddable","popupProps","rtl"]),E=this.context.isCollapse,C="iconOnly"in this.props?b:E,k=c;!k||("hoz"!==u||"left"!==k&&"right"!==k)&&("ver"!==u||"top"!==k&&"bottom"!==k)||(k=null),C||void 0!==k||(k="hoz"===u?"bottom":"line"===l?"right":"left");var O=zs()(((t={})[i+"nav"]=!0,t[""+i+l]=l,t[i+"active"]=k,t[""+i+k]=k,t[i+"icon-only"]=C,t[i+"no-arrow"]=!y,t[i+"nav-embeddable"]=w,t[o]=!!o,t)),T=C?vo()({},a,{width:"58px"}):a,N={prefix:i,direction:u,openMode:p,triggerType:h,mode:"hoz"===u?"popup":f,popupAlign:"hoz"===u?"follow":m,inlineIndent:C?0:d,hasSelectedIcon:!1,popupAutoWidth:!0,selectMode:"single",itemClassName:i+"nav-item",popupClassName:zs()((n={},n[O.replace(i+"icon-only","").replace(i+"nav-embeddable","")]="popup"===f,n[i+"icon-only"]=C&&"inline"===f,n[g]=!!g,n)),popupProps:function e(t){return vo()({offset:"hoz"===u&&1===t.level?[0,2]:[-2,0]},x)}};return ar.a.createElement(of,vo()({className:O,style:T},N,S,{ref:this.getMenuRef}),s)},t}(or.Component),af.propTypes={prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,className:lr.a.string,style:lr.a.object,children:lr.a.node,type:lr.a.oneOf(["normal","primary","secondary","line"]),direction:lr.a.oneOf(["hoz","ver"]),hozAlign:lr.a.oneOf(["left","right"]),activeDirection:lr.a.oneOf([null,"top","bottom","left","right"]),mode:lr.a.oneOf(["inline","popup"]),triggerType:lr.a.oneOf(["click","hover"]),inlineIndent:lr.a.number,defaultOpenAll:lr.a.bool,openMode:lr.a.oneOf(["single","multiple"]),selectedKeys:lr.a.oneOfType([lr.a.string,lr.a.array]),defaultSelectedKeys:lr.a.oneOfType([lr.a.string,lr.a.array]),onSelect:lr.a.func,popupAlign:lr.a.oneOf(["follow","outside"]),popupClassName:lr.a.string,iconOnly:lr.a.bool,hasArrow:lr.a.bool,hasTooltip:lr.a.bool,header:lr.a.node,footer:lr.a.node,embeddable:lr.a.bool,popupProps:lr.a.object},af.defaultProps={prefix:"next-",pure:!1,type:"normal",direction:"ver",hozAlign:"left",mode:"inline",triggerType:"click",inlineIndent:20,defaultOpenAll:!1,openMode:"multiple",defaultSelectedKeys:[],popupAlign:"follow",hasTooltip:!1,embeddable:!1,hasArrow:!0,popupProps:{}},af.childContextTypes={prefix:lr.a.string,mode:lr.a.string,iconOnly:lr.a.bool,hasTooltip:lr.a.bool,hasArrow:lr.a.bool},af.contextTypes={isCollapse:lr.a.bool},sf);lf.displayName="Nav";var uf=Fs.config(lf),cf={t:{align:"bc tc",rtlAlign:"bc tc",arrow:"bottom",trOrigin:"bottom",rtlTrOrigin:"bottom",offset:[0,-12]},r:{align:"cl cr",rtlAlign:"cr cl",arrow:"left",trOrigin:"left",rtlTrOrigin:"right",offset:[12,0]},b:{align:"tc bc",rtlAlign:"tc bc",arrow:"top",trOrigin:"top",rtlTrOrigin:"top",offset:[0,12]},l:{align:"cr cl",rtlAlign:"cl cr",arrow:"right",trOrigin:"right",rtlTrOrigin:"left",offset:[-12,0]},tl:{align:"br tc",rtlAlign:"bl tc",arrow:"bottom-right",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[20,-12]},tr:{align:"bl tc",rtlAlign:"br tc",arrow:"bottom-left",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[-20,-12]},rt:{align:"bl cr",rtlAlign:"br cl",arrow:"left-bottom",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[12,20]},rb:{align:"tl cr",rtlAlign:"tr cl",arrow:"left-top",trOrigin:"top left",rtlTrOrigin:"top right",offset:[12,-20]},bl:{align:"tr bc",rtlAlign:"tl bc",arrow:"top-right",trOrigin:"top right",rtlTrOrigin:"top left",offset:[20,12]},br:{align:"tl bc",rtlAlign:"tr bc",arrow:"top-left",trOrigin:"top left",rtlTrOrigin:"top right",offset:[-20,12]},lt:{align:"br cl",rtlAlign:"bl cr",arrow:"right-bottom",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[-12,20]},lb:{align:"tr cl",rtlAlign:"tl cr",arrow:"right-top",trOrigin:"top right",rtlTrOrigin:"top left",offset:[-12,-20]}},ff={t:{align:"bc tc",rtlAlign:"bc tc",arrow:"bottom",trOrigin:"bottom",rtlTrOrigin:"bottom",offset:[0,-12]},r:{align:"cl cr",rtlAlign:"cr cl",arrow:"left",trOrigin:"left",rtlTrOrigin:"right",offset:[12,0]},b:{align:"tc bc",rtlAlign:"tc bc",arrow:"top",trOrigin:"top",rtlTrOrigin:"top",offset:[0,12]},l:{align:"cr cl",rtlAlign:"cl cr",arrow:"right",trOrigin:"right",rtlTrOrigin:"left",offset:[-12,0]},tl:{align:"bl tl",rtlAlign:"br tr",arrow:"bottom-left",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[0,-12]},tr:{align:"br tr",rtlAlign:"bl tl",arrow:"bottom-right",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[0,-12]},rt:{align:"tl tr",rtlAlign:"tr tl",arrow:"left-top",trOrigin:"top left",rtlTrOrigin:"top right",offset:[12,0]},rb:{align:"bl br",rtlAlign:"br bl",arrow:"left-bottom",trOrigin:"bottom left",rtlTrOrigin:"bottom right",offset:[12,0]},bl:{align:"tl bl",rtlAlign:"tr br",arrow:"top-left",trOrigin:"top left",rtlTrOrigin:"top right",offset:[0,12]},br:{align:"tr br",rtlAlign:"tl bl",arrow:"top-right",trOrigin:"top right",rtlTrOrigin:"top left",offset:[0,12]},lt:{align:"tr tl",rtlAlign:"tl tr",arrow:"right-top",trOrigin:"top right",rtlTrOrigin:"top left",offset:[-12,0]},lb:{align:"br bl",rtlAlign:"bl br",arrow:"right-bottom",trOrigin:"bottom right",rtlTrOrigin:"bottom left",offset:[-12,0]}},hf,df,pf=Ya.noop,mf=(df=hf=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.closable,a=r.className,s=r.style,l=r.isTooltip,u=r.align,c=r.type,f=r.onClose,h=r.alignEdge,d=r.children,p=r.rtl,m=r.locale,g=xo()(r,["prefix","closable","className","style","isTooltip","align","type","onClose","alignEdge","children","rtl","locale"]),b=h?ff:cf,y=i;y+=l?"balloon-tooltip":"balloon";var v=zs()(((n={})[""+y]=!0,n[y+"-"+c]=c,n[y+"-medium"]=!0,n[y+"-"+b[u].arrow]=b[u],n[y+"-closable"]=o,n[a]=a,n));return ar.a.createElement("div",vo()({role:"tooltip","aria-live":"polite",dir:p?"rtl":void 0,className:v,style:s},Za.pickOthers(Object.keys(t.propTypes),g)),d,o?ar.a.createElement("a",{role:"button","aria-label":m.close,tabIndex:"0",className:y+"-close",onClick:f},ar.a.createElement(ml,{type:"close",size:"small"})):null)},t}(ar.a.Component),hf.contextTypes={prefix:lr.a.string},hf.propTypes={prefix:lr.a.string,rtl:lr.a.bool,closable:lr.a.bool,children:lr.a.any,className:lr.a.string,alignEdge:lr.a.bool,onClose:lr.a.func,style:lr.a.any,align:lr.a.string,type:lr.a.string,isTooltip:lr.a.bool,locale:lr.a.object,pure:lr.a.bool},hf.defaultProps={prefix:"next-",closable:!0,onClose:pf,locale:No.Balloon,align:"b",type:"normal",alignEdge:!1,pure:!1},df);mf.displayName="BalloonInner";var gf=mf,bf,yf;function vf(e){if("Config(Button)"===e.type.displayName&&e.props.disabled){var t=e.props.style&&e.props.style.display?e.props.style.display:"inline-block",n=ar.a.cloneElement(e,{style:vo()({},e.props.style,{pointerEvents:"none"})});return ar.a.createElement("span",{style:{display:t,cursor:"not-allowed"}},n)}return e}var wf=Ya.noop,xf=_u.Popup,_f=["t","r","b","l","tl","tr","bl","br","lt","lb","rt","rb"],Sf=cf,Ef=(yf=bf=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));return i.state={align:_f.includes(n.align)?n.align:"b",visible:"visible"in n?n.visible:n.defaultVisible},i._onClose=i._onClose.bind(i),i._onPosition=i._onPosition.bind(i),i._onVisibleChange=i._onVisibleChange.bind(i),i}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};return"visible"in t&&(r.visible=t.visible),!n.innerAlign&&"align"in t&&_f.includes(t.align)&&(r.align=t.align,r.innerAlign=!1),r},t.prototype._onVisibleChange=function e(t,n){"visible"in this.props||this.setState({visible:t}),this.props.onVisibleChange(t,n),t||this.props.onClose()},t.prototype._onClose=function e(t){this._onVisibleChange(!1,"closeClick"),t.preventDefault()},t.prototype._onPosition=function e(t){var n=this.props.rtl;Sf=this.props.alignEdge?ff:cf;var r=t.align.join(" "),i=void 0,o="align";for(var a in n&&(o="rtlAlign"),Sf)if(Sf[a][o]===r){i=a;break}(i=i||this.state.align)!==this.state.align&&this.setState({align:i,innerAlign:!0})},t.prototype.render=function e(){var n=this.props,r=n.id,i=n.type,o=n.prefix,a=n.className,s=n.alignEdge,l=n.trigger,u=n.triggerType,c=n.children,f=n.closable,h=n.shouldUpdatePosition,d=n.delay,p=n.needAdjust,m=n.safeId,g=n.autoFocus,b=n.safeNode,y=n.onClick,v=n.onHover,w=n.animation,x=n.offset,_=n.style,S=n.container,E=n.popupContainer,C=n.cache,k=n.popupStyle,O=n.popupClassName,T=n.popupProps,N=n.followTrigger,A=n.rtl,I=xo()(n,["id","type","prefix","className","alignEdge","trigger","triggerType","children","closable","shouldUpdatePosition","delay","needAdjust","safeId","autoFocus","safeNode","onClick","onHover","animation","offset","style","container","popupContainer","cache","popupStyle","popupClassName","popupProps","followTrigger","rtl"]);S&&Xa.deprecated("container","popupContainer","Balloon");var j=this.state.align;Sf=s?ff:cf;var R=this.context.prefix||o,M="trOrigin";A&&(M="rtlTrOrigin");var P=[Sf[j].offset[0]+x[0],Sf[j].offset[1]+x[1]],D=Sf[j][M],L=vo()({transformOrigin:D},_),F=ar.a.createElement(gf,vo()({},Za.pickOthers(Object.keys(t.propTypes),I),{id:r,prefix:R,closable:f,onClose:this._onClose,className:a,style:L,align:j,type:i,rtl:A,alignEdge:s}),c),B={};B["aria-describedby"]=r,B.tabIndex="0";var z=r?ar.a.cloneElement(l,B):l,$=vf(ar.a.isValidElement(z)?z:ar.a.createElement("span",null,z));return ar.a.createElement(xf,vo()({},T,{followTrigger:N,trigger:$,cache:C,safeId:m,triggerType:u,align:Sf[j].align,offset:P,visible:this.state.visible,onPosition:this._onPosition,onClick:y,onHover:v,afterClose:this.props.afterClose,onVisibleChange:this._onVisibleChange,shouldUpdatePosition:h,needAdjust:p,animation:w,delay:d,autoFocus:"focus"!==u&&g,safeNode:b,container:E||S,className:O,style:k,rtl:A}),F)},t}(ar.a.Component),bf.contextTypes={prefix:lr.a.string},bf.propTypes={prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,className:lr.a.string,style:lr.a.object,children:lr.a.any,size:lr.a.string,type:lr.a.oneOf(["normal","primary"]),visible:lr.a.bool,defaultVisible:lr.a.bool,onVisibleChange:lr.a.func,alignEdge:lr.a.bool,closable:lr.a.bool,align:lr.a.oneOf(_f),offset:lr.a.array,trigger:lr.a.any,triggerType:lr.a.oneOfType([lr.a.string,lr.a.array]),onClick:lr.a.func,onClose:lr.a.func,onHover:lr.a.func,needAdjust:lr.a.bool,delay:lr.a.number,afterClose:lr.a.func,shouldUpdatePosition:lr.a.bool,autoFocus:lr.a.bool,safeNode:lr.a.string,safeId:lr.a.string,animation:lr.a.oneOfType([lr.a.object,lr.a.bool]),cache:lr.a.bool,popupContainer:lr.a.any,container:lr.a.any,popupStyle:lr.a.object,popupClassName:lr.a.string,popupProps:lr.a.object,followTrigger:lr.a.bool,id:lr.a.string},bf.defaultProps={prefix:"next-",pure:!1,type:"normal",closable:!0,defaultVisible:!1,size:"medium",alignEdge:!1,align:"b",offset:[0,0],trigger:ar.a.createElement("span",null),onClose:wf,afterClose:wf,onVisibleChange:wf,needAdjust:!1,triggerType:"hover",safeNode:void 0,safeId:null,autoFocus:!0,animation:{in:"zoomIn",out:"zoomOut"},cache:!1,popupStyle:{},popupClassName:"",popupProps:{}},yf);Ef.displayName="Balloon";var Cf=Object(To.polyfill)(Ef),kf,Of,Tf=_u.Popup,Nf=cf,Af=(Of=kf=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.id,r=t.className,i=t.align,o=t.style,a=t.prefix,s=t.trigger,l=t.children,u=t.popupContainer,c=t.popupProps,f=t.popupClassName,h=t.popupStyle,d=t.followTrigger,p=t.triggerType,m=t.autoFocus,g=t.alignEdge,b=t.rtl,y=t.delay,v=xo()(t,["id","className","align","style","prefix","trigger","children","popupContainer","popupProps","popupClassName","popupStyle","followTrigger","triggerType","autoFocus","alignEdge","rtl","delay"]),w="trOrigin";b&&(v.rtl=!0,w="rtlTrOrigin");var x=(Nf=g?ff:cf)[i][w],_=Nf[i].offset,S=vo()({transformOrigin:x},o),E=ar.a.createElement(gf,vo()({},v,{id:n,prefix:a,closable:!1,isTooltip:!0,className:r,style:S,align:i,rtl:b,alignEdge:g}),l),C={};C["aria-describedby"]=n,C.tabIndex="0";var k=p;"hover"===p&&n&&(k=["focus","hover"]);var O=n?ar.a.cloneElement(s,C):s,T=vf(ar.a.isValidElement(O)?O:ar.a.createElement("span",null,O));return ar.a.createElement(Tf,vo()({role:"tooltip",container:u,followTrigger:d,trigger:T,triggerType:k,align:Nf[i].align,offset:_,delay:y,className:f,style:h,rtl:b,autoFocus:"focus"!==p&&m,shouldUpdatePosition:!0,needAdjust:!1},c),E)},t}(ar.a.Component),kf.propTypes={prefix:lr.a.string,className:lr.a.string,style:lr.a.object,children:lr.a.any,align:lr.a.oneOf(["t","r","b","l","tl","tr","bl","br","lt","lb","rt","rb"]),trigger:lr.a.any,triggerType:lr.a.oneOfType([lr.a.string,lr.a.array]),popupStyle:lr.a.object,popupClassName:lr.a.string,popupProps:lr.a.object,pure:lr.a.bool,popupContainer:lr.a.any,followTrigger:lr.a.bool,id:lr.a.string,delay:lr.a.number},kf.defaultProps={triggerType:"hover",prefix:"next-",align:"b",delay:0,trigger:ar.a.createElement("span",null)},Of);Af.displayName="Tooltip",Cf.Tooltip=Fs.config(Af,{transform:function e(t,n){if("text"in t){n("text","children","Tooltip");var r=t,i=r.text,o=xo()(r,["text"]);t=vo()({children:i},o)}return t}}),Cf.Inner=gf;var If,jf,Rf,Mf=Fs.config(Cf,{transform:function e(t,n){if(t.alignment){n("alignment","alignEdge","Balloon");var r=t,i=r.alignment,o=xo()(r,["alignment"]);t=vo()({alignEdge:"edge"===i},o)}if(t.onCloseClick){n("onCloseClick",'onVisibleChange(visible, [type = "closeClick"])',"Balloon");var a=t,s=a.onCloseClick,l=a.onVisibleChange,u=xo()(a,["onCloseClick","onVisibleChange"]),c=function e(t,n){"closeClick"===n&&s(),l&&l(t,n)};t=vo()({onVisibleChange:c},u)}return t}}).Tooltip,Pf=(Rf=jf=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.context,n=t.prefix,r=t.iconOnly,i=t.hasTooltip,o=this.props,a=o.icon,s=o.children,l=xo()(o,["icon","children"]),u="string"==typeof a?ar.a.createElement(ml,{className:n+"nav-icon",type:a}):a,c=void 0;"string"==typeof s&&(c=s);var f=ar.a.createElement(of.Item,vo()({title:c},l),u,s);return r&&i&&"popup"!==l.parentMode?ar.a.createElement(Mf,{align:"r",trigger:f},s):f},t}(or.Component),jf.menuChildType="item",jf.propTypes={icon:lr.a.oneOfType([lr.a.string,lr.a.node]),children:lr.a.node,parentMode:lr.a.oneOf(["inline","popup"])},jf.contextTypes={prefix:lr.a.string,iconOnly:lr.a.bool,hasTooltip:lr.a.bool},Rf);Pf.displayName="Item";var Df=Pf,Lf,Ff,Bf=(Ff=Lf=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.context,r=n.prefix,i=n.iconOnly,o=this.props,a=o.className,s=o.children,l=o.label,u=xo()(o,["className","children","label"]),c=l;i&&(c=[ar.a.createElement("span",{key:"label"},l)]);var f=zs()(((t={})[r+"nav-group-label"]=!0,t[a]=!!a,t));return ar.a.createElement(of.Group,vo()({className:f,label:c},u),s)},t}(or.Component),Lf.menuChildType="group",Lf.propTypes={className:lr.a.string,label:lr.a.node,children:lr.a.node},Lf.contextTypes={prefix:lr.a.string,iconOnly:lr.a.bool},Ff);Bf.displayName="Group";var zf=Bf,$f,Uf,Wf=(Uf=$f=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.context,r=n.prefix,i=n.iconOnly,o=n.hasArrow,a=n.mode,s=this.props,l=s.className,u=s.icon,c=s.label,f=s.children,h=s.level,d=xo()(s,["className","icon","label","children","level"]),p=zs()(((t={})[r+"nav-sub-nav-item"]=!0,t[l]=!!l,t)),m="string"==typeof u?ar.a.createElement(ml,{className:r+"nav-icon",type:u}):u;i&&o&&("inline"===a||1===h&&"popup"===a)&&(m=ar.a.createElement(ml,{className:r+"nav-icon-only-arrow",type:"popup"===a?"arrow-right":"arrow-down"}));var g=[m?Object(or.cloneElement)(m,{key:"icon"}):null,ar.a.createElement("span",{key:"label"},c)],b=void 0;return"string"==typeof c&&(b=c),ar.a.createElement(of.SubMenu,vo()({className:p,label:g,level:h,title:b},d),f)},t}(or.Component),$f.menuChildType="submenu",$f.propTypes={className:lr.a.string,icon:lr.a.oneOfType([lr.a.string,lr.a.node]),label:lr.a.node,selectable:lr.a.bool,children:lr.a.node},$f.defaultProps={selectable:!1},$f.contextTypes={prefix:lr.a.string,mode:lr.a.string,iconOnly:lr.a.bool,hasArrow:lr.a.bool},Uf);Wf.displayName="SubNav";var Vf=Wf,Hf,Gf,qf=(Gf=Hf=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.context,r=n.prefix,i=n.iconOnly,o=n.hasArrow,a=this.props,s=a.className,l=a.icon,u=a.label,c=a.children,f=xo()(a,["className","icon","label","children"]),h=zs()(((t={})[r+"nav-popup-item"]=!0,t[s]=!!s,t)),d="string"==typeof l?ar.a.createElement(ml,{className:r+"nav-icon",type:l}):l;i&&o&&(d=ar.a.createElement(ml,{className:r+"nav-icon-only-arrow",type:"arrow-right"}));var p=[d?Object(or.cloneElement)(d,{key:"icon"}):null,ar.a.createElement("span",{key:"label"},u)];return ar.a.createElement(of.PopupItem,vo()({className:h,label:p},f),c)},t}(or.Component),Hf.menuChildType="submenu",Hf.propTypes={className:lr.a.string,icon:lr.a.oneOfType([lr.a.string,lr.a.node]),label:lr.a.node,children:lr.a.node},Hf.contextTypes={prefix:lr.a.string,iconOnly:lr.a.bool,hasArrow:lr.a.bool},Gf);qf.displayName="PopupItem";var Kf=qf;uf.Item=Df,uf.Group=zf,uf.SubNav=Vf,uf.PopupItem=Kf,uf.Divider=of.Divider;var Yf=uf,Xf=n(534);function Zf(e){"@babel/helpers - typeof";return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(e,t,n){return t&&Qf(e.prototype,t),n&&Qf(e,n),e}function th(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nh(e,t)}function nh(e,t){return(nh=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function rh(e){return function(){var t=sh(e),n;if(ah()){var r=sh(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return ih(this,n)}}function ih(e,t){return!t||"object"!==Zf(t)&&"function"!=typeof t?oh(e):t}function oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ah(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function sh(e){return(sh=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lh=Yf.Item,uh=ar.a.createElement("a",{href:"/index.html",style:{color:"#000"}},ar.a.createElement("span",{className:"header"},"PipBoard")),ch=function(e){th(n,e);var t=rh(n);function n(){var e;Jf(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).select=function(e){location.href="/index.html#/".concat(e[0])},e}return eh(n,[{key:"render",value:function e(){return ar.a.createElement("div",{className:"dashboard"},ar.a.createElement(Yf,{className:"basic-nav",onSelect:this.select,direction:"hoz",hozAlign:"left",activeDirection:"top",type:"normal",header:uh,selectedKeys:[location.hash.replace(/#\//,"")||"home"],triggerType:"hover"},ar.a.createElement(lh,{key:"pipeline"},"Pipelines"),ar.a.createElement(lh,{key:"jobs"},"Jobs")),this.props.children)}}]),n}(or.Component),fh=n(586),hh=function e(t){location.href=t};function dh(e){var t=e.items;return ar.a.createElement("div",{className:"card-wrapper"},t.map(function(e){return ar.a.createElement("div",{className:"card-item",onClick:function t(){hh(e.url)}},ar.a.createElement("img",{className:"card-img",src:e.cover,alt:""}),ar.a.createElement("h5",{className:"card-title"},e.title),ar.a.createElement("p",{className:"card-desc"},e.description))}))}var ph=n(587),mh=[{title:"MNIST Handwritten Digit Recognition",cover:"https://img.alicdn.com/tfs/TB1GtzSy.T1gK0jSZFrXXcNCXXa-480-360.jpg",description:"We have trained a neural network to recognize handwritten digits. You can have a try to give your own handwritten digit",url:"/index.html#/tutorial/mnist"},{title:"Image Classification for Front-end Assets",cover:"https://gw.alicdn.com/tfs/TB1yujRgUY1gK0jSZFMXXaWcVXa-524-410.png",description:"Use CNN trained by Pipcook to try understand the meaning of image assets used in Taobao App",url:"/index.html#/tutorial/assets-classification"}];function gh(){return ar.a.createElement("div",{className:"tutorial"},ar.a.createElement(dh,{items:mh}))}var bh=n(588),yh,vh;function wh(e){return{large:"small",medium:"xs",small:"xs"}[e]}var xh=(vh=yh=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onMouseUp=function(e){r.button.blur(),r.props.onMouseUp&&r.props.onMouseUp(e)},r.buttonRefHandler=function(e){r.button=e},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.className,a=r.type,s=r.size,l=r.htmlType,u=r.loading,c=r.text,f=r.warning,h=r.ghost,d=r.component,p=r.iconSize,m=r.icons,g=r.disabled,b=r.onClick,y=r.children,v=r.rtl,w=xo()(r,["prefix","className","type","size","htmlType","loading","text","warning","ghost","component","iconSize","icons","disabled","onClick","children","rtl"]),x=["light","dark"].indexOf(h)>=0?h:"dark",_=((n={})[i+"btn"]=!0,n[""+i+s]=s,n[i+"btn-"+a]=a&&!h,n[i+"btn-text"]=c,n[i+"btn-warning"]=f,n[i+"btn-loading"]=u,n[i+"btn-ghost"]=h,n[i+"btn-"+x]=h,n[o]=o,n),S=null;if(m&&m.loading&&Object(or.isValidElement)(m.loading)){var E;u&&(delete _[i+"btn-loading"],_[i+"btn-custom-loading"]=!0);var C=p||wh(s);S=ar.a.cloneElement(m.loading,{className:zs()((E={},E[i+"btn-custom-loading-icon"]=!0,E.show=u,E)),size:C})}var k=or.Children.count(y),O=or.Children.map(y,function(e,t){if(e&&"function"==typeof e.type&&"icon"===e.type._typeMark){var n,r=zs()(((n={})[i+"btn-icon"]=!p,n[i+"icon-first"]=k>1&&0===t,n[i+"icon-last"]=k>1&&t===k-1,n[i+"icon-alone"]=1===k,n[e.props.className]=!!e.props.className,n));return"size"in e.props&&Xa.warning('The size of Icon will not take effect, when Icon is the [direct child element] of Button(<Button><Icon size="'+e.props.size+'" /></Button>), use <Button iconSize="'+e.props.size+'"> or <Button><div><Icon size="'+e.props.size+'" /></div></Button> instead of.'),ar.a.cloneElement(e,{className:r,size:p||wh(s)})}return Object(or.isValidElement)(e)?e:ar.a.createElement("span",{className:i+"btn-helper"},e)}),T=d,N=vo()({},Za.pickOthers(Object.keys(t.propTypes),w),{type:l,disabled:g,onClick:b,className:zs()(_)});return"button"!==T&&(delete N.type,N.disabled&&(delete N.onClick,N.href&&delete N.href)),ar.a.createElement(T,vo()({},N,{dir:v?"rtl":void 0,onMouseUp:this.onMouseUp,ref:this.buttonRefHandler}),S,O)},t}(or.Component),yh.propTypes=vo()({},Fs.propTypes,{prefix:lr.a.string,rtl:lr.a.bool,type:lr.a.oneOf(["primary","secondary","normal"]),size:lr.a.oneOf(["small","medium","large"]),icons:lr.a.shape({loading:lr.a.node}),iconSize:lr.a.oneOfType([lr.a.oneOf(["xxs","xs","small","medium","large","xl","xxl","xxxl","inherit"]),lr.a.number]),htmlType:lr.a.oneOf(["submit","reset","button"]),component:lr.a.oneOf(["button","a","div","span"]),loading:lr.a.bool,ghost:lr.a.oneOf([!0,!1,"light","dark"]),text:lr.a.bool,warning:lr.a.bool,disabled:lr.a.bool,onClick:lr.a.func,className:lr.a.string,onMouseUp:lr.a.func,children:lr.a.node}),yh.defaultProps={prefix:"next-",type:"normal",size:"medium",icons:{},htmlType:"button",component:"button",loading:!1,ghost:!1,text:!1,warning:!1,disabled:!1,onClick:function e(){}},vh),_h,Sh;xh.displayName="Button";var Eh=(Sh=_h=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.size,a=n.children,s=n.rtl,l=xo()(n,["prefix","className","size","children","rtl"]),u=zs()(((t={})[r+"btn-group"]=!0,t[i]=i,t)),c=or.Children.map(a,function(e){if(e)return ar.a.cloneElement(e,{size:o})});return s&&(l.dir="rtl"),ar.a.createElement("div",vo()({},l,{className:u}),c)},t}(or.Component),_h.propTypes=vo()({},Fs.propTypes,{rtl:lr.a.bool,prefix:lr.a.string,size:lr.a.string,className:lr.a.string,children:lr.a.node}),_h.defaultProps={prefix:"next-",size:"medium"},Sh);Eh.displayName="ButtonGroup";var Ch=Fs.config(Eh);xh.Group=Ch;var kh=Fs.config(xh,{transform:function e(t,n){if("shape"in t){n("shape","text | warning | ghost","Button");var r=t,i=r.shape,o=r.type,a=xo()(r,["shape","type"]),s=o;("light"===o||"dark"===o||"secondary"===o&&"warning"===i)&&(s="normal");var l=void 0;"ghost"===i&&(l={primary:"dark",secondary:"dark",normal:"light",dark:"dark",light:"light"}[o||xh.defaultProps.type]);var u="text"===i,c="warning"===i;t=vo()({type:s,ghost:l,text:u,warning:c},a)}return t}}),Oh=n(268),Th=n.n(Oh),Nh=n(269),Ah=n.n(Nh),Ih=n(592),jh,Rh,Mh=function e(){},Ph=(Rh=jh=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.state={visible:void 0===r.props.visible?r.props.defaultVisible:r.props.visible},r.onClose=function(){"visible"in r.props||r.setState({visible:!1}),r.props.onClose(!1)},i=n,Co()(r,i)}return Oo()(t,e),t.getDerivedStateFromProps=function e(t){return"visible"in t?{visible:t.visible}:{}},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.pure,a=r.className,s=r.style,l=r.type,u=r.shape,c=r.size,f=r.title,h=r.children,d=r.defaultVisible,p=r.visible,m=r.iconType,g=r.closeable,b=r.onClose,y=r.afterClose,v=r.animation,w=r.rtl,x=r.locale,_=vo()({},Za.pickOthers(Object.keys(t.propTypes),this.props)),S=this.state.visible,E=i+"message",C=zs()(((n={})[E]=!0,n[i+"message-"+l]=l,n[""+i+u]=u,n[""+i+c]=c,n[i+"title-content"]=!!f,n[i+"only-content"]=!f&&!!h,n[a]=a,n)),k=S?ar.a.createElement("div",vo()({role:"alert",style:s},_,{className:C,dir:w?"rtl":void 0}),g?ar.a.createElement("a",{role:"button","aria-label":x.closeAriaLabel,className:E+"-close",onClick:this.onClose},ar.a.createElement(ml,{type:"close"})):null,ar.a.createElement(ml,{className:E+"-symbol "+(!m&&E+"-symbol-icon"),type:m}),f?ar.a.createElement("div",{className:E+"-title"},f):null,h?ar.a.createElement("div",{className:E+"-content"},h):null):null;return v?ar.a.createElement(ul.Expand,{animationAppear:!1,afterLeave:y},k):k},t}(or.Component),jh.propTypes={prefix:lr.a.string,pure:lr.a.bool,className:lr.a.string,style:lr.a.object,type:lr.a.oneOf(["success","warning","error","notice","help","loading"]),shape:lr.a.oneOf(["inline","addon","toast"]),size:lr.a.oneOf(["medium","large"]),title:lr.a.node,children:lr.a.node,defaultVisible:lr.a.bool,visible:lr.a.bool,iconType:lr.a.string,closeable:lr.a.bool,onClose:lr.a.func,afterClose:lr.a.func,animation:lr.a.bool,locale:lr.a.object,rtl:lr.a.bool},jh.defaultProps={prefix:"next-",pure:!1,type:"success",shape:"inline",size:"medium",defaultVisible:!0,closeable:!1,onClose:Mh,afterClose:Mh,animation:!0,locale:No.Message},Rh);Ph.displayName="Message";var Dh=Fs.config(Object(To.polyfill)(Ph)),Lh,Fh,Bh=Fs.config,zh=void 0,$h={},Uh=(Fh=Lh=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.state={visible:!0},r.handleClose=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.setState({visible:!1}),e||r.props.onClose&&r.props.onClose()},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.componentWillUnmount=function e(){var t=this.props.timeoutId;if(t in $h){var n=$h[t];clearTimeout(n),delete $h[t]}},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.type,i=t.title,o=t.content,a=t.align,s=t.offset,l=t.hasMask,u=t.afterClose,c=t.animation,f=t.overlayProps,h=t.timeoutId,d=t.className,p=t.style,m=xo()(t,["prefix","type","title","content","align","offset","hasMask","afterClose","animation","overlayProps","timeoutId","className","style"]),g=this.state.visible;return ar.a.createElement(_u,vo()({},f,{prefix:n,animation:c,visible:g,align:a,offset:s,hasMask:l,afterClose:u}),ar.a.createElement(Dh,vo()({},m,{prefix:n,visible:!0,type:r,shape:"toast",title:i,style:p,className:n+"message-wrapper "+d,onClose:this.handleClose}),o))},t}(ar.a.Component),Lh.contextTypes={prefix:lr.a.string},Lh.propTypes={prefix:lr.a.string,type:lr.a.string,title:lr.a.node,content:lr.a.node,align:lr.a.string,offset:lr.a.array,hasMask:lr.a.bool,afterClose:lr.a.func,animation:lr.a.oneOfType([lr.a.object,lr.a.bool]),overlayProps:lr.a.object,onClose:lr.a.func,timeoutId:lr.a.string,style:lr.a.object,className:lr.a.string},Lh.defaultProps={prefix:"next-",align:"tc tc",offset:[0,30],hasMask:!1,animation:{in:"pulse",out:"zoomOut"},style:{},className:""},Fh);Uh.displayName="Mask";var Wh=Bh(Uh),Vh=function e(t){var n=t.duration,r=t.afterClose,i=xo()(t,["duration","afterClose"]),o=document.createElement("div");document.body.appendChild(o);var a=function e(){nr.a.unmountComponentAtNode(o),document.body.removeChild(o),r&&r()},s=Fs.getContext(),l=void 0,u=void 0,c=!1,f=function e(){var t=l&&l.getInstance();t&&t.handleClose(!0),c=!0};return nr.a.render(ar.a.createElement(Fs,s,ar.a.createElement(Wh,vo()({afterClose:a},i,{ref:function e(t){u=t}}))),o,function(){(l=u)&&c&&f()}),{component:l,destroy:f}};function Hh(e,t){var n={};return"string"==typeof e||ar.a.isValidElement(e)?n.title=e:Gh(e)&&(n=vo()({},e)),"number"!=typeof n.duration&&(n.duration=3e3),t&&(n.type=t),n}function Gh(e){return"[object Object]"==={}.toString.call(e)}function qh(e,t){Kh(),e=Hh(e,t);var n=ts();if(zh=Vh(vo()({},e,{timeoutId:n})),e.duration>0){var r=setTimeout(Kh,e.duration);$h[n]=r}}function Kh(){zh&&(zh.destroy(),zh=null)}function Yh(e){qh(e)}function Xh(){Kh()}function Zh(e){qh(e,"success")}function Jh(e){qh(e,"warning")}function Qh(e){qh(e,"error")}function ed(e){qh(e,"help")}function td(e){qh(e,"loading")}function nd(e){qh(e,"notice")}var rd=Yh,id=Xh,od=Zh,ad=Jh,sd=Qh,ld=ed,ud=td,cd=nd;Dh.show=rd,Dh.success=od,Dh.warning=ad,Dh.error=sd,Dh.notice=cd,Dh.help=ld,Dh.loading=ud,Dh.hide=id;var fd=Fs.config(Dh,{componentName:"Message"});function hd(e){fd.success(e)}function dd(e){fd.show({type:"error",title:"error",content:e,hasMask:!0})}function pd(e){fd.show({type:"warning",title:"warning",content:e,hasMask:!0})}function md(e){fd.show({type:"loading",title:"loading",content:e,hasMask:!0,duration:0})}function gd(){fd.hide()}var bd=n(593),yd,vd,wd=Ya.makeChain,xd=Za.pickOthers,_d=function e(){},Sd=(vd=yd=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.getNode=function e(t,n){this[t]=n},t.prototype.renderHeader=function e(){var t=this.props,n=t.prefix,r=t.title;return r?(this.titleId=ts("dialog-title-"),ar.a.createElement("div",{className:n+"dialog-header",id:this.titleId,ref:this.getNode.bind(this,"headerNode"),role:"heading","aria-level":"1"},r)):null},t.prototype.renderBody=function e(){var t=this.props,n=t.prefix,r=t.children;return r?ar.a.createElement("div",{className:n+"dialog-body",ref:this.getNode.bind(this,"bodyNode")},r):null},t.prototype.renderFooter=function e(){var t,n=this,r=this.props,i=r.prefix,o=r.footer,a=r.footerAlign,s=r.footerActions,l=r.locale,u=r.height;if(!1===o)return null;var c=zs()(((t={})[i+"dialog-footer"]=!0,t[i+"align-"+a]=!0,t[i+"dialog-footer-fixed-height"]=!!u,t)),f=!0!==o&&o?o:s.map(function(e){var t=n.props[e+"Props"],r=vo()({},t,{prefix:i,className:zs()(i+"dialog-btn",t.className),onClick:wd(n.props["on"+(e[0].toUpperCase()+e.slice(1))],t.onClick),children:t.children||l[e]});return"ok"===e&&(r.type="primary"),ar.a.createElement(kh,vo()({key:e},r))});return ar.a.createElement("div",{className:c,ref:this.getNode.bind(this,"footerNode")},f)},t.prototype.renderCloseLink=function e(){var t=this.props,n=t.prefix,r=t.closeable,i=t.onClose,o=t.locale;return r?ar.a.createElement("a",{role:"button","aria-label":o.close,className:n+"dialog-close",onClick:i},ar.a.createElement(ml,{className:n+"dialog-close-icon",type:"close"})):null},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.className,a=r.closeable,s=r.title,l=r.role,u=r.rtl,c=r.height,f=xd(Object.keys(t.propTypes),this.props),h=zs()(((n={})[i+"dialog"]=!0,n[i+"closeable"]=a,n[o]=!!o,n)),d=this.renderHeader(),p=this.renderBody(),m=this.renderFooter(),g=this.renderCloseLink(),b={role:l,"aria-modal":"true"};return s&&(b["aria-labelledby"]=this.titleId),f.style=vo()({},f.style,{height:c}),ar.a.createElement("div",vo()({},b,{className:h},f,{dir:u?"rtl":void 0}),d,p,m,g)},t}(or.Component),yd.propTypes={prefix:lr.a.string,className:lr.a.string,title:lr.a.node,children:lr.a.node,footer:lr.a.oneOfType([lr.a.bool,lr.a.node]),footerAlign:lr.a.oneOf(["left","center","right"]),footerActions:lr.a.array,onOk:lr.a.func,onCancel:lr.a.func,okProps:lr.a.object,cancelProps:lr.a.object,closeable:lr.a.bool,onClose:lr.a.func,locale:lr.a.object,role:lr.a.string,rtl:lr.a.bool,height:lr.a.string},yd.defaultProps={prefix:"next-",footerAlign:"right",footerActions:["ok","cancel"],onOk:_d,onCancel:_d,okProps:{},cancelProps:{},closeable:!0,onClose:_d,locale:No.Dialog,role:"dialog"},vd),Ed,Cd;Sd.displayName="Inner";var kd=function e(){},Od=es.limitTabRange,Td=Ya.bindCtx,Nd=Za.pickOthers,Ad=Ga.getStyle,Id=Ga.setStyle;function jd(e,t){var n=Ad(e,"boxSizing");return qa.ieVersion&&-1!==["width","height"].indexOf(t)&&"border-box"===n?parseFloat(e.getBoundingClientRect()[t].toFixed(1)):Ad(e,t)}var Rd=(Cd=Ed=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));return Td(i,["onKeyDown","beforePosition","adjustPosition","getOverlayRef"]),i}return Oo()(t,e),t.prototype.componentDidMount=function e(){Ka.on(document,"keydown",this.onKeyDown),this.useCSSToPosition()||this.adjustPosition()},t.prototype.componentWillUnmount=function e(){Ka.off(document,"keydown",this.onKeyDown)},t.prototype.useCSSToPosition=function e(){var t=this.props,n=t.align,r=t.isFullScreen;return"cc cc"===n&&r},t.prototype.onKeyDown=function e(t){var n=this.getInnerNode();n&&Od(n,t)},t.prototype.beforePosition=function e(){if(this.props.visible&&this.overlay){var t=this.getInner();if(t){var n=this.getInnerNode();this._lastDialogHeight!==jd(n,"height")&&this.revertSize(t.bodyNode)}}},t.prototype.adjustPosition=function e(){if(this.props.visible&&this.overlay){var t=this.getInner();if(t){var n=this.getInnerNode(),r=Ad(n,"top"),i=this.props.minMargin;r<i&&(r=i,Id(n,"top",i+"px"));var o=jd(n,"height"),a=window.innerHeight||document.documentElement.clientHeight;a<o+2*r-1||this.props.height?this.adjustSize(t,n,Math.min(o,a-2*r)):this.revertSize(t.bodyNode),this._lastDialogHeight=o}}},t.prototype.adjustSize=function e(t,n,r){var i=t.headerNode,o=t.bodyNode,a,s=[i,t.footerNode].map(function(e){return e?jd(e,"height"):0}),l,u,c,f=r-s[0]-s[1]-["padding-top","padding-bottom"].reduce(function(e,t){return e+Ad(n,t)},0);f<0&&(f=1),o&&(this.dialogBodyStyleMaxHeight=o.style.maxHeight,this.dialogBodyStyleOverflowY=o.style.overflowY,Id(o,{"max-height":f+"px","overflow-y":"auto"}))},t.prototype.revertSize=function e(t){Id(t,{"max-height":this.dialogBodyStyleMaxHeight,"overflow-y":this.dialogBodyStyleOverflowY})},t.prototype.mapcloseableToConfig=function e(t){return["esc","close","mask"].reduce(function(e,n){var r=n.charAt(0).toUpperCase()+n.substr(1),i="boolean"==typeof t?t:t.split(",").indexOf(n)>-1;return"esc"===n||"mask"===n?e["canCloseBy"+r]=i:e["canCloseBy"+r+"Click"]=i,e},{})},t.prototype.getOverlayRef=function e(t){this.overlay=t},t.prototype.getInner=function e(){return this.overlay.getInstance().getContent()},t.prototype.getInnerNode=function e(){return this.overlay.getInstance().getContentNode()},t.prototype.renderInner=function e(n){var r=this.props,i=r.prefix,o=r.className,a=r.title,s=r.children,l=r.footer,u=r.footerAlign,c=r.footerActions,f=r.onOk,h=r.onCancel,d=r.okProps,p=r.cancelProps,m=r.onClose,g=r.locale,b=r.visible,y=r.rtl,v=r.height,w=Nd(Object.keys(t.propTypes),this.props);return ar.a.createElement(Sd,vo()({prefix:i,className:o,title:a,footer:l,footerAlign:u,footerActions:c,onOk:b?f:kd,onCancel:b?h:kd,okProps:d,cancelProps:p,locale:g,closeable:n,rtl:y,onClose:m.bind(this,"closeClick"),height:v},w),s)},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.visible,i=t.hasMask,o=t.animation,a=t.autoFocus,s=t.closeable,l=t.onClose,u=t.afterClose,c=t.shouldUpdatePosition,f=t.align,h=t.popupContainer,d=t.overlayProps,p=t.rtl,m=this.useCSSToPosition(),g=this.mapcloseableToConfig(s),b=g.canCloseByCloseClick,y=xo()(g,["canCloseByCloseClick"]),v=vo()({disableScroll:!0,container:h},d,{prefix:n,visible:r,animation:o,hasMask:i,autoFocus:a,afterClose:u},y,{canCloseByOutSideClick:!1,align:!m&&f,onRequestClose:l,needAdjust:!1,ref:this.getOverlayRef,rtl:p,maskClass:m?n+"dialog-container":"",isChildrenInMask:m&&i});m||(v.beforePosition=this.beforePosition,v.onPosition=this.adjustPosition,v.shouldUpdatePosition=c);var w=this.renderInner(b);return ar.a.createElement(_u,v,m&&!i?ar.a.createElement("div",{className:n+"dialog-container",dir:p?"rtl":void 0},w):w)},t}(or.Component),Ed.propTypes={prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,className:lr.a.string,visible:lr.a.bool,title:lr.a.node,children:lr.a.node,footer:lr.a.oneOfType([lr.a.bool,lr.a.node]),footerAlign:lr.a.oneOf(["left","center","right"]),footerActions:lr.a.array,onOk:lr.a.func,onCancel:lr.a.func,okProps:lr.a.object,cancelProps:lr.a.object,closeable:lr.a.oneOfType([lr.a.string,lr.a.bool]),onClose:lr.a.func,afterClose:lr.a.func,hasMask:lr.a.bool,animation:lr.a.oneOfType([lr.a.object,lr.a.bool]),autoFocus:lr.a.bool,align:lr.a.oneOfType([lr.a.string,lr.a.bool]),isFullScreen:lr.a.bool,shouldUpdatePosition:lr.a.bool,minMargin:lr.a.number,overlayProps:lr.a.object,locale:lr.a.object,height:lr.a.string,popupContainer:lr.a.any},Ed.defaultProps={prefix:"next-",pure:!1,visible:!1,footerAlign:"right",footerActions:["ok","cancel"],onOk:kd,onCancel:kd,okProps:{},cancelProps:{},closeable:"esc,close",onClose:kd,afterClose:kd,hasMask:!0,animation:{in:"fadeInDown",out:"fadeOutUp"},autoFocus:!1,align:"cc cc",isFullScreen:!1,shouldUpdatePosition:!1,minMargin:40,overlayProps:{},locale:No.Dialog},Cd),Md,Pd;Rd.displayName="Dialog";var Dd=Fs.config(Rd),Ld=function e(){},Fd={alert:"warning",confirm:"help"},Bd=function e(t){var n=t.type,r=t.messageProps,i=void 0===r?{}:r,o=t.title,a=t.rtl,s=t.prefix,l=void 0===s?"next-":s,u=t.content;return ar.a.createElement(fd,vo()({size:"large",shape:"addon",type:Fd[n]},i,{title:o,rtl:a,className:zs()(l+"dialog-message",i.className)}),u)},zd=(Pd=Md=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.state={visible:!0,loading:!1},r.close=function(){r.setState({visible:!1})},r.loading=function(e){r.setState({loading:e})},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.wrapper=function e(t,n){var r=this;return function(){var e=t.apply(void 0,arguments);if(e&&e.then)r.loading(!0),e.then(function(e){if(r.loading(!1),!1!==e)return n()}).catch(function(e){throw r.loading(!1),e});else if(!1!==e)return n()}},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.type,i=t.title,o=t.content,a=t.messageProps,s=t.footerActions,l=t.onOk,u=t.onCancel,c=t.onClose,f=t.okProps,h=t.needWrapper,d=t.rtl,p=t.className,m=xo()(t,["prefix","type","title","content","messageProps","footerActions","onOk","onCancel","onClose","okProps","needWrapper","rtl","className"]),g=h&&r?null:i,b=h&&r?ar.a.createElement(Bd,{type:r,messageProps:a,title:i,rtl:d,prefix:n,content:o}):o,y=s||("alert"===r?["ok"]:"confirm"===r?["ok","cancel"]:void 0),v=this.wrapper(l,this.close),w=this.wrapper(u,this.close),x=this.wrapper(c,this.close),_=this.state,S=_.visible,E=_.loading;f.loading=E;var C=zs()(n+"dialog-quick",p);return ar.a.createElement(Dd,vo()({prefix:n,role:"alertdialog"},m,{visible:S,title:g,rtl:d,footerActions:y,onOk:this.state.loading?Ld:v,onCancel:w,onClose:x,okProps:f,className:C}),b)},t}(or.Component),Md.propTypes={prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,type:lr.a.oneOf(["alert","confirm"]),title:lr.a.node,content:lr.a.node,messageProps:lr.a.object,footerActions:lr.a.array,onOk:lr.a.func,onCancel:lr.a.func,onClose:lr.a.func,okProps:lr.a.object,locale:lr.a.object,needWrapper:lr.a.bool,className:lr.a.string},Md.defaultProps={prefix:"next-",pure:!1,messageProps:{},onOk:Ld,onCancel:Ld,onClose:Ld,okProps:{},locale:No.Dialog,needWrapper:!0},Pd);zd.displayName="Modal";var $d=Fs.config(zd,{componentName:"Dialog"}),Ud=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.createElement("div"),r=function e(){t.afterClose&&t.afterClose(),nr.a.unmountComponentAtNode(n),n.parentNode.removeChild(n)};document.body.appendChild(n);var i=Fs.getContext(),o=void 0,a=void 0;return nr.a.render(ar.a.createElement(Fs,i,ar.a.createElement($d,vo()({},t,{afterClose:r,ref:function e(t){a=t}}))),n,function(){o=a}),{hide:function e(){var t=o&&o.getInstance();t&&t.close()}}},Wd=function e(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.type=t,Ud(e)}},Vd=Wd("alert"),Hd=Wd("confirm");function Gd(e,t){if("closable"in e){t("closable","closeable","Dialog");var n=e,r=n.closable,i=xo()(n,["closable"]);e=vo()({closeable:r},i)}var o;return["target","offset","beforeOpen","onOpen","afterOpen","beforePosition","onPosition","cache","safeNode","wrapperClassName","container"].forEach(function(n){if(n in e){var r;t(n,"overlayProps."+n,"Dialog");var i=e,o=i.overlayProps,a=xo()(i,["overlayProps"]),s=vo()(((r={})[n]=e[n],r),o||{});delete a[n],e=vo()({overlayProps:s},a)}}),e}Rd.Inner=Sd,Rd.show=function(e){var t,n;return!1!==Fs.getContextProps(e,"Dialog").warning&&(e=Gd(e,Xa.deprecated)),Ud(e)},Rd.alert=function(e){var t,n;return!1!==Fs.getContextProps(e,"Dialog").warning&&(e=Gd(e,Xa.deprecated)),Vd(e)},Rd.confirm=function(e){var t,n;return!1!==Fs.getContextProps(e,"Dialog").warning&&(e=Gd(e,Xa.deprecated)),Hd(e)};var qd=Fs.config(Rd,{transform:function e(t,n){return Gd(t,n)}}),Kd=n(594),Yd,Xd,Zd=Ya.noop,Jd=Ya.bindCtx,Qd=/blue|green|orange|red|turquoise|yellow/,ep=(Xd=Yd=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.onKeyDown=function(e){var t=r.props,n=t.closable,i=t.closeArea,o=t.onClick,a=t.disabled;e.keyCode!==ns.SPACE||a||(e.preventDefault(),e.stopPropagation(),n?r.handleClose(i):"function"==typeof o&&o(e))},r.state={visible:!0},Jd(r,["handleBodyClick","handleTailClick","handleAnimationInit","handleAnimationEnd","renderTailNode"]),r}return Oo()(t,e),t.prototype.componentWillUnmount=function e(){this.__destroyed=!0},t.prototype.handleClose=function e(t){var n=this,r=this.props,i=r.animation,o=r.onClose,a=Qa.animation&&i,s;!1===o(t,this.tagNode)||this.__destroyed||this.setState({visible:!1},function(){!a&&n.props.afterClose(n.tagNode)})},t.prototype.handleBodyClick=function e(t){var n=this.props,r=n.closable,i=n.closeArea,o=n.onClick;if(r&&"tag"===i&&this.handleClose("tag"),"function"==typeof o)return o(t)},t.prototype.handleTailClick=function e(t){t&&t.preventDefault(),t&&t.stopPropagation(),this.handleClose("tail")},t.prototype.handleAnimationInit=function e(t){this.props.afterAppear(t)},t.prototype.handleAnimationEnd=function e(t){this.props.afterClose(t)},t.prototype.renderAnimatedTag=function e(t,n){return ar.a.createElement(ul,{animation:n,afterAppear:this.handleAnimationInit,afterLeave:this.handleAnimationEnd},t)},t.prototype.renderTailNode=function e(){var t=this.props,n=t.prefix,r=t.closable,i=t.locale;return r?ar.a.createElement("span",{className:n+"tag-close-btn",onClick:this.handleTailClick,role:"button","aria-label":i.delete},ar.a.createElement(ml,{type:"close"})):null},t.prototype.isPresetColor=function e(){var t=this.props.color;return!!t&&Qd.test(t)},t.prototype.getTagStyle=function e(){var t=this.props,n=t.color,r=void 0===n?"":n,i=t.style,o=this.isPresetColor(),a={backgroundColor:r,borderColor:r,color:"#fff"};return vo()({},r&&!o?a:null,i)},t.prototype.render=function e(){var n,r=this,i=this.props,o=i.prefix,a=i.type,s=i.size,l=i.color,u=i._shape,c=i.closable,f=i.closeArea,h=i.className,d=i.children,p=i.animation,m=i.disabled,g=i.rtl,b=this.state.visible,y=this.isPresetColor(),v=Za.pickOthers(t.propTypes,this.props),w=v.style,x=xo()(v,["style"]),_=c?"closable":u,S=zs()([o+"tag",o+"tag-"+_,o+"tag-"+s],((n={})[o+"tag-level-"+a]=!l,n[o+"tag-closable"]=c,n[o+"tag-body-pointer"]=c&&"tag"===f,n[o+"tag-"+l]=l&&y&&"primary"===a,n[o+"tag-"+l+"-inverse"]=l&&y&&"normal"===a,n),h),E=this.renderTailNode(),C=b?ar.a.createElement("div",vo()({className:S,onClick:this.handleBodyClick,onKeyDown:this.onKeyDown,tabIndex:m?"":"0",role:"button","aria-disabled":m,disabled:m,dir:g?"rtl":void 0,ref:function e(t){return r.tagNode=t},style:this.getTagStyle()},x),ar.a.createElement("span",{className:o+"tag-body"},d),E):null;return p&&Qa.animation?this.renderAnimatedTag(C,o+"tag-zoom"):C},t}(or.Component),Yd.propTypes={prefix:lr.a.string,type:lr.a.oneOf(["normal","primary"]),size:lr.a.oneOf(["small","medium","large"]),color:lr.a.string,animation:lr.a.bool,closeArea:lr.a.oneOf(["tag","tail"]),closable:lr.a.bool,onClose:lr.a.func,afterClose:lr.a.func,afterAppear:lr.a.func,className:lr.a.any,children:lr.a.node,onClick:lr.a.func,_shape:lr.a.oneOf(["default","closable","checkable"]),disabled:lr.a.bool,rtl:lr.a.bool,locale:lr.a.object},Yd.defaultProps={prefix:"next-",type:"normal",size:"medium",closeArea:"tail",animation:!1,onClose:Zd,afterClose:Zd,afterAppear:Zd,onClick:Zd,_shape:"default",disabled:!1,rtl:!1,locale:No.Tag},Xd);ep.displayName="Tag";var tp=Fs.config(ep),np,rp,ip=(rp=np=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.className,r=t.prefix,i=t.children,o=t.rtl,a=xo()(t,["className","prefix","children","rtl"]),s=zs()((r||"next-")+"tag-group",n);return ar.a.createElement("div",vo()({className:s,dir:o?"rtl":void 0},a),i)},t}(or.Component),np.propTypes={prefix:lr.a.string,className:lr.a.any,children:lr.a.node,rtl:lr.a.bool},np.defaultProps={prefix:"next-",rtl:!1},rp);ip.displayName="Group";var op=ip,ap,sp,lp=Ya.noop,up=Ya.bindCtx,cp=(sp=ap=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.state={checked:"checked"in n?n.checked:n.defaultChecked||!1},up(r,["handleClick"]),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){return void 0!==t.checked&&t.checked!==n.checked?{checked:t.checked}:null},t.prototype.handleClick=function e(t){if(t&&t.preventDefault(),this.props.disabled)return!1;var n=this.state.checked;this.setState({checked:!n}),this.props.onChange(!n,t)},t.prototype.render=function e(){var t=["checked","defaultChecked","onChange","className","_shape","closable"],n=Za.pickOthers(t,this.props),r="checked"in this.props?this.props.checked:this.state.checked,i=zs()(this.props.className,{checked:r});return ar.a.createElement(tp,vo()({},n,{role:"checkbox",_shape:"checkable","aria-checked":r,className:i,onClick:this.handleClick}))},t}(or.Component),ap.propTypes={checked:lr.a.bool,defaultChecked:lr.a.bool,onChange:lr.a.func,disabled:lr.a.bool,className:lr.a.any},ap.defaultProps={onChange:lp},sp);cp.displayName="Selectable";var fp=Object(To.polyfill)(cp),hp,dp,pp=(dp=hp=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.disabled,r=t.className,i=t.closeArea,o=t.onClose,a=t.afterClose,s=t.onClick,l=t.type,u=t.size,c=t.children,f=t.rtl,h=xo()(t,["disabled","className","closeArea","onClose","afterClose","onClick","type","size","children","rtl"]);return ar.a.createElement(tp,vo()({},h,{rtl:f,disabled:n,className:r,closeArea:i,onClose:o,afterClose:a,onClick:s,type:l,size:u,closable:!0}),c)},t}(or.Component),hp.propTypes={disabled:lr.a.bool,className:lr.a.any,closeArea:lr.a.oneOf(["tag","tail"]),onClose:lr.a.func,afterClose:lr.a.func,onClick:lr.a.func,type:lr.a.oneOf(["normal","primary"]),size:lr.a.oneOf(["small","medium","large"]),children:lr.a.any,rtl:lr.a.bool},hp.defaultProps={disabled:!1,type:"normal"},dp);pp.displayName="Closeable";var mp=pp,gp=Fs.config(tp,{transfrom:function e(t,n){var r=t.shape,i=t.type;return"selectable"===r&&n("shape=selectable","Tag.Selectable","Tag"),"deletable"===r&&n("shape=deletable","Tag.Closeable","Tag"),"link"===r&&n("shape=link",'<Tag><a href="x">x</a></Tag>',"Tag"),"readonly"!==r&&"interactive"!==r||Xa.warning("Warning: [ shape="+r+" ] is deprecated at [ Tag ]"),"secondary"===i&&Xa.warning("Warning: [ type=secondary ] is deprecated at [ Tag ]"),["count","marked","value","onChange"].forEach(function(e){e in t&&Xa.warning("Warning: [ "+e+" ] is deprecated at [ Tag ]")}),("selected"in t||"defaultSelected"in t)&&Xa.warning("Warning: [ selected|defaultSelected  ] is deprecated at [ Tag ], use [ checked|defaultChecked ] at [ Tag.Selectable ] instead of it"),"closed"in t&&Xa.warning("Warning: [ closed  ] is deprecated at [ Tag ], use [ onClose ] at [ Tag.Closeable ] instead of it"),"onSelect"in t&&n("onSelect","<Tag.Selectable onChange/>","Tag"),"afterClose"in t&&Xa.warning("Warning: [ afterClose  ] is deprecated at [ Tag ], use [ afterClose ] at [ Tag.Closeable ] instead of it"),t}});gp.Group=Fs.config(op),gp.Selectable=Fs.config(fp),gp.Closable=Fs.config(mp),gp.Closeable=gp.Closable;var bp=gp,yp,vp,wp,xp,_p,Sp,Ep,Cp=["dataCollect","dataAccess","dataProcess","modelLoad","modelDefine","modelTrain","modelEvaluate"],kp=["INIT","RUNNING","SUCCESS","FAIL"],Op=[{name:"ID",width:50,cell:function e(t,n,r){return ar.a.createElement("a",{href:"/index.html#/pipeline/info?pipelineId=".concat(r.id)},r.id.replace(/-/g,"").slice(0,12))}},{name:"Dataset",width:100,cell:function e(t,n,r){return ar.a.createElement(bp,{size:"small",type:"normal"},r.dataCollect)}},{name:"Model",width:100,cell:function e(t,n,r){return ar.a.createElement(bp,{size:"small",type:"normal"},r.modelDefine)}},{name:"Jobs",cell:function e(t,n,r){return ar.a.createElement("span",null,r.jobs.length)},width:30},{name:"Created At",field:"createdAt",width:50,sortable:!0}],Tp=[{name:"ID",width:50,cell:function e(t,n,r){return ar.a.createElement("a",{href:"/index.html#/pipeline/info?pipelineId=".concat(r.pipelineId,"&jobId=").concat(r.id)},r.id.replace(/-/g,"").slice(0,12))}},{name:"Status",width:50,cell:function e(t,n,r){var i={INIT:"yellow",RUNNING:"yellow",SUCCESS:"green",FAIL:"red"};return ar.a.createElement(bp,{size:"small",color:i[r.status]},r.status)}},{name:"Evaluation",width:100,cell:function e(t,n,r){var i=null,o;if(!r.evaluateMap)return ar.a.createElement("span",null,"no result");if((null===(o=i=JSON.parse(r.evaluateMap))||void 0===o?void 0:o.pass)&&(i.pass=void 0),r.evaluatePass||r.evaluateMap){var a=JSON.stringify(i,null,2),s=function e(){qd.show({title:"evaluation",content:a})};return ar.a.createElement(kh,{size:"small",onClick:s},a.slice(0,40))}return ar.a.createElement(bp,{size:"small",color:"red"},r.error)}},{name:"Pipeline",width:50,cell:function e(t,n,r){return ar.a.createElement("a",{href:"/index.html#/pipeline/info?pipelineId=".concat(r.pipelineId)},r.id.replace(/-/g,"").slice(0,12))}},{name:"End Time",width:100,field:"endTime"},{name:"Model",width:40,cell:function e(t,n,r){var i=function e(){location.href="/job/".concat(r.id,"/output.tar.gz")};return ar.a.createElement(kh,{size:"small",disabled:"SUCCESS"!==r.status,onClick:i},"Download")}}],Np,Ap=["./packages/plugins/data-collect/csv-data-collect","./packages/plugins/data-collect/image-classification-data-collect","./packages/plugins/data-collect/mnist-data-collect","./packages/plugins/data-collect/object-detection-coco-data-collect","./packages/plugins/data-collect/object-detection-pascolvoc-data-collect"],Ip=["./packages/plugins/data-access/coco-data-access","./packages/plugins/data-access/csv-data-access","./packages/plugins/data-access/pascalvoc-data-access"],jp=["./packages/plugins/data-process/image-data-process"],Rp=["./packages/plugins/model-define/bayesian-model-define","./packages/plugins/model-define/detectron-fasterrcnn-model-define","./packages/plugins/model-define/tensorflow-resnet-model-define","./packages/plugins/model-define/tfjs-mobilenet-model-define","./packages/plugins/model-define/tfjs-simplecnn-model-define"],Mp=["./packages/plugins/model-train/bayesian-model-train","./packages/plugins/model-train/image-classification-tensorflow-model-train","./packages/plugins/model-train/image-classification-tfjs-model-train","./packages/plugins/model-train/object-detection-detectron-model-train"],Pp=["./packages/plugins/model-evaluate/bayesian-model-evaluate","./packages/plugins/model-evaluate/image-classification-tensorflow-model-evaluate","./packages/plugins/model-evaluate/image-classification-tfjs-model-evaluate","./packages/plugins/model-evaluate/object-detection-detectron-model-evaluate"],Dp={dataCollect:["@pipcook/plugins-csv-data-collect","@pipcook/plugins-image-classification-data-collect","@pipcook/plugins-mnist-data-collect","@pipcook/plugins-object-detection-coco-data-collect","@pipcook/plugins-object-detection-pascalvoc-data-collect"],dataAccess:["@pipcook/plugins-coco-data-access","@pipcook/plugins-csv-data-access","@pipcook/plugins-pascalvoc-data-access"],dataProcess:["@pipcook/plugins-image-data-process"],modelDefine:["@pipcook/plugins-bayesian-model-define","@pipcook/plugins-detectron-fasterrcnn-model-define","@pipcook/plugins-tensorflow-resnet-model-define","@pipcook/plugins-tfjs-mobilenet-model-define","@pipcook/plugins-tfjs-simplecnn-model-define"],modelTrain:["@pipcook/plugins-bayesian-model-train","@pipcook/plugins-image-classification-tensorflow-model-train","@pipcook/plugins-image-classification-tfjs-model-train","@pipcook/plugins-object-detection-detectron-model-train"],modelEvaluate:["@pipcook/plugins-bayesian-model-evaluate","@pipcook/plugins-image-classification-tensorflow-model-evaluate","@pipcook/plugins-image-classification-tfjs-model-evaluate","@pipcook/plugins-object-detection-detectron-model-evaluate"]},Lp=n(595),Fp=n(596),Bp,zp,$p=(zp=Bp=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.saveRef=function(e){r.inputRef=e},i=n,Co()(r,i)}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){if("value"in t&&t.value!==n.value){var r=t.value;return{value:void 0===r||null===r?"":r}}return null},t.prototype.ieHack=function e(t){return t},t.prototype.onChange=function e(t){"stopPropagation"in t?t.stopPropagation():"cancelBubble"in t&&t.cancelBubble();var n=t.target.value;this.props.trim&&(n=n.trim()),n=this.ieHack(n),"value"in this.props||this.setState({value:n}),n&&"number"===this.props.htmlType&&(n=Number(n)),this.props.onChange(n,t)},t.prototype.onKeyDown=function e(t){var n=t.target.value,r=this.props.maxLength,i=r>0&&n?this.getValueLength(n):0,o={};this.props.trim&&32===t.keyCode&&(o.beTrimed=!0),r>0&&(i>r+1||(i===r||i===r+1)&&8!==t.keyCode&&46!==t.keyCode)&&(o.overMaxLength=!0),this.props.onKeyDown(t,o)},t.prototype.onFocus=function e(t){this.setState({focus:!0}),this.props.onFocus(t)},t.prototype.onBlur=function e(t){this.setState({focus:!1}),this.props.onBlur(t)},t.prototype.renderLength=function e(){var t,n=this.props,r=n.maxLength,i=n.hasLimitHint,o=n.prefix,a=n.rtl,s=r>0&&this.state.value?this.getValueLength(this.state.value):0,l=zs()(((t={})[o+"input-len"]=!0,t[o+"error"]=s>r,t)),u=a?r+"/"+s:s+"/"+r;return r&&i?ar.a.createElement("span",{className:l},u):null},t.prototype.renderControl=function e(){var t=this.renderLength();return t?ar.a.createElement("span",{className:this.props.prefix+"input-control"},t):null},t.prototype.getClass=function e(){var t,n=this.props,r=n.disabled,i=n.state,o=n.prefix;return zs()(((t={})[o+"input"]=!0,t[o+"disabled"]=!!r,t[o+"error"]="error"===i,t[o+"warning"]="warning"===i,t[o+"focus"]=this.state.focus,t))},t.prototype.getProps=function e(){var t=this.props,n=t.placeholder,r=t.inputStyle,i=t.disabled,o=t.readOnly,a=t.cutString,s=t.maxLength,l,u={style:r,placeholder:n,disabled:i,readOnly:o,name:t.name,maxLength:a?s:void 0,value:this.state.value,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this)};return i&&(u["aria-disabled"]=i),u},t.prototype.getInputNode=function e(){return this.inputRef},t.prototype.focus=function e(t,n){this.inputRef.focus(),"number"==typeof t&&(this.inputRef.selectionStart=t),"number"==typeof n&&(this.inputRef.selectionEnd=n)},t}(ar.a.Component),Bp.propTypes=vo()({},Fs.propTypes,{value:lr.a.oneOfType([lr.a.string,lr.a.number]),defaultValue:lr.a.oneOfType([lr.a.string,lr.a.number]),onChange:lr.a.func,onKeyDown:lr.a.func,disabled:lr.a.bool,maxLength:lr.a.number,hasLimitHint:lr.a.bool,cutString:lr.a.bool,readOnly:lr.a.bool,trim:lr.a.bool,placeholder:lr.a.string,onFocus:lr.a.func,onBlur:lr.a.func,getValueLength:lr.a.func,inputStyle:lr.a.object,className:lr.a.string,style:lr.a.object,htmlType:lr.a.string,name:lr.a.string,rtl:lr.a.bool,state:lr.a.oneOf(["error","loading","success","warning"]),locale:lr.a.object,isPreview:lr.a.bool,renderPreview:lr.a.func,size:lr.a.oneOf(["small","medium","large"])}),Bp.defaultProps={disabled:!1,prefix:"next-",size:"medium",maxLength:null,hasLimitHint:!1,cutString:!0,readOnly:!1,isPreview:!1,trim:!1,onFocus:Ya.noop,onBlur:Ya.noop,onChange:Ya.noop,onKeyDown:Ya.noop,getValueLength:Ya.noop,locale:No.Input},zp);$p.displayName="Base";var Up=Object(To.polyfill)($p),Wp,Vp,Hp=(Vp=Wp=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n,r,i=this.props,o=i.className,a=i.style,s=i.children,l=i.prefix,u=i.addonBefore,c=i.addonAfter,f=i.addonBeforeClassName,h=i.addonAfterClassName,d=i.rtl,p=xo()(i,["className","style","children","prefix","addonBefore","addonAfter","addonBeforeClassName","addonAfterClassName","rtl"]),m=zs()(((t={})[l+"input-group"]=!0,t[o]=!!o,t)),g=l+"input-group-addon",b=zs()(g,((n={})[l+"before"]=!0,n[f]=f,n)),y=zs()(g,((r={})[l+"after"]=!0,r[h]=h,r)),v=u?ar.a.createElement("span",{className:b},u):null,w=c?ar.a.createElement("span",{className:y},c):null;return ar.a.createElement("span",vo()({},p,{dir:d?"rtl":void 0,className:m,style:a}),v,s,w)},t}(ar.a.Component),Wp.propTypes={prefix:lr.a.string,className:lr.a.string,style:lr.a.object,children:lr.a.node,addonBefore:lr.a.node,addonBeforeClassName:lr.a.string,addonAfter:lr.a.node,addonAfterClassName:lr.a.string,rtl:lr.a.bool},Wp.defaultProps={prefix:"next-"},Vp);Hp.displayName="Group";var Gp=Fs.config(Hp),qp,Kp;function Yp(e){e.preventDefault()}var Xp=(Kp=qp=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));r.handleKeyDown=function(e){13===e.keyCode&&r.props.onPressEnter(e),r.onKeyDown(e)},r.handleKeyDownFromClear=function(e){13===e.keyCode&&r.onClear(e)};var i=void 0;return i="value"in n?n.value:n.defaultValue,r.state={value:void 0===i?"":i},r}return Oo()(t,e),t.prototype.getValueLength=function e(t){var n=""+t,r=this.props.getValueLength(n);return"number"!=typeof r&&(r=n.length),r},t.prototype.renderControl=function e(){var t=this.props,n=t.hasClear,r=t.readOnly,i=t.state,o=t.prefix,a=t.hint,s=t.extra,l=t.locale,u=this.renderLength(),c=null;"success"===i?c=ar.a.createElement(ml,{type:"success-filling",className:o+"input-success-icon"}):"loading"===i?c=ar.a.createElement(ml,{type:"loading",className:o+"input-loading-icon"}):"warning"===i&&(c=ar.a.createElement(ml,{type:"warning",className:o+"input-warning-icon"}));var f=null,h=n&&!r&&!!(""+this.state.value);if(a||h){var d=null;d=a?"string"==typeof a?ar.a.createElement(ml,{type:a,className:o+"input-hint"}):Object(or.isValidElement)(a)?Object(or.cloneElement)(a,{className:zs()(a.props.className,o+"input-hint")}):a:ar.a.createElement(ml,{type:"delete-filling",role:"button",tabIndex:"0",className:o+"input-hint "+o+"input-clear-icon","aria-label":l.clear,onClick:this.onClear.bind(this),onMouseDown:Yp,onKeyDown:this.handleKeyDownFromClear}),f=ar.a.createElement("span",{className:o+"input-hint-wrap"},n&&a?ar.a.createElement(ml,{type:"delete-filling",role:"button",tabIndex:"0",className:o+"input-clear "+o+"input-clear-icon","aria-label":l.clear,onClick:this.onClear.bind(this),onMouseDown:Yp,onKeyDown:this.handleKeyDownFromClear}):null,d)}return"loading"===i&&(f=null),f||u||c||s?ar.a.createElement("span",{className:o+"input-control"},f,u,c,s):null},t.prototype.renderLabel=function e(){var t=this.props,n=t.label,r=t.prefix,i=t.id;return n?ar.a.createElement("label",{className:r+"input-label",htmlFor:i},n):null},t.prototype.renderInner=function e(t,n){return t?ar.a.createElement("span",{className:n},t):null},t.prototype.onClear=function e(t){this.props.disabled||("value"in this.props||this.setState({value:""}),this.props.onChange("",t,"clear"),this.focus())},t.prototype.render=function e(){var n,r,i,o,a,s,l,u=this.props,c=u.size,f=u.htmlType,h=u.htmlSize,d=u.autoComplete,p=u.autoFocus,m=u.disabled,g=u.style,b=u.innerBefore,y=u.innerAfter,v=u.innerBeforeClassName,w=u.innerAfterClassName,x=u.className,_=u.hasBorder,S=u.prefix,E=u.isPreview,C=u.renderPreview,k=u.addonBefore,O=u.addonAfter,T=u.addonTextBefore,N=u.addonTextAfter,A=u.inputRender,I=u.rtl,j=k||O||T||N,R=zs()(this.getClass(),((n={})[""+S+c]=!0,n[S+"hidden"]="hidden"===this.props.htmlType,n[S+"noborder"]=!_||"file"===this.props.htmlType,n[S+"input-group-auto-width"]=j,n[x]=!!x&&!j,n)),M=S+"input-inner",P=zs()(((r={})[M]=!0,r[S+"before"]=!0,r[v]=v,r)),D=zs()(((i={})[M]=!0,i[S+"after"]=!0,i[w]=w,i)),L=zs()(((o={})[S+"form-preview"]=!0,o[x]=!!x,o)),F=this.getProps(),B=Za.pickAttrsWith(this.props,"data-"),z=Za.pickOthers(vo()({},B,t.propTypes),this.props);if(E){var $=F.value,U=this.props.label;return"function"==typeof C?ar.a.createElement("div",vo()({},z,{className:L}),C($,this.props)):ar.a.createElement("div",vo()({},z,{className:L}),k||T,U,b,$,y,O||N)}var W=ar.a.createElement("input",vo()({},z,F,{height:"100%",type:f,size:h,autoFocus:p,autoComplete:d,onKeyDown:this.handleKeyDown,ref:this.saveRef})),V=ar.a.createElement("span",vo()({},B,{dir:I?"rtl":void 0,className:R,style:j?void 0:g}),this.renderLabel(),this.renderInner(b,P),A(W),this.renderInner(y,D),this.renderControl()),H=zs()(((a={})[S+"input-group-text"]=!0,a[""+S+c]=!!c,a[S+"disabled"]=m,a)),G=zs()(((s={})[H]=T,s)),q=zs()(((l={})[H]=N,l));return j?ar.a.createElement(Gp,vo()({},B,{className:x,style:g,addonBefore:k||T,addonBeforeClassName:G,addonAfter:O||N,addonAfterClassName:q}),V):V},t}(Up),qp.getDerivedStateFromProps=Up.getDerivedStateFromProps,qp.propTypes=vo()({},Up.propTypes,{label:lr.a.node,hasClear:lr.a.bool,hasBorder:lr.a.bool,state:lr.a.oneOf(["error","loading","success","warning"]),onPressEnter:lr.a.func,onClear:lr.a.func,htmlType:lr.a.string,htmlSize:lr.a.string,hint:lr.a.oneOfType([lr.a.string,lr.a.node]),innerBefore:lr.a.node,innerAfter:lr.a.node,addonBefore:lr.a.node,addonAfter:lr.a.node,addonTextBefore:lr.a.node,addonTextAfter:lr.a.node,autoComplete:lr.a.string,autoFocus:lr.a.bool,inputRender:lr.a.func,extra:lr.a.node,innerBeforeClassName:lr.a.string,innerAfterClassName:lr.a.string,isPreview:lr.a.bool,renderPreview:lr.a.func}),qp.defaultProps=vo()({},Up.defaultProps,{autoComplete:"off",hasBorder:!0,isPreview:!1,onPressEnter:Ya.noop,inputRender:function e(t){return t}}),Kp),Zp,Jp;function Qp(e){e.preventDefault()}var em=(Jp=Zp=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.state={hint:"eye",htmlType:"password"},r.toggleEye=function(e){e.preventDefault();var t="eye-close"===r.state.hint;r.setState({hint:t?"eye":"eye-close",htmlType:t||!r.props.showToggle?"password":"text"})},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.showToggle,r=xo()(t,["showToggle"]),i=this.state,o=i.hint,a=i.htmlType,s=n?ar.a.createElement(ml,{type:o,onClick:this.toggleEye,onMouseDown:Qp}):null;return ar.a.createElement(Xp,vo()({},r,{extra:s,htmlType:a}))},t}(Xp),Zp.getDerivedStateFromProps=Xp.getDerivedStateFromProps,Zp.propTypes=vo()({},Xp.propTypes,{showToggle:lr.a.bool}),Zp.defaultProps=vo()({},Xp.defaultProps,{showToggle:!0}),Jp),tm,nm,rm;function im(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function om(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}var am=!("undefined"==typeof navigator||!navigator||!navigator.userAgent)&&navigator.userAgent.match(/^((?!chrome|android|windows).)*safari/i),sm={visibility:"hidden",position:"absolute",zIndex:"-1000",top:"-1000px",overflowY:"hidden",left:0,right:0},lm=(nm=tm=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));rm.call(r);var i=void 0;return i="value"in n?n.value:n.defaultValue,r.state={value:void 0===i?"":i},r}return Oo()(t,e),t.prototype.componentDidMount=function e(){var t=this.props.autoHeight;t&&("object"===(void 0===t?"undefined":Io()(t))?this.setState(this._getMinMaxHeight(t,this.state.value)):this.setState({height:this._getHeight(this.state.value),overflowY:"hidden"}))},t.prototype.componentDidUpdate=function e(t){this.props.autoHeight&&this.props.value!==t.value&&this._resizeTextArea(this.props.value)},t.prototype._getMinMaxHeight=function e(t,n){var r=t.minRows,i=t.maxRows,o=nr.a.findDOMNode(this.helpRef);o.setAttribute("rows",r);var a=o.clientHeight;o.setAttribute("rows",i);var s=o.clientHeight;o.setAttribute("rows","1");var l=this._getHeight(n);return{minHeight:a,maxHeight:s,height:l,overflowY:l<=s?"hidden":void 0}},t.prototype._getHeight=function e(t){var n=nr.a.findDOMNode(this.helpRef);return n.value=t,n.scrollHeight},t.prototype.ieHack=function e(t){if(9===qa.ieVersion&&this.props.maxLength){var n=parseInt(this.props.maxLength),r;this.getValueLength(t,!0)>n&&this.props.cutString&&(t=(t=(t=t.replace(/\n/g,"\n\n")).substr(0,n)).replace(/\n\n/g,"\n"))}return this.props.autoHeight&&this._resizeTextArea(t),t},t.prototype.getValueLength=function e(t){var n=this.props,r=n.maxLength,i=n.cutString,o=""+t,a=this.props.getValueLength(o);return"number"!=typeof a&&(a=o.length),(qa.ieVersion||am)&&(a=a+o.split("\n").length-1)>r&&i&&(a=r),a},t.prototype.saveTextAreaRef=function e(t){this.inputRef=t},t.prototype.saveHelpRef=function e(t){this.helpRef=t},t.prototype.render=function e(){var n,r,i=this.props,o=i.rows,a=i.style,s=i.className,l=i.autoHeight,u=i.isPreview,c=i.renderPreview,f=i.prefix,h=i.rtl,d=i.hasBorder,p=i.size,m=zs()(this.getClass(),((n={})[""+f+p]="large"===p||!1,n[f+"input-textarea"]=!0,n[f+"noborder"]=!d,n[s]=!!s,n)),g=this.getProps(),b=Za.pickAttrsWith(this.props,"data-"),y=Za.pickOthers(vo()({},b,t.propTypes),this.props),v=vo()({},g.style,{height:this.state.height,minHeight:this.state.minHeight,maxHeight:this.state.maxHeight,overflowY:this.state.overflowY}),w=zs()(((r={})[f+"input-textarea"]=!0,r[f+"form-preview"]=!0,r[s]=!!s,r)),x=l?vo()({},a,{position:"relative"}):a;if(u){var _=g.value;return"renderPreview"in this.props?ar.a.createElement("div",vo()({},y,{className:w}),c(_,this.props)):ar.a.createElement("div",vo()({},y,{className:w}),_.split("\n").map(function(e,t){return ar.a.createElement("p",{key:"p-"+t},e)}))}return ar.a.createElement("span",vo()({className:m,style:x,dir:h?"rtl":void 0},b),ar.a.createElement("textarea",vo()({},y,g,{"data-real":!0,rows:o,style:v,ref:this.saveRef.bind(this),onKeyDown:this.onKeyDown.bind(this)})),l?ar.a.createElement("textarea",{"data-fake":!0,ref:this.saveHelpRef.bind(this),style:vo()({},g.style,sm),rows:"1"}):null,this.renderControl())},t}(Up),tm.getDerivedStateFromProps=Up.getDerivedStateFromProps,tm.propTypes=vo()({},Up.propTypes,{hasBorder:lr.a.bool,state:lr.a.oneOf(["error","warning"]),autoHeight:lr.a.oneOfType([lr.a.bool,lr.a.object]),rows:lr.a.number,isPreview:lr.a.bool,renderPreview:lr.a.func}),tm.defaultProps=vo()({},Up.defaultProps,{hasBorder:!0,isPreview:!1,rows:4,autoHeight:!1}),rm=function e(){var t=this;this._resizeTextArea=function(e){t.nextFrameActionId&&om(t.nextFrameActionId),t.nextFrameActionId=im(function(){var n=t._getHeight(e),r=t.state.maxHeight?t.state.maxHeight:1/0;t.setState({height:t._getHeight(e),overflowY:n<=r?"hidden":void 0})})}},nm);Xp.Password=Fs.config(em,{exportNames:["getInputNode","focus"]}),Xp.TextArea=Fs.config(lm,{exportNames:["getInputNode","focus"]}),Xp.Group=Gp;var um=Fs.config(Xp,{exportNames:["getInputNode","focus"]});function cm(e){return!e||"single"===e}function fm(e){return null===e||void 0===e}function hm(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function dm(e,t){var n=hm(""+e),r=new RegExp("("+n+")","ig");return r.test(""+t.value)||r.test(""+t.label)}function pm(e,t){var n=[];return e.forEach(function(e){if(e.children){var r=pm(e.children,t);n.push(vo()({},e,{children:r}))}else{var i=t(e);i&&n.push(i)}}),n}function mm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return or.Children.forEach(e,function(e,r){if(e){var i=e.type,o=e.props,a={deep:t},s=!1,l=!1;if(("function"==typeof i&&"next_select_option"===i._typeMark||"option"===i)&&(s=!0),("function"==typeof i&&"next_select_option_group"===i._typeMark||"optgroup"===i)&&(l=!0),s||l){if(s){var u="string"==typeof o.children;a.value="value"in o?o.value:"key"in o?o.key:u?o.children:""+r,a.label=o.label||o.children||""+a.value,"title"in o&&(a.title=o.title),!0===o.disabled&&(a.disabled=!0),vo()(a,o["data-extra"]||{})}else l&&t<1&&(a.label=o.label||"Group",a.children=mm(o.children,t+1));n.push(a)}}}),n}function gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return e.forEach(function(e,i){if(/string|boolean|number/.test(void 0===e?"undefined":Io()(e))&&(e={label:""+e,value:e}),!e.__isAddon){var o={deep:t};if(Array.isArray(e.children)&&t<1&&n)o.label=e.label||e.value||"Group "+i,o.children=gm(e.children,t+1);else{var a=e,s=a.value,l=a.label,u=a.disabled,c=a.title,f=xo()(a,["value","label","disabled","title"]);o.value=fm(s)?""+i:s,o.label=l||""+o.value,"title"in e&&(o.title=c),!0===u&&(o.disabled=!0),vo()(o,f)}r.push(o)}}),r}function bm(e){var t=[];return e.forEach(function(e){Array.isArray(e.children)?t.push.apply(t,bm(e.children)):t.push(e)}),t}function ym(e,t,n,r){if(!Array.isArray(e))return[];if(void 0===t||null===t)return[].concat(e);var i=!0,o=pm(e,function(e){return t===""+e.value&&(i=!1),n(t,e)&&!e.__isAddon&&e});return r&&t&&i&&o.unshift({value:t,label:t,__isAddon:!0}),o}function vm(e,t){var n=void 0;return n="object"===(void 0===e?"undefined":Io()(e))&&e.hasOwnProperty("value")?e:t[""+e]||{value:e,label:e}}function wm(e,t,n){if(fm(e))return{};var r=[],i=[],o={},a=vo()({},t,n);if(Array.isArray(e))return e.forEach(function(e){var t=vm(e,a);i.push(t),o[""+t.value]=t,r.push(t.value)}),{value:r,valueDS:i,mapValueDS:o};var s,l=vm(e,a);return{value:l.value,valueDS:l,mapValueDS:(s={},s[""+l.value]=l,s)}}function xm(e){var t=void 0;return""+(t="object"===(void 0===e?"undefined":Io()(e))&&e.hasOwnProperty("value")?e.value:e)}var _m,Sm=function(){function e(t){So()(this,e),this.options=vo()({filter:dm,key:void 0,addonKey:!1,filterLocal:!0,showDataSourceChildren:!0},t),this.dataSource=[],this.menuDataSource=[],this.mapDataSource={},this.enabledDataSource=[],this.flattenDataSource=[]}return e.prototype.setOptions=function e(t){vo()(this.options,t)},e.prototype.updateByDS=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.dataSource=n?mm(t):gm(t,0,this.options.showDataSourceChildren),this.updateAll()},e.prototype.updateByKey=function e(t){return t===this.options.key?this.getMenuDS():(this.options.key=t,this.updateAll())},e.prototype.getOriginDS=function e(){return this.dataSource},e.prototype.getMenuDS=function e(){return this.menuDataSource},e.prototype.getFlattenDS=function e(){return this.flattenDataSource},e.prototype.getEnableDS=function e(){return this.enabledDataSource},e.prototype.getMapDS=function e(){return this.mapDataSource},e.prototype.updateAll=function e(){var t=this,n=this.options,r=n.key,i=n.filter,o=n.filterLocal,a=n.showDataSourceChildren;return this.menuDataSource=ym(this.dataSource,o?r:"",i,this.options.addonKey),this.flattenDataSource=a?bm(this.menuDataSource):this.menuDataSource,this.mapDataSource={},this.flattenDataSource.forEach(function(e){t.mapDataSource[""+e.value]=e}),this.enabledDataSource=this.flattenDataSource.filter(function(e){return!e.disabled}),this.menuDataSource},e}(),Em,Cm,km=function e(){},Om=40,Tm=function e(t,n){for(var r in n)if(t[r]!==n[r])return!1;return!0},Nm=function e(t){var n=t.clientLeft||0;do{n+=t.offsetTop||0,t=t.offsetParent}while(t);return n},Am=function e(t,n,r){var i=r.children,o=r.minSize,a=i&&i.length;return(n=Math.max(n,o))>a&&(n=a),{from:t=t?Math.max(Math.min(t,a-n),0):0,size:n}},Im=(Cm=Em=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n)),i=n.jumpIndex,o=Am(i,0,n),a=o.from,s=o.size;return r.state={from:a,size:s},r.cache={},r.scrollTo=r.scrollTo.bind(r),r.cachedScroll=null,r.unstable=!1,r.updateCounter=0,r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r=n.from,i=n.size;return Am(r,i,t)},t.prototype.componentDidMount=function e(){var t=this.props.jumpIndex;this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),Ka.on(window,"resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,t))},t.prototype.componentDidUpdate=function e(t){var n=this,r=t.jumpIndex,i=this.props.jumpIndex;r!==i&&this.updateFrame(this.scrollTo.bind(this,i)),this.unstable||(++this.updateCounter>40&&(this.unstable=!0),this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){n.updateCounter=0,delete n.updateCounterTimeoutId},0)),this.updateFrame())},t.prototype.componentWillUnmount=function e(){Ka.off(window,"resize",this.updateFrameAndClearCache),Ka.off(this.scrollParent,"scroll",this.updateFrameAndClearCache),Ka.off(this.scrollParent,"mousewheel",km)},t.prototype.maybeSetState=function e(t,n){if(Tm(this.state,t))return n();this.setState(t,n)},t.prototype.getEl=function e(){return this.el||this.items||{}},t.prototype.getScrollParent=function e(){var t=this.getEl();switch(t=t.parentElement,window.getComputedStyle(t).overflowY){case"auto":case"scroll":case"overlay":case"visible":return t}return window},t.prototype.getScroll=function e(){var t=this.scrollParent,n="scrollTop",r=t===window?document.body.scrollTop||document.documentElement.scrollTop:t.scrollTop,i=this.getScrollSize()-this.getViewportSize(),o=Math.max(0,Math.min(r,i)),a=this.getEl();return this.cachedScroll=Nm(t)+o-Nm(a),this.cachedScroll},t.prototype.setScroll=function e(t){var n=this.scrollParent;if(t+=Nm(this.getEl()),n===window)return window.scrollTo(0,t);t-=Nm(this.scrollParent),n.scrollTop=t},t.prototype.getViewportSize=function e(){var t=this.scrollParent;return t===window?window.innerHeight:t.clientHeight},t.prototype.getScrollSize=function e(){var t=this.scrollParent,n=document,r=n.body,i=n.documentElement,o="scrollHeight";return t===window?Math.max(r[o],i[o]):t[o]},t.prototype.getStartAndEnd=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,n,r=this.getScroll(),i,o;return{start:Math.max(0,r-t),end:r+this.getViewportSize()+t}},t.prototype.updateFrameAndClearCache=function e(t){return this.cachedScroll=null,this.updateFrame(t)},t.prototype.updateFrame=function e(t){return this.updateScrollParent(),"function"!=typeof t&&(t=km),this.updateVariableFrame(t)},t.prototype.updateScrollParent=function e(){var t=this.scrollParent;this.scrollParent=this.getScrollParent(),t!==this.scrollParent&&(t&&(Ka.off(t,"scroll",this.updateFrameAndClearCache),Ka.off(t,"mousewheel",km)),Ka.on(this.scrollParent,"scroll",this.updateFrameAndClearCache),Ka.on(this.scrollParent,"mousewheel",km))},t.prototype.updateVariableFrame=function e(t){this.props.itemSizeGetter||this.cacheSizes();for(var n=this.getStartAndEnd(),r=n.start,i=n.end,o=this.props,a=o.pageSize,s,l=o.children.length,u=0,c=0,f=0,h=l-1;c<h;){var d=this.getSizeOf(c);if(null===d||void 0===d||u+d>r)break;u+=d,++c}for(var p=l-c;f<p&&u<i;){var m=this.getSizeOf(c+f);if(null===m||void 0===m){f=Math.min(f+a,p);break}u+=m,++f}this.maybeSetState({from:c,size:f},t)},t.prototype.getSpaceBefore=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return 0;if(null!==n[t]&&void 0!==n[t])return n[t]||0;for(var r=t;r>0&&(null===n[r]||void 0===n[r]);)r--;for(var i=n[r]||0,o=r;o<t;++o){n[o]=i;var a=this.getSizeOf(o);if(null===a||void 0===a)break;i+=a}return n[t]=i,n[t]||0},t.prototype.cacheSizes=function e(){var t=this.cache,n=this.state.from,r=this.items,i=r.children,o=r.props,a,s=i||(void 0===o?{}:o).children||[];try{for(var l=0,u=s.length;l<u;++l){var c,f=Object(tr.findDOMNode)(this.items).children[l].offsetHeight;f>0&&(t[n+l]=f)}}catch(e){}},t.prototype.getSizeOf=function e(t){var n=this,r=this.cache,i=this.props,o=i.itemSizeGetter,a=i.jumpIndex;if(t in r)return r[t];if(o)return o(t);var s=Object.keys(this.cache).map(function(e){return n.cache[e]}).pop();return!this.defaultItemHeight&&a>-1&&s&&(this.defaultItemHeight=s),this.defaultItemHeight?this.defaultItemHeight:void 0},t.prototype.scrollTo=function e(t){this.setScroll(this.getSpaceBefore(t))},t.prototype.renderMenuItems=function e(){for(var t=this,n=this.props,r=n.children,i=n.itemsRenderer,o=this.state,a=o.from,s=o.size,l=[],u=0;u<s;++u)l.push(r[a+u]);return i(l,function(e){return t.items=e,t.items})},t.prototype.render=function e(){var t,n=this,r=this.props,i=r.children,o=void 0===i?[]:i,a=r.prefix,s=r.className,l=o.length,u=this.state.from,c=this.renderMenuItems(),f={position:"relative"},h={},d=this.getSpaceBefore(l,h);d&&(f.height=d);var p,m="translate(0px, "+this.getSpaceBefore(u,h)+"px)",g={msTransform:m,WebkitTransform:m,transform:m},b=zs()(((t={})[a+"virtual-list-wrapper"]=!0,t[s]=!!s,t));return ar.a.createElement("div",{className:b,style:f,ref:function e(t){return n.el=t,n.el}},ar.a.createElement("div",{style:g},c))},t}(or.Component),Em.displayName="VirtualList",Em.propTypes={prefix:lr.a.string,children:lr.a.any,minSize:lr.a.number,pageSize:lr.a.number,itemsRenderer:lr.a.func,threshold:lr.a.number,itemSizeGetter:lr.a.func,jumpIndex:lr.a.number,className:lr.a.string},Em.defaultProps={prefix:"next-",itemsRenderer:function e(t,n){return ar.a.createElement("ul",{ref:n},t)},minSize:1,pageSize:10,jumpIndex:0,threshold:100},Cm);Im.displayName="VirtualList";var jm=Object(To.polyfill)(Im),Rm=Fs.config(jm),Mm,Pm,Dm=_u.Popup,Lm=of.Item,Fm=of.Group,Bm=Ya.noop,zm=Ya.bindCtx,$m=Ya.makeChain;function Um(e){e.preventDefault()}var Wm=(Pm=Mm=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.saveSelectRef=function(e){r.selectDOM=Object(tr.findDOMNode)(e)},r.saveInputRef=function(e){e&&e.getInstance()&&(r.inputRef=e.getInstance())},r.savePopupRef=function(e){r.popupRef=e,r.props.popupProps&&"function"==typeof r.props.popupProps.ref&&r.props.popupProps.ref(e)},r.dataStore=new Sm({filter:n.filter,filterLocal:n.filterLocal,showDataSourceChildren:n.showDataSourceChildren}),r.state={dataStore:r.dataStore,value:"value"in n?n.value:n.defaultValue,visible:"visible"in n?n.visible:n.defaultVisible,dataSource:r.setDataSource(r.props),width:100,highlightKey:n.defaultHighlightKey,srReader:""},zm(r,["handleMenuBodyClick","handleVisibleChange","focusInput","beforeOpen","beforeClose","afterClose","handleResize"]),r}return Oo()(t,e),t.prototype.componentDidMount=function e(){var t=this;setTimeout(function(){return t.syncWidth()},0),Ka.on(window,"resize",this.handleResize)},t.prototype.componentDidUpdate=function e(t,n){t.label===this.props.label&&n.value===this.state.value||this.syncWidth()},t.prototype.componentWillUnmount=function e(){Ka.off(window,"resize",this.handleResize),clearTimeout(this.resizeTimeout)},t.prototype.syncWidth=function e(){var t=this,n=this.props,r=n.popupStyle,i=n.popupProps;if(!(r&&"width"in r||i&&i.style&&"width"in i.style)){var o=Ga.getStyle(this.selectDOM,"width");o&&this.width!==o&&(this.width=o,this.popupRef&&this.shouldAutoWidth()&&setTimeout(function(){t.popupRef&&t.popupRef.getInstance().overlay&&Ga.setStyle(t.popupRef.getInstance().overlay.getInstance().getContentNode(),"width",t.width)},0))}},t.prototype.handleResize=function e(){var t=this;clearTimeout(this.resizeTimeout),this.state.visible&&(this.resizeTimeout=setTimeout(function(){t.syncWidth()},200))},t.prototype.setDataSource=function e(t){var n=t.dataSource,r=t.children;return or.Children.count(r)?this.dataStore.updateByDS(r,!0):Array.isArray(n)?this.dataStore.updateByDS(n,!1):[]},t.prototype.setVisible=function e(t,n){this.props.disabled||this.state.visible===t||("visible"in this.props||this.setState({visible:t}),this.props.onVisibleChange(t,n))},t.prototype.setFirstHightLightKeyForMenu=function e(){if(this.props.autoHighlightFirstItem&&this.dataStore.getMenuDS().length&&this.dataStore.getEnableDS().length){var t=""+this.dataStore.getEnableDS()[0].value;this.setState({highlightKey:t}),this.props.onToggleHighlightItem(t,"autoFirstItem")}},t.prototype.handleChange=function e(t){var n;"value"in this.props||this.setState({value:t});for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=this.props).onChange.apply(n,[t].concat(i))},t.prototype.handleMenuBodyClick=function e(t){this.focusInput(t)},t.prototype.toggleHighlightItem=function e(t){if(this.state.visible){var n=this.dataStore.getEnableDS().length;if(!n)return!1;var r=this.state.highlightKey,i=-1;null!==r&&this.dataStore.getEnableDS().some(function(e,t){return""+e.value===r&&(i=t),i>-1}),(i+=t)<0&&(i=n-1),i>=n&&(i=0);var o=this.dataStore.getEnableDS()[i];return r=o?""+o.value:null,this.setState({highlightKey:r,srReader:o.label}),this.scrollMenuIntoView(),o}this.setVisible(!0,"enter")},t.prototype.scrollMenuIntoView=function e(){var t=this,n=this.props.prefix;clearTimeout(this.highlightTimer),this.highlightTimer=setTimeout(function(){try{var e,r=Object(tr.findDOMNode)(t.menuRef).querySelector("."+n+"select-menu-item."+n+"focused");r&&r.scrollIntoViewIfNeeded()}catch(e){}})},t.prototype.renderMenuHeader=function e(){var t=this.props.menuProps;return t&&"header"in t?t.header:null},t.prototype.handleSelect=function e(){},t.prototype.renderMenu=function e(){var t,n=this,r=this.props,i=r.prefix,o=r.mode,a=r.locale,s=r.notFoundContent,l=r.useVirtual,u=r.menuProps,c=this.state,f=c.dataSource,h=c.highlightKey,d=this.state.value,p=void 0;p=fm(d)||0===d.length||this.isAutoComplete?[]:cm(o)?[xm(d)]:[].concat(d).map(function(e){return xm(e)});var m=this.renderMenuItem(f),g=zs()(((t={})[i+"select-menu"]=!0,t[i+"select-menu-empty"]=!m||!m.length,t));m&&m.length||(m=ar.a.createElement("span",{className:i+"select-menu-empty-content"},s||a.notFoundContent));var b=vo()({},u,{children:m,role:"listbox",selectedKeys:p,focusedKey:h,focusable:!1,selectMode:cm(o)?"single":"multiple",onSelect:this.handleMenuSelect,onItemClick:this.handleItemClick,header:this.renderMenuHeader(),onClick:this.handleMenuBodyClick,onMouseDown:Um,className:g}),y=this.shouldAutoWidth()?{width:this.width}:{minWidth:this.width};return l&&m.length?ar.a.createElement("div",{className:i+"select-menu-wrapper",style:vo()({position:"relative"},y)},ar.a.createElement(Rm,{itemsRenderer:function e(t,r){return ar.a.createElement(of,vo()({ref:function e(t){r(t),n.menuRef=t},flatenContent:!0},b),t)}},m)):ar.a.createElement(of,vo()({},b,{style:y}))},t.prototype.renderMenuItem=function e(t){var n=this,r=this.props,i=r.prefix,o=r.itemRender,a=r.showDataSourceChildren,s=void 0;return s=this.isAutoComplete?this.state.value:this.state.searchValue,t.map(function(e,t){if(!e)return null;if(Array.isArray(e.children)&&a)return ar.a.createElement(Fm,{key:t,label:e.label},n.renderMenuItem(e.children));var r={role:"option",key:e.value,className:i+"select-menu-item",disabled:e.disabled};return"title"in e&&(r.title=e.title),ar.a.createElement(Lm,r,o(e,s))})},t.prototype.focusInput=function e(){this.inputRef.focus()},t.prototype.focus=function e(){var t;(t=this.inputRef).focus.apply(t,arguments)},t.prototype.beforeOpen=function e(){var t=this.state,n=t.value,r=t.highlightKey;"single"!==this.props.mode||n||r||this.setFirstHightLightKeyForMenu(),this.syncWidth()},t.prototype.beforeClose=function e(){},t.prototype.afterClose=function e(){},t.prototype.shouldAutoWidth=function e(){return!this.props.popupComponent&&this.props.autoWidth},t.prototype.render=function e(t){var n,r=t.prefix,i=t.mode,o=t.popupProps,a=t.popupContainer,s=t.popupClassName,l=t.popupStyle,u=t.popupContent,c=t.canCloseByTrigger,f=t.followTrigger,h=t.cache,d=t.popupComponent,p=t.isPreview,m=t.renderPreview,g=t.style,b=t.className,y=zs()(((n={})[r+"select-auto-complete-menu"]=!u&&this.isAutoComplete,n[r+"select-"+i+"-menu"]=!u&&!!i,n),s||o.className);if(p){if(this.isAutoComplete)return ar.a.createElement(um,{style:g,className:b,isPreview:p,renderPreview:m,value:this.state.value});var v=this.valueDataSource.valueDS;if("function"==typeof m){var w,x=zs()(((w={})[r+"form-preview"]=!0,w[b]=!!b,w));return ar.a.createElement("div",{style:g,className:x},m(v,this.props))}var _=this.props.fillProps;return"single"===i?ar.a.createElement(um,{style:g,className:b,isPreview:p,value:_?v[_]:v.label}):ar.a.createElement(um,{style:g,className:b,isPreview:p,value:v.map(function(e){return e.label}).join(", ")})}var S=vo()({triggerType:"click",autoFocus:!!this.props.popupAutoFocus,cache:h},o,{beforeOpen:$m(this.beforeOpen,o.beforeOpen),beforeClose:$m(this.beforeClose,o.beforeClose),afterClose:$m(this.afterClose,o.afterClose),canCloseByTrigger:c,followTrigger:f,visible:this.state.visible,onVisibleChange:this.handleVisibleChange,shouldUpdatePosition:!0,container:a||o.container,className:y,style:l||o.style}),E=d||Dm;return ar.a.createElement(E,vo()({},S,{trigger:this.renderSelect(),ref:this.savePopupRef}),u?ar.a.createElement("div",{className:r+"select-popup-wrap",style:this.shouldAutoWidth()?{width:this.width}:{}},u):this.renderMenu())},t}(ar.a.Component),Mm.propTypes={prefix:lr.a.string,size:lr.a.oneOf(["small","medium","large"]),value:lr.a.any,defaultValue:lr.a.any,placeholder:lr.a.string,autoWidth:lr.a.bool,label:lr.a.node,hasClear:lr.a.bool,state:lr.a.oneOf(["error","loading"]),readOnly:lr.a.bool,disabled:lr.a.bool,visible:lr.a.bool,defaultVisible:lr.a.bool,onVisibleChange:lr.a.func,popupContainer:lr.a.any,popupClassName:lr.a.any,popupStyle:lr.a.object,popupProps:lr.a.object,followTrigger:lr.a.bool,popupContent:lr.a.node,menuProps:lr.a.object,filterLocal:lr.a.bool,filter:lr.a.func,defaultHighlightKey:lr.a.string,onToggleHighlightItem:lr.a.func,autoHighlightFirstItem:lr.a.bool,useVirtual:lr.a.bool,className:lr.a.any,children:lr.a.any,dataSource:lr.a.array,itemRender:lr.a.func,mode:lr.a.string,notFoundContent:lr.a.node,locale:lr.a.object,rtl:lr.a.bool,popupComponent:lr.a.any,isPreview:lr.a.bool,renderPreview:lr.a.func,showDataSourceChildren:lr.a.bool},Mm.defaultProps={prefix:"next-",size:"medium",autoWidth:!0,onChange:Bm,onVisibleChange:Bm,onToggleHighlightItem:Bm,popupProps:{},filterLocal:!0,filter:dm,itemRender:function e(t){return t.label||t.value},locale:No.Select,autoHighlightFirstItem:!0,showDataSourceChildren:!0,defaultHighlightKey:null},Pm),Vm,Hm;Wm.displayName="Base";var Gm=Ya.bindCtx,qm=Ya.noop,Km=9===qa.ieVersion,Ym=(Hm=Vm=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));r.handleWrapClick=function(e){"INPUT"!==e.target.nodeName&&e.preventDefault(),r.focusInput()},r.handleArrowClick=function(e){e.preventDefault(),r.focusInput(),r.state.visible&&r.hasSearch()&&r.setVisible(!1)},r.handleClear=function(e){e.stopPropagation(),r.handleChange(void 0,"clear")},r.valueDataSource={valueDS:[],mapValueDS:{}};var i="searchValue"in n?n.searchValue:"";return r.dataStore.setOptions({key:i,addonKey:"tag"===n.mode}),vo()(r.state,{searchValue:i,dataSource:r.setDataSource(n)}),void 0!==r.state.value&&(r.valueDataSource=wm(r.state.value,r.valueDataSource.mapValueDS,r.dataStore.getMapDS())),Gm(r,["handleMenuSelect","handleItemClick","handleSearch","handleSearchKeyDown","handleSelectAll","maxTagPlaceholder"]),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};if("value"in t&&t.value!==n.value&&vo()(r,{value:t.value}),"searchValue"in t&&t.searchValue!==n.searchValue){var i=t.searchValue;vo()(r,{searchValue:void 0===i||null===i?"":i})}return"visible"in t&&t.visible!==n.visible&&vo()(r,{visible:t.visible}),Object.keys(r).length?r:null},t.prototype.componentDidUpdate=function e(t,n){var r=this.props;"searchValue"in r&&this.state.searchValue!==n.searchValue&&this.dataStore.setOptions({key:this.state.searchValue}),r.mode!==t.mode&&this.dataStore.setOptions({addonKey:"tag"===r.mode}),r.mode!==t.mode&&this.dataStore.setOptions({addonKey:"tag"===r.mode}),r.filter!==t.filter&&this.dataStore.setOptions({filter:r.filter}),r.filterLocal!==t.filterLocal&&this.dataStore.setOptions({filterLocal:r.filterLocal}),t.children===r.children&&t.dataSource===r.dataSource||(this.setState({dataSource:this.setDataSource(r)}),r.popupContent||this.setFirstHightLightKeyForMenu()),"value"in r?(this.valueDataSource=wm(r.value,this.valueDataSource.mapValueDS,this.dataStore.getMapDS()),this.updateSelectAllYet(this.valueDataSource.value)):"defaultValue"in r&&r.defaultValue===this.valueDataSource.value&&(r.children!==t.children||r.dataSource!==t.dataSource)&&(this.valueDataSource=wm(r.defaultValue,this.valueDataSource.mapValueDS,this.dataStore.getMapDS())),t.label===this.props.label&&n.value===this.state.value&&r.searchValue===this.state.searchValue||this.syncWidth()},t.prototype.componentDidMount=function t(){Km&&this.ie9Hack(),e.prototype.componentDidMount.call(this)},t.prototype.ie9Hack=function e(){try{var t=this.selectDOM.currentStyle.width;this.setState({fixWidth:"auto"!==t})}catch(e){}},t.prototype.useDetailValue=function e(){var t=this.props,n=t.popupContent,e=t.useDetailValue,r=t.dataSource;return e||n&&!r},t.prototype.hasSearch=function e(){var t=this.props,n=t.showSearch,r=t.mode;return n||"tag"===r},t.prototype.handleMenuSelect=function e(t,n){var r=this.props,i=r.mode,o=r.readOnly,a=r.disabled,s;return!o&&!a&&("single"===i?this.handleSingleSelect(t[0],"itemClick"):this.handleMultipleSelect(t,"itemClick",n.props&&n.props._key))},t.prototype.handleItemClick=function e(){this.props.popupAutoFocus||this.focusInput()},t.prototype.handleSingleSelect=function e(t,n){var r,i=wm(t,this.props.cacheValue?this.valueDataSource.mapValueDS:{},this.dataStore.getMapDS());if(this.valueDataSource=i,this.setVisible(!1,n),this.useDetailValue())return this.handleChange(i.valueDS,n);this.handleChange(i.value,n,i.valueDS),this.setState({highlightKey:t}),"searchValue"in this.props||!this.state.searchValue||this.handleSearchClear(n)},t.prototype.handleMultipleSelect=function e(t,n,r,i){var o=this,a=wm(t,this.valueDataSource.mapValueDS,this.dataStore.getMapDS()),s=this.props,l=s.cacheValue,u=s.mode,c=s.hiddenSelected;(l||"tag"===u)&&(this.valueDataSource=a),c&&this.setVisible(!1,n),r&&this.state.visible&&this.setState({highlightKey:r}),this.useDetailValue()?this.handleChange(a.valueDS,n):this.handleChange(a.value,n,a.valueDS),this.updateSelectAllYet(a.value),"searchValue"in this.props||!this.state.searchValue||i||setTimeout(function(){o.handleSearchClear(n)})},t.prototype.updateSelectAllYet=function e(t){var n=this;if(this.selectAllYet=!1,this.props.hasSelectAll&&Array.isArray(t)){var r=this.dataStore.getEnableDS().map(function(e){return e.value});r.length<=t.length&&(this.selectAllYet=!0,r.forEach(function(e){-1!==t.indexOf(e)||(n.selectAllYet=!1)}))}},t.prototype.handleSearchValue=function e(t){var n;this.state.searchValue!==t&&(this.props.filterLocal?"searchValue"in this.props||(this.setState({searchValue:t,dataSource:this.dataStore.updateByKey(t)}),this.setFirstHightLightKeyForMenu()):"searchValue"in this.props||this.setState({searchValue:t}))},t.prototype.handleSearch=function e(t){this.handleSearchValue(t),!this.state.visible&&t&&this.setVisible(!0),this.props.onSearch(t)},t.prototype.handleSearchClear=function e(t){this.handleSearchValue(""),this.props.onSearchClear(t)},t.prototype.handleSearchKeyDown=function e(t){var n=this.props,r=n.popupContent,i=n.onKeyDown,o=n.showSearch,a=n.mode,s=n.hasClear,l=n.onToggleHighlightItem,u=n.readOnly,c=n.disabled;if(r)return i(t);var f="search",h=this.hasSearch();switch(t.keyCode){case ns.UP:t.preventDefault(),l(this.toggleHighlightItem(-1,t),"up");break;case ns.DOWN:t.preventDefault(),l(this.toggleHighlightItem(1,t),"down");break;case ns.ENTER:if(t.preventDefault(),u||c)break;this.chooseHighlightItem(f,t);break;case ns.ESC:t.preventDefault(),this.state.visible&&this.setVisible(!1,"keyDown");break;case ns.SPACE:t.stopPropagation(),!h&&t.preventDefault();break;case ns.BACKSPACE:if(u||c)break;if("multiple"===a&&o||"tag"===a){var d=this.valueDataSource.valueDS;d&&d.length&&!d[d.length-1].disabled&&this.handleDeleteTag(t)}else"single"===a&&s&&!this.state.visible&&this.handleClear(t)}i(t)},t.prototype.chooseMultipleItem=function e(t){var n,r=(this.state.value||[]).map(function(e){return xm(e)}),i=!1,o=r.map(function(e){return""+e}).indexOf(t);o>-1?(r.splice(o,1),i=!0):r.push(t),this.handleMultipleSelect(r,"enter",null,i)},t.prototype.chooseHighlightItem=function e(t,n){var r=this.props.mode;if(!this.state.visible)return"tag"===r&&this.state.searchValue&&this.chooseMultipleItem(this.state.searchValue),!1;var i=this.state.highlightKey;null!==i&&this.dataStore.getMenuDS().length&&("single"===r?this.handleSingleSelect(i,"enter"):(this.chooseMultipleItem(i),n&&n.stopPropagation()))},t.prototype.handleTagClose=function e(t){var n;if(this.props.readOnly)return!1;if(this.useDetailValue()){var r=this.state.value.filter(function(e){return t.value!==e.value});this.handleChange(r,"tag")}else{var i=this.state.value.filter(function(e){return t.value!==e});this.handleMultipleSelect(i,"tag")}return this.props.onRemove(t),!1},t.prototype.handleDeleteTag=function e(t){var n=this.state.value,r;if(this.state.searchValue||!n||!n.length)return!1;t.preventDefault();var i=n.slice(0,n.length-1);this.useDetailValue()?this.handleChange(i,"tag"):this.handleMultipleSelect(i,"tag")},t.prototype.handleSelectAll=function e(t){t&&t.preventDefault();var n=void 0;n=this.selectAllYet?[]:this.dataStore.getEnableDS().map(function(e){return e.value}),this.handleMultipleSelect(n,"selectAll")},t.prototype.handleVisibleChange=function e(t,n){this.setVisible(t,n)},t.prototype.afterClose=function e(){this.hasSearch()&&this.handleSearchClear("popupClose")},t.prototype.maxTagPlaceholder=function e(t,n){var r=this.props.locale;return""+Ja.template(r.maxTagPlaceholder,{selected:t.length,total:n.length})},t.prototype.renderValues=function e(){var t=this,n=this.props,r=n.prefix,i=n.mode,o=n.size,a=n.valueRender,s=n.fillProps,l=n.disabled,u=n.maxTagCount,c=n.maxTagPlaceholder,f=n.tagInline,h=n.tagClosable,d=this.state.value;if(fm(d))return null;if(this.useDetailValue()||(d=d===this.valueDataSource.value?this.valueDataSource.valueDS:wm(d,this.valueDataSource.mapValueDS,this.dataStore.getMapDS()).valueDS),"single"===i){if(!d)return null;var p=s&&s in d?d[s]:a(d);return"number"==typeof p?p.toString():p}if(d){var m=d,g=void 0,b=this.dataStore.getFlattenDS(),y="maxTagPlaceholder"in this.props?c:this.maxTagPlaceholder;void 0!==u&&d.length>u&&!f&&(m=m.slice(0,u),g=ar.a.createElement(bp,{key:"_count",type:"primary",size:"large"===o?"medium":"small",animation:!1},y(d,b))),d.length>0&&f&&(g=ar.a.createElement("div",{className:r+"select-tag-compact",key:"_count"},y(d,b))),d=m,Array.isArray(d)||(d=[d]);var v=d.map(function(e){if(!e)return null;var n=s?e[s]:a(e);return ar.a.createElement(bp,{key:e.value,disabled:l||e.disabled,type:"primary",size:"large"===o?"medium":"small",animation:!1,onClose:t.handleTagClose.bind(t,e),closable:h},n)});return g&&(f?v.unshift(g):v.push(g)),v}return null},t.prototype.hasClear=function e(){var t=this.props,e=t.hasClear,n=t.readOnly,r=t.disabled,i=t.showSearch,o=this.state,a=o.value,s=o.visible;return void 0!==a&&null!==a&&e&&!n&&!r&&!(i&&s)},t.prototype.renderExtraNode=function e(){var t=this.props,n=t.hasArrow,r=t.hasClear,i=t.prefix,o=[];return n&&o.push(ar.a.createElement("span",{key:"arrow","aria-hidden":!0,onClick:this.handleArrowClick,className:i+"select-arrow"},ar.a.createElement(ml,{type:"arrow-down",className:i+"select-symbol-fold"}))),r&&o.push(ar.a.createElement("span",{key:"clear","aria-hidden":!0,onClick:this.handleClear,className:i+"select-clear"},ar.a.createElement(ml,{type:"delete-filling"}))),o},t.prototype.renderSelect=function e(){var n,r=this,i=this.props,o=i.prefix,a=i.showSearch,s=i.placeholder,l=i.mode,u=i.size,c=i.className,f=i.style,h=i.readOnly,d=i.disabled,p=i.hasBorder,m=i.label,g=i.locale,b=i.state,y=i.onBlur,v=i.onFocus,w=i.onMouseEnter,x=i.onMouseLeave,_=i.rtl,S=Za.pickOthers(t.propTypes,this.props),E=Za.pickAttrsWith(S,"data-"),C=this.state.visible,k="single"===l,O=this.hasSearch(),T=this.renderValues(),N=s||g.selectPlaceholder||g.selectPlaceHolder;T&&T.length&&(N=null),a&&C&&k&&"string"==typeof T&&(N=T);var A=this.renderExtraNode(),I=zs()([o+"select",o+"select-trigger",o+"select-"+l,""+o+u,c],((n={})[o+"active"]=C,n[o+"inactive"]=!C,n[o+"no-search"]=!O,n[o+"has-search"]=O,n[o+"select-in-ie"]=Km,n[o+"select-in-ie-fixwidth"]=this.state.fixWidth,n[o+"has-clear"]=this.hasClear(),n)),j=this.valueDataSource.valueDS?this.valueDataSource.valueDS.label:"";return ar.a.createElement("span",vo()({},E,{className:I,style:f,dir:_?"rtl":void 0,ref:this.saveSelectRef,onClick:this.handleWrapClick,onMouseEnter:w,onMouseLeave:x,onMouseDown:this.handleWrapClick}),ar.a.createElement(um,vo()({"aria-valuetext":j},Za.pickOthers(E,S),{role:"combobox",tabIndex:0,"aria-expanded":this.state.visible,"aria-disabled":d,state:b,label:m,extra:A,value:this.state.searchValue,size:u,readOnly:!this.hasSearch()||h,disabled:d,placeholder:N,hasBorder:p,hasClear:!1,htmlSize:"1",inputRender:function e(t){return r.renderSearchInput(T,N,t)},onChange:this.handleSearch,onKeyDown:this.handleSearchKeyDown,onFocus:v,onBlur:y,className:o+"select-inner",ref:this.saveInputRef})),ar.a.createElement("span",{className:o+"sr-only","aria-live":"polite"},this.state.srReader))},t.prototype.renderSearchInput=function e(t,n,r){var i,o=this.props,a=o.prefix,s=o.mode,l=o.tagInline,u="single"===s,c=this.state.searchValue,f=zs()(((i={})[a+"select-values"]=!0,i[a+"input-text-field"]=!0,i[a+"select-compact"]=!u&&l,i)),h=[u&&t?ar.a.createElement("em",{key:"select-value"},t):t],d=ar.a.createElement("span",{key:"trigger-search",className:a+"select-trigger-search"},r,ar.a.createElement("span",{"aria-hidden":!0},c||n,"\xa0"));return!u&&l?h.unshift(d):h.push(d),ar.a.createElement("span",{className:f},h)},t.prototype.renderMenuHeader=function e(){var t,n,r=this.props,i=r.prefix,o=r.hasSelectAll,a=r.mode,s=r.locale,l=r.menuProps;if(l&&"header"in l)return l.header;var u=this.dataStore.getEnableDS().length;if(!o||"single"===a||!u)return null;var c="boolean"==typeof o?s.selectAll:o,f=this.selectAllYet,h=zs()(((t={})[i+"select-all"]=!0,t[i+"selected"]=f,t)),d=zs()(((n={})[i+"select-all-inner"]=!0,n));return ar.a.createElement("div",{key:"all",onClick:this.handleSelectAll,className:h,style:{lineHeight:"unset"}},f?ar.a.createElement(ml,{className:i+"menu-icon-selected",style:{display:"none"},type:"select"}):null,ar.a.createElement("span",{className:d},c))},t.prototype.render=function t(){var n=this.props.mode,r=vo()({},this.props);return this.hasSearch()&&(r.canCloseByTrigger=!1),"single"===n&&(r.cache=!0),e.prototype.render.call(this,r)},t}(Wm),Vm.propTypes=vo()({},Wm.propTypes,{mode:lr.a.oneOf(["single","multiple","tag"]),value:lr.a.any,defaultValue:lr.a.any,onChange:lr.a.func,dataSource:lr.a.arrayOf(lr.a.oneOfType([lr.a.shape({value:lr.a.any,label:lr.a.any,disabled:lr.a.bool,children:lr.a.array}),lr.a.bool,lr.a.number,lr.a.string])),hasBorder:lr.a.bool,hasArrow:lr.a.bool,showSearch:lr.a.bool,onSearch:lr.a.func,onSearchClear:lr.a.func,hasSelectAll:lr.a.oneOfType([lr.a.bool,lr.a.string]),fillProps:lr.a.string,useDetailValue:lr.a.bool,cacheValue:lr.a.bool,valueRender:lr.a.func,itemRender:lr.a.func,notFoundContent:lr.a.node,style:lr.a.object,searchValue:lr.a.string,tagInline:lr.a.bool,tagClosable:lr.a.bool,maxTagCount:lr.a.number,maxTagPlaceholder:lr.a.func,hiddenSelected:lr.a.bool,onRemove:lr.a.func,onFocus:lr.a.func,onBlur:lr.a.func,onMouseEnter:lr.a.func,onMouseLeave:lr.a.func,onKeyDown:lr.a.func,locale:lr.a.object,popupAutoFocus:lr.a.bool,showDataSourceChildren:lr.a.bool}),Vm.defaultProps=vo()({},Wm.defaultProps,{locale:No.Select,mode:"single",showSearch:!1,cacheValue:!0,tagInline:!1,onSearch:qm,onSearchClear:qm,hasArrow:!0,onRemove:qm,valueRender:function e(t){return t.label||t.value},onKeyDown:qm,onFocus:qm,onBlur:qm,onMouseEnter:qm,onMouseLeave:qm,popupAutoFocus:!1,tagClosable:!0}),Vm.displayName="Select",Hm),Xm=Object(To.polyfill)(Ym),Zm,Jm,Qm=Ya.bindCtx,eg=Ya.noop,tg=(Jm=Zm=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.handleChange=function(e,t,n){var i=r.props,o=i.disabled,a=i.readOnly,s=i.filterLocal;if(o||a)return!1;var l="string"==typeof t?t:"change";r.isInputing="change"===l,s&&(r.setState({dataSource:r.dataStore.updateByKey(e)}),r.shouldControlPopup(r.props,l),r.setFirstHightLightKeyForMenu()),"value"in r.props||r.setState({value:e}),r.props.onChange(e,l,n),"itemClick"!==l&&"enter"!==l||r.setVisible(!1,l)},r.isAutoComplete=!0,r.isInputing=!1,r.dataStore.setOptions({key:r.state.value}),vo()(r.state,{dataSource:r.setDataSource(n)}),Qm(r,["handleTriggerKeyDown","handleMenuSelect","handleItemClick"]),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};return"value"in t&&t.value!==n.value&&vo()(r,{value:t.value}),"visible"in t&&t.visible!==n.visible&&vo()(r,{visible:t.visible}),Object.keys(r).length?r:null},t.prototype.componentDidUpdate=function e(t,n){var r=this.props;"value"in r&&this.dataStore.setOptions({key:r.value}),r.filter!==t.filter&&this.dataStore.setOptions({filter:r.filter}),r.filterLocal!==t.filterLocal&&this.dataStore.setOptions({filterLocal:r.filterLocal}),t.children===r.children&&t.dataSource===r.dataSource||(this.setState({dataSource:this.setDataSource(r)}),!r.filterLocal&&this.isInputing&&this.shouldControlPopup(r,"update"),r.filterLocal||r.popupContent||this.setFirstHightLightKeyForMenu())},t.prototype.shouldControlPopup=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments[1],r;t.popupContent||this.dataStore.getMenuDS().length?this.setVisible(!0,n):this.setVisible(!1,n)},t.prototype.handleMenuSelect=function e(t){var n=t[0],r=this.dataStore.getMapDS();if(n in r){var i=r[n];this.handleSelectEvent(n,i,"itemClick")}},t.prototype.handleItemClick=function e(){this.setVisible(!1,"itemClick")},t.prototype.handleSelectEvent=function e(t,n,r){var i=n&&n[this.props.fillProps]||t;"itemClick"!==r&&"enter"!==r||this.setVisible(!1,r),this.handleChange(i,r,n)},t.prototype.handleVisibleChange=function e(t,n){("visible"in this.props||!t||this.props.popupContent||this.dataStore.getMenuDS().length)&&this.setVisible(t,n)},t.prototype.beforeClose=function e(){this.isInputing=!1},t.prototype.handleTriggerKeyDown=function e(t){var n=this.props,r=n.popupContent,i=n.onToggleHighlightItem,o=n.onKeyDown;if(r)return t.stopPropagation(),o(t);switch(t.keyCode){case ns.UP:t.preventDefault(),i(this.toggleHighlightItem(-1,t),"up");break;case ns.DOWN:t.preventDefault(),i(this.toggleHighlightItem(1,t),"down");break;case ns.ENTER:t.preventDefault(),this.chooseHighlightItem(t);break;case ns.SPACE:t.stopPropagation();break;case ns.ESC:t.preventDefault(),this.state.visible&&this.setVisible(!1,"esc")}o(t)},t.prototype.chooseHighlightItem=function e(){if(!this.state.visible)return!1;var t=this.state.highlightKey,n=this.dataStore.getEnableDS().find(function(e){return t===""+e.value});n&&this.handleSelectEvent(t,n,"enter")},t.prototype.hasClear=function e(){var t=this.props,e=t.hasClear,n=t.readOnly,r=t.disabled,i;return this.state.value&&e&&!n&&!r},t.prototype.renderSelect=function e(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,i=r.placeholder,o=r.size,a=r.prefix,s=r.className,l=r.style,u=r.label,c=r.readOnly,f=r.disabled,h=r.highlightHolder,d=r.locale,p=r.hasClear,m=r.state,g=r.rtl,b=Za.pickOthers(t.propTypes,r),y=Za.pickAttrsWith(b,"data-"),v=this.state.value,w=this.state.visible,x=zs()([a+"select",a+"select-auto-complete",a+"size-"+o,s],((n={})[a+"active"]=w,n[a+"disabled"]=f,n)),_=i||d.autoCompletePlaceholder||d.autoCompletePlaceHolder;h&&w&&(_=this.state.highlightKey||_);var S=vo()({},Za.pickOthers(y,b),{state:m,ref:this.saveInputRef,hasClear:p,value:v,size:o,disabled:f,readOnly:c,placeholder:_,label:u,onChange:this.handleChange,onKeyDown:this.handleTriggerKeyDown});return ar.a.createElement("span",vo()({},y,{className:x,style:l,dir:g?"rtl":void 0,ref:this.saveSelectRef,onClick:this.focusInput}),ar.a.createElement(um,vo()({role:"combobox","aria-autocomplete":"list","aria-disabled":f,"aria-expanded":this.state.visible},S)),ar.a.createElement("span",{className:a+"sr-only","aria-live":"polite"},this.state.srReader))},t.prototype.render=function t(){var n=this;if(this.hasClear()){var r=this.props.popupProps.safeNode||[],i=Array.isArray(r)?r:[r];i.push(function(){return n.clearNode}),this.props.popupProps.safeNode=i}return e.prototype.render.call(this,vo()({},this.props,{canCloseByTrigger:!1}))},t}(Wm),Zm.propTypes=vo()({},Wm.propTypes,{value:lr.a.oneOfType([lr.a.string,lr.a.number]),defaultValue:lr.a.oneOfType([lr.a.string,lr.a.number]),onChange:lr.a.func,dataSource:lr.a.arrayOf(lr.a.oneOfType([lr.a.shape({value:lr.a.string,label:lr.a.any,disabled:lr.a.bool,children:lr.a.array}),lr.a.string])),fillProps:lr.a.string,itemRender:lr.a.func,onKeyDown:lr.a.func,highlightHolder:lr.a.bool,style:lr.a.object}),Zm.defaultProps=vo()({},Wm.defaultProps,{onKeyDown:eg,fillProps:"value"}),Jm),ng=Object(To.polyfill)(tg),rg,ig,og=(ig=rg=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){return this.props.children},t}(ar.a.Component),rg.propTypes={value:lr.a.any.isRequired,disabled:lr.a.bool,children:lr.a.any},rg._typeMark="next_select_option",ig),ag,sg;og.displayName="Option";var lg=(sg=ag=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){return this.props.children},t}(ar.a.Component),ag.propTypes={label:lr.a.node,children:lr.a.any},ag._typeMark="next_select_option_group",sg);function ug(e,t){var n=e.shape,r=e.container,i=e.multiple,o=e.filterBy,a=e.overlay,s=e.safeNode,l=e.noFoundContent,u,c=xo()(e,["shape","container","multiple","filterBy","overlay","safeNode","noFoundContent"]);return"arrow-only"===n&&(t("shape=arrow-only","hasBorder=false","Select"),c.hasBorder=!1),r&&(t("container","popupContainer","Select"),c.popupContainer=r),i&&(t("multiple","mode=multiple","Select"),c.mode="multiple"),o&&(t("filterBy","filter","Select"),c.filter=o),a&&(t("overlay","popupContent","Select"),c.popupContent=a,c.autoWidth=!1),l&&(t("noFoundContent","notFoundContent","Select"),c.notFoundContent=l),s&&(t("safeNode","popupProps={safeNode}","Select"),c.popupProps={safeNode:s}),c}lg.displayName="OptionGroup",Xm.AutoComplete=Fs.config(ng,{componentName:"Select"}),Xm.Option=og,Xm.OptionGroup=lg,Xm.Combobox=Fs.config(Xm,{transform:function e(t,n){n("Select.Combobox","<Select showSearch={true}/>","Select");var r=ug(t,n);return t.onInputUpdate&&(r.onSearch=t.onInputUpdate,r.showSearch=!0),r}});var cg=Fs.config(Xm,{transform:ug,exportNames:["focusInput","handleSearchClear"]}),fg=n(597);function hg(e){"@babel/helpers - typeof";return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mg(e,t,n){return t&&pg(e.prototype,t),n&&pg(e,n),e}function gg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bg(e,t)}function bg(e,t){return(bg=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function yg(e){return function(){var t=_g(e),n;if(xg()){var r=_g(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return vg(this,n)}}function vg(e,t){return!t||"object"!==hg(t)&&"function"!=typeof t?wg(e):t}function wg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _g(e){return(_g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Sg=cg.Option,Eg=function(e){gg(n,e);var t=yg(n);function n(){var e;dg(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onChange=function(t){var n=e.props,r=n.itemName,i;(0,n.changeSelectPlugin)(r,t)},e}return mg(n,[{key:"render",value:function e(){var t=this.props,n=t.itemName,r=t.plugins,i=t.choices,o=t.currentSelect,a=t.jobId,s=r[n],l=i[n];return s&&(l.includes(s.package)||l.push(s.package)),ar.a.createElement("div",{className:"choose-item",style:{backgroundColor:o?"#bdbdbd":"#f2f2f2"}},ar.a.createElement("div",{className:"item-name"},n),ar.a.createElement("div",{className:"choose-plugin"},ar.a.createElement(cg,{value:s&&s.package||"",autoWidth:!1,onChange:this.onChange,disabled:a,hasClear:!0},l.map(function(e){return ar.a.createElement(Sg,{value:e,key:e},e)}))))}}]),n}(or.Component),Cg=n(598),kg="click",Og="hover",Tg,Ng;function Ag(e,t){var n="width";return"left"!==t&&"right"!==t||(n="height"),e?e.getBoundingClientRect()[n]:0}function Ig(e,t){var n="left";return"left"!==t&&"right"!==t||(n="top"),e.getBoundingClientRect()[n]}function jg(e){return"transform"in e||"webkitTransform"in e||"MozTransform"in e}function Rg(e){var t=[];return ar.a.Children.forEach(e,function(e,n){ar.a.isValidElement(e)&&t.push(ar.a.cloneElement(e,{key:e.key||n,title:e.props.title||e.props.tab}))}),t}var Mg={float:"right",zIndex:1},Pg={float:"left",zIndex:1},Dg={dropdown:"arrow-down",prev:"arrow-left",next:"arrow-right"},Lg=_u.Popup,Fg=(Ng=Tg=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));return i.removeTab=function(e,t){t&&t.stopPropagation(),i.props.onClose(e)},i.onCloseKeyDown=function(e,t){t.keyCode===ns.ENTER&&(t.stopPropagation(),t.preventDefault(),i.props.onClose(e))},i.defaultTabTemplateRender=function(e,t){var n=t.prefix,r=t.title,o=t.closeable,a=i.props.locale,s=o?ar.a.createElement(ml,{"aria-label":a.closeAriaLabel,type:"close",tabIndex:"0",onKeyDown:function t(n){return i.onCloseKeyDown(e,n)},onClick:function t(n){return i.removeTab(e,n)},className:n+"tabs-tab-close"}):null;return ar.a.createElement("div",{className:i.props.prefix+"tabs-tab-inner"},r,s)},i.scrollToActiveTab=function(){if(i.activeTab&&["slide","dropdown"].includes(i.props.excessMode)){var e=Ag(i.activeTab),t=Ag(i.wrapper),n=Ig(i.activeTab),r=Ig(i.wrapper),o=i.offset;if(n>=r+t||n+e<=r)return void i.setOffset(i.offset+r-n,!0,!0);i.setOffset(o,!0,!0)}},i.onPrevClick=function(){var e=Ag(i.wrapper);i.setOffset(i.offset+e,!0,!1)},i.onNextClick=function(){var e=Ag(i.wrapper);i.setOffset(i.offset-e,!0,!1)},i.onSelectMenuItem=function(e){var t=i.props,n,r;(0,t.onTriggerEvent)(t.triggerType,e[0])},i.onWindowResized=function(){i.updateTimer&&clearTimeout(i.updateTimer),i.updateTimer=setTimeout(function(){i.setSlideBtn(),i.getDropdownItems(i.props)},100)},i.navRefHandler=function(e){i.nav=Object(tr.findDOMNode)(e)},i.wrapperRefHandler=function(e){i.wrapper=e},i.navbarRefHandler=function(e){i.navbar=e},i.activeTabRefHandler=function(e){i.activeTab=e},i.prevBtnHandler=function(e){i.prevBtn=Object(tr.findDOMNode)(e)},i.nextBtnHandler=function(e){i.nextBtn=Object(tr.findDOMNode)(e)},i.state={showBtn:!1,dropdownTabs:[]},i.offset=0,i}return Oo()(t,e),t.prototype.componentDidMount=function e(){this.props.animation||this.initialSettings(),Ka.on(window,"resize",this.onWindowResized)},t.prototype.componentDidUpdate=function e(){var t=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){t.scrollToActiveTab()},410),clearTimeout(this.slideTimer),this.slideTimer=setTimeout(function(){t.setSlideBtn()},410)},t.prototype.componentWillUnmount=function e(){Ka.off(window,"resize",this.onWindowResized)},t.prototype.initialSettings=function e(){this.setSlideBtn(),this.getDropdownItems(this.props)},t.prototype.setOffset=function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.props,o=i.tabPosition,a=i.rtl,s=Ag(this.nav,o),l=Ag(this.wrapper),u=(t=(t=t>=0?0:t)<=l-s&&l-s<0?l-s:t)-this.offset;if(this.activeTab&&"slide"===this.props.excessMode&&r){var c=Ag(this.activeTab),f=Ig(this.activeTab)+u,h=Ig(this.wrapper);t=this._adjustTarget({wrapperOffset:h,wrapperWH:l,activeTabWH:c,activeTabOffset:f,rtl:a,target:t})}var d=1;this.nav&&this.nav.offsetWidth&&(d=Ag(this.nav)/this.nav.offsetWidth);var p=t/d,m=isNaN(p)?t:p;if(this.offset!==t){this.offset=t;var g={},b=this.nav.style,y=jg(b);g="left"===o||"right"===o?y?{value:"translate3d(0, "+m+"px, 0)"}:{name:"top",value:m+"px"}:this.props.rtl?y?{value:"translate3d("+-1*m+"px, 0, 0)"}:{name:"right",value:m+"px"}:y?{value:"translate3d("+m+"px, 0, 0)"}:{name:"left",value:m+"px"},y?vo()(b,{transform:g.value,webkitTransform:g.value,mozTransform:g.value}):b[g.name]=g.value,n&&this.setSlideBtn()}},t.prototype._adjustTarget=function e(t){var n=t.wrapperOffset,r=t.wrapperWH,i=t.activeTabWH,o=t.activeTabOffset,a=t.rtl,s=t.target;return n+r<o+i&&o<n+r?(a?s+=o+i-(n+r):s-=o+i-(n+r)+1,s):n<o+i&&o<n?(a?s-=n-o+1:s+=n-o,s):s},t.prototype._setBtnStyle=function e(t,n){if(this.prevBtn&&this.nextBtn){var r="disabled";this.prevBtn.disabled=!t,this.nextBtn.disabled=!n,t?Ga.removeClass(this.prevBtn,r):Ga.addClass(this.prevBtn,r),n?Ga.removeClass(this.nextBtn,r):Ga.addClass(this.nextBtn,r)}},t.prototype.setSlideBtn=function e(){var t=this.props.tabPosition,n=Ag(this.nav,t),r=Ag(this.wrapper,t),i=r-n,o=void 0,a=void 0;i>=0||n<=r?(o=!1,a=!1,this.setOffset(0,!1)):this.offset<0&&this.offset<=i?(a=!0,o=!1):this.offset>=0?(a=!1,o=!0):(a=!0,o=!0),(a||o)!==this.state.showBtn?this.setState({showBtn:a||o}):this._setBtnStyle(a,o)},t.prototype.getDropdownItems=function e(t){var n=t.excessMode,r=t.tabs;if("dropdown"===n){var i=this.wrapper.offsetWidth,o=this.nav.childNodes,a=void 0,s=0;for(a=0;a<r.length&&!((s+=o[a].offsetWidth)>i);a++);a===r.length?this.setState({dropdownTabs:[]}):this.setState({dropdownTabs:r})}},t.prototype.renderTabList=function e(t){var n=this,r=t.prefix,i=t.tabs,o=t.activeKey,a,s=t.tabRender||this.defaultTabTemplateRender,l=[];return ar.a.Children.forEach(i,function(e){var t,i=e.props,a=i.disabled,u=i.className,c=i.onClick,f=i.onMouseEnter,h=i.onMouseLeave,d=i.style,p=o===e.key,m=zs()(((t={})[r+"tabs-tab"]=!0,t.disabled=a,t.active=p,t),u),g={};a||(g={onClick:n.onNavItemClick.bind(n,e.key,c),onMouseEnter:n.onNavItemMouseEnter.bind(n,e.key,f),onMouseLeave:n.onNavItemMouseLeave.bind(n,e.key,h)}),l.push(ar.a.createElement("li",vo()({role:"tab",key:e.key,ref:p?n.activeTabRefHandler:null,"aria-hidden":a?"true":"false","aria-selected":p?"true":"false",tabIndex:p?0:-1,className:m,style:d},g),s(e.key,e.props)))}),l},t.prototype.onNavItemClick=function e(t,n,r){if(this.props.onTriggerEvent(kg,t),n)return n(t,r)},t.prototype.onNavItemMouseEnter=function e(t,n,r){if(this.props.onTriggerEvent(Og,t),n)return n(t,r)},t.prototype.onNavItemMouseLeave=function e(t,n,r){if(n)return n(t,r)},t.prototype.getIcon=function e(t){var n=this.props,r=n.prefix,i=n.icons,o=n.rtl,a=Dg[t],s=ar.a.createElement(ml,{type:a,rtl:o,className:r+"tab-icon-"+t});return i[t]&&(s="string"==typeof i[t]?ar.a.createElement(ml,{rtl:o,type:i[t]}):i[t]),s},t.prototype.renderDropdownTabs=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!n.length)return null;var r=this.props,i=r.prefix,o=r.activeKey,a=r.triggerType,s=r.popupProps,l=r.rtl,u=this.getIcon("dropdown"),c=ar.a.createElement("button",{className:i+"tabs-btn-down"},u);return ar.a.createElement(Lg,vo()({rtl:l,triggerType:a,trigger:c,container:function e(t){return t.parentNode},className:i+"tabs-bar-popup"},s),ar.a.createElement(of,{rtl:l,selectedKeys:[o],onSelect:this.onSelectMenuItem,selectMode:"single"},n.map(function(e){var n=e.props,r=n.disabled,i=n.onClick,o=n.onMouseEnter,a=n.onMouseLeave,s={};return r||(s={onClick:t.onNavItemClick.bind(t,e.key,i),onMouseEnter:t.onNavItemMouseEnter.bind(t,e.key,o),onMouseLeave:t.onNavItemMouseLeave.bind(t,e.key,a)}),ar.a.createElement(of.Item,vo()({key:e.key},s),e.props.title)})))},t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.tabPosition,o=n.excessMode,a=n.extra,s=n.onKeyDown,l=n.animation,u=n.style,c=n.className,f=n.rtl,h=this.state,d=void 0,p=void 0,m=void 0,g=h.showBtn;if("dropdown"===o&&g&&h.dropdownTabs.length)m=this.renderDropdownTabs(h.dropdownTabs),p=null,d=null;else if(g){var b=this.getIcon("prev");p=ar.a.createElement("button",{onClick:this.onPrevClick,className:r+"tabs-btn-prev",ref:this.prevBtnHandler},b);var y=this.getIcon("next");d=ar.a.createElement("button",{onClick:this.onNextClick,className:r+"tabs-btn-next",ref:this.nextBtnHandler},y),m=null}else d=null,p=null,m=null;var v=zs()(((t={})[r+"tabs-nav-container"]=!0,t[r+"tabs-nav-container-scrolling"]=g,t)),w=r+"tabs-nav",x=this.renderTabList(this.props),_,S=[ar.a.createElement("div",{className:v,onKeyDown:s,key:"nav-container"},ar.a.createElement("div",{className:r+"tabs-nav-wrap",ref:this.wrapperRefHandler},ar.a.createElement("div",{className:r+"tabs-nav-scroll"},l?ar.a.createElement(ul,{role:"tablist","aria-multiselectable":!1,component:"ul",className:w,animation:w,singleMode:!1,ref:this.navRefHandler,afterAppear:this.initialSettings.bind(this)},x):ar.a.createElement("ul",{role:"tablist",className:w,ref:this.navRefHandler},x))),p,d,m)];if(a){var E={className:r+"tabs-nav-extra",key:"nav-extra"};if("top"===i||"bottom"===i){var C=f?Pg:Mg;S.unshift(ar.a.createElement("div",vo()({},E,{style:C}),a))}else S.push(ar.a.createElement("div",E,a))}var k=zs()(r+"tabs-bar",c);return ar.a.createElement("div",{className:k,style:u,ref:this.navbarRefHandler},S)},t}(ar.a.Component),Tg.propTypes={prefix:lr.a.string,rtl:lr.a.bool,animation:lr.a.bool,activeKey:lr.a.oneOfType([lr.a.string,lr.a.number]),excessMode:lr.a.string,extra:lr.a.any,tabs:lr.a.oneOfType([lr.a.array,lr.a.object]),tabPosition:lr.a.string,tabRender:lr.a.func,triggerType:lr.a.string,popupProps:lr.a.object,onTriggerEvent:lr.a.func,onKeyDown:lr.a.func,onClose:lr.a.func,style:lr.a.object,className:lr.a.string,locale:lr.a.object,icons:lr.a.object},Ng);Fg.displayName="Nav";var Bg=Fg,zg,$g,Ug,Wg=($g=zg=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.activeKey,o=n.lazyLoad,a=n.unmountInactiveTabs,s=n.children,l=n.className,u=xo()(n,["prefix","activeKey","lazyLoad","unmountInactiveTabs","children","className"]),c=[];ar.a.Children.forEach(s,function(e){var t=i==e.key;c.push(ar.a.cloneElement(e,{prefix:r,active:t,lazyLoad:o,unmountInactiveTabs:a}))});var f=zs()(((t={})[r+"tabs-content"]=!0,t),l);return ar.a.createElement("div",vo()({},u,{className:f}),c)},t}(or.PureComponent),zg.propTypes={prefix:lr.a.string,activeKey:lr.a.oneOfType([lr.a.string,lr.a.number]),lazyLoad:lr.a.bool,children:lr.a.any},$g),Vg,Hg,Gg=function e(){},qg=(Hg=Vg=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));return i.handleTriggerEvent=function(e,t){var n=i.props,r=n.triggerType,o=n.onClick,a=n.onChange;r===e&&(o(t),i.setActiveKey(t),i.state.activeKey!==t&&a(t))},i.onNavKeyDown=function(e){var t=e.keyCode,n;if(!i.props.disableKeyboard){t>=ns.LEFT&&t<=ns.DOWN&&e.preventDefault();var r=void 0;t===ns.RIGHT||t===ns.DOWN?(r=i.getNextActiveKey(!0),i.handleTriggerEvent(i.props.triggerType,r)):t!==ns.LEFT&&t!==ns.UP||(r=i.getNextActiveKey(!1),i.handleTriggerEvent(i.props.triggerType,r))}},i.state={activeKey:i.getDefaultActiveKey(n)},i}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){return void 0!==t.activeKey&&n.activeKey!==""+t.activeKey?{activeKey:""+t.activeKey}:{}},t.prototype.getDefaultActiveKey=function e(t){var n=void 0===t.activeKey?t.defaultActiveKey:t.activeKey;return void 0===n&&ar.a.Children.forEach(t.children,function(e,t){void 0===n&&ar.a.isValidElement(e)&&(e.props.disabled||(n=e.key||t))}),""+n},t.prototype.getNextActiveKey=function e(t){var n=this,r=[];ar.a.Children.forEach(this.props.children,function(e){ar.a.isValidElement(e)&&(e.props.disabled||(t?r.push(e):r.unshift(e)))});var i=r.length,o=i&&r[0].key;return r.forEach(function(e,t){e.key===n.state.activeKey&&(o=t===i-1?r[0].key:r[t+1].key)}),o},t.prototype.setActiveKey=function e(t){var n;t===this.state.activeKey||"activeKey"in this.props||this.setState({activeKey:t})},t.prototype.render=function e(){var n,r=this.props,i=r.prefix,o=r.animation,a=r.shape,s=r.size,l=r.extra,u=r.excessMode,c=r.tabPosition,f=r.tabRender,h=r.triggerType,d=r.lazyLoad,p=r.unmountInactiveTabs,m=r.popupProps,g=r.navStyle,b=r.navClassName,y=r.contentStyle,v=r.contentClassName,w=r.className,x=r.onClose,_=r.children,S=r.rtl,E=r.device,C=r.locale,k=r.icons,O=xo()(r,["prefix","animation","shape","size","extra","excessMode","tabPosition","tabRender","triggerType","lazyLoad","unmountInactiveTabs","popupProps","navStyle","navClassName","contentStyle","contentClassName","className","onClose","children","rtl","device","locale","icons"]),T=this.state.activeKey,N=Rg(_),A=-1!==["phone","tablet"].indexOf(E),I=c;S&&["left","right"].indexOf(c)>=0&&(I="left"===c?"right":"left");var j=zs()(((n={})[i+"tabs"]=!0,n[i+"tabs-"+a]=a,n[i+"tabs-vertical"]="wrapped"===a&&["left","right"].indexOf(c)>=0,n[i+"tabs-scrollable"]=A,n[i+"tabs-"+I]="wrapped"===a,n[""+(i+s)]=s,n),w),R={prefix:i,rtl:S,animation:o,activeKey:T,excessMode:A?"slide":u,extra:l,tabs:N,tabPosition:c,tabRender:f,triggerType:h,popupProps:m,onClose:x,onTriggerEvent:this.handleTriggerEvent,onKeyDown:this.onNavKeyDown,style:g,className:b,locale:C,icons:k},M={prefix:i,activeKey:T,lazyLoad:d,unmountInactiveTabs:p,style:y,className:v},P=[ar.a.createElement(Bg,vo()({key:"tab-nav"},R)),ar.a.createElement(Wg,vo()({key:"tab-content"},M),N)];return"bottom"===c&&P.reverse(),ar.a.createElement("div",vo()({dir:S?"rtl":void 0,className:j},Za.pickOthers(t.propTypes,O)),P)},t}(or.Component),Vg.propTypes={prefix:lr.a.string,rtl:lr.a.bool,device:lr.a.oneOf(["tablet","desktop","phone"]),activeKey:lr.a.oneOfType([lr.a.number,lr.a.string]),defaultActiveKey:lr.a.oneOfType([lr.a.number,lr.a.string]),shape:lr.a.oneOf(["pure","wrapped","text","capsule"]),animation:lr.a.bool,excessMode:lr.a.oneOf(["slide","dropdown"]),tabPosition:lr.a.oneOf(["top","bottom","left","right"]),size:lr.a.oneOf(["small","medium"]),triggerType:lr.a.oneOf(["hover","click"]),lazyLoad:lr.a.bool,unmountInactiveTabs:lr.a.bool,navStyle:lr.a.object,navClassName:lr.a.string,contentStyle:lr.a.object,contentClassName:lr.a.string,extra:lr.a.node,disableKeyboard:lr.a.bool,onClick:lr.a.func,onChange:lr.a.func,onClose:lr.a.func,tabRender:lr.a.func,popupProps:lr.a.object,children:lr.a.any,className:lr.a.string,locale:lr.a.object,icons:lr.a.shape({prev:lr.a.oneOfType([lr.a.node,lr.a.string]),next:lr.a.oneOfType([lr.a.node,lr.a.string]),dropdown:lr.a.oneOfType([lr.a.node,lr.a.string])})},Vg.defaultProps={prefix:"next-",shape:"pure",size:"medium",animation:!0,tabPosition:"top",excessMode:"slide",triggerType:"click",lazyLoad:!0,unmountInactiveTabs:!1,disableKeyboard:!1,onClick:Gg,onChange:Gg,onClose:Gg,locale:No.Tab,icons:{}},Hg);qg.displayName="Tab";var Kg=Object(To.polyfill)(qg),Yg,Xg,Zg=(Xg=Yg=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.active,o=n.lazyLoad,a=n.unmountInactiveTabs,s=n.children;if(this._actived=this._actived||i,o&&!this._actived)return null;if(a&&!i)return null;var l=zs()(((t={})[r+"tabs-tabpane"]=!0,t[i?"active":"hidden"]=!0,t));return ar.a.createElement("div",{role:"tabpanel","aria-hidden":i?"false":"true",className:l},s)},t}(ar.a.Component),Yg.propTypes={prefix:lr.a.string,title:lr.a.node,closeable:lr.a.bool,disabled:lr.a.bool,active:lr.a.bool,lazyLoad:lr.a.bool,unmountInactiveTabs:lr.a.bool,children:lr.a.any},Yg.defaultProps={prefix:"next-",closeable:!1},Xg);Zg.displayName="TabItem";var Jg=Object(To.polyfill)(Zg);Kg.Item=Jg,Kg.TabPane=Fs.config(Jg,{transform:function e(t,n){return n("Tab.TabPane","Tab.Item","Tab"),t}});var Qg=Fs.config(Kg,{transform:function e(t,n){if("type"in t){n("type","shape","Tab");var r=t,i=r.type,o=xo()(r,["type"]);t=vo()({shape:i},o)}if("resDirection"in t){var a=t,s=a.resDirection,l=xo()(a,["resDirection"]),u=void 0;"horizontal"===s?(n("resDirection=horizontal","excessMode=slide","Tab"),u="slide"):"vertical"===s&&(n("resDirection=vertical","excessMode=dropdown","Tab"),u="dropdown"),t=vo()({excessMode:u},l)}if("tabBarExtraContent"in t){n("tabBarExtraContent","extra","Tab");var c=t,f=c.tabBarExtraContent,h=xo()(c,["tabBarExtraContent"]);t=vo()({extra:f},h)}return t}});function eb(e){var t=e.visible,n=e.setVisible,r=e.stdout,i=e.stderr;return ar.a.createElement(qd,{title:"Log View",visible:t,onOk:n,onCancel:n,onClose:n},ar.a.createElement("div",{className:"dialog-wrap",style:{height:"500px",width:"800px",whiteSpace:"pre-line",fontSize:"16px"}},ar.a.createElement(Qg,{shape:"wrapped"},ar.a.createElement(Qg.Item,{title:"Log"},ar.a.createElement("div",{style:{height:"500px",overflow:"scroll"}},r)),ar.a.createElement(Qg.Item,{title:"Error"},ar.a.createElement("div",{style:{height:"500px",overflow:"scroll"}},i)))))}var tb=n(90),nb=n.n(tb);function rb(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ib(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){rb(o,r,i,a,s,"next",e)}function s(e){rb(o,r,i,a,s,"throw",e)}a(void 0)})}}var ob=function e(t){return ib(regeneratorRuntime.mark(function e(){var n,r=arguments;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.apply(void 0,r);case 3:if(!0!==(n=i.sent).data.status){i.next=8;break}return i.abrupt("return",n.data.data);case 8:dd(n.data.message);case 9:i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),dd(i.t0.response.data.message);case 14:case"end":return i.stop()}},e,null,[[0,11]])}))},ab=function(){var e=ib(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function e(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",ob(nb.a.get)(t,n));case 1:case"end":return r.stop()}},e)}));return function t(n,r){return e.apply(this,arguments)}}(),sb=function(){var e=ib(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",ob(nb.a.post)(t,n,r));case 1:case"end":return i.stop()}},e)}));return function t(n,r,i){return e.apply(this,arguments)}}(),lb=function(){var e=ib(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",ob(nb.a.put)(t,n,r));case 1:case"end":return i.stop()}},e)}));return function t(n,r,i){return e.apply(this,arguments)}}(),ub=function(){var e=ib(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ob(nb.a.delete)(t));case 1:case"end":return n.stop()}},e)}));return function t(n){return e.apply(this,arguments)}}();function cb(e){location.href=location.href.includes("?")?"".concat(location.href,"&").concat(e):"".concat(location.href,"?").concat(e)}var fb=n(616);function hb(e){"@babel/helpers - typeof";return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function db(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function pb(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){db(o,r,i,a,s,"next",e)}function s(e){db(o,r,i,a,s,"throw",e)}a(void 0)})}}function mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bb(e,t,n){return t&&gb(e.prototype,t),n&&gb(e,n),e}function yb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vb(e,t)}function vb(e,t){return(vb=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function wb(e){return function(){var t=Eb(e),n;if(Sb()){var r=Eb(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return xb(this,n)}}function xb(e,t){return!t||"object"!==hb(t)&&"function"!=typeof t?_b(e):t}function _b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Eb(e){return(Eb=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cb=function(e){yb(n,e);var t=wb(n);function n(){var e;mb(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={isCreate:!0,plugins:{},choices:{},currentSelect:"dataCollect",pipelineId:null,jobId:null,jobStatus:0,jobStdout:"",jobStderr:"",logVisible:!1},e.fetchJob=function(){var t=pb(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function t(i){for(;;)switch(i.prev=i.next){case 0:return r=function(){var t=pb(regeneratorRuntime.mark(function t(){var i,o;return regeneratorRuntime.wrap(function t(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ab("/job/".concat(n));case 2:return i=a.sent,a.next=5,ab("/job/".concat(n,"/log"));case 5:if(o=a.sent,e.setState({jobStatus:kp[i.status],jobStdout:o.log[0],jobStderr:o.log[1]}),3!==i.status&&2!==i.status){a.next=9;break}return a.abrupt("return");case 9:setTimeout(pb(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:case"end":return t.stop()}},e)})),1e3);case 10:case"end":return a.stop()}},t)}));return function e(){return t.apply(this,arguments)}}(),i.next=3,r();case 3:case"end":return i.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.changeSelectPlugin=function(t,n){var r=e.state.plugins;n?r[t]={package:n,params:{}}:delete r[t],e.setState({plugins:r})},e.updateParams=function(t,n){var r=e.state.plugins;r[n].params=t.updated_src,e.setState({plugins:r})},e.updatePipeline=pb(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,l=arguments;return regeneratorRuntime.wrap(function t(u){for(;;)switch(u.prev=u.next){case 0:if(n=!(l.length>0&&void 0!==l[0])||l[0],r=e.state,i=r.plugins,o=r.isCreate,a=r.pipelineId,!o){u.next=11;break}return u.next=5,sb("/pipeline",{config:JSON.stringify({plugins:i}),isFile:!1});case 5:s=u.sent,e.setState({isCreate:!1,pipelineId:s.id}),hd("Create Pipeline Successfully"),setTimeout(function(){cb("pipelineId=".concat(s.id))},2e3),u.next=14;break;case 11:return u.next=13,lb("/pipeline/".concat(a),{config:JSON.stringify({plugins:i}),isFile:!1});case 13:n&&hd("Update Pipeline Successfully");case 14:case"end":return u.stop()}},t)})),e.runJob=pb(regeneratorRuntime.mark(function t(){var n,r,i,o;return regeneratorRuntime.wrap(function t(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.state,r=n.isCreate,i=n.pipelineId,!r){a.next=4;break}return dd("Please Create Pipeline Firstly"),a.abrupt("return");case 4:return a.next=6,e.updatePipeline(!1);case 6:return a.next=8,ab("/job/run",{params:{pipelineId:i,cwd:"/Users/yorkie/workspace/pipcook"}});case 8:return o=a.sent,e.setState({jobId:o.id}),cb("jobId=".concat(o.id)),a.next=13,e.fetchJob(o.id);case 13:case"end":return a.stop()}},t)})),e.setVisible=function(){var t=e.state.logVisible;e.setState({logVisible:!t})},e}return bb(n,[{key:"componentDidMount",value:function(){var e=pb(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(r){for(;;)switch(r.prev=r.next){case 0:if(!(t=Th.a.parse(location.hash.split("?")[1]))||!t.pipelineId){r.next=7;break}return r.next=4,ab("/pipeline/info/".concat(t.pipelineId));case 4:n=r.sent,Object.keys(n.plugins).forEach(function(e){return n.plugins[e].package=n.plugins[e].name}),this.setState({isCreate:!1,plugins:n.plugins,pipelineId:t.pipelineId});case 7:if(!t||!t.jobId){r.next=11;break}return this.setState({jobId:t.jobId}),r.next=11,this.fetchJob(t.jobId);case 11:this.setState({choices:Dp});case 12:case"end":return r.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this,n=this.state,r=n.plugins,i=n.choices,o=n.currentSelect,a=n.isCreate,s=n.jobId,l=n.jobStatus,u=n.jobStdout,c=n.jobStderr,f=n.logVisible;return ar.a.createElement("div",{className:"pipeline-info"},ar.a.createElement(eb,{visible:f,setVisible:this.setVisible,stdout:u,stderr:c}),ar.a.createElement("div",{className:"title-wrapper"},ar.a.createElement("span",{className:"title"},a?"Create a new Pipeline":s?"Job Detail":"Pipeline Configuration")),ar.a.createElement("div",{className:"content-wrapper"},ar.a.createElement("div",{className:"plugin-choose"},Cp.map(function(e){return i[e]&&i[e].length>0&&ar.a.createElement("div",{key:e,onClick:function n(){return t.setState({currentSelect:e})}},ar.a.createElement(Eg,{itemName:e,plugins:r,choices:i,changeSelectPlugin:t.changeSelectPlugin,currentSelect:o===e,jobId:s}))})),ar.a.createElement("div",{className:"plugin-config"},r[o]?ar.a.createElement(Ah.a,{onEdit:function e(n){return t.updateParams(n,o)},onAdd:function e(n){return t.updateParams(n,o)},onDelete:function e(n){return t.updateParams(n,o)},src:r[o].params,name:!1,displayDataTypes:!1}):ar.a.createElement("span",null,"Please choose a plugin")),ar.a.createElement("div",{className:"plugin-operate"},!s&&ar.a.createElement(kh,{className:"button",size:"large",type:"primary",onClick:this.updatePipeline},a?"Create Pipeline":"Update Pipeline"),!s&&ar.a.createElement(kh,{className:"button",size:"large",type:"primary",onClick:this.runJob},"Run Job"),!s&&ar.a.createElement(kh,{className:"button",size:"large",type:"primary",warning:!0},"Delete"),s&&ar.a.createElement(kh,{className:"button",size:"large",onClick:function e(){return t.setState({logVisible:!0})}},"View Logs"),s&&ar.a.createElement("div",{className:"job-info"},"Status: ",l))))}}]),n}(or.Component),kb=n(270),Ob=n(271),Tb=n(272);function Nb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ctx,n=e.img,r=e.x,i=e.y,o=e.w,a=e.h,s=e.offsetX,l=e.offsetY;"number"!=typeof r&&(r=0),"number"!=typeof i&&(i=0),"number"!=typeof o&&(o=t.canvas.width),"number"!=typeof a&&(a=t.canvas.height),"number"!=typeof s&&(s=.5),"number"!=typeof l&&(l=.5),s<0&&(s=0),l<0&&(l=0),s>1&&(s=1),l>1&&(l=1);var u=n.width,c=n.height,f=Math.min(o/u,a/c),h=u*f,d=c*f,p,m,g,b,y=1;h<o&&(y=o/h),Math.abs(y-1)<1e-14&&d<a&&(y=a/d),m=(c-(b=c/((d*=y)/a)))*l,(p=(u-(g=u/((h*=y)/o)))*s)<0&&(p=0),m<0&&(m=0),g>u&&(g=u),b>c&&(b=c),t.drawImage(n,p,m,g,b,r,i,o,a)}var Ab=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib,jb;function Rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mb(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pb(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Db(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}var Lb={display:"block",position:"absolute"},Fb=[{name:"interface",zIndex:15},{name:"drawing",zIndex:11},{name:"temp",zIndex:12},{name:"grid",zIndex:10}],Bb=lr.a.oneOfType([lr.a.number,lr.a.string]),zb=(jb=Ib=function(e){function t(n){Rb(this,t);var r=Mb(this,e.call(this,n));return r.componentWillUnmount=function(){r.canvasObserver.unobserve(r.canvasContainer)},r.drawImage=function(){r.props.imgSrc&&(r.image=new Image,r.image.crossOrigin="anonymous",r.image.onload=function(){return Nb({ctx:r.ctx.grid,img:r.image})},r.image.src=r.props.imgSrc)},r.undo=function(){var e=r.lines.slice(0,-1);r.clear(),r.simulateDrawingLines({lines:e,immediate:!0}),r.triggerOnChange()},r.getSaveData=function(){return JSON.stringify({lines:r.lines,width:r.props.canvasWidth,height:r.props.canvasHeight})},r.loadSaveData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.immediateLoading;if("string"!=typeof e)throw new Error("saveData needs to be of type string!");var n=JSON.parse(e),i=n.lines,o=n.width,a=n.height;if(!i||"function"!=typeof i.push)throw new Error("saveData.lines needs to be an array!");if(r.clear(),o===r.props.canvasWidth&&a===r.props.canvasHeight)r.simulateDrawingLines({lines:i,immediate:t});else{var s=r.props.canvasWidth/o,l=r.props.canvasHeight/a,u=(s+l)/2;r.simulateDrawingLines({lines:i.map(function(e){return Ab({},e,{points:e.points.map(function(e){return{x:e.x*s,y:e.y*l}}),brushRadius:e.brushRadius*u})}),immediate:t})}},r.simulateDrawingLines=function(e){var t=e.lines,n=e.immediate,i=0,o=n?0:r.props.loadTimeOffset;t.forEach(function(e){var t=e.points,a=e.brushColor,s=e.brushRadius;if(n)return r.drawPoints({points:t,brushColor:a,brushRadius:s}),r.points=t,void r.saveLine({brushColor:a,brushRadius:s});for(var l=function e(n){i+=o,window.setTimeout(function(){r.drawPoints({points:t.slice(0,n+1),brushColor:a,brushRadius:s})},i)},u=1;u<t.length;u++)l(u);i+=o,window.setTimeout(function(){r.points=t,r.saveLine({brushColor:a,brushRadius:s})},i)})},r.handleDrawStart=function(e){e.preventDefault(),r.isPressing=!0;var t=r.getPointerPos(e),n=t.x,i=t.y;e.touches&&e.touches.length>0&&r.lazy.update({x:n,y:i},{both:!0}),r.handlePointerMove(n,i)},r.handleDrawMove=function(e){e.preventDefault();var t=r.getPointerPos(e),n=t.x,i=t.y;r.handlePointerMove(n,i)},r.handleDrawEnd=function(e){e.preventDefault(),r.handleDrawMove(e),r.isDrawing=!1,r.isPressing=!1,r.saveLine()},r.handleCanvasResize=function(e,t){for(var n=r.getSaveData(),i=e,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var l,u=s.contentRect,c=u.width,f=u.height;r.setCanvasSize(r.canvas.interface,c,f),r.setCanvasSize(r.canvas.drawing,c,f),r.setCanvasSize(r.canvas.temp,c,f),r.setCanvasSize(r.canvas.grid,c,f),r.drawGrid(r.ctx.grid),r.drawImage(),r.loop({once:!0})}r.loadSaveData(n,!0)},r.setCanvasSize=function(e,t,n){e.width=t,e.height=n,e.style.width=t,e.style.height=n},r.getPointerPos=function(e){var t=r.canvas.interface.getBoundingClientRect(),n=e.clientX,i=e.clientY;return e.changedTouches&&e.changedTouches.length>0&&(n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY),{x:n-t.left,y:i-t.top}},r.handlePointerMove=function(e,t){if(!r.props.disabled){r.lazy.update({x:e,y:t});var n=!r.lazy.isEnabled();(r.isPressing&&!r.isDrawing||n&&r.isPressing)&&(r.isDrawing=!0,r.points.push(r.lazy.brush.toObject())),r.isDrawing&&(r.points.push(r.lazy.brush.toObject()),r.drawPoints({points:r.points,brushColor:r.props.brushColor,brushRadius:r.props.brushRadius})),r.mouseHasMoved=!0}},r.drawPoints=function(e){var t=e.points,n=e.brushColor,i=e.brushRadius;r.ctx.temp.lineJoin="round",r.ctx.temp.lineCap="round",r.ctx.temp.strokeStyle=n,r.ctx.temp.clearRect(0,0,r.ctx.temp.canvas.width,r.ctx.temp.canvas.height),r.ctx.temp.lineWidth=2*i;var o=t[0],a=t[1];r.ctx.temp.moveTo(a.x,a.y),r.ctx.temp.beginPath();for(var s=1,l=t.length;s<l;s++){var u=Db(o,a);r.ctx.temp.quadraticCurveTo(o.x,o.y,u.x,u.y),o=t[s],a=t[s+1]}r.ctx.temp.lineTo(o.x,o.y),r.ctx.temp.stroke()},r.saveLine=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.brushColor,n=e.brushRadius;if(!(r.points.length<2)){r.lines.push({points:[].concat(r.points),brushColor:t||r.props.brushColor,brushRadius:n||r.props.brushRadius}),r.points.length=0;var i=r.canvas.temp.width,o=r.canvas.temp.height;r.ctx.drawing.drawImage(r.canvas.temp,0,0,i,o),r.ctx.temp.clearRect(0,0,i,o),r.triggerOnChange()}},r.triggerOnChange=function(){r.props.onChange&&r.props.onChange(r)},r.clear=function(){r.lines=[],r.valuesChanged=!0,r.ctx.drawing.clearRect(0,0,r.canvas.drawing.width,r.canvas.drawing.height),r.ctx.temp.clearRect(0,0,r.canvas.temp.width,r.canvas.temp.height)},r.loop=function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).once,n=void 0!==t&&t;if(r.mouseHasMoved||r.valuesChanged){var i=r.lazy.getPointerCoordinates(),o=r.lazy.getBrushCoordinates();r.drawInterface(r.ctx.interface,i,o),r.mouseHasMoved=!1,r.valuesChanged=!1}n||window.requestAnimationFrame(function(){r.loop()})},r.drawGrid=function(e){if(!r.props.hideGrid){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.setLineDash([5,1]),e.setLineDash([]),e.strokeStyle=r.props.gridColor,e.lineWidth=.5;for(var t=25,n=0;n<e.canvas.width;)n+=25,e.moveTo(n,0),e.lineTo(n,e.canvas.height);e.stroke();for(var i=0;i<e.canvas.height;)i+=25,e.moveTo(0,i),e.lineTo(e.canvas.width,i);e.stroke()}},r.drawInterface=function(e,t,n){r.props.hideInterface||(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.fillStyle=r.props.brushColor,e.arc(n.x,n.y,r.props.brushRadius,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.fillStyle=r.props.catenaryColor,e.arc(t.x,t.y,4,0,2*Math.PI,!0),e.fill(),r.lazy.isEnabled()&&(e.beginPath(),e.lineWidth=2,e.lineCap="round",e.setLineDash([2,4]),e.strokeStyle=r.props.catenaryColor,r.catenary.drawToCanvas(r.ctx.interface,n,t,r.chainLength),e.stroke()),e.beginPath(),e.fillStyle=r.props.catenaryColor,e.arc(n.x,n.y,2,0,2*Math.PI,!0),e.fill())},r.canvas={},r.ctx={},r.catenary=new Ob.Catenary,r.points=[],r.lines=[],r.mouseHasMoved=!0,r.valuesChanged=!0,r.isDrawing=!1,r.isPressing=!1,r}return Pb(t,e),t.prototype.componentDidMount=function e(){var t=this;this.lazy=new kb.LazyBrush({radius:this.props.lazyRadius*window.devicePixelRatio,enabled:!0,initialPoint:{x:window.innerWidth/2,y:window.innerHeight/2}}),this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.canvasObserver=new Tb.a(function(e,n){return t.handleCanvasResize(e,n)}),this.canvasObserver.observe(this.canvasContainer),this.drawImage(),this.loop(),window.setTimeout(function(){var e=window.innerWidth/2,n=window.innerHeight/2;t.lazy.update({x:e-t.chainLength/4,y:n},{both:!0}),t.lazy.update({x:e+t.chainLength/4,y:n},{both:!1}),t.mouseHasMoved=!0,t.valuesChanged=!0,t.clear(),t.props.saveData&&t.loadSaveData(t.props.saveData)},100)},t.prototype.componentDidUpdate=function e(t){t.lazyRadius!==this.props.lazyRadius&&(this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.lazy.setRadius(this.props.lazyRadius*window.devicePixelRatio)),t.saveData!==this.props.saveData&&this.loadSaveData(this.props.saveData),JSON.stringify(t)!==JSON.stringify(this.props)&&(this.valuesChanged=!0)},t.prototype.render=function e(){var t=this;return ar.a.createElement("div",{className:this.props.className,style:Ab({display:"block",background:this.props.backgroundColor,touchAction:"none",width:this.props.canvasWidth,height:this.props.canvasHeight},this.props.style),ref:function e(n){n&&(t.canvasContainer=n)}},Fb.map(function(e){var n=e.name,r=e.zIndex,i="interface"===n;return ar.a.createElement("canvas",{key:n,ref:function e(r){r&&(t.canvas[n]=r,t.ctx[n]=r.getContext("2d"))},style:Ab({},Lb,{zIndex:r}),onMouseDown:i?t.handleDrawStart:void 0,onMouseMove:i?t.handleDrawMove:void 0,onMouseUp:i?t.handleDrawEnd:void 0,onMouseOut:i?t.handleDrawEnd:void 0,onTouchStart:i?t.handleDrawStart:void 0,onTouchMove:i?t.handleDrawMove:void 0,onTouchEnd:i?t.handleDrawEnd:void 0,onTouchCancel:i?t.handleDrawEnd:void 0})}))},t}(or.PureComponent),Ib.propTypes={onChange:lr.a.func,loadTimeOffset:lr.a.number,lazyRadius:lr.a.number,brushRadius:lr.a.number,brushColor:lr.a.string,catenaryColor:lr.a.string,gridColor:lr.a.string,backgroundColor:lr.a.string,hideGrid:lr.a.bool,canvasWidth:Bb,canvasHeight:Bb,disabled:lr.a.bool,imgSrc:lr.a.string,saveData:lr.a.string,immediateLoading:lr.a.bool,hideInterface:lr.a.bool},Ib.defaultProps={onChange:null,loadTimeOffset:5,lazyRadius:12,brushRadius:10,brushColor:"#444",catenaryColor:"#0a0302",gridColor:"rgba(150,150,150,0.17)",backgroundColor:"#FFF",hideGrid:!1,canvasWidth:400,canvasHeight:400,disabled:!1,imgSrc:"",saveData:"",immediateLoading:!1,hideInterface:!1},jb),$b=n(80),Ub=n(1);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
let Wb;function Vb(){return null==Wb&&(Wb=Object(Ub.E)().epsilon()),Wb}function Hb(e){Wb=e}function Gb(){return"channelsLast"}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class qb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qb.prototype)}}class Kb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Kb.prototype)}}class Yb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Yb.prototype)}}class Xb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Xb.prototype)}}class Zb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Zb.prototype)}}class Jb extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Jb.prototype)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qb(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function ey(e,t){if(!e)throw new Zb(t)}function ty(e,t){let n=0;for(const r of e)r===t&&n++;return n}function ny(e){return 1===e.length?e[0]:e}function ry(e){return Array.isArray(e)?e:[e]}function iy(e){const t=ry(e);let n="";for(const e of t){if(null==e.id)throw new Yb(`Object ${e} passed to objectListUid without an id`);""!==n&&(n+=", "),n=`${n}${Math.abs(e.id)}`}return n}function oy(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2"),n=t.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==n[0]?n:"private"+n}function ay(e){return e.length<=1?e:-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(e,t)=>t.toUpperCase())}let sy={};function ly(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function uy(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach(e=>uy(e));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?uy(t):e[n]=t.value)}}}function cy(e,t={},n={},r="object",i=!1){if("string"==typeof e){const i=e;let o;if(i in n)o=n[i];else if(i in sy)o=sy[i];else if(null==(o=t[i]))throw new Yb(`Unknown ${r}: ${e}. `+"This may be due to one of the following reasons:\n"+`1. The ${r} is defined in Python, in which `+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+`2. The custom ${r} is defined in JavaScript, `+"but is not registered properly with tf.serialization.registerClass().");return o}{const o=e;if(null==o.className||null==o.config)throw new Yb(`${r}: Improper config format: `+`${JSON.stringify(o)}.\n`+"'className' and 'config' must set.");const a=o.className;let s,l;if(a in n?[s,l]=n[a]:a in sy?[s,l]=sy.className:a in t&&([s,l]=t[a]),null==s)throw new Yb(`Unknown ${r}: ${a}. `+"This may be due to one of the following reasons:\n"+`1. The ${r} is defined in Python, in which `+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+`2. The custom ${r} is defined in JavaScript, `+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){const e={};for(const t of Object.keys(sy))e[t]=sy[t];for(const t of Object.keys(n))e[t]=n[t];const t=o.config;t.customObjects=e;const r=Object.assign({},sy);for(const e of Object.keys(n))sy[e]=n[e];uy(o.config);const a=l(s,o.config,n,i);return sy=Object.assign({},r),a}{const e=Object.assign({},sy);for(const e of Object.keys(n))sy[e]=n[e];const t=new s(o.config);return sy=Object.assign({},e),t}}}function fy(e,t){return e<t?-1:e>t?1:0}function hy(e,t){return-1*fy(e,t)}function dy(e){switch(e){case"float32":return"float32";default:throw new Yb(`Invalid dtype: ${e}`)}}function py(e,t){if(null==e||null==t)return e===t;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function my(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function gy(e){if(null==e)throw new Yb(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function by(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Yb(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function yy(e,t,n=0,r=1/0){return ey(n>=0),ey(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every(e=>typeof e===t)}function vy(e,t){Array.isArray(e)?(Ub.Bd.assert(e.length>0,()=>`${t} is unexpectedly an empty array.`),e.forEach((e,n)=>vy(e,`element ${n+1} of ${t}`))):Ub.Bd.assert(Number.isInteger(e)&&e>0,()=>`Expected ${t} to be a positive integer, but got `+`${wy(e)}.`)}function wy(e){return null===e?"null":Array.isArray(e)?"["+e.map(e=>wy(e)).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function xy(e,t){let n=Ub.Bd.now(),r;const i=(...i)=>{const o=Ub.Bd.now();return o-n<t?r:(n=o,r=e(...i))};return i}function _y(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Sy(e,t){return Object(Ub.td)(()=>Ub.dd(Ub.kd(Ub.ic(e,e),t,!0)))}class Ey extends Ub.Lc.Serializable{getConfig(){return{}}}class Cy extends Ey{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Object(Ub.td)(()=>{const t=Sy(e,this.axis),n=Ub.Q(t,0,this.maxValue);return Ub.ic(e,Ub.ib(n,Ub.r(Vb(),t)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Cy.className="MaxNorm",Ub.Lc.registerClass(Cy);class ky extends Ey{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Object(Ub.td)(()=>Ub.ib(e,Ub.r(Vb(),Sy(e,this.axis))))}getConfig(){return{axis:this.axis}}}ky.className="UnitNorm",Ub.Lc.registerClass(ky);class Oy extends Ey{apply(e){return Ub.Bc(e)}}Oy.className="NonNeg",Ub.Lc.registerClass(Oy);class Ty extends Ey{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Object(Ub.td)(()=>{const t=Sy(e,this.axis),n=Ub.r(Ub.ic(this.rate,Ub.Q(t,this.minValue,this.maxValue)),Ub.ic(1-this.rate,t));return Ub.ic(e,Ub.ib(n,Ub.r(Vb(),t)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}Ty.className="MinMaxNorm",Ub.Lc.registerClass(Ty);const Ny={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Ay(e){return ly(e)}function Iy(e,t={}){return cy(e,Ub.Lc.SerializationMap.getMap().classNameMap,t,"constraint")}function jy(e){if(null==e)return null;if("string"==typeof e){const t=e in Ny?Ny[e]:e,n={className:t,config:{}};return Iy(n)}return e instanceof Ey?e:Iy(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ry(e){return new Cy(e)}function My(e){return new ky(e)}function Py(){return new Oy}function Dy(e){return new Ty(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ly=["channelsFirst","channelsLast"],Fy=["valid","same","causal"],By=["max","avg"],zy=["sum","mul","concat","ave"],$y=["temporal"],Uy=new Map;function Wy(e){by(Ly,"DataFormat",e)}function Vy(e){by(Fy,"PaddingMode",e)}function Hy(e){by(By,"PoolMode",e)}const Gy=[],qy="/";function Ky(e,t){Gy.push(e);try{const e=t();return Gy.pop(),e}catch(e){throw Gy.pop(),e}}function Yy(){return 0===Gy.length?"":Gy.join(qy)+qy}function Xy(e){if(!Qy(e))throw new Error("Not a valid tensor name: '"+e+"'");return Yy()+e}function Zy(e){if(!Qy(e))throw new Error("Not a valid tensor name: '"+e+"'");Uy.has(e)||Uy.set(e,0);const t=Uy.get(e);if(Uy.set(e,Uy.get(e)+1),t>0){const n=`${e}_${t}`;return Uy.set(n,1),n}return e}const Jy=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Qy(e){return!!e.match(Jy)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ev(e){return e===parseInt(e.toString(),10)}function tv(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let i=t;i<n;++i)r*=e[i];return r}function nv(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(Ub.pd)(e)}function rv(e){return Ub.ec(nv(e)).dataSync()[0]}function iv(e){return Ub.Xb(nv(e)).dataSync()[0]}function ov(e){return Ub.kd(nv(e)).dataSync()[0]}function av(e){return ov(e)/e.length}function sv(e){const t=Ub.jd(nv(e),Object(Ub.Hc)(av(e))),n=Ub.kd(Ub.ic(t,t)).dataSync()[0];return n/e.length}function lv(e){const t=e.slice().sort((e,t)=>e-t),n=Math.floor((t.length-1)/2),r=Math.ceil((t.length-1)/2);return n===r?t[n]:(t[n]+t[r])/2}function uv(e,t){if(t<e)throw new Yb(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let cv="webgl";function fv(e){Ub.Mc(e),cv=e}function hv(){return cv}function dv(){return!1}function pv(e){const t=e.shape;return t.length>0?t.reduce((e,t)=>e*t):1}function mv(e,t){return e.asType(t)}function gv(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function bv(e,t){return Object(Ub.td)(()=>{if(2!==e.shape.length)throw new Yb("repeat() expects a rank-2 tensor, but received a "+`rank-${e.shape.length} tensor.`);const n=gv(e,1);return Cv(n,[1,t,1])})}function yv(e){const t=[tv(e.shape)];return e.reshape(t)}function vv(e){if(e.rank<=1)throw new Yb(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],tv(e.shape,1)];return e.reshape(t)}function wv(e,t,n){return Object(Ub.td)(()=>{switch(e.rank){case 1:return Ub.Tc(e,t,n);case 2:return Ub.Uc(e,[t,0],[n,e.shape[1]]);case 3:return Ub.Vc(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Ub.Wc(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Ub.Sc(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Ub.Sc(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Yb("sliceAlongFirstAxis() received an unsupported tensor rank: "+`${e.rank}`)}})}function xv(e,t,n){return Object(Ub.td)(()=>{switch(e.rank){case 1:return Ub.Tc(e,t,n);case 2:return Ub.Uc(e,[0,t],[e.shape[0],n]);case 3:return Ub.Vc(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Ub.Wc(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Yb("sliceAlongLastAxis() received an unsupported tensor rank: "+`${e.rank}`)}})}function _v(e,t,n,r){return Object(Ub.td)(()=>{switch(e.rank){case 1:return Ub.Tc(e,t,n);case 2:switch(r){case 1:return wv(e,t,n);case 2:return xv(e,t,n);default:throw new Yb("The axis is not within the rank of the tensor "+`${r}`)}case 3:switch(r){case 1:return wv(e,t,n);case 2:return Ub.Vc(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return xv(e,t,n);default:throw new Yb("The axis is not within the rank of the tensor "+`${r}`)}case 4:switch(r){case 1:return wv(e,t,n);case 2:return Ub.Wc(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Ub.Wc(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return xv(e,t,n);default:throw new Yb("The axis is not within the rank of the tensor "+`${r}`)}default:throw new Yb("sliceAlongLastAxis() received an unsupported tensor rank: "+`${e.rank}`)}})}function Sv(e,t=-1){let n;return t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),Ub.S(e,t)}function Ev(e,t){switch(e.rank){case 1:return Ub.T([e,t]);case 2:return Ub.U([e,t],0);case 3:return Ub.V([e,t],0);case 4:return Ub.W([e,t],0);default:throw new Yb("concatAlongFirstAxis() received an unsupported "+`tensor rank: ${e.rank}`)}}function Cv(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Yb(`The length of input n (${t.length}) does not match `+`the number of dimensions in input x (${e.rank})`);return Ub.ud(e,t)}function kv(e,t=0,n=1,r,i){return Ub.uc(e,t,n,r,i)}function Ov(e,t,n,r){if(e.rank<2||t.rank<2)throw new Xb("dot requires both inputs to be rank >= 2"+` but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){const n=e.shape.slice(-1)[0],r=t.shape.slice(-2)[0];if(n!==r)throw new Xb("If rank y >= 3, then the second last dim"+` of y must equal the last dim of x but got x shape = ${e.shape} and `+` y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){const i=!1,o=!1;return Ub.yb.matMul({a:e,b:t,transposeA:i,transposeB:o,bias:r?Rv(e.rank,r,"channelsLast"):null,activation:n})}{const i=e.shape.slice(),o=i.pop();e=e.reshape([-1,o]);const a=t.shape.slice(),s=a.pop(),l=a.pop(),u=[...a,s],c=Array.from({length:t.rank},(e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n);t=t.transpose(c).reshape([l,-1]);const f=[...i,...u],h=!1,d=!1;return Ub.yb.matMul({a:e,b:t,transposeA:h,transposeB:d,bias:r?Rv(e.rank,r,"channelsLast"):null,activation:n}).reshape(f)}}function Tv(e){return Object(Ub.td)(()=>{const t=Object(Ub.Id)(e),n=Object(Ub.pc)(e);return Object(Ub.Fd)(Ub.ob(e,t),t,Object(Ub.Fd)(Ub.Bb(e,Object(Ub.Id)(e)),n,Ub.ic(-1,n)))})}function Nv(e,t){return Object(Ub.td)(()=>{if(1!==e.rank)throw new Error("Only 1D one-hot tensors are supported in the deeplearn backend, at present.");return e=e.toInt(),Ub.nc(e,t).toFloat()})}function Av(e,t,n){return Object(Ub.td)(()=>(t=Array.isArray(t)?Object(Ub.pd)(t,"int32"):t.toInt(),Ub.zb(e,t,n)))}function Iv(e){return Ub.ic(e,e)}function jv(e,t){return Object(Ub.td)(()=>{if("number"==typeof t&&(t=Object(Ub.Hc)(Math.round(t),"int32")),"int32"!==t.dtype)throw new Xb(`Non-int32 dtype (${t.dtype}) is not supported by pow() yet`);return Ub.rc(e,t)})}function Rv(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Yb(`Unexpected bias dimensions: ${t.rank}`+`; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new Yb(`Unsupported input rank by biasAdd: ${t.rank}`)}function Mv(e,t,n){return Object(Ub.td)(()=>(null==n&&(n="channelsLast"),Wy(n),e.add(Rv(e.rank,t,n))))}function Pv(e,t=1){if(1!==t)throw new Xb(`Support for alpha values other than 1 (${t}) is not implemented `+"yet.");return Ub.lb(e)}function Dv(e){return Object(Ub.td)(()=>Ub.ib(e,Ub.o(e).add(1)))}function Lv(e,t,n,r){return Object(Ub.td)(()=>Ub.kb(e,t,n,r))}function Fv(e){return Object(Ub.td)(()=>{const t=Ub.r(.5,Ub.ic(.2,e));return Ub.Q(t,0,1)})}function Bv(e,t,n=!1){return n?e():t()}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const zv=["fanIn","fanOut","fanAvg"],$v=["normal","uniform","truncatedNormal"],Uv=["Zeros","Ones","Constant","RandomNormal","RandomUniform","TruncatedNormal","VarianceScaling","Orthogonal","Identity"];
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function Wv(e){by(zv,"FanMode",e)}function Vv(e){by($v,"Distribution",e)}class Hv extends Ub.Lc.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class Gv extends Hv{apply(e,t){return Object(Ub.Hd)(e,t)}}Gv.className="Zeros",Ub.Lc.registerClass(Gv);class qv extends Hv{apply(e,t){return Object(Ub.oc)(e,t)}}qv.className="Ones",Ub.Lc.registerClass(qv);class Kv extends Hv{constructor(e){if(super(),"object"!=typeof e)throw new Yb(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new Yb(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return Object(Ub.td)(()=>Object(Ub.ic)(Object(Ub.Hc)(this.value),Object(Ub.oc)(e,t)))}getConfig(){return{value:this.value}}}Kv.className="Constant",Ub.Lc.registerClass(Kv);class Yv extends Hv{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return Object(Ub.vc)(e,this.minval,this.maxval,t)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}Yv.className="RandomUniform",Ub.Lc.registerClass(Yv);class Xv extends Hv{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xb(`randomNormal does not support dType ${t}.`);return kv(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Xv.className="RandomNormal",Ub.Lc.registerClass(Xv);class Zv extends Hv{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xb(`truncatedNormal does not support dType ${t}.`);return Object(Ub.yd)(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Zv.className="TruncatedNormal",Ub.Lc.registerClass(Zv);class Jv extends Hv{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return Object(Ub.td)(()=>{if(2!==e.length||e[0]!==e[1])throw new Yb("Identity matrix initializer can only be used for 2D square matrices.");return Object(Ub.ic)(this.gain,Object(Ub.tb)(e[0]))})}getConfig(){return{gain:this.gain}}}function Qv(e,t="channelsLast"){let n,r;if(Wy(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=tv(e,2);n=e[1]*t,r=e[0]*t}else if("channelsLast"===t){const t=tv(e,0,e.length-2);n=e[e.length-2]*t,r=e[e.length-1]*t}}else{const t=tv(e);n=Math.sqrt(t),r=Math.sqrt(t)}return[n,r]}Jv.className="Identity",Ub.Lc.registerClass(Jv);class ew extends Hv{constructor(e){if(super(),e.scale<0)throw new Yb(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,Wv(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,Vv(this.distribution),this.seed=e.seed}apply(e,t){const n=Qv(e),r=n[0],i=n[1];let o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,r):"fanOut"===this.mode?o/=Math.max(1,i):o/=Math.max(1,(r+i)/2),"normal"===this.distribution){const n=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xb(`${this.getClassName()} does not support dType ${t}.`);return Object(Ub.yd)(e,0,n,t,this.seed)}{const n=Math.sqrt(3*o);return Object(Ub.vc)(e,-n,n,t)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}ew.className="VarianceScaling",Ub.Lc.registerClass(ew);class tw extends ew{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return ew.className}}tw.className="GlorotUniform",Ub.Lc.registerClass(tw);class nw extends ew{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return ew.className}}nw.className="GlorotNormal",Ub.Lc.registerClass(nw);class rw extends ew{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return ew.className}}rw.className="HeNormal",Ub.Lc.registerClass(rw);class iw extends ew{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return ew.className}}iw.className="HeUniform",Ub.Lc.registerClass(iw);class ow extends ew{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return ew.className}}ow.className="LeCunNormal",Ub.Lc.registerClass(ow);class aw extends ew{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return ew.className}}aw.className="LeCunNormal",Ub.Lc.registerClass(aw);class sw extends Hv{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,null!=this.seed)throw new Xb("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,t){return Object(Ub.td)(()=>{if(2!==e.length)throw new Xb("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+`than 2000 (${e[0]*e[1]}) elements: `+"Slowness may result.");const t=e[0]>e[1]?[e[1],e[0]]:e,n=kv(t,0,1,"float32");let r=Ub.Nb.gramSchmidt(n);return e[0]>e[1]&&(r=r.transpose()),Object(Ub.ic)(this.gain,r)})}getConfig(){return{gain:this.gain,seed:this.seed}}}sw.className="Orthogonal",Ub.Lc.registerClass(sw);const lw={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function uw(e,t={}){return cy(e,Ub.Lc.SerializationMap.getMap().classNameMap,t,"initializer")}function cw(e){return ly(e)}function fw(e){if("string"==typeof e){const t=e in lw?lw[e]:e;if("GlorotNormal"===t)return new nw;if("GlorotUniform"===t)return new tw;if("HeNormal"===t)return new rw;if("HeUniform"===t)return new iw;if("LeCunNormal"===t)return new ow;if("LeCunUniform"===t)return new aw;{const e={};return e.className=t,e.config={},uw(e)}}return e instanceof Hv?e:uw(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hw(){return new Gv}function dw(){return new qv}function pw(e){return new Kv(e)}function mw(e){return new Yv(e)}function gw(e){return new Xv(e)}function bw(e){return new Zv(e)}function yw(e){return new Jv(e)}function vw(e){return new ew(e)}function ww(e){return new tw(e)}function xw(e){return new nw(e)}function _w(e){return new rw(e)}function Sw(e){return new iw(e)}function Ew(e){return new ow(e)}function Cw(e){return new aw(e)}function kw(e){return new sw(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ow=0;function Tw(){return Ow++}const Nw={};function Aw(e=""){return e in Nw||(Nw[e]=0),Nw[e]+=1,e+Nw[e].toString()}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Iw(e){return Array.isArray(e)&&Array.isArray(e[0])}function jw(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Rw(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new Yb(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function Mw(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new Yb(`Expected exactly 1 Shape; got ${e.length}`)}return e}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Pw(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce((e,t)=>e*t);return t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Dw="Variable";class Lw{constructor(e,t="float32",n=Dw,r=!0,i=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Tw(),n=null==n?Dw:n,this.originalName=Xy(n),this.name=Zy(this.originalName),this.trainable_=r,this.constraint=i,this.val=Ub.Cd(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),Fw(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Fw(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}function Bw(e,t,n,r){return new Lw(e,t,n,!0,r)}function zw(e,t,n){return new Lw(Ub.Hd(e),t,n)}function $w(e,t,n){return new Lw(Ub.Id(e),t,n)}function Uw(e,t,n){const r=Ub.oc(e);return new Lw(r,t,n)}function Ww(e,t,n){const r=Ub.pc(e);return new Lw(r,t,n)}function Vw(e,t,n){return new Lw(Ub.tb(e),t,n)}function Hw(e,t,n,r,i,o="randomUniform"){return new Lw(Ub.vc(e,t,n,r),r,o)}function Gw(e,t=0,n=1,r,i,o="truncatedNormal"){if("float32"!==(r=r||"float32")&&"int32"!==r)throw new Xb(`randomNormal does not support dType ${r}.`);return new Lw(Ub.yd(e,t,n,r,i),r,o)}function qw(e,t=0,n=1,r,i,o="randomNormal"){if("float32"!==(r=r||"float32")&&"int32"!==r)throw new Xb(`randomNormalVariable does not support dType ${r}.`);return new Lw(Ub.uc(e,t,n,r,i),r,o)}function Kw(e,t){return e.write(t)}function Yw(e,t){return e.write(Ub.r(e.read(),t))}function Xw(e,t){return e.write(Ub.jd(e.read(),t))}function Zw(e){return e.map(e=>e.read())}function Jw(e){e.forEach(e=>{const t=e[0];t.write(e[1])})}function Qw(e,t){const n=t.map(e=>e.read()),r=Object(Ub.Dd)(e,n);return t.map(e=>r.grads[e.name])}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ex{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class tx{constructor(e,t,n,r,i,o,a){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=a,this.id=Tw(),null!=o&&(this.originalName=Xy(o),this.name=Zy(this.originalName)),this.rank=t.length}}let nx=0;class rx{constructor(e,t){this.callArgs=t,this.id=nx++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const t of e.inboundLayers)null!=t&&t.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let ix=0;class ox extends Ub.Lc.Serializable{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=ix++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=oy(e)+"_"+Aw(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new Kb("The layer has never been called "+`and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new Yb(`Asked to get ${t} at node ${e}, `+`but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return ny(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return ny(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new qb(`Layer ${this.name}`+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new qb(`Layer ${this.name}`+" is not connected, no input to return.");return ny(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new qb(`Layer ${this.name}`+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new qb(`Layer ${this.name}`+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return ny(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(t=>t.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=ry(e),null==this.inputSpec||0===this.inputSpec.length)return;const t=ry(this.inputSpec);if(e.length!==t.length)throw new Yb(`Layer ${this.name} expects ${t.length} inputs, `+`but it received ${e.length} input tensors. `+`Input received: ${e}`);for(let n=0;n<e.length;n++){const r=e[n],i=t[n];if(null==i)continue;const o=r.rank;if(null!=i.ndim&&o!==i.ndim)throw new Yb(`Input ${n} is incompatible with layer ${this.name}: `+`expected ndim=${i.ndim}, found ndim=${o}`);if(null!=i.maxNDim&&o>i.maxNDim)throw new Yb(`Input ${n} is incompatible with layer ${this.name}`+`: expected max_ndim=${i.maxNDim}, found ndim=${o}`);if(null!=i.minNDim&&o<i.minNDim)throw new Yb(`Input ${n} is incompatible with layer ${this.name}`+`: expected min_ndim=${i.minNDim}, found ndim=${o}.`);if(null!=i.dtype&&r.dtype!==i.dtype)throw new Yb(`Input ${n} is incompatible with layer ${this.name} `+`: expected dtype=${i.dtype}, found dtype=${r.dtype}.`);if(i.axes){const e=r.shape;for(const t in i.axes){const r=Number(t),o=i.axes[t],a=r>=0?e[r]:e[e.length+r];if(null!=o&&-1===[o,null].indexOf(a))throw new Yb(`Input ${n} is incompatible with layer `+`${this.name}: expected axis ${r} of input shape to `+`have value ${o} but got shape ${e}.`)}}if(null!=i.shape)for(let e=0;e<i.shape.length;++e){const t=i.shape[e],o=r.shape[e];if(null!=t&&null!=o&&t!==o)throw new Yb(`Input ${n} is incompatible with layer `+`${this.name}: expected shape=${i.shape}, `+`found shape=${r.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=ry(e);let r=!0;for(const e of n)if(!(e instanceof tx)){r=!1;break}let i=!0;for(const e of n)if(e instanceof tx){i=!1;break}if(r===i)throw new Yb("Arguments to apply() must be all SymbolicTensors or all Tensors");return Ky(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of ry(e))t.push(n.shape);this.build(ny(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let r=this.call(e,t);const i=ry(r),o=[];for(let e of i)-1!==n.indexOf(e)&&(e=e.clone()),o.push(e);if(r=ny(o),null!=this.activityRegularizer)throw new Xb("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=ax(e),r=this.computeOutputShape(n);let i;const o="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),i=null!=r&&r.length>0&&Array.isArray(r[0])?r.map((n,r)=>new tx(o,n,this,ry(e),t,this.name,r)):new tx(o,r,this,ry(e),t,this.name),this.addInboundNode(e,i,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new Xb("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}})}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+`${JSON.stringify(e)}) does not match that of the `+`batchInputShape (${JSON.stringify(this.batchInputShape)}) `+`of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)}),t&&console.warn("The shape of the input tensor "+`(${JSON.stringify(e)}) does not `+`match the expectation of layer ${this.name}: `+`${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new qb(`The layer ${this.name} has never been called and thus has no `+"defined output shape.");const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new qb(`The layer ${this.name} has multiple inbound nodes with different `+'output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new Kb(`You tried to call countParams() on ${this.name}, `+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return Pw(this.weights)}build(e){this.built=!0}getWeights(e=!1){return Zw(e?this.trainableWeights:this.weights)}setWeights(e){Object(Ub.td)(()=>{const t=this.weights;if(t.length!==e.length)throw new Yb(`You called setWeights(weights) on layer "${this.name}" `+`with a weight list of length ${e.length}, `+`but the layer was expecting ${t.length} weights. `+`Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=Zw(t);for(let i=0;i<r.length;++i){const o=r[i],a=t[i],s=e[i];if(!Ub.Bd.arraysEqual(o.shape,s.shape))throw new Yb(`Layer weight shape ${o.shape} `+`not compatible with provided weight shape ${s.shape}`);n.push([a,s])}Jw(n)})}addWeight(e,t,n,r,i,o,a){if(-1!==this._addedWeightNames.indexOf(e))throw new Yb(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=fw("zeros"));const s=r.apply(t,n),l=new Lw(s,n,e,o,a);return s.dispose(),null!=i&&this.addLoss(()=>i.apply(l.read())),null==o&&(o=!0),o?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=ry(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, `+"but was passed an inputMask.");t.forEach(e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, `+"but was passed an inputMask.")})}return null}return t}addInboundNode(e,t,n,r,i,o,a=null){const s=ry(e);t=ry(t),n=ry(n),r=ry(r),i=jw(i),o=jw(o);const l=[],u=[],c=[];for(const e of s)l.push(e.sourceLayer),u.push(e.nodeIndex),c.push(e.tensorIndex);new rx({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:o},a);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been `+"built yet.");if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used `+"yet.");this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function ax(e){e=ry(e);const t=[];for(const n of e)t.push(n.shape);return ny(t)}function sx(e){return"float32"}function lx(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=e.inputTensors[n],i=e.inboundLayers[n],o=e.nodeIndices[n],a=lx(r,i,o);for(const e of a)-1===t.indexOf(e)&&t.push(e)}return t}}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ux extends ox{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:Aw("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Yb("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new Yb("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Yb("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new tx(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new rx({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new Yb("Cannot pass any input to an "+`InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}function cx(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Yb("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;null==n&&(n="float32");const r=new ux({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}),i=r.inboundNodes[0].outputTensors;return i[0]}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function fx(e){if(null==e)return;const t=[],n=[],r=[];for(const i in e){const o=e[i];if("number"!=typeof o){const e=o;t.push(e.data()),n.push(i),r.push(e)}}if(t.length>0){const i=await Promise.all(t);for(let t=0;t<i.length;++t)e[n[t]]=i[t][0];Object(Ub.hb)(r)}}function hx(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var dx;ux.className="InputLayer",Ub.Lc.registerClass(ux),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(dx||(dx={}));const px=125;class mx{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class gx{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class bx extends mx{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const e in t){const r=t[e];if("number"==typeof r)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+r*n;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;const i=Object(Ub.td)(()=>Object(Ub.r)(this.totals[e],Object(Ub.ic)(r,n)));this.totals[e]=i,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:Object(Ub.td)(()=>{const n=Object(Ub.ic)(Object(Ub.ib)(1,this.seen),this.totals[e]);t[e]=n,this.totals[e].dispose(),Object(Ub.Ib)(t[e])}))}}class yx extends mx{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const e in t)null==this.history[e]&&(this.history[e]=[]),this.history[e].push(t[e])}async syncData(){const e=[],t=[],n=[];for(const r in this.history){const i=this.history[r];for(let o=0;o<i.length;++o)if("number"!=typeof i[o]){const a=i[o];e.push(a.data()),t.push(r),n.push(o)}}const r=await Promise.all(e);for(let e=0;e<r.length;++e){const i=this.history[t[e]][n[e]];i.dispose(),this.history[t[e]][n[e]]=r[e][0]}}}class vx extends mx{constructor(e,t){if(super(),this.currentEpoch=0,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=px),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");Ub.Bd.isNumber(this.yieldEvery)&&(this.maybeWait=xy(this.maybeWait.bind(this),this.yieldEvery)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await fx(n),r.push(this.yield(e,t,n))),r.push(Object(Ub.lc)()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await fx(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await fx(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(Object(Ub.lc)()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await fx(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await fx(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(Object(Ub.lc)()):Ub.Bd.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await fx(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await fx(e),await this.trainEnd(e))}}function wx(e,t){if(null==e&&(e={}),e instanceof mx)return[e];if(Array.isArray(e)&&e[0]instanceof mx)return e;const n=ry(e);return n.map(e=>new vx(e,t))}class xx{constructor(){}static registerCallbackConstructor(e,t){Ub.Bd.assert(e>=0&&Number.isInteger(e),()=>"Verbosity level is expected to be an integer >= 0, "+`but got ${e}`),xx.checkForDuplicate(t),null==xx.constructors[e]&&(xx.constructors[e]=[]),xx.constructors[e].push(t)}static checkForDuplicate(e){for(const t in xx.constructors){const n=xx.constructors[+t];n.forEach(t=>{if(t===e)throw new Yb("Duplicate callback constructor.")})}}static clear(){xx.constructors={}}static createCallbacks(e){const t=[];for(const n in xx.constructors){const r=+n;e>=r&&t.push(...xx.constructors[r])}return t.map(e=>new e)}}function _x(e,t,n,r,i,o,a,s,l){const u=new yx,c=[new bx,...xx.createCallbacks(t)];null!=e&&c.push(...e),c.push(u);const f=new gx(c);return f.setParams({epochs:n,initialEpoch:r,samples:i,steps:o,batchSize:a,verbose:t,doValidation:s,metrics:l}),{callbackList:f,history:u}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Sx(e,t={},n=!1){return cy(e,Ub.Lc.SerializationMap.getMap().classNameMap,t,"layer",n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Ex(e,t){return Object(Ub.td)(()=>{"float32"!==e.dtype&&(e=e.asType("float32"));const n=Ub.kd(Iv(e),t,!0),r=Ub.vb(n.shape,Vb()),i=Ub.dd(Ub.bc(n,r));return Ub.ib(e,i)})}function Cx(e,t){return Object(Ub.td)(()=>Ub.cc(Iv(Ub.jd(t,e)),-1))}function kx(e,t){return Object(Ub.td)(()=>Ub.cc(Ub.o(Ub.jd(t,e)),-1))}function Ox(e,t){return Object(Ub.td)(()=>{const n=Ub.jd(e,t),r=Ub.Q(Ub.o(e),Vb(),Number.MAX_VALUE),i=Ub.o(Ub.ib(n,r));return Ub.ic(100,Ub.cc(i,-1))})}function Tx(e,t){return Object(Ub.td)(()=>{const n=Ub.Q(t,Vb(),Number.MAX_VALUE),r=Ub.Qb(Ub.r(1,n)),i=Ub.Q(e,Vb(),Number.MAX_VALUE),o=Ub.Qb(Ub.r(1,i));return Ub.cc(Iv(Ub.jd(r,o)),-1)})}function Nx(e,t){return Object(Ub.td)(()=>{const n=Ub.bc(0,Ub.jd(1,Ub.ic(e,t)));return Ub.cc(Iv(n),-1)})}function Ax(e,t){return Object(Ub.td)(()=>{const n=Ub.bc(0,Ub.jd(1,Ub.ic(e,t)));return Ub.cc(n,-1)})}function Ix(e,t){return Object(Ub.td)(()=>{const n=Ub.kd(Ub.ic(e,t),-1),r=Ub.Xb(Ub.ic(Ub.jd(1,e),t),-1);return Ub.bc(0,Ub.r(1,Ub.jd(r,n)))})}function jx(e,t){return Object(Ub.td)(()=>{const n=Math.log(2),r=Ub.jd(t,e),i=Ub.jd(Ub.r(r,Ub.Zc(Ub.ic(-2,r))),n);return Ub.cc(i,-1)})}function Rx(e,t,n=!1){return Object(Ub.td)(()=>{if(n)t=Ub.Yc(t);else{const e=Ub.kd(t,t.shape.length-1,!0);t=Ub.ib(t,e)}return t=Ub.Q(t,Vb(),1-Vb()),Ub.kc(Ub.kd(Ub.ic(e.toFloat(),Ub.Qb(t)),t.shape.length-1))})}function Mx(e,t,n=!1){return Object(Ub.td)(()=>{const r=Ub.wb(yv(e)).toInt(),i=(t=Ub.Q(t,Vb(),1-Vb())).shape,o=Ub.nc(r,i[i.length-1]).reshape(i);return Rx(o,t,n)})}function Px(e,t){if(!Ub.Bd.arraysEqual(e.shape,t.shape))throw new Yb("logits and labels must have the same shape, but got shapes "+`${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return Object(Ub.td)(()=>{const n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())})}function Dx(e,t){return Object(Ub.td)(()=>{let n;return n=Ub.Q(t,Vb(),1-Vb()),n=Ub.Qb(Ub.ib(n,Ub.jd(1,n))),Ub.cc(Px(e,n),-1)})}function Lx(e,t){return Object(Ub.td)(()=>{const n=Ub.Q(e,Vb(),1),r=Ub.Q(t,Vb(),1);return Ub.kd(Ub.ic(e,Ub.Qb(Ub.ib(n,r))),-1)})}function Fx(e,t){return Object(Ub.td)(()=>{const n=Ub.Qb(Ub.r(Vb(),t));return Ub.cc(Ub.jd(t,Ub.ic(e,n)),-1)})}function Bx(e,t){return Object(Ub.td)(()=>{const n=Ex(e,-1),r=Ex(t,-1),i=Ub.ic(n,r);return Ub.kc(Ub.kd(i,-1))})}xx.constructors={};const zx=Cx,$x=Cx,Ux=kx,Wx=kx,Vx=Ox,Hx=Ox,Gx=Tx,qx=Tx,Kx=Lx,Yx=Lx,Xx=Bx,Zx={meanSquaredError:Cx,meanAbsoluteError:kx,meanAbsolutePercentageError:Ox,meanSquaredLogarithmicError:Tx,squaredHinge:Nx,hinge:Ax,categoricalHinge:Ix,logcosh:jx,categoricalCrossentropy:Rx,sparseCategoricalCrossentropy:Mx,binaryCrossentropy:Dx,kullbackLeiblerDivergence:Lx,poisson:Fx,cosineProximity:Bx};function Jx(e){if("string"==typeof e){if(e in Zx)return Zx[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. `+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new Yb(t)}return e}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qx(e,t){return Object(Ub.td)(()=>{const n=Ub.ic(.5,Ub.pc(t)),r=mv(Ub.Bb(t,n),e.dtype);return Ub.cc(Ub.ob(e,r),-1)})}function e_(e,t){return Object(Ub.td)(()=>mv(Ub.ob(Ub.v(e,-1),Ub.v(t,-1)),"float32"))}function t_(e,t){return Object(Ub.td)(()=>Ub.Tb(e.equal(1),t.equal(1)).sum().cast("float32"))}function n_(e,t){return Object(Ub.td)(()=>Ub.Tb(e.equal(1),t.equal(0)).sum().cast("float32"))}function r_(e,t){return Object(Ub.td)(()=>Ub.Tb(e.equal(0),t.equal(1)).sum().cast("float32"))}function i_(e,t){return Object(Ub.td)(()=>{const n=t_(e,t),r=r_(e,t),i=n.add(r);return Ub.Fd(Ub.Bb(i,0),n.div(i),0).cast("float32")})}function o_(e,t){return Object(Ub.td)(()=>{const n=t_(e,t),r=n_(e,t),i=n.add(r);return Ub.Fd(Ub.Bb(i,0),n.div(i),0).cast("float32")})}function a_(e,t){return Dx(e,t)}function s_(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),Ub.ob(e,t).asType("float32")}function l_(e,t){throw new Xb}function u_(e,t){throw new Xb}const c_=Cx,f_=Cx,h_=kx,d_=kx,p_=Ox,m_=Ox,g_=Rx,b_=Bx,y_=Mx,v_={binaryAccuracy:Qx,categoricalAccuracy:e_,precision:i_,categoricalCrossentropy:g_,sparseCategoricalCrossentropy:y_,mse:c_,MSE:f_,mae:h_,MAE:d_,mape:p_,MAPE:m_,cosine:b_};function w_(e){if("string"==typeof e&&e in v_)return v_[e];if("string"!=typeof e&&null!=e)return e;throw new Yb(`Unknown metric ${e}`)}function x_(e){if(ey(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(Zx))if(Zx[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(v_))if(v_[n]===e){t=n;break}return void 0!==t?t:e.name}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function __(e){const t={Adagrad:()=>Ub.wd.adagrad(.01),Adadelta:()=>Ub.wd.adadelta(1,.95,Vb()),Adam:()=>Ub.wd.adam(.001,.9,.999,Vb()),Adamax:()=>Ub.wd.adamax(.002,.9,.999,Vb(),0),RMSProp:()=>Ub.wd.rmsprop(.001,.9,0,Vb()),SGD:()=>Ub.wd.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Yb(`Unknown Optimizer ${e}`)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const S_=1048576;function E_(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!C_(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>S_&&console.warn(`User-defined metadata of model "${t}" is too large in `+`size (length=${n.length} when serialized). It is not `+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+`${S_}.`)}}function C_(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!C_(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!C_(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function k_(e,t,n,r=console.log){const i=T_(e),o=["Layer (type)","Output shape","Param #"];let a;if(i?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map(e=>Math.floor(t*e))),!i){o.push("Receives inputs"),a=[];for(const t in e.nodesByDepth)a.push(...e.nodesByDepth[t])}r("_".repeat(t)),N_(o,n,r),r("=".repeat(t));const s=e.layers;for(let e=0;e<s.length;++e)i?A_(s[e],n,r):I_(s[e],n,a,r),r((e===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=O_(e),u=Pw(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function O_(e){let t;return t=null!=e.collectedTrainableWeights?Pw(e.collectedTrainableWeights):Pw(e.trainableWeights)}function T_(e){let t=!0;const n=[],r=[];for(const t in e.nodesByDepth)n.push(e.nodesByDepth[t]);for(const e of n){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}r.push(...e)}if(t)for(const n of e.layers){let e=!1;for(const i of n.inboundNodes)if(-1!==r.indexOf(i)){if(e){t=!1;break}e=!0}if(!t)break}return t}function N_(e,t,n=console.log){let r="";for(let n=0;n<e.length;++n)n>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[n]).slice(0,t[n]),r+=" ".repeat(t[n]-r.length);n(r)}function A_(e,t,n){let r;try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}const i=e.name,o=e.getClassName(),a=[`${i} (${o})`,r,e.countParams().toString()];N_(a,t,n)}function I_(e,t,n,r){let i;try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}const o=[];for(const t of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(t)))for(let e=0;e<t.inboundLayers.length;++e){const n=t.inboundLayers[e].name,r=t.nodeIndices[e],i=t.tensorIndices[e];o.push(`${n}[${r}][${i}]`)}const a=e.name,s=e.getClassName(),l=0===o.length?"":o[0],u=[`${a} (${s})`,i,e.countParams().toString(),l];N_(u,t,r);for(let e=1;e<o.length;++e)N_(["","","",o[e]],t,r)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function j_(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function R_(e,t){if(null===e)return null;if("string"==typeof e)return ay(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let i=0;i<r;++i){const r=e[i];j_(t,i,r)?n.push(r):n.push(R_(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"==typeof r)t[n]=r;else{const e=ay(n);t[e]=R_(r,e)}}return t}}function M_(e,t){if(null===e||void 0===e)return null;if("string"==typeof e)return oy(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let i=0;i<r;++i){const r=e[i];j_(t,i,r)?n.push(r):n.push(M_(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],i=oy(n);t[i]="name"!==n&&"className"!==n||"string"!=typeof r?M_(r,n):r}return t}}
/** @license See the LICENSE file. */const P_="2.0.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function D_(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(Ub.O)(t,e.dtype)}catch(n){throw new Yb(`The dtype of the feed (${t.dtype}) can not be cast to the dtype `+`of the key '${e.name}' (${e.dtype}).`)}}class L_{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof L_)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new Yb(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=D_(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof tx){if(null==this.id2Value[e.id])throw new Yb(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new Yb(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof tx){if(null==this.id2Value[e.id])throw new Yb(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new Yb(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&Object(Ub.hb)(this.id2Mask)}}const F_={},B_={};function z_(e,t,n,r){const i=null!=n&&n.training,o=Array.isArray(e),a=o?e:[e],s=a.map(e=>e.name),l=[],u=t.names();for(const e of s)-1!==u.indexOf(e)?l.push(t.getValue(e)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=s.join(",")+"|"+t.names().join(",");let f,h;if(null==F_[c]){const e=$_(a,t);f=e.sorted,h=e.recipientCounts,F_[c]=f,B_[c]=h}f=F_[c],h={},i||Object.assign(h,B_[c]);const d=new L_(t);for(let e=0;e<f.length;++e){if(null!=r){const e=Object(Ub.dc)().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const o=f[e],a=o.sourceLayer;if(a instanceof ux)continue;const u=[],c=[],p=[];let m=!1;for(const e of o.inputs){const n=d.getValue(e),r=d.getMask(e);u.push(n),c.push(r),null!=r&&(m=!0),i||(h[e.name]--,0!==h[e.name]||t.hasKey(e)||-1!==s.indexOf(e.name)||n.isDisposed||!0===e.sourceLayer.stateful||p.push(n))}m&&((n=n||{}).mask=c[0]);const g=ry(a.apply(u,n));let b=null;a.supportsMasking&&(b=a.computeMask(u,c));const y=V_(o),v=Array.isArray(y)?y:[y];for(let e=0;e<v.length;++e){d.hasKey(v[e])||d.add(v[e],g[e],Array.isArray(b)?b[0]:b);const t=s.indexOf(v[e].name);-1!==t&&(l[t]=g[e])}i||Object(Ub.hb)(p)}return d.disposeMasks(),o?l:l[0]}function $_(e,t){Ub.Bd.assert(null!=e&&e.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(1===e.length){const i=W_(e[0],t);n=i.sorted,r=i.recipientMap}else{const i=new Set;for(const o of e){const{sorted:e,recipientMap:a}=W_(o,t);for(const t of e)i.has(t.name)||(n.push(t),i.add(t.name));for(const e in a)null==r[e]&&(r[e]=new Set),a[e].forEach(t=>r[e].add(t))}}return{sorted:n,recipientCounts:U_(r)}}function U_(e){const t={};for(const n in e)t[n]=e[n].size;return t}function W_(e,t){const n=new Set,r=[],i={};for(const e of t.names())n.add(e);const o=[],a=[];for(o.push(e);o.length>0;){const e=o[o.length-1];if(n.has(e.name)){o.pop();continue}const t=a[a.length-1]===o.length-1;if(0===e.inputs.length||t)o.pop(),r.push(e),n.add(e.name),t&&a.pop();else{a.push(o.length-1);for(const t of e.inputs)null==i[t.name]&&(i[t.name]=new Set),i[t.name].add(e.name),n.has(t.name)||o.push(t)}}return{sorted:r,recipientMap:i}}function V_(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class H_ extends ox{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=Aw(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],my(this.inputs).length!==this.inputs.length)throw new Yb("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+`${this.inputs.map(e=>e.name)}`);my(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+`${this.outputs.map(e=>e.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const e of this.outputs){const t=e.sourceLayer,n=e.nodeIndex,r=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(r)}for(const e of this.inputs){const t=e.sourceLayer,n=e.nodeIndex,r=e.tensorIndex;ey(0===n,"input layer has >1 nodes"),ey(0===r,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(r)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){const n=this.inputLayers[t];if(!(n instanceof ux))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+`Received inputs: ${e.inputs}. `+`Input ${t} (0-based) originates `+`from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map(e=>e.shape),this.internalOutputShapes=this.outputs.map(e=>e.shape);const t={},n={},r={},i={},o={},a=[],s=(e,t,n,r,i,l)=>{null!=r&&null!=i&&null!=l||(r=e.sourceLayer,i=e.nodeIndex,l=e.tensorIndex);const u=r.inboundNodes[i];if(-1!==n.indexOf(u))throw new Kb(`The tensor ${e.name} at layer "${r.name}" `+"is part of a cycle.");if(-1!==t.indexOf(u))return;this.containerNodes.add(H_.nodeKey(r,i)),r.id in o||(o[r.id]=Object.keys(o).length),-1===n.indexOf(u)&&n.push(u);const c=u.inboundLayers.length;for(let e=0;e<c;e++){const r=u.inputTensors[e],i=u.inboundLayers[e],o=u.nodeIndices[e],a=u.tensorIndices[e];s(r,t,n,i,o,a)}for(t.push(u);n.indexOf(u)>=0;)n.splice(n.indexOf(u),1);a.push(u)},l=[],u=[];for(const e of this.outputs)s(e,l,u);const c=a.slice().reverse();for(const e of c){n[e.id]=e,e.id in t||(t[e.id]=0);let o=t[e.id];const a=null==r[e.outboundLayer.id]?0:r[e.outboundLayer.id];o=Math.max(o,a),r[e.outboundLayer.id]=o,i[e.outboundLayer.id]=e.outboundLayer,t[e.id]=o;for(let r=0;r<e.inboundLayers.length;r++){const i=e.inboundLayers[r],a=e.nodeIndices[r],s=i.inboundNodes[a],l=null==t[s.id]?0:t[s.id];t[s.id]=Math.max(o+1,l),n[s.id]=s}}const f={};for(const e in t){const r=t[e];r in f||(f[r]=[]),f[r].push(n[e])}const h={};for(const e in r){const t=r[e];t in h||(h[t]=[]),h[t].push(i[e])}let d=Object.keys(h).map(e=>parseInt(e,10)).sort(hy);this.layers=[];for(const e of d){const t=h[e];t.sort((e,t)=>{const n=o[e.id],r=o[t.id];return n<r?-1:n>r?1:0});for(const e of t)e instanceof H_&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=h,d=Object.keys(f).map(e=>parseInt(e,10)).sort(hy);const p=this.inputs.slice(),m=[];for(const e of d)for(const t of f[e]){const e=t.outboundLayer;if(null!=e){for(const n of t.inputTensors)if(-1===p.indexOf(n))throw new Kb(`Graph disconnected: cannot obtain value for tensor ${n}`+` at layer "${e.name}". `+"The following previous layers were accessed without "+`issue: ${m}`);for(const e of t.outputTensors)p.push(e);m.push(e.name)}}this.nodesByDepth=f;const g=this.layers.map(e=>e.name);for(const e of g){const t=g.filter(t=>t===e).length;if(1!==t)throw new Kb(`The name "${e}" is used ${t} times `+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new rx({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(e=>null),outputMasks:this.outputs.map(e=>null),inputShapes:this.inputs.map(e=>e.shape),outputShapes:this.outputs.map(e=>e.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(t=>{t._trainableWeights.forEach(t=>t.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Yb("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let r=0;for(const e of this.layers)for(const t of e.weights){if(null!=n[t.originalName])throw new Yb(`Duplicate weight name: ${t.originalName}`);n[t.originalName]=t,r++}const i=[];for(const r in e){let o=r;if(null==n[r]){const e=r.split("/"),t=e.slice(0,-2).concat([e[e.length-1]]);o=t.join("/")}if(null!=n[o])i.push([n[o],e[r]]);else if(t)throw new Yb(`Provided weight data has no target variable: ${r}`);delete n[o]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new Yb(`${e.length} of ${r} weights are not set: `+`${e}`)}Jw(i)}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${P_}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=M_(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return Object(Ub.td)(()=>{e=ry(e);const n=new L_;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return z_(this.outputs,n,t)})}computeMask(e,t){return Object(Ub.td)(()=>{let n;return e=ry(e),n=null==t?Qb(null,e.length):ry(t),this.runInternalGraph(e,n)[1]})}computeOutputShape(e){const t=jw(e);if(t.length!==this.inputLayers.length)throw new Yb(`Invalid inputShape argument ${e}: `+`model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let e=0;e<t.length;e++){const r=this.inputLayers[e],i=t[e],o=r.name+"_0_0";n[o]=i}const r=Object.keys(this.nodesByDepth).map(e=>parseInt(e,10)).sort(hy);if(r.length>1)for(const e of r){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer;if(-1!==this.inputLayers.map(e=>e.id).indexOf(t.id))continue;const r=[];for(let t=0;t<e.inboundLayers.length;t++){const i=e.inboundLayers[t],o=e.nodeIndices[t],a=e.tensorIndices[t],s=`${i.name}_${o}_${a}`,l=n[s];r.push(l)}const i=t.computeOutputShape(ny(r)),o=jw(i),a=t.inboundNodes.indexOf(e);for(let e=0;e<o.length;e++){const r=`${t.name}_${a}_${e}`;n[r]=o[e]}}}const i=[],o=[];for(let e=0;e<this.outputLayers.length;e++){const t=this.outputLayers[e],n=this.outputLayersNodeIndices[e],r=this.outputLayersTensorIndices[e],i=`${t.name}_${n}_${r}`;o.push(i)}for(let e=0;e<o.length;e++){const t=o[e];ey(t in n),i.push(n[t])}return ny(i)}runInternalGraph(e,t){null==t&&(t=Qb(null,e.length));const n={};for(let r=0;r<this.inputs.length;++r){const i=this.inputs[r],o=e[r],a=t[r];n[i.id]=[o,a]}const r=Object.keys(this.nodesByDepth).map(e=>parseInt(e,10)).sort(hy);for(const e of r){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer,r=e.inputTensors,i=e.outputTensors,o=new Array;for(const e of r)e.id in n&&o.push(n[e.id]);if(o.length===r.length){let r={},a,s,l,u;if(null!=e.callArgs&&(r=e.callArgs),1===o.length){const[e,n]=o[0];null==r.mask&&(r.mask=n),l=ry(t.call(e,r)),u=ry(t.computeMask(e,n)),a=[e],s=[n]}else a=o.map(e=>e[0]),s=o.map(e=>e[1]),null==r.mask&&(r.mask=s),l=ry(t.call(a,r)),u=ry(t.computeMask(a,s));if(t.activityRegularizer)throw new Xb("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<i.length;++e){const t=i[e],r=l[e],o=u[e];n[t.id]=[r,o]}}}}const i=[],o=[],a=[];for(const e of this.outputs){ey(e.id in n,`Could not compute output ${e.name} : ${e.id}`);const[t,r]=n[e.id];a.push(t.shape),i.push(t),o.push(r)}return[i,o,a]}buildNodeConversionMap(e){const t={};let n;for(const e of this.layers){n=e instanceof H_?1:0;for(let r=0;r<e.inboundNodes.length;r++){const i=H_.nodeKey(e,r);this.containerNodes.has(i)&&(t[i]=n,n+=1)}}return t}getLayer(e,t){if(null!=t){if(this.layers.length<=t)throw new Yb(`Was asked to retrieve layer at index ${t}, but model only `+`has ${this.layers.length} layer(s).`);return this.layers[t]}if(null==e)throw new Yb("Provide either a layer name or layer index");for(const t of this.layers)if(t.name===e)return t;throw new Yb(`No such layer: ${e}`)}calculateLosses(){return Object(Ub.td)(()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=H_.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e})}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const e of this.layers){const r=e.getClassName(),i=e.getConfig(),o=[];for(let n=0;n<e.inboundNodes.length;n++){const r=e.inboundNodes[n],i=H_.nodeKey(e,n);let a={};if(this.containerNodes.has(i)){if(r.callArgs)try{JSON.stringify(r.callArgs),a=r.callArgs}catch(t){console.warn(`Layer ${e.name} was passed `+"non-serializable keyword arguments: "+`${r.callArgs}. They will not be included `+"in the serialized model (and thus will be missing at deserialization time)."),a={}}if(r.inboundLayers.length>0){const e=[];for(let n=0;n<r.inboundLayers.length;n++){const i=r.inboundLayers[n],o=r.nodeIndices[n],s=r.tensorIndices[n],l=H_.nodeKey(i,o);let u=t[l];null==u&&(u=0),e.push([i.name,u,s,a])}o.push(e)}}}const a={};a.name=e.name,a.className=r,a.config=i,a.inboundNodes=o,n.push(a)}e.layers=n;const r=[];for(let e=0;e<this.inputLayers.length;e++){const n=this.inputLayers[e],i=this.inputLayersNodeIndices[e],o=H_.nodeKey(n,i);if(!this.containerNodes.has(o))continue;let a=t[o];null!==a&&void 0!==a||(a=0);const s=this.inputLayersTensorIndices[e];r.push([n.name,a,s])}e.inputLayers=r;const i=[];for(let e=0;e<this.outputLayers.length;e++){const n=this.outputLayers[e],r=this.outputLayersNodeIndices[e],o=H_.nodeKey(n,r);if(!this.containerNodes.has(o))continue;let a=t[o];null!==a&&void 0!==a||(a=0);const s=this.outputLayersTensorIndices[e];i.push([n.name,a,s])}return e.outputLayers=i,e}static fromConfig(e,t,n={},r=!1){const i={},o={};function a(e,t){e.name in o?o[e.name].push(t):o[e.name]=[t]}function s(e,t){const n=[];let r;for(const o of t){const s=o[0],l=o[1],u=o[2];if(r=null==o[3]?{}:o[3],!(s in i))return void a(e,t);const c=i[s];if(c.inboundNodes.length<=l)return void a(e,t);const f=c.inboundNodes[l];n.push(f.outputTensors[u])}n.length>0&&e.apply(ny(n),r)}function l(e){const n=e.name,o=Sx(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(r),i[n]=o;const s=e.inboundNodes;s.forEach(e=>{if(!(e instanceof Array))throw new Yb(`Corrupted configuration, expected array for nodeData: ${e}`);a(o,e)})}const u=t.name,c=t.layers;for(const e of c)l(e);for(;!gy(o);)for(const e of c){const t=i[e.name];if(t.name in o){const e=o[t.name];delete o[t.name];for(const n of e)s(t,n)}}const f=[],h=[],d=t.inputLayers;for(const e of d){const t=e[0],n=e[1],r=e[2];ey(t in i);const o=i[t],a=o.inboundNodes[n].outputTensors;f.push(a[r])}const p=t.outputLayers;for(const e of p){const t=e[0],n=e[1],r=e[2];ey(t in i);const o=i[t],a=o.inboundNodes[n].outputTensors;h.push(a[r])}return new e({inputs:f,outputs:h,name:u})}get stateful(){if(this._stateful)throw new Yb("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Object(Ub.td)(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function G_(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map(e=>null);if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} `+`element(s), but the model has ${r} outputs. `+"Make sure a set of weights is provided for each model output.");return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach(t=>{t in e?n.push(e[t]):n.push(null)}),n}throw new Error(`The model has multiple (${r}) outputs, `+`so ${n} must be either an array with `+`${r} elements or an object with ${t} keys. `+`Provided ${n} not understood: ${JSON.stringify(e)}`)}function q_(e,t){return G_(e,t,"classWeight")}function K_(e,t){return G_(e,t,"sampleWeight")}async function Y_(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=Object(Ub.td)(()=>{if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1){const t=1;return e.argMax(t)}if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) `+"during handling of class weights. The size is expected to be >= 1.")}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during `+"handling of class weights. The rank is expected to be 1 or 2.")}),r=Array.from(await t.data());Object(Ub.hb)(t);const i=[];return r.forEach(e=>{if(null==n[e])throw new Error("classWeight must contain all classes in the training data. "+`The class ${e} exists in the data but not in `+"classWeight");i.push(n[e])}),Object(Ub.pd)(i,"float32")}return null}function X_(e,t){return Object(Ub.ic)(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Z_=32;function J_(e,t){let n,r;const i=t;n=i.xs,r=i.ys,Ub.Bd.assert(null!=n&&null!=r,()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+`${t}`);const o=Q_("input",e.inputNames,n),a=Q_("output",e.outputNames,r),s=o[0].shape[0];Ub.Bd.assert(o.length===e.inputs.length,()=>`LayersModel has ${e.inputs.length} inputs, but the dataset `+`provides ${o.length} inputs.  (Expected input keys: `+`${JSON.stringify(e.inputNames)})`),Ub.Bd.assert(a.length===e.outputs.length,()=>`LayersModel has ${e.outputs.length} outputs, but the dataset `+`provides ${a.length} outputs.  (Expected output keys: `+`${JSON.stringify(e.outputNames)})`);for(let t=0;t<o.length;t++)Ub.Bd.assert(o[t].shape[0]===s,()=>"Batch size mismatch: input "+`${e.inputNames[t]} has ${o[t].shape[0]}; `+`expected  ${s} based on input ${e.inputNames[0]}.`);for(let t=0;t<a.length;t++)Ub.Bd.assert(a[t].shape[0]===s,()=>"Batch size mismatch: output "+`${e.outputNames[t]} has ${a[t].shape[0]}; `+`expected  ${s} based on input ${e.inputNames[0]}.`);return{xs:o,ys:a}}function Q_(e,t,n){if(n instanceof Ub.l)return[n];if(Array.isArray(n))return Ub.Bd.assert(n.length===t.length,()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`),n;{const r=[];for(const i of t){if(null==n[i])throw new Yb("The feature data generated by the dataset lacks the required "+`${e} key '${i}'.`);r.push(n[i])}return r}}function eS(e){if(3===e.length)throw new Xb("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}async function tS(e,t,n){const r=null!=n.batchesPerEpoch;if(Ub.Bd.assert(null!=e.optimizer,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),Ub.Bd.assert(null!=n,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),Ub.Bd.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),()=>"For fitDataset(), config.epochs is expected to be a positive "+`integer, but got ${n.epochs}`),Ub.Bd.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+`positive integer if specified, but got ${n.batchesPerEpoch}`),Ub.Bd.assert(null==n.validationSplit,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const i=null!=n.validationData;let o,a;if(i)if(rS(n.validationData))Ub.Bd.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+`but got ${n.validationBatches}`);else{const e=eS(n.validationData);o=e.xs,a=e.ys}const s=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;u=i?l.slice().concat(l.map(e=>"val_"+e)):l.slice();const c=wx(n.callbacks,n.yieldEvery),f=null==n.verbose?1:n.verbose,{callbackList:h,history:d}=_x(c,f,n.epochs,null,null,nS(t,n),null,i,u);h.setModel(e),e.history=d,await h.onTrainBegin(),e.stopTraining_=!1;let p=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;p<n.epochs;){const u={};await h.onEpochBegin(p);let c=0,f=0;for(r||(m=await t.iterator());!r||c<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn("You provided `batchesPerEpoch` as "+`${n.batchesPerEpoch}, `+"but your dataset iterator ran out of data after "+`${c} batches; `+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+`${n.batchesPerEpoch*n.epochs} batches). `+"You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:i}=J_(e,t.value),o={};o.batch=f,o.size=r[0].shape[0],await h.onBatchBegin(f,o);const a=[];if(null!=n.classWeight){const t=q_(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)a.push(await Y_(i[e],null,t[e]))}const u=r.concat(i).concat(a),d=s(u);Ub.hb(u);for(let e=0;e<l.length;++e){const t=l[e],n=d[e];o[t]=n,Ub.Ib(n)}await h.onBatchEnd(f,o),hx(o),f++,c++}if(r?c>=n.batchesPerEpoch:t.done){if(i){let t;t=rS(n.validationData)?ry(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):ry(e.evaluate(o,a,{batchSize:null==n.validationBatchSize?Z_:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await h.onEpochEnd(p,u),p++,e.stopTraining_)break}return await h.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function nS(e,t){let n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function rS(e){return"function"==typeof e.iterator}function iS(e){return"function"==typeof e.next}async function oS(e,t,n){const r=null!=(n=n||{}).batches,i=e.testFunction;let o=[];if(n.verbose>0)throw new Xb("Verbose mode is not implemented yet.");Ub.Bd.assert(!r||n.batches>0&&Number.isInteger(n.batches),()=>"Test loop expects `batches` to be a positive integer, but "+`received ${JSON.stringify(n.batches)}`);const a=iS(t)?t:await t.iterator();let s=0,l=0;for(;!r||l<n.batches;){const t=await a.next();if(o=Ub.td(()=>{if(t.value){const{xs:n,ys:r}=J_(e,t.value),a=n.concat(r),u=Ub.td(()=>i(a));if(Ub.hb(a),0===l)for(let e=0;e<u.length;++e)o.push(Object(Ub.Hc)(0));const c=a[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=o[e];o[e]=Ub.td(()=>Ub.r(o[e],Ub.ic(c,t))),l>0&&Ub.hb(n)}Ub.hb(u),s+=c,++l}return o}),t.done){r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+`batches (in this case, ${n.batches} batches). `+"You may need to use the repeat() function when building your dataset.");break}}for(let e=0;e<o.length;++e){const t=o[e];o[e]=Ub.ib(o[e],s),Ub.hb(t)}return ny(o)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function aS(e){Ub.Bd.assert(e>0&&Number.isInteger(e),()=>`batchSize is required to be a positive integer, but got ${e}`)}function sS(e,t,n){return null==e?[null]:Array.isArray(e)?e.map(e=>wv(e,t,n-t)):wv(e,t,n-t)}function lS(e,t){return Ub.td(()=>null==e?null:Array.isArray(e)?e.map(e=>lS(e,t)):Av(e,"int32"===t.dtype?t:t.toInt()))}function uS(e,t){const n=[];let r=0,i=null;for(;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}async function cS(e,t,n,r,i,o,a,s,l,u,c,f,h,d,p){null==i&&(i=32),null==o&&(o=1),null==c&&(c=!0),null==h&&(h=0);let m=!1;if(null!=l&&null!=u&&(m=!0),null!=p&&(m=!0,null==d))throw new Yb("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const g=e.checkNumSamples(n,i,d,"steps_per_epoch");let b;null!=g&&(b=uv(0,g)),null==a&&(a=1);const{callbackList:y,history:v}=_x(s,a,o,h,g,d,i,m,f);y.setModel(e),e.history=v,await y.onTrainBegin(),e.stopTraining_=!1;for(let a=h;a<o;++a){await y.onEpochBegin(a);const o={};if(null!=d)throw new Xb("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new Xb("batch shuffling is not implemneted yet");c&&Ub.Bd.shuffle(b);const a=Object(Ub.pd)(b),s=uS(g,i);for(let c=0;c<s.length;++c){const f={};if(await y.onBatchBegin(c,f),Ub.td(()=>{const h=s[c][0],d=s[c][1],p=wv(a,h,d-h);f.batch=c,f.size=d-h;const g=lS(n,p),b=t(g);for(let e=0;e<r.length;++e){const t=r[e],n=b[e];f[t]=n,Ub.Ib(n)}if(c===s.length-1&&m){const t=e.testLoop(l,u,i);for(let e=0;e<r.length;++e){const n=r[e],i=t[e];Ub.Ib(i),o["val_"+n]=i}}}),await y.onBatchEnd(c,f),hx(f),e.stopTraining_)break}a.dispose()}if(await y.onEpochEnd(a,o),e.stopTraining_)break}return await y.onTrainEnd(),await e.history.syncData(),e.history}async function fS(e,t,n,r={}){if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let i,o,a,s,l,u,c;e.isTraining=!0;try{const f=null==r.batchSize?32:r.batchSize;aS(f);const h=!1,d=await e.standardizeUserData(t,n,r.sampleWeight,r.classWeight,h,f);i=d[0],o=d[1],c=d[2];let p=!1,m;if(null!=r.validationData&&r.validationData.length>0){if(p=!0,2!==r.validationData.length)throw 3===r.validationData.length?new Xb("validationData including sample weights is not supported yet."):new Yb("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+`${r.validationData} is invalid.`);a=r.validationData[0],s=r.validationData[1];const t=!0,n=await e.standardizeUserData(a,s,null,null,t,f);l=n[0],u=n[1],m=l.concat(u)}else if(null!=r.validationSplit&&r.validationSplit>0&&r.validationSplit<1){p=!0;const e=Math.floor(i[0].shape[0]*(1-r.validationSplit)),t=i[0].shape[0];l=sS(i,e,t),i=sS(i,0,e),u=sS(o,e,t),o=sS(o,0,e),m=l.concat(u)}else null!=r.validationSteps&&(p=!0);const g=i.concat(o).concat(c);e.checkTrainableWeightsConsistency();const b=e.makeTrainFunction(),y=e.getDedupedMetricsNames();let v,w;p?(e.makeTestFunction(),v=e.testFunction,w=y.slice().concat(y.map(e=>"val_"+e))):(v=null,m=[],w=y.slice());const x=wx(r.callbacks,r.yieldEvery),_=await cS(e,b,g,y,f,r.epochs,r.verbose,x,v,m,r.shuffle,w,r.initialEpoch,null,null);return _}finally{e.isTraining=!1,dS(i,t),dS(o,n),dS(l,a),dS(u,s),null!=c&&Ub.hb(c)}}function hS(e){const t=[];e instanceof Ub.l&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(gv(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function dS(e,t){if(null==e)return;const n=[];if(t instanceof Ub.l)n.push(t.id);else if(Array.isArray(t))t.forEach(e=>n.push(e.id));else if(null!=t)for(const e in t){const r=t[e];n.push(r.id)}const r=[];if(e instanceof Ub.l)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach(e=>{-1===n.indexOf(e.id)&&r.push(e)});else if(null!=e)for(const t in e){const i=e[t];-1===n.indexOf(i.id)&&r.push(i)}r.forEach(e=>{e.isDisposed||e.dispose()})}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pS(e){return e instanceof Ub.l}function mS(e){return Array.isArray(e)}function gS(e){return!pS(e)&&!mS(e)}function bS(e,t,n,r=!0,i=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(mS(e)&&e.length>0)t=!0;else if(gS(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new Yb(`Error when checking model ${i} expected no data, `+`but got ${e}`)}return[]}if(null==e)return t.map(e=>null);let o;if(gS(e)){e=e,o=[];for(const n of t){if(null==e[n])throw new Yb(`No data provided for "${n}". Need data for each key in: `+`${t}`);o.push(e[n])}}else if(mS(e)){if((e=e).length!==t.length)throw new Yb(`Error when checking model ${i}: the Array of `+"Tensors that you are passing to your model is not the size the "+`model expected. Expected to see ${t.length} Tensor(s), but `+`instead got the following list of Tensor(s): ${e}`);o=e}else{if(e=e,t.length>1)throw new Yb(`The model ${i} expects ${t.length} Tensor(s), `+`but only received one Tensor. Found: Tensor with shape ${e.shape}`);o=[e]}if(o=hS(o),null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const a=o[e];if(a.shape.length!==n[e].length)throw new Yb(`Error when checking ${i}: expected ${t[e]} `+`to have ${n[e].length} dimension(s). but got array with `+`shape ${a.shape}`);for(let o=0;o<n[e].length;++o){if(0===o&&!r)continue;const s=a.shape[o],l=n[e][o];if(null!=l&&l>=0&&s!==l)throw new Yb(`Error when checking ${i}: expected ${t[e]} `+`to have shape [${n[e]}], but got array with shape `+`[${a.shape}].`)}}return o}function yS(e,t,n){const r=my(e.map(e=>e.shape[0]));r.sort();const i=my(t.map(e=>e.shape[0]));if(i.sort(),r.length>1)throw new Yb("All input Tensors (x) should have the same number of samples. Got array shapes: "+`${JSON.stringify(e.map(e=>e.shape))}`);if(i.length>1)throw new Yb("All target Tensors (y) should have the same number of samples. Got array shapes: "+`${JSON.stringify(t.map(e=>e.shape))}`);if(r.length>0&&i.length>0&&!Ub.Bd.arraysEqual(r,i))throw new Yb("Input Tensors should have the same number of samples as target "+`Tensors. Found ${r[0]} input sample(s) and ${i[0]} target `+"sample(s).")}function vS(e,t,n){const r=[Cx,Dx,Rx];for(let i=0;i<e.length;++i){const o=e[i],a=t[i],s=n[i];if(null!=a){if(a===Rx&&1===o.shape[o.shape.length-1])throw new Yb(`You are passing a target array of shape ${o.shape} while using `+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(a)){const e=o.shape.slice(1),t=s.slice(1);for(let n=0;n<e.length;++n){const r=e[n],i=t[n];if(null!=i&&r!==i)throw new Yb(`A target Tensor with shape ${o.shape} was passed for an `+`output of shape ${s}, while using a loss function that `+"expects targets to have the same shape as the output.")}}}}}function wS(e,t,n,r=!0,i=""){let o;if(Array.isArray(e)){if(e.length!==t.length)throw new Yb(`Error when checking model ${i}: the Array of `+"Tensors that you are passing to your model is not the size the "+`the model expected. Expected to see ${t.length} Tensor(s),`+` but instead got ${e.length} Tensors(s).`);o=e}else{if(t.length>1)throw new Yb(`The model expects ${t.length} ${i} Tensors, `+"but only received one Tensor. Found: array with shape "+`${JSON.stringify(e.shape)}.`);o=[e]}if(null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const a=o[e];if(a.shape.length!==n[e].length)throw new Yb(`Error when checking ${i}: expected ${t[e]} `+`to have ${n[e].length} dimension(s), but got array with `+`shape ${JSON.stringify(a.shape)}`);for(let o=0;o<n[e].length;++o){if(0===o&&!r)continue;const s=a.shape[o],l=n[e][o];if(null!=l&&l!==s)throw new Yb(`Error when checking ${i}: expected `+`${t[e]} to have shape ${JSON.stringify(n[e])} but `+`got array with shape ${JSON.stringify(a.shape)}.`)}}}function xS(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map(e=>[]);let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+`function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map(e=>n);{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}const _S="layers-model";class SS extends H_{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new Yb("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");k_(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=__(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Ub.i))throw new Yb("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Yb("When passing an Array as loss, it should have one entry per "+`model output. The model has ${this.outputs.length} output(s), `+`but you passed loss=${e.loss}.`);const n=e.loss;t=n.map(e=>Jx(e))}else{const n=Jx(e.loss);this.outputs.forEach(e=>{t.push(n)})}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new Yb(`Unknown entry in loss dictionary: "${t}". `+`Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume `+"this was done on purpose, and we will not be expecting data "+`to be passed to ${n} during training`),t.push(Jx(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){const t=this.internalOutputShapes[e],n=this.outputNames[e];this.feedOutputNames.push(n),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Ky("loss",()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}});const r=xS(e.metrics,this.outputNames),i=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Ky("metric",()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=r[e],o=t=>{const n="";let r,o,a;for(const n of t){if("string"==typeof n&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){const t=this.internalOutputShapes[e];let i;1===t[t.length-1]||this.lossFunctions[e]===Dx?-1!==["accuracy","acc"].indexOf(n)?o=Qx:-1!==["crossentropy","ce"].indexOf(n)&&(o=a_):this.lossFunctions[e]===Mx?-1!==["accuracy","acc"].indexOf(n)?o=s_:-1!==["crossentropy","ce"].indexOf(n)&&(o=y_):-1!==["accuracy","acc"].indexOf(n)?o=e_:-1!==["crossentropy","ce"].indexOf(n)&&(o=g_),-1!==["accuracy","acc"].indexOf(n)?i="acc":-1!==["crossentropy","ce"].indexOf(n)&&(i="ce"),a=o,r=""+i}else{const e=w_(n);a=e,r=""+x_(n)}let t;Ky(r,()=>{t=a}),i(e,r,t)}};o(t)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,n={}){const r=null==n.batchSize?32:n.batchSize;aS(r);const i=!0,o=this.standardizeUserDataXY(e,t,!0,r);try{const i=o[0].concat(o[1]);this.makeTestFunction();const a=this.testFunction,s=this.testLoop(a,i,r,n.verbose,n.steps);return ny(s)}finally{dS(o[0],e),dS(o[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),oS(this,e,t)}checkNumSamples(e,t,n,r="steps"){let i;if(null!=n){if(i=null,null!=t)throw new Yb(`If ${r} is set, batchSize must be null or undefined.`+`Got batchSize = ${t}`)}else{if(null==e)throw new Yb("Either the input data should have a defined shape, or "+`${r} shoud be specified.`);i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new Yb("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],i=this.retrieveSymbolicTensors(r),o=new L_;if(e instanceof Ub.l&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Yb(`The number of inputs provided (${e.length}) `+"does not match the number of inputs of this model "+`(${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)o.add(this.inputs[t],e[t])}else for(const t of this.inputs){const n=e[t.name];if(null==n)throw new Yb(`No value is provided for the model's input ${t.name}`);o.add(t,n)}const a=z_(i,o);return n?a:a[0]}retrieveSymbolicTensors(e){const t=Qb(null,e.length);let n=e.length;for(const r of this.layers){const i=Array.isArray(r.output)?r.output:[r.output],o=i.map(e=>e.name);for(let r=0;r<e.length;++r){const a=o.indexOf(e[r]);if(-1!==a&&(t[r]=i[a],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach((t,r)=>{null==t&&n.push(e[r])}),new Yb("Cannot find SymbolicTensors for output name(s): "+`${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return Ub.td(()=>{const r=this.checkNumSamples(e);if(n)throw new Xb("Verbose predictLoop() is not implemented yet.");const i=uS(r,t),o=this.outputs.map(e=>[]);for(let t=0;t<i.length;++t){const n=Ub.td(()=>{const n=i[t][0],r=i[t][1],o=sS(e,n,r),a=[];if(Array.isArray(o))for(let e=0;e<o.length;++e)a.push({key:this.inputs[e],value:o[e]});else a.push({key:this.inputs[0],value:o});const s=new L_(a);return z_(this.outputs,s)});n.forEach((e,t)=>o[t].push(e))}return ny(o.map(e=>Ub.S(e,0)))})}predict(e,t={}){const n=hS(e);wS(n,this.inputNames,this.feedInputShapes,!1);try{const r=null==t.batchSize?32:t.batchSize;return aS(r),this.predictLoop(n,r)}finally{dS(n,e)}}predictOnBatch(e){wS(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,r){if(null==this.optimizer_)throw new Kb("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let e=0;e<this.feedOutputShapes.length;++e){const t=this.feedOutputShapes[e],n=this.feedLossFns[e];n===Mx?i.push(t.slice(0,t.length-1).concat([1])):i.push(t)}if(yS(e=bS(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=bS(t,this.feedOutputNames,i,!1,"target"),null),vS(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new Yb("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+`${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r,i=!0,o){const[a,s]=this.standardizeUserDataXY(e,t,i,o);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=q_(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await Y_(s[t],null,e[t]))}return[a,s,l]}testLoop(e,t,n,r=0,i){return Ub.td(()=>{const o=this.checkNumSamples(t,n,i,"steps"),a=[];if(r>0)throw new Xb("Verbose mode is not implemented yet.");if(null!=i)throw new Xb("steps mode in testLoop() is not implemented yet");{const r=uS(o,n),i=Object(Ub.pd)(uv(0,o));for(let n=0;n<r.length;++n){const o=r[n][0],s=r[n][1],l=wv(i,o,s-o),u=lS(t,l),c=e(u);if(0===n)for(let e=0;e<c.length;++e)a.push(Object(Ub.Hc)(0));for(let e=0;e<c.length;++e){const t=c[e];a[e]=Ub.r(a[e],Ub.ic(s-o,t))}}for(let e=0;e<a.length;++e)a[e]=Ub.ib(a[e],o)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let i=r;if(ty(e,r)>1){const t=ty(e.slice(0,n),r);i+=`_${t}`}t.push(i)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),o=[],a=()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const a=new L_(e),s=z_(this.outputs,a,{training:!0});let l;for(let e=0;e<this.lossFunctions.length;++e){const n=this.lossFunctions[e];let o=n(r[e],s[e]);null!=i[e]&&(o=X_(o,i[e]));const a=Ub.cc(o);t.push(a),l=0===e?o:Ub.r(l,o)}for(let e=0;e<this.metricsTensors.length;++e){let n;if(this.outputs.length>1&&e<this.outputs.length)n=t[e];else{const t=this.metricsTensors[e][0],i=this.metricsTensors[e][1];n=Ub.cc(t(r[i],s[i]))}Ub.Ib(n),o.push(n)}return l=Ub.cc(l),this.calculateLosses().forEach(e=>{l=Ub.r(l,e)}),l},s=this.collectedTrainableWeights.map(e=>e.read()),l=!0,u=this.optimizer_.minimize(a,!0,s);return[u].concat(o)}}makeTestFunction(){this.testFunction=(e=>Ub.td(()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let e=0;e<this.inputs.length;++e)o.push({key:this.inputs[e],value:r[e]});const a=new L_(o),s=z_(this.outputs,a);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],o=Ub.cc(r(i[e],s[e]));n=0===e?o:Ub.r(n,o),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],o=Ub.cc(n(i[r],s[r]));t.push(o)}return t}))}async fit(e,t,n={}){return fS(this,e,t,n)}async fitDataset(e,t){return tS(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],i=n[1],o=this.makeTrainFunction(),a=o(r.concat(i)),s=[];for(const e of a){const t=await e.data();s.push(t[0])}return Ub.hb(a),ny(s)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n);for(let e=0;e<r.length;++e)n&&!r[e].trainable||t.push({name:r[e].originalName,tensor:i[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=Ub.dc().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-Ub.dc().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=oy(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(e=>oy(e))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!=typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=oy(n[r])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[oy(x_(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>oy(x_(e)));{const e={};for(const t in this.metrics)e[t]=oy(x_(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=R_(e.optimizer_config),n=Sx(t);let r,i;if("string"==typeof e.loss)r=ay(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(e=>ay(e));else if(null!=e.loss){r={};for(const t in e.loss)r[t]=ay(e.loss[t])}if(Array.isArray(e.metrics))i=e.metrics.map(e=>ay(e));else if(null!=e.metrics){i={};for(const t in e.metrics)i[t]=ay(e.metrics[t])}this.compile({loss:r,metrics:i,optimizer:n})}async save(e,t){if("string"==typeof e){const t=Ub.Gb.getSaveHandlers(e);if(0===t.length)throw new Yb(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Yb(`Found more than one (${t.length}) save handlers for `+`URL '${e}'`);e=t[0]}if(null==e.save)throw new Yb("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await Ub.Gb.encodeWeights(this.getNamedWeights(t)),r=!1,i=null,o=this.toJSON(null,!1),a={modelTopology:o,format:_S,generatedBy:`TensorFlow.js tfjs-layers v${P_}`,convertedBy:null},s=null!=t&&t.includeOptimizer;if(s&&null!=this.optimizer){a.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:r}=await Ub.Gb.encodeWeights(await this.optimizer.getWeights(),e);n.specs.push(...r),n.data=Ub.Gb.concatenateArrayBuffers([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;E_(this.userDefinedMetadata,this.name,e),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=n.data,a.weightSpecs=n.specs,e.save(a)}setUserDefinedMetadata(e){E_(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
async function ES(e,t){"modelTopology"in e||(e={modelTopology:e});let n=(e=e).modelTopology;null!=n.model_config&&(n=n.model_config);const r=R_(n),i=Sx(r,t);if(null!=e.weightsManifest){const t=await Ub.Gb.loadWeights(e.weightsManifest,e.pathPrefix,i.weights.map(e=>e.originalName)),n={};for(const e of i.weights)n[e.originalName]=t[e.originalName];i.loadWeights(n),Object(Ub.hb)(t)}return i}async function CS(e,t){if(null==t&&(t={}),"string"==typeof e){const n=Ub.Gb.getLoadHandlers(e,t);if(0===n.length)n.push(Ub.Gb.browserHTTPRequest(e,t));else if(n.length>1)throw new Yb(`Found more than one (${n.length}) load handlers for `+`URL '${e}'`);e=n[0]}return kS(e,void 0,t)}async function kS(e,t,n){if(null==n&&(n={}),null==e.load)throw new Yb("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await e.load();let i=r.modelTopology;null!=i.model_config&&(i=i.model_config);const o=null==n.strict||n.strict,a=null!=r.weightData&&null!=r.weightSpecs&&o,s=Sx(R_(i),t,a),l=r.trainingConfig;if(null!=l&&s.loadTrainingConfig(l),null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata),null!=r.weightData){if(null==r.weightSpecs)throw new Yb("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:e,optimizerWeights:t}=OS(r.weightData,r.weightSpecs);s.loadWeights(e,o),null!=s.optimizer&&t.length>0&&await s.optimizer.setWeights(t),Object(Ub.hb)(e),Object(Ub.hb)(t.map(e=>e.tensor))}return s}function OS(e,t){const n=Ub.Gb.decodeWeights(e,t),r={},i=[];return t.forEach(e=>{"optimizer"===e.group?i.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]}),{modelWeights:r,optimizerWeights:i}}SS.className="Model",Ub.Lc.registerClass(SS);class TS extends SS{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:Aw("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){const t=e.inboundNodes[0].outputTensors[0].shape;if(t.some(e=>e<0))throw new Yb("Negative dimension size caused by adding layer "+`${e.name} with input shape [`+`${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof TS||e instanceof SS;let n;if(t){if(1!==(n=e).outputs.length)throw new Yb("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new Yb("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Yb("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=cx({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new Yb("A layer added to a Sequential model must not already be "+`connected somewhere else. LayersModel received layer ${e.name} `+`which has ${e.inboundNodes.length} pre-existing inbound `+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new Yb("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=lx(this.outputs[0])}this.inboundNodes=[],new rx({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Qb(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(e=>e.shape),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(Mw(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new SS({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new Kb("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new Kb("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new Kb("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new Kb("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},r=!1){let i,o={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Yb("Legacy serialization format not supported yet.");i=t}else Ub.Bd.assert(null!=t.layers,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=t.layers,delete t.layers,o=t;const a=new e(o);if(!(a instanceof TS))throw new Xb(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const e of i){const t=void 0,n=Sx(e,t,r);r&&n.setFastWeightInitDuringBuild(!0),a.add(n)}return a}set stopTraining(e){if(null==this.model)throw new Yb("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new Yb("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function NS(e){return new SS(e)}function AS(e){return new TS(e)}function IS(e,t){return null==t&&(t={}),CS(e,t)}function jS(e){return cx(e)}function RS(e,t){xx.registerCallbackConstructor(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */TS.className="Sequential",Ub.Lc.registerClass(TS);class MS extends Ub.Lc.Serializable{getConfig(){return{}}}class PS extends MS{apply(e,t=1){return Pv(e,t)}}PS.className="elu",Ub.Lc.registerClass(PS);class DS extends MS{apply(e){return Ub.Jc(e)}}DS.className="selu",Ub.Lc.registerClass(DS);class LS extends MS{apply(e){return Ub.Bc(e)}}LS.className="relu",Ub.Lc.registerClass(LS);class FS extends MS{apply(e){return Object(Ub.td)(()=>Ub.fc(6,Ub.Bc(e)))}}FS.className="relu6",Ub.Lc.registerClass(FS);class BS extends MS{apply(e){return e}}BS.className="linear",Ub.Lc.registerClass(BS);class zS extends MS{apply(e){return Ub.Oc(e)}}zS.className="sigmoid",Ub.Lc.registerClass(zS);class $S extends MS{apply(e){return Fv(e)}}$S.className="hardSigmoid",Ub.Lc.registerClass($S);class US extends MS{apply(e){return Ub.Zc(e)}}US.className="softplus",Ub.Lc.registerClass(US);class WS extends MS{apply(e){return Dv(e)}}WS.className="softsign",Ub.Lc.registerClass(WS);class VS extends MS{apply(e){return Ub.nd(e)}}VS.className="tanh",Ub.Lc.registerClass(VS);class HS extends MS{apply(e,t=-1){return Ub.Yc(e,t)}}HS.className="softmax",Ub.Lc.registerClass(HS);class GS extends MS{apply(e,t=-1){return Ub.Sb(e,t)}}function qS(e){return e.getClassName()}function KS(e,t={}){return cy(e,Ub.Lc.SerializationMap.getMap().classNameMap,t,"activation")}function YS(e){if(null==e){const e={className:"linear",config:{}};return KS(e)}if("string"==typeof e){const t={};return t.className=e,t.config={},KS(t)}return e instanceof MS?e:KS(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function XS(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+`object, but received: ${e}`)}GS.className="logSoftmax",Ub.Lc.registerClass(GS);class ZS extends Ub.Lc.Serializable{}class JS extends ZS{constructor(e){super(),XS(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return Object(Ub.td)(()=>{let t=Object(Ub.Hd)([1]);return this.hasL1&&(t=Object(Ub.r)(t,Object(Ub.kd)(Ub.ic(this.l1,Object(Ub.o)(e))))),this.hasL2&&(t=Object(Ub.r)(t,Object(Ub.kd)(Ub.ic(this.l2,Iv(e))))),t.asScalar()})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}function QS(e){return XS(e),new JS({l1:null!=e?e.l1:null,l2:0})}function eE(e){return XS(e),new JS({l2:null!=e?e.l2:null,l1:0})}JS.className="L1L2",Ub.Lc.registerClass(JS);const tE={l1l2:"L1L2"};function nE(e){return ly(e)}function rE(e,t={}){return cy(e,Ub.Lc.SerializationMap.getMap().classNameMap,t,"regularizer")}function iE(e){if(null==e)return null;if("string"==typeof e){const t=e in tE?tE[e]:e,n={className:t,config:{}};return rE(n)}return e instanceof ZS?e:rE(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class oE extends ox{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=Rw(e);let n=Object(Ub.Bc)(e);return null!=this.maxValue&&(n=Object(Ub.Q)(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}oE.className="ReLU",Ub.Lc.registerClass(oE);class aE extends ox{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Rw(e);return Object(Ub.Kb)(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}aE.className="LeakyReLU",Ub.Lc.registerClass(aE);class sE extends ox{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=fw(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=iE(e.alphaRegularizer),this.alphaConstraint=jy(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new Yb("Expected sharedAxes to be a number or an array of numbers, "+`but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=Mw(e)).slice(1);if(null!=this.sharedAxes)for(const e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)n[t]=e[t];this.inputSpec=[new ex({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Rw(e),Object(Ub.sc)(e,this.alpha.read())}getConfig(){const e={alphaInitializer:cw(this.alphaInitializer),alphaRegularizer:nE(this.alphaRegularizer),alphaConstraint:Ay(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}sE.className="PReLU",Ub.Lc.registerClass(sE);class lE extends ox{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new Xb(`Non-default alpha value (${e.alpha}) is not supported by the `+"ELU layer yet.");this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Rw(e);return Object(Ub.lb)(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}lE.className="ELU",Ub.Lc.registerClass(lE);class uE extends ox{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=Rw(e);return n.mul(mv(n.greater(this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}uE.className="ThresholdedReLU",Ub.Lc.registerClass(uE);class cE extends ox{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new HS).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){const n=Rw(e);return this.softmax(n,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function fE(e,t,n){if("number"==typeof e)return Qb(e,t);if(e.length!==t)throw new Yb(`The ${n} argument must be an integer or tuple of ${t} integers.`+` Received: ${e.length} elements.`);for(let r=0;r<t;++r){const i=e[r];if(!ev(i))throw new Yb(`The ${n} argument must be an integer or tuple of ${t}`+` integers. Received: ${JSON.stringify(e)} including a`+` non-integer number ${i}`)}return e}function hE(e,t,n,r,i=1){if(null==e)return e;const o=t+(t-1)*(i-1);let a;return a="same"===n?e:e-o+1,Math.floor((a+r-1)/r)}function dE(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+iv([n-t,0]);else{if("same"!==r)throw new Yb(`Unsupport padding mode: ${r}.`);e*=t}return e}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pE(e,t){return Object(Ub.td)(()=>(Wy(t),"channelsFirst"===t?Ub.xd(e,[0,2,3,1]):e))}function mE(e,t){return Object(Ub.td)(()=>(Wy(t),"channelsFirst"===t?Ub.xd(e,[0,2,3,4,1]):e))}function gE(e,t,n,r=1,i="valid",o,a=1){return Object(Ub.td)(()=>{if(null==o&&(o="channelsLast"),Wy(o),3!==e.shape.length)throw new Yb("The input of a conv1dWithBias operation should be 3, but is "+`${e.shape.length} instead.`);if(3!==t.shape.length)throw new Yb("The kernel for a conv1dWithBias operation should be 3, but is "+`${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new Yb("The bias for a conv1dWithBias operation should be 1, but is "+`${t.shape.length} instead`);if("channelsFirst"===o&&(e=Ub.xd(e,[0,2,1])),"causal"===i)throw new Xb("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=Ub.X(e,t,r,"same"===i?"same":"valid","NWC",a);return null!=n&&(s=Mv(s,n)),s})}function bE(e,t,n=1,r="valid",i,o=1){return Object(Ub.td)(()=>(Wy(i),gE(e,t,null,n,r,i,o)))}function yE(e,t,n=[1,1],r="valid",i,o){return Object(Ub.td)(()=>(Wy(i),vE(e,t,null,n,r,i,o)))}function vE(e,t,n,r=[1,1],i="valid",o,a,s=null){return Object(Ub.td)(()=>{if(null==o&&(o="channelsLast"),Wy(o),3!==e.rank&&4!==e.rank)throw new Yb("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+`but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new Yb("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+`but received ${e.rank}.`);let l=pE(e,o);if("causal"===i)throw new Xb("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Ub.yb.conv2d({x:l,filter:t,strides:r,pad:"same"===i?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===o&&(l=Ub.xd(l,[0,3,1,2])),l})}function wE(e,t,n=[1,1,1],r="valid",i,o){return Object(Ub.td)(()=>(Wy(i),xE(e,t,null,n,r,i,o)))}function xE(e,t,n,r=[1,1,1],i="valid",o,a){return Object(Ub.td)(()=>{if(null==o&&(o="channelsLast"),Wy(o),4!==e.rank&&5!==e.rank)throw new Yb("conv3dWithBias expects input to be of rank 4 or 5, but received "+`${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new Yb("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+`${e.rank}.`);let s=mE(e,o);if("causal"===i)throw new Xb("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=Ub.ab(s,t,r,"same"===i?"same":"valid","NDHWC",a),null!=n&&(s=Mv(s,n)),"channelsFirst"===o&&(s=Ub.xd(s,[0,4,1,2,3])),s})}cE.className="Softmax",Ub.Lc.registerClass(cE);class _E extends ox{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",_E.verifyArgs(t),this.rank=e,vy(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new Xb(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is `+"not implemented yet.");if(this.kernelSize=fE(t.kernelSize,e,"kernelSize"),this.strides=fE(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Vy(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Wy(this.dataFormat),this.activation=YS(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=fw(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=jy(t.biasConstraint),this.biasRegularizer=iE(t.biasRegularizer),this.activityRegularizer=iE(t.activityRegularizer),this.dilationRate=fE(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new Yb("dilationRate must be a number or an array of a single number for 1D convolution, but received "+`${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new Yb("dilationRate must be a number or array of two numbers for 2D "+`convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new Yb("dilationRate must be a number or array of three numbers for 3D "+`convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(ey("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!yy(e.kernelSize,"number",1,3))throw new Yb("BaseConv expects config.kernelSize to be number or number[] with "+`length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:qS(this.activation),useBias:this.useBias,biasInitializer:cw(this.biasInitializer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),biasConstraint:Ay(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class SE extends _E{constructor(e,t){super(e,t),this.kernel=null,SE.verifyArgs(t),this.filters=t.filters,vy(this.filters,"filters"),this.kernelInitializer=fw(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=jy(t.kernelConstraint),this.kernelRegularizer=iE(t.kernelRegularizer)}build(e){e=Mw(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Yb("The channel dimension of the input should be defined. "+`Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return Object(Ub.td)(()=>{let t;e=Rw(e);const n=null==this.bias?null:this.bias.read(),r=_y(this.activation.getClassName());if(null!=r&&2===this.rank)t=vE(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=gE(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=vE(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new Xb("convolutions greater than 3D are not implemented yet.");t=xE(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t})}computeOutputShape(e){e=Mw(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<n.length;++e){const r=hE(n[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(r)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t)).push(this.filters):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:cw(this.kernelInitializer),kernelRegularizer:nE(this.kernelRegularizer),kernelConstraint:Ay(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new Yb("Convolution layer expected config.filters to be a 'number' > 0 "+`but got ${JSON.stringify(e.filters)}`)}}class EE extends SE{constructor(e){super(2,e),EE.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!yy(e.kernelSize,"number",1,2))throw new Yb("Conv2D expects config.kernelSize to be number or number[] with "+`length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}EE.className="Conv2D",Ub.Lc.registerClass(EE);class CE extends SE{constructor(e){super(3,e),CE.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Yb("Conv3D expects config.kernelSize to be number or"+` [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}CE.className="Conv3D",Ub.Lc.registerClass(CE);class kE extends EE{constructor(e){if(super(e),this.inputSpec=[new ex({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new Yb("Conv2DTranspose currently supports only padding modes 'same' "+`and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=Mw(e)).length)throw new Yb("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Yb("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ex({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return Ub.td(()=>{let t=Rw(e);if(4!==t.shape.length)throw new Yb("Conv2DTranspose.call() expects input tensor to be rank-4, but "+`received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let i,o;"channelsFirst"===this.dataFormat?(i=2,o=3):(i=1,o=2);const a=n[i],s=n[o],l=this.kernelSize[0],u=this.kernelSize[1],c=this.strides[0],f=this.strides[1],h=dE(a,c,l,this.padding),d=dE(s,f,u,this.padding),p=[r,h,d,this.filters];"channelsLast"!==this.dataFormat&&(t=Ub.xd(t,[0,2,3,1]));let m=Ub.Z(t,this.kernel.read(),p,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(m=Ub.xd(m,[0,3,1,2])),null!=this.bias&&(m=Mv(m,this.bias.read(),this.dataFormat)),null!=this.activation&&(m=this.activation.apply(m)),m})}computeOutputShape(e){const t=(e=Mw(e)).slice();let n,r,i;"channelsFirst"===this.dataFormat?(n=1,r=2,i=3):(n=3,r=1,i=2);const o=this.kernelSize[0],a=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=dE(t[r],s,o,this.padding),t[i]=dE(t[i],l,a,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}kE.className="Conv2DTranspose",Ub.Lc.registerClass(kE);class OE extends SE{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new Yb("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new Yb("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new Yb(`SeparableConv${this.rank}D supports only padding modes: `+`'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=fw(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=iE(t.depthwiseRegularizer),this.depthwiseConstraint=jy(t.depthwiseConstraint),this.pointwiseInitializer=fw(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=iE(t.pointwiseRegularizer),this.pointwiseConstraint=jy(t.pointwiseConstraint)}build(e){if((e=Mw(e)).length<this.rank+2)throw new Yb(`Inputs to SeparableConv${this.rank}D should have rank `+`${this.rank+2}, but received input shape: `+`${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Yb("The channel dimension of the inputs should be defined, "+`but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),i=[];for(let e=0;e<this.rank;++e)i.push(1);i.push(n*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new ex({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return Object(Ub.td)(()=>{let t;if(e=Rw(e),1===this.rank)throw new Xb("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=Ub.xd(e,[0,2,3,1])),t=Ub.Kc(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=Mv(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=Ub.xd(t,[0,3,1,2])),t})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=cw(this.depthwiseInitializer),e.pointwiseInitializer=cw(this.pointwiseInitializer),e.depthwiseRegularizer=nE(this.depthwiseRegularizer),e.pointwiseRegularizer=nE(this.pointwiseRegularizer),e.depthwiseConstraint=Ay(this.depthwiseConstraint),e.pointwiseConstraint=Ay(this.pointwiseConstraint),e}}OE.className="SeparableConv";class TE extends OE{constructor(e){super(2,e)}}TE.className="SeparableConv2D",Ub.Lc.registerClass(TE);class NE extends SE{constructor(e){super(1,e),NE.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!yy(e.kernelSize,"number",1,1))throw new Yb("Conv1D expects config.kernelSize to be number or number[] with "+`length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}NE.className="Conv1D",Ub.Lc.registerClass(NE);class AE extends ox{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return Object(Ub.td)(()=>{if(e=Rw(e),"channelsLast"===this.dataFormat){const t=_v(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return _v(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=_v(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return _v(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}AE.className="Cropping2D",Ub.Lc.registerClass(AE);class IE extends ox{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return Ub.td(()=>{let t=Rw(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=Ub.xd(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],i=t.resizeNearestNeighbor([e,r]);return Ub.xd(i,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return t.resizeNearestNeighbor([e,r])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function jE(e,t,n=[1,1],r="valid",i,o){return Object(Ub.td)(()=>{null==i&&(i="channelsLast"),Wy(i);let a=pE(e,i);if(4!==e.rank)throw new Yb("Input for depthwiseConv2d is required to be 4-D, but is instead "+`${e.rank}-D`);if(4!==t.rank)throw new Yb("depthwiseKernel is required to be 4-D, but is instead "+`${t.rank}-D`);return a=Ub.fb(a,t,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===i&&(a=Ub.xd(a,[0,3,1,2])),a})}IE.className="UpSampling2D",Ub.Lc.registerClass(IE);class RE extends _E{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=fw(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=jy(e.depthwiseConstraint),this.depthwiseRegularizer=iE(e.depthwiseRegularizer)}build(e){if((e=Mw(e)).length<4)throw new Yb("Inputs to DepthwiseConv2D should have rank 4. "+`Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Yb("The channel dimension of the inputs to DepthwiseConv2D should "+`be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return Object(Ub.td)(()=>{let t=jE(e=Rw(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=Mv(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t})}computeOutputShape(e){e=Mw(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=hE(t,this.kernelSize[0],this.padding,this.strides[0]),o=hE(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,o]:[e[0],i,o,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=cw(this.depthwiseInitializer),e.depthwiseRegularizer=nE(this.depthwiseRegularizer),e.depthwiseConstraint=Ay(this.depthwiseRegularizer),e}}RE.className="DepthwiseConv2D",Ub.Lc.registerClass(RE);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
class ME extends ox{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let e=0;e<this.noiseShape.length;++e)n.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return n}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n),i=Bv(()=>Lv(n,this.rate,r,this.seed),()=>n,e);return i}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}ME.className="Dropout",Ub.Lc.registerClass(ME);class PE extends ME{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}PE.className="SpatialDropout1D",Ub.Lc.registerClass(PE);class DE extends ox{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,vy(this.units,"units"),this.activation=YS(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=fw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=fw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=jy(e.kernelConstraint),this.biasConstraint=jy(e.biasConstraint),this.kernelRegularizer=iE(e.kernelRegularizer),this.biasRegularizer=iE(e.biasRegularizer),this.activityRegularizer=iE(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=Mw(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=Mw(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e),r=_y(this.activation.getClassName());let i;return null!=r?i=Ov(n,this.kernel.read(),r,this.bias?this.bias.read():null):(i=Ov(n,this.kernel.read()),null!=this.bias&&(i=Mv(i,this.bias.read())),null!=this.activation&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:qS(this.activation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),biasInitializer:cw(this.biasInitializer),kernelRegularizer:nE(this.kernelRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),biasConstraint:Ay(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}DE.className="Dense",Ub.Lc.registerClass(DE);class LE extends ox{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Mw(e);for(const t of e.slice(1))if(null==t)throw new Yb('The shape of the input to "Flatten" is not fully defined '+`(got ${e.slice(1)}). Make sure to pass a complete `+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],tv(e,1)]}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);let n=Rw(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=n.transpose(e)}return vv(n)})}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}LE.className="Flatten",Ub.Lc.registerClass(LE);class FE extends ox{constructor(e){super(e),this.supportsMasking=!0,this.activation=YS(e.activation)}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e);return this.activation.apply(n)})}getConfig(){const e={activation:qS(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}FE.className="Activation",Ub.Lc.registerClass(FE);class BE extends ox{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return Object(Ub.td)(()=>bv(e=Rw(e),this.n))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}BE.className="RepeatVector",Ub.Lc.registerClass(BE);class zE extends ox{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let i=1,o=null;for(let e=0;e<r.length;++e){const t=r[e];if(this.isUnknown(t)){if(null!==o)throw new Yb("Can only specifiy one unknown dimension.");o=e}else i*=t}const a=tv(e);if(null!==o){if(0===i||a%i!=0)throw new Yb(n);r[o]=a/i}else if(a!==i)throw new Yb(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e),r=n.shape,i=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return n.reshape(i)})}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}zE.className="Reshape",Ub.Lc.registerClass(zE);class $E extends ox{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+`${e.dims} instead.`);const t=uv(1,e.dims.length+1);if(!Ub.Bd.arraysEqual(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new ex({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=Mw(e)).slice();return this.dims.forEach((n,r)=>{t[r+1]=e[n]}),t}call(e,t){return Object(Ub.xd)(Rw(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}$E.className="Permute",Ub.Lc.registerClass($E);class UE extends ox{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=Rw(e),r=-1;return Object(Ub.u)(Object(Ub.mc)(n,this.maskValue),-1)}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e),r=-1,i=!0,o=Object(Ub.u)(Object(Ub.mc)(n,this.maskValue),-1,!0),a=n.mul(o.asType(n.dtype));return a})}}UE.className="Masking",Ub.Lc.registerClass(UE);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
class WE extends ox{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(ry(e.inputLength))}this.inputDim=e.inputDim,vy(this.inputDim,"inputDim"),this.outputDim=e.outputDim,vy(this.outputDim,"outputDim"),this.embeddingsInitializer=fw(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=iE(e.embeddingsRegularizer),this.activityRegularizer=iE(e.activityRegularizer),this.embeddingsConstraint=jy(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return Object(Ub.td)(()=>this.maskZero?(e=Rw(e),Object(Ub.mc)(e,Object(Ub.Id)(e))):null)}computeOutputShape(e){if(e=Mw(e),null==this.inputLength)return[...e,this.outputDim];const t=ry(this.inputLength);if(t.length!==e.length-1)throw new Yb(`"inputLength" is ${this.inputLength}, but received `+`input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const i=t[r],o=e[r+1];if(null!=i&&null!=o&&i!==o)throw new Yb(`"inputLength" is ${this.inputLength}, but received `+`input shape has shape ${e}`);null==i&&(t[n]=o),n++}}return[e[0],...t,this.outputDim]}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);let n=Rw(e);"int32"!==n.dtype&&(n=mv(n,"int32"));const r=Av(this.embeddings.read(),n.as1D());return r.reshape(Mw(this.computeOutputShape(n.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:cw(this.embeddingsInitializer),embeddingsRegularizer:nE(this.embeddingsRegularizer),activityRegularizer:nE(this.activityRegularizer),embeddingsConstraint:Ay(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}WE.className="Embedding",Ub.Lc.registerClass(WE);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
class VE extends ox{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Xb}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const i=e[e.length-t.length+r],o=t[r];if(null==i||null==o||i<0||o<0)n.push(null);else if(1===i)n.push(o);else if(1===o)n.push(i);else{if(i!==o)throw new Yb("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Mw(e)]),(e=e).length<2)throw new Yb("A merge layer should be called on an Array of at least 2 inputs."+` Got ${e.length} input(s).`);let t=[];for(const n of e)null!=n&&null!==n[0]&&t.push(n[0]);if((t=my(t)).length>1)throw new Yb("Can not merge tensors with different batch sizes. "+`Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){const r=null==e[t]?null:e[t].slice(1);n=this.computeElementwiseOpOutputShape(n,r)}const r=e.map(e=>e.length);-1===e.indexOf(null)&&1===my(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return Object(Ub.td)(()=>{if(e=e,this.reshapeRequired){const t=[],n=e.map(e=>e.rank);if(-1===n.indexOf(null)){const r=iv(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=gv(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const r of e){const e=r.rank;if(null==e){const e=r.shape,i=e[0],o=e.slice(1).concat([i]);let a=r.reshape([i].concat(tv(e.slice(1))));a=(a=Ub.xd(a,[1,0])).reshape(o),t.push(a),n=!0}else if(e>1){const i=uv(1,e).concat([0]);t.push(Ub.xd(r,i)),n=!0}else t.push(r)}let r=this.mergeFunction(t);const i=r.rank;if(n)if(null==i){const e=r.shape,t=e.length,n=e[t-1],i=[n].concat(e.slice(0,e.length-1));r=Ub.xd(r.reshape([-1,n]),[1,0]).reshape(i)}else if(i>1){const e=[i-1].concat(uv(0,i-1));r=Ub.xd(r,e)}return r}}return this.mergeFunction(e)})}computeOutputShape(e){let t;t=null==(e=e)[0]?null:e[0].slice(1);for(let n=1;n<e.length;++n){const r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}let n=[];for(const t of e)null!=t&&null!==t[0]&&n.push(t[0]);return t=1===(n=my(n)).length?n.concat(t):[null].concat(t)}computeMask(e,t){return Ub.td(()=>{if(null==t)return null;if(!Array.isArray(t))throw new Yb("`mask` should be an Array");if(!Array.isArray(e))throw new Yb("`inputs` should be an Array");if(t.length!==e.length)throw new Yb("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+`(${e.length} vs ${t.length})`);if(t.every(e=>null==e))return null;let n=(t=t.map(e=>null==e?e:Ub.rb(e,0)))[0];for(let e=1;e<t.length-1;++e)n=Ub.Tb(n,t[e]);return n})}}class HE extends VE{constructor(e){super(e)}mergeFunction(e){return Object(Ub.td)(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Ub.r(t,e[n]);return t})}}function GE(e){if(Array.isArray(e)){const t=new HE({});return t.apply(e)}return new HE(e)}HE.className="Add",Ub.Lc.registerClass(HE);class qE extends VE{constructor(e){super(e)}mergeFunction(e){return Object(Ub.td)(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Ub.ic(t,e[n]);return t})}}function KE(e){if(Array.isArray(e)){const t=new qE({});return t.apply(e)}return new qE(e)}qE.className="Multiply",Ub.Lc.registerClass(qE);class YE extends VE{constructor(e){super(e)}mergeFunction(e){return Object(Ub.td)(()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=Ub.r(t,e[n]);return Ub.ic(1/e.length,t)})}}function XE(e){if(Array.isArray(e)){const t=new YE({});return t.apply(e)}return new YE(e)}YE.className="Average",Ub.Lc.registerClass(YE);class ZE extends VE{constructor(e){super(e)}mergeFunction(e){return Object(Ub.td)(()=>{let t=e[0];for(let n=1;n<e.length;++n)t=Ub.bc(t,e[n]);return t})}}function JE(e){if(Array.isArray(e)){const t=new ZE({});return t.apply(e)}return new ZE(e)}ZE.className="Maximum",Ub.Lc.registerClass(ZE);class QE extends VE{constructor(e){super(e)}mergeFunction(e){return Object(Ub.td)(()=>{let t=e[0];for(let n=1;n<e.length;++n)t=Ub.fc(t,e[n]);return t})}}function eC(e){if(Array.isArray(e)){const t=new QE({});return t.apply(e)}return new QE(e)}QE.className="Minimum",Ub.Lc.registerClass(QE);class tC extends VE{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Yb("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let t=!0;for(const n of e)if(null!=n){t=!1;break}if(t)return;const n=[];for(let t=0;t<e.length;++t){const r=e[t].slice();r.splice(this.axis,1);let i=!1;for(const e of n)if(Ub.Bd.arraysEqual(e,r)){i=!0;break}i||n.push(r)}if(n.length>1)throw new Yb("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Object(Ub.td)(()=>Sv(e,this.axis))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Yb("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const e of t.slice(1)){if(null==n[r]||null==e[r]){n[r]=null;break}n[r]+=e[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new Yb("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Yb("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Yb(`Mismatch in the length of mask (${t.length}) `+`and the legnth of inputs (${e.length})`);return Ub.td(()=>{let n=!0;if(t.forEach(e=>{null==e||(n=!1)}),n)return null;const r=[];for(let n=0;n<e.length;++n)null==t[n]?r.push(Ub.pc(e[n]).asType("bool")):t[n].rank<e[n].rank?r.push(Ub.rb(t[n],-1)):r.push(t[n]);const i=Ub.S(r,this.axis);return Ub.t(i,-1,!1)})}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function nC(e){if(Array.isArray(e)){const t=new tC({});return t.apply(e)}return new tC(e)}function rC(e,t){for(;e<0;)e+=t;return e}function iC(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Xb("batchDot is not implemented for tensors of 4D or higher rank yet");if(Ub.Bd.assert(e.shape.length>=2,()=>"batchDot requires the rank of x to be >= 2, "+`but got ${e.shape.length}`),Ub.Bd.assert(e.shape.length>=2,()=>"batchDot requires the rank of y to be >= 2, "+`but got ${t.shape.length}`),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Xb("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,i=t.shape.length;null==n&&(n=[r-1,i-2]);const o=n;return Ub.td(()=>{let n,a;if(r>i){n=r-i;const e=[];for(let t=0;t<n;++t)e.push(1);t=t.reshape(t.shape.concat(e))}else if(i>r){n=i-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=e.reshape(e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)a=o[0]===o[1]?e.mul(t).sum(o[0]):e.transpose([1,0]).mul(t).sum(o[1]);else{const n=o[0]!==e.shape.length-1,r=o[1]===t.shape.length-1;a=e.matMul(t,n,r)}if(n>0){let e;const t=[];for(let o=e=r>i?r+i-3:r-1;o<e+n;++o)t.push(o);a=a.squeeze(t)}return 1===a.shape.length&&(a=a.expandDims(1)),a})}tC.className="Concatenate",Ub.Lc.registerClass(tC);class oC extends VE{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){Ub.Bd.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Xb("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Yb("Dimension incompatibility: "+`${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new Yb("A `Dot` layer must be called on exactly 2 inputs, "+`but received ${e.length} input(s).`);let t=e[0],n=e[1],r;return r=Array.isArray(this.axes)?this.axes.map((t,n)=>rC(t,e[n].shape.length)):[rC(this.axes,t.shape.length),rC(this.axes,n.shape.length)],this.normalize&&(t=Ex(t,r[0]),n=Ex(n,r[1])),iC(t,n,r)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[rC(this.axes,e.length),rC(this.axes,t.length)]}computeOutputShape(e){Ub.Bd.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Xb("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const i=t.concat(n);return 1===i.length&&i.push(1),i}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}oC.className="Dot",Ub.Lc.registerClass(oC);
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
class aC extends ox{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e),r=()=>kv(n.shape,0,this.stddev).add(n),i=Bv(r,()=>n,t.training||!1);return i})}}aC.className="GaussianNoise",Ub.Lc.registerClass(aC);class sC extends ox{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t);const n=Rw(e);if(this.rate>0&&this.rate<1){const e=()=>{const e=Math.sqrt(this.rate/(1-this.rate));return n.mul(kv(n.shape,1,e))};return Bv(e,()=>n,t.training||!1)}return n})}}sC.className="GaussianDropout",Ub.Lc.registerClass(sC);class lC extends ox{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Rw(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return Object(Ub.td)(()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=Rw(e),r=1.6732632423543772,i=1.0507009873554805,o=-r*i;let a=Object(Ub.Cb)(Object(Ub.vc)(n),this.rate);a=mv(a,"float32");const s=((1-this.rate)*(1+this.rate*o**2))**-.5,l=-s*o*this.rate,u=t.mul(a).add(a.add(-1).mul(o));return u.mul(s).add(l)};return Bv(r,()=>Rw(e),t.training||!1)}return e})}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function uC(e,t,n,r,i,o=.001){let a;if(2===e.rank)a=Ub.H(e,t,n,r,i,o);else if(3===e.rank)a=Ub.I(e,t,n,r,i,o);else{if(4!==e.rank)throw new Xb(`batchNormalization is not implemented for array of rank ${e.rank} `+"yet");a=Ub.J(e,t,n,r,i,o)}return a}function cC(e,t,n,r,i=.001){return Object(Ub.td)(()=>{const o=Ub.hc(e,r),a=o.mean,s=o.variance,l=uC(e,a,s,n,t,i);return[l,a,s]})}function fC(e,t,n,r,i=.001){return Object(Ub.td)(()=>{const o=Ub.hc(e,r),a=o.mean,s=o.variance,l=[];for(const t of uv(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const u=a.reshape(l),c=s.reshape(l),f=null==t?null:t.reshape(l),h=null==n?null:n.reshape(l),d=uC(e,u,c,h,f,i);return[d,a,s]})}function hC(e,t,n,r,i=.001){return Ub.Bd.arraysEqual(r.slice().sort(),uv(0,e.rank-1))?cC(e,t,n,r,i):fC(e,t,n,r,i)}lC.className="AlphaDropout",Ub.Lc.registerClass(lC);class dC extends ox{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=fw(e.betaInitializer||"zeros"),this.gammaInitializer=fw(e.gammaInitializer||"ones"),this.movingMeanInitializer=fw(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=fw(e.movingVarianceInitializer||"ones"),this.betaConstraint=jy(e.betaConstraint),this.gammaConstraint=jy(e.gammaConstraint),this.betaRegularizer=iE(e.betaRegularizer),this.gammaRegularizer=iE(e.gammaRegularizer)}build(e){e=Mw(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Yb(`Axis ${t} of input tensor should have a defined dimension but `+"the layer received an input with shape "+`${JSON.stringify(e)}.`);this.inputSpec=[new ex({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return Object(Ub.td)(()=>{const n=null!=t.training&&t.training,r=Rw(e),i=r.shape,o=i.length,a=uv(0,o),s=this.axis>=0?this.axis:this.axis+o;a.splice(s,1);const l=Qb(1,o);l[s]=i[s];const u=a.slice();u.sort();const c=!Ub.Bd.arraysEqual(u,uv(0,o).slice(0,o-1)),f=()=>{if(c){const e=this.movingMean.read().reshape(l),t=this.movingVariance.read().reshape(l),n=this.center?this.beta.read().reshape(l):null,i=this.scale?this.gamma.read().reshape(l):null;return uC(r,e,t,n,i,this.epsilon)}return uC(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)};if(!n)return f();const[h,d,p]=hC(r,this.gamma.read(),this.beta.read(),a,this.epsilon),m=(e,t,n)=>{Ub.td(()=>{const r=1-n,i=e.read(),o=i.sub(t).mul(r);e.write(i.sub(o))})},g=()=>{m(this.movingMean,d,this.momentum),m(this.movingVariance,p,this.momentum)};return g(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:cw(this.betaInitializer),gammaInitializer:cw(this.gammaInitializer),movingMeanInitializer:cw(this.movingMeanInitializer),movingVarianceInitializer:cw(this.movingVarianceInitializer),betaRegularizer:nE(this.betaRegularizer),gammaRegularizer:nE(this.gammaRegularizer),betaConstraint:Ay(this.betaConstraint),gammaConstraint:Ay(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}dC.className="BatchNormalization",Ub.Lc.registerClass(dC);class pC extends ox{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error("Expected axis to be an integer or an array of integers, "+`but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error("Expected axis to be an array of integers, "+`but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=fw(e.betaInitializer||"zeros"),this.gammaInitializer=fw(e.gammaInitializer||"ones"),this.betaRegularizer=iE(e.betaRegularizer),this.gammaRegularizer=iE(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=Mw(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(const e of this.axis)if(e<0||e>=t)throw new Error(`Invalid axis: ${e}`);if(this.axis.length!==my(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map(t=>e[t]),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}call(e,t){const n=Rw(e),r=n.shape,i=r.length;return Object(Ub.td)(()=>{const e=!0;let{mean:t,variance:o}=Object(Ub.hc)(n,this.axis,!0);const a=Qb(1,i);for(const e of this.axis)a[e]=r[e];const s=e=>null!=e&&e.shape.length!==i&&this.axis!==[i-1]?e.reshape(a):e;let l=s(this.gamma.read()),u=s(this.beta.read());const c=[],f=[];for(let e=0;e<i;++e)-1!==this.axis.indexOf(e)?(c.push(r[e]),f.push(1)):(c.push(1),f.push(r[e]));return t=t.tile(c),o=o.tile(c),l=l.tile(f),u=u.tile(f),uC(n,t,o,u,l,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:cw(this.betaInitializer),gammaInitializer:cw(this.gammaInitializer),betaRegularizer:nE(this.betaRegularizer),gammaRegularizer:nE(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function mC(e,t){return Object(Ub.td)(()=>{if(3!==e.rank)throw new Yb("temporalPadding expects input tensor to be 3-D, but received a "+`${e.rank}-D tensor.`);if(null==t&&(t=[1,1]),2!==t.length)throw new Yb("temporalPadding expects input padding pattern to be a length-2 "+`array, but received a length-${t.length} array.`);const n=[[0,0],t,[0,0]];return Ub.qc(e,n)})}function gC(e,t,n){return Object(Ub.td)(()=>{if(4!==e.rank)throw new Yb("temporalPadding expects input tensor to be 4-D, but received a "+`${e.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new Yb("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new Yb(`Unknown data format: ${n}. `+"Supported data formats are 'channelsLast' and 'channelsFirst.");let r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],Ub.qc(e,r)})}pC.className="LayerNormalization",Ub.Lc.registerClass(pC);class bC extends ox{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Yb("ZeroPadding2D expects padding to be a length-2 array, but "+`received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Yb("ZeroPadding2D expects height padding to be a length-2 array, "+`but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new Yb("ZeroPadding2D expects width padding to be a length-2 array, "+`but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new ex({ndim:4})]}computeOutputShape(e){let t,n;return e=Mw(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return Object(Ub.td)(()=>gC(Rw(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function yC(e,t,n,r,i,o){return Object(Ub.td)(()=>{let a;Wy(i),Hy(o),Vy(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),e=pE(e,i);const s="same"===r?"same":"valid";return a="max"===o?Ub.Yb(e,t,n,s):Ub.C(e,t,n,s),"channelsFirst"===i&&(a=Ub.xd(a,[0,3,1,2])),a})}function vC(e,t,n,r,i,o){return Object(Ub.td)(()=>{let a;Wy(i),Hy(o),Vy(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==i&&(i="channelsLast"),null==o&&(o="max"),e=mE(e,i);const s="same"===r?"same":"valid";return a="max"===o?Ub.Zb(e,t,n,s):Ub.D(e,t,n,s),"channelsFirst"===i&&(a=Ub.xd(a,[0,4,1,2,3])),a})}bC.className="ZeroPadding2D",Ub.Lc.registerClass(bC);class wC extends ox{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new Yb("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+`${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(vy(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new Yb("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+`${JSON.stringify(e.strides)}`);this.strides=e.strides}vy(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Vy(this.padding),this.inputSpec=[new ex({ndim:3})]}computeOutputShape(e){const t=hE((e=Mw(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return Object(Ub.td)(()=>{this.invokeCallHook(e,t),e=gv(Rw(e),2);const n=this.poolingFunction(Rw(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Ub.gd(n,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class xC extends wC{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Wy(i),Vy(r),yC(e,t,n,r,i,"max")}}xC.className="MaxPooling1D",Ub.Lc.registerClass(xC);class _C extends wC{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Wy(i),Vy(r),yC(e,t,n,r,i,"avg")}}_C.className="AveragePooling1D",Ub.Lc.registerClass(_C);class SC extends ox{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Yb("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+`${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];vy(this.poolSize,"poolSize"),vy(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Wy(this.dataFormat),Vy(this.padding),this.inputSpec=[new ex({ndim:4})]}computeOutputShape(e){e=Mw(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=hE(t,this.poolSize[0],this.padding,this.strides[0]),n=hE(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return Object(Ub.td)(()=>(this.invokeCallHook(e,t),this.poolingFunction(Rw(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class EC extends SC{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Wy(i),Vy(r),yC(e,t,n,r,i,"max")}}EC.className="MaxPooling2D",Ub.Lc.registerClass(EC);class CC extends SC{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Wy(i),Vy(r),yC(e,t,n,r,i,"avg")}}CC.className="AveragePooling2D",Ub.Lc.registerClass(CC);class kC extends ox{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Yb("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+`${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];vy(this.poolSize,"poolSize"),vy(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Wy(this.dataFormat),Vy(this.padding),this.inputSpec=[new ex({ndim:5})]}computeOutputShape(e){e=Mw(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=hE(t,this.poolSize[0],this.padding,this.strides[0]),n=hE(n,this.poolSize[1],this.padding,this.strides[1]),r=hE(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return Object(Ub.td)(()=>(this.invokeCallHook(e,t),this.poolingFunction(Rw(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class OC extends kC{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Wy(i),Vy(r),vC(e,t,n,r,i,"max")}}OC.className="MaxPooling3D",Ub.Lc.registerClass(OC);class TC extends kC{constructor(e){super(e)}poolingFunction(e,t,n,r,i){return Wy(i),Vy(r),vC(e,t,n,r,i,"avg")}}TC.className="AveragePooling3D",Ub.Lc.registerClass(TC);class NC extends ox{constructor(e){super(e),this.inputSpec=[new ex({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new Xb}}class AC extends NC{constructor(e){super(e||{})}call(e,t){return Object(Ub.td)(()=>{const t=Rw(e);return Ub.cc(t,1)})}}AC.className="GlobalAveragePooling1D",Ub.Lc.registerClass(AC);class IC extends NC{constructor(e){super(e||{})}call(e,t){return Object(Ub.td)(()=>{const t=Rw(e);return Ub.Xb(t,1)})}}IC.className="GlobalMaxPooling1D",Ub.Lc.registerClass(IC);class jC extends ox{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Wy(this.dataFormat),this.inputSpec=[new ex({ndim:4})]}computeOutputShape(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new Xb}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class RC extends jC{call(e,t){return Object(Ub.td)(()=>{const t=Rw(e);return"channelsLast"===this.dataFormat?Ub.cc(t,[1,2]):Ub.cc(t,[2,3])})}}RC.className="GlobalAveragePooling2D",Ub.Lc.registerClass(RC);class MC extends jC{call(e,t){return Object(Ub.td)(()=>{const t=Rw(e);return"channelsLast"===this.dataFormat?Ub.Xb(t,[1,2]):Ub.Xb(t,[2,3])})}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function PC(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Yb("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function DC(e,t,n,r=!1,i,o,a=!1,s=!1){return Ub.td(()=>{const l=t.shape.length;if(l<3)throw new Yb(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(uv(2,l));if(t=Ub.xd(t,u),null!=o)throw new Xb("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=i&&((i=i.asType("bool").asType("float32")).rank===l-1&&(i=Ub.rb(i,-1)),i=Ub.xd(i,u)),r&&(t=Ub.Dc(t,0),null!=i&&(i=Ub.Dc(i,0)));const c=[];let f,h=n;const d=t.shape[0],p=Ub.zd(t);let m,g;null!=i&&(m=Ub.zd(i));for(let t=0;t<d;++t){const n=p[t],r=Ub.td(()=>e(n,h));if(null==i)f=r[0],h=r[1];else{const e=Ub.td(()=>{const e=m[t],n=Ub.pc(e).sub(e),i=r[0].mul(e).add(h[0].mul(n)),o=h.map((t,i)=>r[1][i].mul(e).add(t.mul(n)));return{output:i,newStates:o}});f=e.output,h=e.newStates}s&&c.push(f)}if(s){const e=1;g=Ub.hd(c,e)}return[f,g,h]})}MC.className="GlobalMaxPooling2D",Ub.Lc.registerClass(MC);class LC extends ox{constructor(e){let t;if(super(e),null==e.cell)throw new Yb("cell property is missing for the constructor of RNN.");if(null==(t=Array.isArray(e.cell)?new HC({cells:e.cell}):e.cell).stateSize)throw new Yb("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new ex({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return uv(0,e).map(e=>null)}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){Iw(e)&&(e=e[0]),e=e;let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return Ub.td(()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map(e=>null);return[e].concat(t)}return e})}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){const t=null;if(null!=this.numConstants)throw new Xb("Constants support is not implemented in RNN yet.");Iw(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e[e.length-1];this.inputSpec[0]=new ex({shape:[n,null,r]});const i=[e[0]].concat(e.slice(2));let o;if(this.cell.build(i),o=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!Ub.Bd.arraysEqual(this.stateSpec.map(e=>e.shape[e.shape.length-1]),o))throw new Yb("An initialState was passed that is not compatible with "+`cell.stateSize. Received stateSpec=${this.stateSpec}; `+`However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map(e=>new ex({shape:[null,e]}));this.stateful&&this.resetStates()}resetStates(e,t=!1){Object(Ub.td)(()=>{if(!this.stateful)throw new qb("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new Yb("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(e=>Ub.Hd([n,e])):this.states_=[Ub.Hd([n,this.cell.stateSize])];else if(null==e)Ub.hb(this.states_),null!=this.keptStates&&(Ub.hb(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(e=>Ub.Hd([n,e])):this.states_[0]=Ub.Hd([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Yb(`Layer ${this.name} expects ${this.states_.length} state(s), `+`but it received ${e.length} state value(s). Input `+`received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):Ub.hb(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],i=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,o=[n,i];if(!Ub.Bd.arraysEqual(r.shape,o))throw new Yb(`State ${t} is incompatible with layer ${this.name}: `+`expected shape=${o}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map(e=>Ub.Ib(e.clone()))})}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const i=PC(e,n,r,this.numConstants);e=i.inputs,n=i.initialState,r=i.constants;let o=[],a=[];if(null!=n){t.initialState=n,o=o.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new ex({shape:e.shape}));a=a.concat(this.stateSpec)}null!=r&&(t.constants=r,o=o.concat(r),this.numConstants=r.length);const s=o[0]instanceof tx;if(s){const n=[e].concat(o),r=this.inputSpec.concat(a),i=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=i,s}return super.apply(e,t)}call(e,t){return Object(Ub.td)(()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let i=null==t?null:t.initialState;e=Rw(e),null==i&&(i=this.stateful?this.states_:this.getInitialState(e));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==o)throw new Yb(`RNN Layer has ${o} state(s) but was passed `+`${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:r},s=(e,t)=>{const n=this.cell.call([e].concat(t),a);return[n[0],n.slice(1)]},l=DC(s,e,i,this.goBackwards,n,null,this.unroll,this.returnSequences),u=l[0],c=l[1],f=l[2];this.stateful&&this.resetStates(f,r);const h=this.returnSequences?c:u;return this.returnState?[h].concat(f):h})}getInitialState(e){return Object(Ub.td)(()=>{let t=Ub.Hd(e.shape);return t=gv(t=Ub.kd(t,[1,2])),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(e=>e>1?Cv(t,[1,e]):t):this.cell.stateSize>1?[Cv(t,[1,this.cell.stateSize])]:[t]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(e.numConstants=this.numConstants);const t=this.cell.getConfig();e.cell={className:this.cell.getClassName(),config:t};const n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,t,n={}){const r=t.cell,i=Sx(r,n);return new e(Object.assign(t,{cell:i}))}}LC.className="RNN",Ub.Lc.registerClass(LC);class FC extends ox{}class BC extends FC{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,vy(this.units,"units"),this.activation=YS(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=fw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=fw(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=fw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=iE(e.kernelRegularizer),this.recurrentRegularizer=iE(e.recurrentRegularizer),this.biasRegularizer=iE(e.biasRegularizer),this.kernelConstraint=jy(e.kernelConstraint),this.recurrentConstraint=jy(e.recurrentConstraint),this.biasConstraint=jy(e.biasConstraint),this.dropout=rv([1,iv([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=rv([1,iv([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Mw(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return Object(Ub.td)(()=>{if(2!==(e=e).length)throw new Yb(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let i;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=GC(()=>Ub.pc(e),this.dropout,r)),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=GC(()=>Ub.pc(n),this.recurrentDropout,r));const o=this.dropoutMask,a=this.recurrentDropoutMask;i=Ov(null!=o?Ub.ic(e,o):e,this.kernel.read()),null!=this.bias&&(i=Mv(i,this.bias.read())),null!=a&&(n=Ub.ic(n,a));let s=Ub.r(i,Ov(n,this.recurrentKernel.read()));return null!=this.activation&&(s=this.activation.apply(s)),[s,s]})}getConfig(){const e={units:this.units,activation:qS(this.activation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),recurrentInitializer:cw(this.recurrentInitializer),biasInitializer:cw(this.biasInitializer),kernelRegularizer:nE(this.kernelRegularizer),recurrentRegularizer:nE(this.recurrentRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),recurrentConstraint:Ay(this.recurrentConstraint),biasConstraint:Ay(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},t=super.getConfig();return Object.assign(e,t),e}}BC.className="SimpleRNNCell",Ub.Lc.registerClass(BC);class zC extends LC{constructor(e){e.cell=new BC(e),super(e)}call(e,t){return Object(Ub.td)(()=>{null!=this.cell.dropoutMask&&(Ub.hb(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ub.hb(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})})}get units(){return this.cell.units}get activation(){return this.cell.activation}get useBias(){return this.cell.useBias}get kernelInitializer(){return this.cell.kernelInitializer}get recurrentInitializer(){return this.cell.recurrentInitializer}get biasInitializer(){return this.cell.biasInitializer}get kernelRegularizer(){return this.cell.kernelRegularizer}get recurrentRegularizer(){return this.cell.recurrentRegularizer}get biasRegularizer(){return this.cell.biasRegularizer}get kernelConstraint(){return this.cell.kernelConstraint}get recurrentConstraint(){return this.cell.recurrentConstraint}get biasConstraint(){return this.cell.biasConstraint}get dropout(){return this.cell.dropout}get recurrentDropout(){return this.cell.recurrentDropout}getConfig(){const e={units:this.units,activation:qS(this.activation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),recurrentInitializer:cw(this.recurrentInitializer),biasInitializer:cw(this.biasInitializer),kernelRegularizer:nE(this.kernelRegularizer),recurrentRegularizer:nE(this.recurrentRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),recurrentConstraint:Ay(this.recurrentConstraint),biasConstraint:Ay(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},t=super.getConfig();return delete t.cell,Object.assign(e,t),e}static fromConfig(e,t){return new e(t)}}zC.className="SimpleRNN",Ub.Lc.registerClass(zC);class $C extends FC{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Yb("GRUCell does not support reset_after parameter set to true.");this.units=e.units,vy(this.units,"units"),this.activation=YS(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=YS(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=fw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=fw(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=fw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=iE(e.kernelRegularizer),this.recurrentRegularizer=iE(e.recurrentRegularizer),this.biasRegularizer=iE(e.biasRegularizer),this.kernelConstraint=jy(e.kernelConstraint),this.recurrentConstraint=jy(e.recurrentConstraint),this.biasConstraint=jy(e.biasConstraint),this.dropout=rv([1,iv([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=rv([1,iv([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=Mw(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return Object(Ub.td)(()=>{if(2!==(e=e).length)throw new Yb("GRUCell expects 2 input Tensors (inputs, h, c), got "+`${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=GC(()=>Ub.pc(e),this.dropout,n,3)),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=GC(()=>Ub.pc(r),this.recurrentDropout,n,3));const i=this.dropoutMask,o=this.recurrentDropoutMask;let a,s,l;0<this.dropout&&this.dropout<1&&(e=Ub.ic(e,i[0]));let u=Ov(e,this.kernel.read());this.useBias&&(u=Mv(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Ub.ic(r,o[0]));const c=this.recurrentKernel.read(),[f,h]=Ub.cd(c,[2*this.units,this.units],c.rank-1),d=Ov(r,f),[p,m,g]=Ub.cd(u,3,u.rank-1),[b,y]=Ub.cd(d,2,d.rank-1);a=this.recurrentActivation.apply(Ub.r(p,b)),s=this.recurrentActivation.apply(Ub.r(m,y));const v=Ov(Ub.ic(s,r),h);l=this.activation.apply(Ub.r(g,v));const w=Ub.r(Ub.ic(a,r),Ub.ic(Ub.r(1,Ub.kc(a)),l));return[w,w]})}getConfig(){const e={units:this.units,activation:qS(this.activation),recurrentActivation:qS(this.recurrentActivation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),recurrentInitializer:cw(this.recurrentInitializer),biasInitializer:cw(this.biasInitializer),kernelRegularizer:nE(this.kernelRegularizer),recurrentRegularizer:nE(this.recurrentRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),recurrentConstraint:Ay(this.recurrentConstraint),biasConstraint:Ay(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1},t=super.getConfig();return Object.assign(e,t),e}}$C.className="GRUCell",Ub.Lc.registerClass($C);class UC extends LC{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new $C(e),super(e)}call(e,t){return Object(Ub.td)(()=>{null!=this.cell.dropoutMask&&(Ub.hb(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ub.hb(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})})}get units(){return this.cell.units}get activation(){return this.cell.activation}get recurrentActivation(){return this.cell.recurrentActivation}get useBias(){return this.cell.useBias}get kernelInitializer(){return this.cell.kernelInitializer}get recurrentInitializer(){return this.cell.recurrentInitializer}get biasInitializer(){return this.cell.biasInitializer}get kernelRegularizer(){return this.cell.kernelRegularizer}get recurrentRegularizer(){return this.cell.recurrentRegularizer}get biasRegularizer(){return this.cell.biasRegularizer}get kernelConstraint(){return this.cell.kernelConstraint}get recurrentConstraint(){return this.cell.recurrentConstraint}get biasConstraint(){return this.cell.biasConstraint}get dropout(){return this.cell.dropout}get recurrentDropout(){return this.cell.recurrentDropout}get implementation(){return this.cell.implementation}getConfig(){const e={units:this.units,activation:qS(this.activation),recurrentActivation:qS(this.recurrentActivation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),recurrentInitializer:cw(this.recurrentInitializer),biasInitializer:cw(this.biasInitializer),kernelRegularizer:nE(this.kernelRegularizer),recurrentRegularizer:nE(this.recurrentRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),recurrentConstraint:Ay(this.recurrentConstraint),biasConstraint:Ay(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1},t=super.getConfig();return delete t.cell,Object.assign(e,t),e}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}UC.className="GRU",Ub.Lc.registerClass(UC);class WC extends FC{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,vy(this.units,"units"),this.activation=YS(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=YS(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=fw(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=fw(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=fw(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=iE(e.kernelRegularizer),this.recurrentRegularizer=iE(e.recurrentRegularizer),this.biasRegularizer=iE(e.biasRegularizer),this.kernelConstraint=jy(e.kernelConstraint),this.recurrentConstraint=jy(e.recurrentConstraint),this.biasConstraint=jy(e.biasConstraint),this.dropout=rv([1,iv([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=rv([1,iv([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=Mw(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class t extends Hv{apply(t,r){const i=e.apply([n]),o=(new qv).apply([n]),a=e.apply([2*n]);return Ev(Ev(i,o),a)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return Object(Ub.td)(()=>{const n=null!=t.training&&t.training;if(3!==(e=e).length)throw new Yb("LSTMCell expects 3 input Tensors (inputs, h, c), got "+`${e.length}.`);let r=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=GC(()=>Ub.pc(e),this.dropout,n,4)),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=GC(()=>Ub.pc(r),this.recurrentDropout,n,4));const o=this.dropoutMask,a=this.recurrentDropoutMask;let s,l,u,c;0<this.dropout&&this.dropout<1&&(e=Ub.ic(e,o[0]));let f=Ov(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Ub.ic(r,a[0])),f=Ub.r(f,Ov(r,this.recurrentKernel.read())),this.useBias&&(f=Mv(f,this.bias.read()));const[h,d,p,m]=Ub.cd(f,4,f.rank-1);s=this.recurrentActivation.apply(h),l=this.recurrentActivation.apply(d),u=Ub.r(Ub.ic(l,i),Ub.ic(s,this.activation.apply(p))),c=this.recurrentActivation.apply(m);const g=Ub.ic(c,this.activation.apply(u));return[g,g,u]})}getConfig(){const e={units:this.units,activation:qS(this.activation),recurrentActivation:qS(this.recurrentActivation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),recurrentInitializer:cw(this.recurrentInitializer),biasInitializer:cw(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:nE(this.kernelRegularizer),recurrentRegularizer:nE(this.recurrentRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),recurrentConstraint:Ay(this.recurrentConstraint),biasConstraint:Ay(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},t=super.getConfig();return Object.assign(e,t),e}}WC.className="LSTMCell",Ub.Lc.registerClass(WC);class VC extends LC{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new WC(e),super(e)}call(e,t){return Object(Ub.td)(()=>{null!=this.cell.dropoutMask&&(Ub.hb(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(Ub.hb(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,i=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:i})})}get units(){return this.cell.units}get activation(){return this.cell.activation}get recurrentActivation(){return this.cell.recurrentActivation}get useBias(){return this.cell.useBias}get kernelInitializer(){return this.cell.kernelInitializer}get recurrentInitializer(){return this.cell.recurrentInitializer}get biasInitializer(){return this.cell.biasInitializer}get unitForgetBias(){return this.cell.unitForgetBias}get kernelRegularizer(){return this.cell.kernelRegularizer}get recurrentRegularizer(){return this.cell.recurrentRegularizer}get biasRegularizer(){return this.cell.biasRegularizer}get kernelConstraint(){return this.cell.kernelConstraint}get recurrentConstraint(){return this.cell.recurrentConstraint}get biasConstraint(){return this.cell.biasConstraint}get dropout(){return this.cell.dropout}get recurrentDropout(){return this.cell.recurrentDropout}get implementation(){return this.cell.implementation}getConfig(){const e={units:this.units,activation:qS(this.activation),recurrentActivation:qS(this.recurrentActivation),useBias:this.useBias,kernelInitializer:cw(this.kernelInitializer),recurrentInitializer:cw(this.recurrentInitializer),biasInitializer:cw(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:nE(this.kernelRegularizer),recurrentRegularizer:nE(this.recurrentRegularizer),biasRegularizer:nE(this.biasRegularizer),activityRegularizer:nE(this.activityRegularizer),kernelConstraint:Ay(this.kernelConstraint),recurrentConstraint:Ay(this.recurrentConstraint),biasConstraint:Ay(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},t=super.getConfig();return delete t.cell,Object.assign(e,t),e}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}VC.className="LSTM",Ub.Lc.registerClass(VC);class HC extends FC{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return Object(Ub.td)(()=>{let n=(e=e).slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const i=[];let o;for(let a=0;a<this.cells.length;++a){const s=this.cells[a];n=r[a],o=0===a?[e[0]].concat(n):[o[0]].concat(n),o=s.call(o,t),i.push(o.slice(1))}n=[];for(const e of i.slice().reverse())n.push(...e);return[o[0]].concat(n)})}build(e){let t;Iw(e)&&(e=e[0]),e=e,this.cells.forEach((n,r)=>{Ky(`RNNCell_${r}`,()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]})}),this.built=!0}getConfig(){const e=[];for(const t of this.cells)e.push({className:t.getClassName(),config:t.getConfig()});const t={cells:e},n=super.getConfig();return Object.assign(t,n),t}static fromConfig(e,t,n={}){const r=[];for(const e of t.cells)r.push(Sx(e,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return Zw(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,i=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],i[e]])}Jw(t)}}function GC(e,t,n=null,r=1){function i(){return Lv(e(),t)}if(r>1){const t=[];for(let o=0;o<r;o++)t.push(Bv(i,e,n));return t.map(e=>Ub.Ib(e.clone()))}return Ub.Ib(Bv(i,e,n).clone())}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */HC.className="StackedRNNCells",Ub.Lc.registerClass(HC);class qC extends ox{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const r=t.layer,i=Sx(r,n);delete t.layer;const o={layer:i};return Object.assign(o,t),new e(o)}}class KC extends qC{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=Mw(e)).length<3)throw new Yb("TimeDistributed layer expects an input shape >= 3D, but received "+`input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=Mw(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return Object(Ub.td)(()=>{const n=(e,n)=>{const r=Rw(this.layer.call(e,t));return[r,[]]},r=DC(n,e=Rw(e),[],!1,null,null,!1,!0),i=r[1];return i})}}function YC(e){by(zy,"BidirectionalMergeMode",e)}KC.className="TimeDistributed",Ub.Lc.registerClass(KC);const XC="concat";class ZC extends qC{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=Sx(n),t.goBackwards=!0!==t.goBackwards;const r={};if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=Sx(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?XC:e.mergeMode,YC(this.mergeMode),e.weights)throw new Xb("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t=this.forwardLayer.computeOutputShape(e),n,r,i;return Array.isArray(t)&&Array.isArray(t[0])||(t=[t]),t=t,this.returnState?(i=t.slice(1),n=t[0]):n=t[0],n=n,"concat"===this.mergeMode?(n[n.length-1]*=2,r=[n]):r=null==this.mergeMode?[n,n.slice()]:[n],this.returnState?null==this.mergeMode?r.concat(i).concat(i.slice()):[n].concat(i).concat(i.slice()):ny(r)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const i=PC(e,n,r,this.numConstants);if(e=i.inputs,n=i.initialState,r=i.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const o=[],a=[];if(null!=n){const e=n.length;if(e%2>0)throw new Yb("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,o.push(...n);const r=n.map(e=>new ex({shape:e.shape}));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),a.push(...r)}if(null!=r)throw new Xb("Support for constants in Bidirectional layers is not implemented yet.");const s=o[0]instanceof tx;for(const e of o)if(e instanceof tx!==s)throw new Yb("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(s){const n=[e].concat(o),r=this.inputSpec.concat(a),i=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=i,s}return super.apply(e,t)}call(e,t){return Object(Ub.td)(()=>{const n=t.initialState;let r,i,o,a;if(null==n)r=this.forwardLayer.call(e,t),i=this.backwardLayer.call(e,t);else{const o=n.slice(0,n.length/2),a=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:o})),i=this.backwardLayer.call(e,Object.assign(t,{initialState:a}))}return this.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(i.slice(1))),r=r[0],i=i[0]),this.returnSequences&&(i=Ub.Dc(i,1)),"concat"===this.mergeMode?a=Sv([r,i]):"sum"===this.mergeMode?a=Ub.r(r,i):"ave"===this.mergeMode?a=Ub.ic(.5,Ub.r(r,i)):"mul"===this.mergeMode?a=Ub.ic(r,i):null==this.mergeMode&&(a=[r,i]),this.returnState?null==this.mergeMode?a.concat(o):[a].concat(o):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Ky(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Ky(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states,t=e.map(e=>null);return Array.isArray(n)?n.concat(t).concat(t):[n].concat(t).concat(t)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=Sx(t.layer);if(delete t.layer,null!=t.numConstants)throw new Xb("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
function JC(e){return new ux(e)}function QC(e){return new lE(e)}function ek(e){return new oE(e)}function tk(e){return new aE(e)}function nk(e){return new sE(e)}function rk(e){return new cE(e)}function ik(e){return new uE(e)}function ok(e){return new NE(e)}function ak(e){return new EE(e)}function sk(e){return new kE(e)}function lk(e){return new CE(e)}function uk(e){return new TE(e)}function ck(e){return new AE(e)}function fk(e){return new IE(e)}function hk(e){return new RE(e)}function dk(e){return new FE(e)}function pk(e){return new DE(e)}function mk(e){return new ME(e)}function gk(e){return new PE(e)}function bk(e){return new LE(e)}function yk(e){return new BE(e)}function vk(e){return new zE(e)}function wk(e){return new $E(e)}function xk(e){return new WE(e)}function _k(e){return new HE(e)}function Sk(e){return new YE(e)}function Ek(e){return new tC(e)}function Ck(e){return new ZE(e)}function kk(e){return new QE(e)}function Ok(e){return new qE(e)}function Tk(e){return new oC(e)}function Nk(e){return new dC(e)}function Ak(e){return new pC(e)}function Ik(e){return new bC(e)}function jk(e){return new _C(e)}function Rk(e){return jk(e)}function Mk(e){return jk(e)}function Pk(e){return new CC(e)}function Dk(e){return Pk(e)}function Lk(e){return Pk(e)}function Fk(e){return new TC(e)}function Bk(e){return Fk(e)}function zk(e){return Fk(e)}function $k(e){return new AC(e)}function Uk(e){return new RC(e)}function Wk(e){return new IC(e)}function Vk(e){return new MC(e)}function Hk(e){return new xC(e)}function Gk(e){return new EC(e)}function qk(e){return new OC(e)}function Kk(e){return new UC(e)}function Yk(e){return new $C(e)}function Xk(e){return new VC(e)}function Zk(e){return new WC(e)}function Jk(e){return new zC(e)}function Qk(e){return new BC(e)}function eO(e){return new LC(e)}function tO(e){return new HC(e)}function nO(e){return new ZC(e)}function rO(e){return new KC(e)}ZC.className="Bidirectional",Ub.Lc.registerClass(ZC);const iO=Wk,oO=Vk,aO=Hk,sO=Gk;function lO(e){return new aC(e)}function uO(e){return new sC(e)}function cO(e){return new lC(e)}function fO(e){return new UE(e)}function hO(e,t){return Qx(e,t)}function dO(e,t){return a_(e,t)}function pO(e,t){return s_(e,t)}function mO(e,t){return e_(e,t)}function gO(e,t){return g_(e,t)}function bO(e,t){return i_(e,t)}function yO(e,t){return o_(e,t)}function vO(e,t){return Bx(e,t)}function wO(e,t){return kx(e,t)}function xO(e,t){return Ox(e,t)}function _O(e,t){return Ox(e,t)}function SO(e,t){return Ox(e,t)}function EO(e,t){return Cx(e,t)}function CO(e,t){return Cx(e,t)}function kO(e,t){return Cx(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function OO(e){return new JS(e)}function TO(e){return QS(e)}function NO(e){return eE(e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class AO extends mx{constructor(){super(...arguments),this.model=null}setModel(e){if(!(e instanceof SS))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}function IO(e,t){return e<t}function jO(e,t){return e>t}class RO extends AO{constructor(e){if(super(),null==e&&(e={}),e.restoreBestWeights)throw new Xb("restoreBestWeights = True is not implemented in EarlyStopping yet.");this.monitor=e.monitor||"val_loss",this.minDelta=Math.abs(e.minDelta||0),this.patience=e.patience||0,this.verbose=e.verbose||0,this.mode=e.mode||"auto",this.baseline=e.baseline,-1===["auto","min","max"].indexOf(this.mode)&&(console.warn(`EarlyStopping mode '${this.mode}' is invalid. `+"Falling back to mode 'auto'."),this.mode="auto"),"min"===this.mode?this.monitorFunc=IO:"max"===this.mode?this.monitorFunc=jO:-1!==this.monitor.indexOf("acc")?this.monitorFunc=jO:this.monitorFunc=IO,this.monitorFunc===IO&&(this.minDelta*=-1)}async onTrainBegin(e){this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===IO?1/0:-1/0}async onEpochEnd(e,t){await fx(t);const n=this.getMonitorValue(t);null!=n&&(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}async onTrainEnd(e){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}getMonitorValue(e){null==e&&(e={});const t=e[this.monitor];return null==t&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. `+`Available metrics are: ${Object.keys(e)}`),t}}function MO(e){return new RO(e)}const PO=MO;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var DO=n(48),LO=n(4);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class FO{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(e=>this.getInput(e)),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((e,t)=>(e[t]=this.getAttr(t),e),{}))}getInput(e){return Object(LO.c)(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return Object(LO.c)(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Object(DO.f)(this.node.rawAttrs,e,t);if(null!=n.s)return Object(DO.i)(this.node.rawAttrs,e,t);if(null!=n.b)return Object(DO.c)(this.node.rawAttrs,e,t);if(null!=n.shape)return Object(DO.k)(this.node.rawAttrs,e,t);if(null!=n.type)return Object(DO.e)(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return Object(DO.g)(this.node.rawAttrs,e,t);if(null!=n.list.s)return Object(DO.h)(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Object(DO.j)(this.node.rawAttrs,e,t);if(null!=n.list.b)return Object(DO.b)(this.node.rawAttrs,e,t);if(null!=n.list.type)return Object(DO.d)(this.node.rawAttrs,e,t)}return t}}var BO=n(88);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zO=(e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Ub.r(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"AddN":return[Ub.s(Object(LO.b)("tensors",e,t,n))];case"FloorMod":case"Mod":return[Ub.gc(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Mul":return[Ub.ic(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"RealDiv":case"Div":return[Ub.ib(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"DivNoNan":return[Ub.jb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"FloorDiv":return[Ub.xb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Sub":return[Ub.jd(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Minimum":return[Ub.fc(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Maximum":return[Ub.bc(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Pow":return[Ub.rc(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"SquaredDifference":return[Ub.fd(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},$O="arithmetic",UO=(e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[Ub.o(Object(LO.b)("x",e,t,n))];case"Acos":return[Ub.p(Object(LO.b)("x",e,t,n))];case"Acosh":return[Ub.q(Object(LO.b)("x",e,t,n))];case"Asin":return[Ub.x(Object(LO.b)("x",e,t,n))];case"Asinh":return[Ub.y(Object(LO.b)("x",e,t,n))];case"Atan":return[Ub.z(Object(LO.b)("x",e,t,n))];case"Atan2":return[Ub.A(Object(LO.b)("x",e,t,n),Object(LO.b)("y",e,t,n))];case"Atanh":return[Ub.B(Object(LO.b)("x",e,t,n))];case"Ceil":return[Ub.P(Object(LO.b)("x",e,t,n))];case"Complex":return[Ub.R(Object(LO.b)("real",e,t,n),Object(LO.b)("imag",e,t,n))];case"Cos":return[Ub.bb(Object(LO.b)("x",e,t,n))];case"Cosh":return[Ub.cb(Object(LO.b)("x",e,t,n))];case"Elu":return[Ub.lb(Object(LO.b)("x",e,t,n))];case"Erf":return[Ub.pb(Object(LO.b)("x",e,t,n))];case"Exp":return[Ub.qb(Object(LO.b)("x",e,t,n))];case"Expm1":return[Ub.sb(Object(LO.b)("x",e,t,n))];case"Floor":return[Ub.wb(Object(LO.b)("x",e,t,n))];case"Log":return[Ub.Qb(Object(LO.b)("x",e,t,n))];case"Log1p":return[Ub.Rb(Object(LO.b)("x",e,t,n))];case"Imag":return[Ub.Eb(Object(LO.b)("x",e,t,n))];case"Neg":return[Ub.kc(Object(LO.b)("x",e,t,n))];case"Reciprocal":return[Ub.yc(Object(LO.b)("x",e,t,n))];case"Real":return[Ub.xc(Object(LO.b)("x",e,t,n))];case"Relu":return[Ub.Bc(Object(LO.b)("x",e,t,n))];case"Round":return[Ub.Fc(Object(LO.b)("x",e,t,n))];case"Selu":return[Ub.Jc(Object(LO.b)("x",e,t,n))];case"Sigmoid":return[Ub.Oc(Object(LO.b)("x",e,t,n))];case"Sin":return[Ub.Qc(Object(LO.b)("x",e,t,n))];case"Sign":return[Ub.Pc(Object(LO.b)("x",e,t,n))];case"Sinh":return[Ub.Rc(Object(LO.b)("x",e,t,n))];case"Softplus":return[Ub.Zc(Object(LO.b)("x",e,t,n))];case"Sqrt":return[Ub.dd(Object(LO.b)("x",e,t,n))];case"Square":return[Ub.ed(Object(LO.b)("x",e,t,n))];case"Tanh":return[Ub.nd(Object(LO.b)("x",e,t,n))];case"Tan":return[Ub.md(Object(LO.b)("x",e,t,n))];case"Relu6":case"ClipByValue":return[Ub.Q(Object(LO.b)("x",e,t,n),Object(LO.b)("clipValueMin",e,t,n),Object(LO.b)("clipValueMax",e,t,n))];case"Rsqrt":return[Ub.Gc(Object(LO.c)(e.inputNames[0],t,n))];case"Prod":return[Ub.tc(Object(LO.b)("x",e,t,n),Object(LO.b)("axes",e,t,n))];case"LeakyRelu":return[Ub.Kb(Object(LO.b)("x",e,t,n),Object(LO.b)("alpha",e,t,n))];case"Prelu":return[Ub.sc(Object(LO.b)("x",e,t,n),Object(LO.b)("alpha",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},WO="basic_math";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function VO(e,t,n=""){Ub.Bd.assert(HO(e,t),()=>n+` Shapes ${e} and ${t} must match`)}function HO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GO{constructor(e,t,n,r,i,o,a){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.id=GO.nextId++}get closed(){return this.closed_}clearAndClose(){this.tensors.forEach(e=>e.tensor.dispose()),this.tensors=[],this.closed_=!0}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read `+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map(e=>this.read(e))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),VO(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n&&n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n&&n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,`+`because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach((e,n)=>this.write(e,t[n]))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return Object(Ub.od)([],[0].concat(this.elementShape));const n=this.readMany(e);return VO(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Object(Ub.hd)(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return Object(Ub.od)([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return VO(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),Object(Ub.S)(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Object(Ub.zd)(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map(e=>n+=e);if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), `+"and the TensorArray is not marked as dynamically resizeable");const i=0===n?0:t.size/n,o=[];Object(Ub.td)(()=>{t=t.reshape([1,n,i]);for(let n=0;n<e.length;++n){const a=0===n?0:r[n-1],s=[0,a,0],l=[1,e[n],i];o[n]=Object(Ub.Sc)(t,s,l).reshape(this.elementShape)}return o});const a=[];for(let t=0;t<e.length;t++)a[t]=t;this.writeMany(a,o)}}GO.nextId=0;
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const qO=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=Object(LO.b)("thenBranch",e,t,n),i=Object(LO.b)("elseBranch",e,t,n),o=Object(LO.b)("cond",e,t,n),a=Object(LO.b)("args",e,t,n),s=await o.data();return s[0]?n.functionMap[r].executeFunctionAsync(a):n.functionMap[i].executeFunctionAsync(a)}case"While":case"StatelessWhile":{const r=Object(LO.b)("body",e,t,n),i=Object(LO.b)("cond",e,t,n),o=Object(LO.b)("args",e,t,n),a=(await n.functionMap[i].executeFunctionAsync(o))[0];let s=await a.data(),l=o;for(;s[0];){l=await n.functionMap[r].executeFunctionAsync(l);const e=(await n.functionMap[i].executeFunctionAsync(l))[0];s=await e.data()}return l}case"LoopCond":return[Object(LO.b)("pred",e,t,n).clone()];case"Switch":{const r=Object(LO.b)("pred",e,t,n),i=Object(LO.b)("data",e,t,n);return(await r.data())[0]?[void 0,i.clone()]:[i.clone(),void 0]}case"Merge":const r=e.inputNames.find(e=>void 0!==Object(LO.c)(e,t,n));return r?[Object(LO.c)(r,t,n).clone()]:void 0;case"Enter":const i=Object(LO.b)("frameName",e,t,n),o=Object(LO.b)("tensor",e,t,n);return n.enterFrame(i),[o.clone()];case"Exit":const a=Object(LO.b)("tensor",e,t,n);return n.exitFrame(),[a.clone()];case"NextIteration":const s=Object(LO.b)("tensor",e,t,n);return n.nextIteration(),[s.clone()];case"TensorArrayV3":const l=Object(LO.b)("size",e,t,n),u=Object(LO.b)("dtype",e,t,n),c=Object(LO.b)("elementShape",e,t,n),f=Object(LO.b)("dynamicSize",e,t,n),h=Object(LO.b)("clearAfterRead",e,t,n),d=Object(LO.b)("identicalElementShapes",e,t,n),p=Object(LO.b)("name",e,t,n),m=new GO(p,u,l,c,d,f,h);return n.addTensorArray(m),[Object(Ub.Hc)(m.id),Object(Ub.Hc)(1)];case"TensorArrayWriteV3":const g=Object(LO.b)("tensorArrayId",e,t,n),b=Object(LO.b)("index",e,t,n),y=Object(LO.b)("tensor",e,t,n),v=n.getTensorArray(g);return v.write(b,y),[Object(Ub.Hc)(1)];case"TensorArrayReadV3":const w=Object(LO.b)("tensorArrayId",e,t,n),x=Object(LO.b)("index",e,t,n),_=n.getTensorArray(w);return[_.read(x)];case"TensorArrayGatherV3":const S=Object(LO.b)("tensorArrayId",e,t,n),E=Object(LO.b)("indices",e,t,n),C=Object(LO.b)("dtype",e,t,n),k=n.getTensorArray(S);return[k.gather(E,C)];case"TensorArrayScatterV3":const O=Object(LO.b)("tensorArrayId",e,t,n),T=Object(LO.b)("indices",e,t,n),N=Object(LO.b)("tensor",e,t,n),A=n.getTensorArray(O);return A.scatter(T,N),[Object(Ub.Hc)(1)];case"TensorArrayConcatV3":const I=Object(LO.b)("tensorArrayId",e,t,n),j=n.getTensorArray(I),R=Object(LO.b)("dtype",e,t,n);return[j.concat(R)];case"TensorArraySplitV3":const M=Object(LO.b)("tensorArrayId",e,t,n),P=Object(LO.b)("tensor",e,t,n),D=Object(LO.b)("lengths",e,t,n),L=n.getTensorArray(M);return L.split(D,P),[Object(Ub.Hc)(1)];case"TensorArraySizeV3":const F=Object(LO.b)("tensorArrayId",e,t,n),B=n.getTensorArray(F);return[Object(Ub.Hc)(B.size(),"int32")];case"TensorArrayCloseV3":const z=Object(LO.b)("tensorArrayId",e,t,n),$=n.getTensorArray(z);return $.clearAndClose(),[Object(Ub.Hc)(0)];default:throw TypeError(`Node type ${e.op} is not implemented`)}},KO="control",YO=(e,t,n)=>{switch(e.op){case"Conv1D":{const r=Object(LO.b)("stride",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("dataFormat",e,t,n).toUpperCase(),a=Object(LO.b)("dilation",e,t,n);return[Ub.X(Object(LO.b)("x",e,t,n),Object(LO.b)("filter",e,t,n),r,i,o,a)]}case"Conv2D":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("dataFormat",e,t,n).toUpperCase(),a=Object(LO.b)("dilations",e,t,n);return[Ub.Y(Object(LO.b)("x",e,t,n),Object(LO.b)("filter",e,t,n),[r[1],r[2]],i,o,[a[1],a[2]])]}case"_FusedConv2D":case"FusedDepthwiseConv2dNative":{const[r,i]=Object(LO.b)("fusedOps",e,t,n),o="biasadd"===r,a="prelu"===i,s="fusedbatchnorm"===r,l=Object(LO.b)("numArgs",e,t,n);if(o){if(a&&2!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&1!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(s)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");const u=Object(LO.b)("strides",e,t,n),c=Object(LO.b)("pad",e,t,n),f=Object(LO.b)("dataFormat",e,t,n).toUpperCase(),h=Object(LO.b)("dilations",e,t,n),[d,p]=Object(LO.b)("args",e,t,n),m="_FusedConv2D"===e.op?Ub.yb.conv2d:Ub.yb.depthwiseConv2d;return[m({x:Object(LO.b)("x",e,t,n),filter:Object(LO.b)("filter",e,t,n),strides:[u[1],u[2]],pad:c,dataFormat:f,dilations:[h[1],h[2]],bias:d,activation:i,preluActivationWeights:p})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=Object(LO.b)("outputShape",e,t,n),i=Object(LO.b)("strides",e,t,n),o=Object(LO.b)("pad",e,t,n);return[Ub.Z(Object(LO.b)("x",e,t,n),Object(LO.b)("filter",e,t,n),r,[i[1],i[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("dilations",e,t,n),a=Object(LO.b)("dataFormat",e,t,n).toUpperCase();return[Ub.fb(Object(LO.b)("input",e,t,n),Object(LO.b)("filter",e,t,n),[r[1],r[2]],i,a,[o[1],o[2]])]}case"Conv3D":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("dataFormat",e,t,n).toUpperCase(),a=Object(LO.b)("dilations",e,t,n);return[Ub.ab(Object(LO.b)("x",e,t,n),Object(LO.b)("filter",e,t,n),[r[1],r[2],r[3]],i,o,[a[1],a[2],a[3]])]}case"AvgPool":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("kernelSize",e,t,n);return[Ub.C(Object(LO.b)("x",e,t,n),[o[1],o[2]],[r[1],r[2]],i)]}case"MaxPool":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("kernelSize",e,t,n);return[Ub.Yb(Object(LO.b)("x",e,t,n),[o[1],o[2]],[r[1],r[2]],i)]}case"MaxPoolWithArgmax":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("kernelSize",e,t,n),a=Object(LO.b)("includeBatchInIndex",e,t,n),{result:s,indexes:l}=Ub.ac(Object(LO.b)("x",e,t,n),[o[1],o[2]],[r[1],r[2]],i,a);return[s,l]}case"AvgPool3D":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("kernelSize",e,t,n);return[Ub.D(Object(LO.b)("x",e,t,n),[o[1],o[2],o[3]],[r[1],r[2],r[3]],i)]}case"MaxPool3D":{const r=Object(LO.b)("strides",e,t,n),i=Object(LO.b)("pad",e,t,n),o=Object(LO.b)("kernelSize",e,t,n);return[Ub.Zb(Object(LO.b)("x",e,t,n),[o[1],o[2],o[3]],[r[1],r[2],r[3]],i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},XO="convolution",ZO=(e,t,n)=>{switch(e.op){case"Fill":{const r=Object(LO.b)("shape",e,t,n),i=Object(LO.b)("dtype",e,t,n),o=Object(LO.b)("value",e,t,n);return[Ub.vb(r,o,i)]}case"LinSpace":{const r=Object(LO.b)("start",e,t,n),i=Object(LO.b)("stop",e,t,n),o=Object(LO.b)("num",e,t,n);return[Ub.Ob(r,i,o)]}case"Multinomial":{const r=Object(LO.b)("logits",e,t,n),i=Object(LO.b)("numSamples",e,t,n),o=Object(LO.b)("seed",e,t,n);return[Ub.jc(r,i,o)]}case"OneHot":{const r=Object(LO.b)("indices",e,t,n),i=Object(LO.b)("depth",e,t,n),o=Object(LO.b)("onValue",e,t,n),a=Object(LO.b)("offValue",e,t,n);return[Ub.nc(r,i,o,a)]}case"Ones":return[Ub.oc(Object(LO.b)("shape",e,t,n),Object(LO.b)("dtype",e,t,n))];case"OnesLike":return[Ub.pc(Object(LO.b)("x",e,t,n))];case"RandomUniform":return[Ub.vc(Object(LO.b)("shape",e,t,n),Object(LO.b)("minval",e,t,n),Object(LO.b)("maxval",e,t,n),Object(LO.b)("dtype",e,t,n))];case"Range":{const r=Object(LO.b)("start",e,t,n),i=Object(LO.b)("stop",e,t,n),o=Object(LO.b)("step",e,t,n);return[Ub.wc(r,i,o,Object(LO.b)("dtype",e,t,n))]}case"TruncatedNormal":{const r=Object(LO.b)("shape",e,t,n),i=Object(LO.b)("mean",e,t,n),o=Object(LO.b)("stdDev",e,t,n),a=Object(LO.b)("seed",e,t,n);return[Ub.yd(r,i,o,Object(LO.b)("dtype",e,t,n),a)]}case"Zeros":return[Ub.Hd(Object(LO.b)("shape",e,t,n),Object(LO.b)("dtype",e,t,n))];case"ZerosLike":return[Ub.Id(Object(LO.b)("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},JO="creation",QO=async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const r=Object(LO.b)("boxes",e,t,n),i=Object(LO.b)("scores",e,t,n),o=Object(LO.b)("maxOutputSize",e,t,n),a=Object(LO.b)("iouThreshold",e,t,n),s=Object(LO.b)("scoreThreshold",e,t,n);if("NonMaxSuppressionV5"===e.op){const l=Object(LO.b)("softNmsSigma",e,t,n),u=await Ub.Fb.nonMaxSuppressionWithScoreAsync(r,i,o,a,s,l);return[u.selectedIndices,u.selectedScores]}return[await Ub.Fb.nonMaxSuppressionAsync(r,i,o,a,s)]}case"Where":{const r=Object(LO.b)("condition",e,t,n).asType("bool"),i=[await Ub.Gd(r)];return r.dispose(),i}case"ListDiff":return Ub.Nc(Object(LO.b)("x",e,t,n),Object(LO.b)("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}},eT="dynamic",tT=(e,t,n)=>{switch(e.op){case"TopKV2":{const r=Object(LO.b)("x",e,t,n),i=Object(LO.b)("k",e,t,n),o=Object(LO.b)("sorted",e,t,n),a=Ub.vd(r,i,o);return[a.values,a.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},nT="evaluation",rT=(e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=Object(LO.b)("default",e,t,n);return[Object(LO.c)(e.name,t,n)||r];case"Placeholder":return[Object(LO.c)(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[Object(LO.b)("x",e,t,n).clone()];case"IdentityN":return Object(LO.b)("x",e,t,n).map(e=>e.clone());case"Snapshot":const i=Object(LO.b)("x",e,t,n);return[i.clone()];case"Shape":return[Ub.pd(Object(LO.b)("x",e,t,n).shape,"int32")];case"ShapeN":return Object(LO.b)("x",e,t,n).map(e=>Ub.pd(e.shape));case"Size":return[Ub.Hc(Object(LO.b)("x",e,t,n).size,"int32")];case"Rank":return[Ub.Hc(Object(LO.b)("x",e,t,n).rank,"int32")];case"NoOp":return[Ub.Hc(1)];case"Print":const o=Object(LO.b)("x",e,t,n),a=Object(LO.b)("data",e,t,n),s=Object(LO.b)("message",e,t,n),l=Object(LO.b)("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<a.length;e++)console.log(Array.prototype.slice.call(a[e].dataSync()).slice(0,l));return[o];default:throw TypeError(`Node type ${e.op} is not implemented`)}},iT="graph",oT=(e,t,n)=>{switch(e.op){case"ResizeBilinear":{const r=Object(LO.b)("images",e,t,n),i=Object(LO.b)("size",e,t,n),o=Object(LO.b)("alignCorners",e,t,n);return[Ub.Fb.resizeBilinear(r,[i[0],i[1]],o)]}case"ResizeNearestNeighbor":{const r=Object(LO.b)("images",e,t,n),i=Object(LO.b)("size",e,t,n),o=Object(LO.b)("alignCorners",e,t,n);return[Ub.Fb.resizeNearestNeighbor(r,[i[0],i[1]],o)]}case"CropAndResize":{const r=Object(LO.b)("image",e,t,n),i=Object(LO.b)("boxes",e,t,n),o=Object(LO.b)("boxInd",e,t,n),a=Object(LO.b)("cropSize",e,t,n),s=Object(LO.b)("method",e,t,n),l=Object(LO.b)("extrapolationValue",e,t,n);return[Ub.Fb.cropAndResize(r,i,o,a,s,l)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},aT="image",sT=(e,t,n)=>{switch(e.op){case"Equal":return[Ub.ob(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"NotEqual":return[Ub.mc(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Greater":return[Ub.Bb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"GreaterEqual":return[Ub.Cb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Less":return[Ub.Lb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"LessEqual":return[Ub.Mb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"LogicalAnd":return[Ub.Tb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"LogicalNot":return[Ub.Ub(Object(LO.b)("a",e,t,n))];case"LogicalOr":return[Ub.Vb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];case"Select":case"SelectV2":return[Ub.Fd(Object(LO.b)("condition",e,t,n),Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},lT="logical",uT=(e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Ub.Wb(Object(LO.b)("a",e,t,n),Object(LO.b)("b",e,t,n),Object(LO.b)("transposeA",e,t,n),Object(LO.b)("transposeB",e,t,n))];case"Transpose":return[Ub.xd(Object(LO.b)("x",e,t,n),Object(LO.b)("perm",e,t,n))];case"_FusedMatMul":const[r,i]=Object(LO.b)("fusedOps",e,t,n),o="biasadd"===r,a="prelu"===i,s=Object(LO.b)("numArgs",e,t,n);if(o){if(a&&2!==s)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&1!==s)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[l,u]=Object(LO.b)("args",e,t,n);return[Ub.yb.matMul({a:Object(LO.b)("a",e,t,n),b:Object(LO.b)("b",e,t,n),transposeA:Object(LO.b)("transposeA",e,t,n),transposeB:Object(LO.b)("transposeB",e,t,n),bias:l,activation:i,preluActivationWeights:u})];default:throw TypeError(`Node type ${e.op} is not implemented`)}},cT="matrices",fT=(e,t,n)=>{switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Ub.G(Object(LO.b)("x",e,t,n),Object(LO.b)("mean",e,t,n),Object(LO.b)("variance",e,t,n),Object(LO.b)("offset",e,t,n),Object(LO.b)("scale",e,t,n),Object(LO.b)("epsilon",e,t,n))];case"LRN":return[Ub.Pb(Object(LO.b)("x",e,t,n),Object(LO.b)("radius",e,t,n),Object(LO.b)("bias",e,t,n),Object(LO.b)("alpha",e,t,n),Object(LO.b)("beta",e,t,n))];case"Softmax":return[Ub.Yc(Object(LO.b)("x",e,t,n))];case"LogSoftmax":return[Ub.Sb(Object(LO.b)("x",e,t,n))];case"SparseToDense":return[Ub.bd(Object(LO.b)("sparseIndices",e,t,n),Object(LO.b)("outputShape",e,t,n),Object(LO.b)("sparseValues",e,t,n),Object(LO.b)("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},hT="normalization",dT=(e,t,n)=>{switch(e.op){case"Max":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.Xb(Object(LO.b)("x",e,t,n),r,i)]}case"Mean":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.cc(Object(LO.b)("x",e,t,n),r,i)]}case"Min":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.ec(Object(LO.b)("x",e,t,n),r,i)]}case"Sum":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.kd(Object(LO.b)("x",e,t,n),r,i)]}case"All":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.t(Object(LO.b)("x",e,t,n),r,i)]}case"Any":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.u(Object(LO.b)("x",e,t,n),r,i)]}case"ArgMax":{const r=Object(LO.b)("axis",e,t,n);return[Ub.v(Object(LO.b)("x",e,t,n),r)]}case"ArgMin":{const r=Object(LO.b)("axis",e,t,n);return[Ub.w(Object(LO.b)("x",e,t,n),r)]}case"Prod":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("keepDims",e,t,n);return[Ub.tc(Object(LO.b)("x",e,t,n),r,i)]}case"Cumsum":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("exclusive",e,t,n),o=Object(LO.b)("reverse",e,t,n);return[Ub.db(Object(LO.b)("x",e,t,n),r,i,o)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},pT="reduction",mT=(e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=Object(LO.b)("n",e,t,n),i=Object(LO.b)("axis",e,t,n);let o=Object(LO.b)("tensors",e,t,n);return o=o.slice(0,r),[Ub.S(o,i)]}case"GatherV2":case"Gather":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("x",e,t,n),o=Object(LO.b)("indices",e,t,n);return[Ub.zb(i,o.asType("int32"),r)]}case"ReverseV2":case"Reverse":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("x",e,t,n);return[Ub.Dc(i,r)]}case"Slice":{const r=Object(LO.b)("begin",e,t,n),i=Object(LO.b)("size",e,t,n);return[Ub.Sc(Object(LO.b)("x",e,t,n),r,i)]}case"StridedSlice":{const r=Object(LO.b)("begin",e,t,n),i=Object(LO.b)("end",e,t,n),o=Object(LO.b)("strides",e,t,n),a=Object(LO.b)("beginMask",e,t,n),s=Object(LO.b)("endMask",e,t,n),l=Object(LO.b)("ellipsisMask",e,t,n),u=Object(LO.b)("newAxisMask",e,t,n),c=Object(LO.b)("shrinkAxisMask",e,t,n),f=Object(LO.b)("x",e,t,n);if(1===r.length&&f.shape.length>1)for(let e=1;e<f.shape.length;e++)r.push(0),i.push(f.shape[e]),o.push(o[0]);return[Ub.id(f,r,i,o,a,s,l,u,c)]}case"Pack":return Ub.td(()=>{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("tensors",e,t,n),o=i[0].shape,a=i[0].squeeze().shape,s=i.map(e=>{const t=Ub.Bd.arraysEqual(e.shape,o);if(!t&&!Ub.Bd.arraysEqual(e.squeeze().shape,a))throw new Error("the input tensors shape does not match");return t?e:e.reshape(o)});return[Ub.hd(s,r)]});case"Unpack":return Ub.td(()=>{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("tensor",e,t,n);return Ub.zd(i,r)});case"Tile":{const r=Object(LO.b)("reps",e,t,n);return[Ub.ud(Object(LO.b)("x",e,t,n),r)]}case"Split":case"SplitV":{const r=Object(LO.b)("axis",e,t,n),i=Object(LO.b)("numOrSizeSplits",e,t,n);return Ub.cd(Object(LO.b)("x",e,t,n),i,r)}case"ScatterNd":{const r=Object(LO.b)("indices",e,t,n),i=Object(LO.b)("values",e,t,n),o=Object(LO.b)("shape",e,t,n);return[Ub.Ic(r,i,o)]}case"GatherNd":{const r=Object(LO.b)("x",e,t,n),i=Object(LO.b)("indices",e,t,n);return[Ub.Ab(r,i)]}case"SparseToDense":{const r=Object(LO.b)("sparseIndices",e,t,n),i=Object(LO.b)("outputShape",e,t,n),o=Object(LO.b)("sparseValues",e,t,n),a=Object(LO.b)("defaultValue",e,t,n);return[Ub.bd(r,o,i,o.dtype===a.dtype?a:a.asType(o.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}},gT="slice_join",bT=(e,t,n)=>{switch(e.op){case"FFT":return[Ub.ub(Object(LO.b)("x",e,t,n))];case"IFFT":return[Ub.Db(Object(LO.b)("x",e,t,n))];case"RFFT":return[Ub.Ec(Object(LO.b)("x",e,t,n))];case"IRFFT":return[Ub.Hb(Object(LO.b)("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},yT="spectral",vT=(e,t,n)=>{switch(e.op){case"Cast":return[Ub.O(Object(LO.b)("x",e,t,n),Object(LO.b)("dtype",e,t,n))];case"ExpandDims":{const r=Object(LO.b)("axis",e,t,n);return[Ub.rb(Object(LO.b)("x",e,t,n),r)]}case"Squeeze":{const r=Object(LO.b)("axis",e,t,n);return[Ub.gd(Object(LO.b)("x",e,t,n),r)]}case"Reshape":return[Ub.Cc(Object(LO.b)("x",e,t,n),Object(LO.b)("shape",e,t,n))];case"PadV2":case"Pad":return[Ub.qc(Object(LO.b)("x",e,t,n),Object(LO.f)(Object(LO.b)("padding",e,t,n),2),Object(LO.b)("constantValue",e,t,n))];case"SpaceToBatchND":{const r=Object(LO.b)("blockShape",e,t,n),i=Object(LO.f)(Object(LO.b)("paddings",e,t,n),2);return[Ub.ad(Object(LO.b)("x",e,t,n),r,i)]}case"BatchToSpaceND":{const r=Object(LO.b)("blockShape",e,t,n),i=Object(LO.f)(Object(LO.b)("crops",e,t,n),2);return[Ub.K(Object(LO.b)("x",e,t,n),r,i)]}case"DepthToSpace":{const r=Object(LO.b)("blockSize",e,t,n),i=Object(LO.b)("dataFormat",e,t,n).toUpperCase();return[Ub.eb(Object(LO.b)("x",e,t,n),r,i)]}case"BroadcastTo":return[Ub.L(Object(LO.b)("x",e,t,n),Object(LO.b)("shape",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}},wT="transformation";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function xT(e,t,n){const r=((e,t,n)=>{switch(e.category){case"arithmetic":return Ub.td(()=>zO(e,t,n));case"basic_math":return Ub.td(()=>UO(e,t,n));case"control":return qO(e,t,n);case"convolution":return Ub.td(()=>YO(e,t,n));case"creation":return Ub.td(()=>ZO(e,t,n));case"dynamic":return QO(e,t,n);case"evaluation":return Ub.td(()=>tT(e,t,n));case"image":return Ub.td(()=>oT(e,t,n));case"graph":return Ub.td(()=>rT(e,t,n));case"logical":return Ub.td(()=>sT(e,t,n));case"matrices":return Ub.td(()=>uT(e,t,n));case"normalization":return Ub.td(()=>fT(e,t,n));case"reduction":return Ub.td(()=>dT(e,t,n));case"slice_join":return Ub.td(()=>mT(e,t,n));case"spectral":return Ub.td(()=>bT(e,t,n));case"transformation":return Ub.td(()=>vT(e,t,n));case"custom":const r=Object(BO.a)(e.op);if(r&&r.customExecutor)return r.customExecutor(new FO(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at `+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return r instanceof Promise?r.then(e=>[].concat(e)):[].concat(r)}class _T{constructor(e,t,n={}){this.weightMap=e,this.tensorArrayMap=t,this.functionMap=n,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ST(e,t,n){const r=new Set,i=[];let o=null,a=null;const s=new Set,l=Object.keys(e).map(e=>Object(LO.e)(e)[0]),u=[...t];for(;u.length>0;){const e=u.pop();(OT(e)||TT(e))&&null==o&&(a=(o=e).children.map(e=>e.name).filter(e=>r.has(e))),r.add(e.name),null==n[e.name]&&(-1===l.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach(e=>{s.has(e.name)||(s.add(e.name),u.push(e))}):i.push(e.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:i,dynamicNode:o,syncInputs:a}}function ET(e,t,n){const{usedNodes:r,inputs:i}=n,o=[],a=Object.keys(i).map(e=>Object(LO.e)(e)[0]).map(t=>e.nodes[t]);a.forEach(e=>{r.has(e.name)&&o.push(e)}),e.weights.forEach(e=>{r.has(e.name)&&o.push(e)});const s=new Set,l=[];for(;o.length>0;){const e=o.pop();s.add(e.name),t[e.name]||l.push(e),e.children.forEach(e=>{!s.has(e.name)&&r.has(e.name)&&e.inputs.every(e=>s.has(e.name))&&o.push(e)})}return l}const CT=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile"],kT=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"];function OT(e){return CT.indexOf(e.op)>=0}function TT(e){return kT.indexOf(e.op)>=0}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NT{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this._outputs=e.outputs,this._inputs=e.inputs,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach(t=>{this._functionExecutorMap[t]=new NT(e.functions[t],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map(t=>e[t].map(e=>e.id));this._weightIds=[].concat(...t),this._weightMap=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t})}get functions(){return Object.keys(this._functions).reduce((e,t)=>(e[t]=this._functions[t].signature,e),{})}getCompilationKey(e,t){const n=e.map(e=>e.name).sort(),r=t.map(e=>e.name).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=ST(e,t,this.weightMap),{missingInputs:r,dynamicNode:i,syncInputs:o}=n;if(null!=i)throw new Error(`This execution contains the node '${i.name}', which has `+`the dynamic op '${i.op}'. Please use `+"model.executeAsync() instead. Alternatively, to avoid the "+`dynamic ops, specify the inputs [${o}]`);if(r.length>0){const n=t.map(e=>e.name),i=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs `+`[${i}]. Missing the following inputs: [${r}]`)}return ET(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map(e=>this.graph.nodes[Object(LO.e)(e)[0]]),i=t.map(e=>this.graph.nodes[Object(LO.e)(e)[0]]),o=this.getCompilationKey(r,i);let a=this.compiledMap.get(o);null==a&&(a=this.compile(e,i),this.compiledMap.set(o,a));const s={};return Object(Ub.td)(()=>{const n=new _T(this.weightMap,s,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach(t=>{const[n,i]=Object(LO.e)(t),o=[];o[i]=e[t],r[n]=o});const i=this.getFrozenTensorIds(r),o={};for(let e=0;e<a.length;e++){const s=a[e];if(!r[s.name]){const e=xT(s,r,n);if(e instanceof Promise)throw new Error(`The execution of the op '${s.op}' returned a promise. `+"Please use model.executeAsync() instead.");r[s.name]=e,this.checkTensorForDisposal(s.name,s,r,n,i,t,o)}}return t.map(e=>Object(LO.c)(e,r,n))})}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map(t=>e[t]).map(e=>e.map(e=>e.id)));return new Set(t)}checkTensorForDisposal(e,t,n,r,i,o,a){"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach(e=>{null!=e&&(a[e.id]=(a[e.id]||0)+t.children.length)}),t.inputs.forEach(e=>{if("control"!==e.category){const t=Object(LO.d)(e.name,n,r);null!=t&&t.forEach(e=>{if(e&&!i.has(e.id)){const t=a[e.id];1===t?(e.dispose(),delete a[e.id]):null!=t&&a[e.id]--}})}}))}async executeAsync(e,t,n=!1){e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r={},i=new _T(this.weightMap,r,this.functionExecutorMap),o=await this.executeWithControlFlow(e,i,t,n),a=t.map(e=>Object(LO.c)(e,o,i)),s=new Set(a.map(e=>e.id)),l=new Set(Object.keys(e).map(t=>e[t].id));return Object.keys(o).forEach(e=>{const t=o[e];t.forEach(e=>{!e||e.isDisposed||s.has(e.id)||l.has(e.id)||-1!==this.weightIds.indexOf(e.id)||e.dispose()})}),a}async executeFunctionAsync(e){const t=e.reduce((e,t,n)=>(e[this.inputs[n].name]=t,e),{});return this.executeAsync(t,this.outputNodes,!0)}async executeWithControlFlow(e,t,n,r){const i=Object.keys(e),o=i.map(e=>this.graph.nodes[Object(LO.e)(e)[0]]),a=n.map(e=>this.graph.nodes[Object(LO.e)(e)[0]]),{usedNodes:s,missingInputs:l,dynamicNode:u,syncInputs:c}=ST(e,a,this.weightMap),f=[...o,...this.graph.weights].map(e=>({node:e,contexts:t.currentContext})),h=Object.assign({},this.weightMap);Object.keys(e).forEach(t=>{const[n,r]=Object(LO.e)(t),i=[];i[r]=e[t],h[n]=i});const d={},p=this.getFrozenTensorIds(h),m={};for(;f.length>0;){const e=this.processStack(o,f,t,h,m,p,n,d,s);await Promise.all(e)}null!=u||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const g=a.filter(e=>!OT(e)&&!Object(LO.c)(e.name,h,t)).map(e=>e.name);if(g.length>0){let e="";throw null!=u&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+`and specify the inputs [${c}]`),new Error(`Cannot compute the outputs [${g}] from the provided `+`inputs [${i}]. Consider providing the following inputs: `+`[${l}]. ${e}`)}return h}processStack(e,t,n,r,i,o,a,s,l){const u=[];for(;t.length>0;){const c=t.pop();n.currentContext=c.contexts;let f="";if("Enter"===c.node.op&&Object(LO.b)("isConstant",c.node,r,n)&&([f]=Object(LO.a)(c.node.name,n)),-1===e.indexOf(c.node)){const e=xT(c.node,r,n);f||([f]=Object(LO.a)(c.node.name,n));const h=n.currentContext;e instanceof Promise?u.push(e.then(e=>(r[f]=e,n.currentContext=h,this.checkTensorForDisposal(f,c.node,r,n,o,a,s),this.processChildNodes(c.node,t,n,r,i,l),e))):(r[f]=e,this.checkTensorForDisposal(f,c.node,r,n,o,a,s),this.processChildNodes(c.node,t,n,r,i,l))}else this.processChildNodes(c.node,t,n,r,i,l)}return u}processChildNodes(e,t,n,r,i,o){e.children.forEach(e=>{const[a]=Object(LO.a)(e.name,n);!i[a]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some(e=>!!Object(LO.c)(e,r,n))&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every(e=>!!Object(LO.c)(e,r,n))&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(e=>e.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(t=>{const n=e[t],[r]=Object(LO.e)(t),i=this.graph.nodes[r];if(i.attrParams.shape&&i.attrParams.shape.value){const e=i.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every((t,n)=>-1===e[n]||e[n]===t);Ub.Bd.assert(t,()=>`The shape of dict['${i.name}'] provided in `+`model.execute(dict) must be [${e}], but was `+`[${n.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&Ub.Bd.assert(n.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in `+"model.execute(dict) must be "+`${i.attrParams.dtype.value}, but was ${n.dtype}`)})}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){const r=this._signature.inputs[n];t[r.name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter(e=>{const[t]=Object(LO.e)(e);return null==this.graph.nodes[t]});if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+`keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map(e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){const t=this._signature.outputs[e];return t.name}return e},{})}checkOutputs(e){e.forEach(e=>{const[t]=Object(LO.e)(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)})}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AT="?tfjs-format=file",IT="model.json";class jT{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={})}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=Ub.Gb.browserHTTPRequest(e,this.loadOptions);else{const t=Ub.Gb.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(Ub.Gb.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for `+`URL '${[e]}'`);this.handler=t[0]}}async load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n={};null!=this.artifacts.userDefinedMetadata&&(n=this.artifacts.userDefinedMetadata.signature),this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=Ub.Gb.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);return this.executor=new NT(DO.a.Instance.transformGraph(t,n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),!0}async save(e,t){if("string"==typeof e){const t=Ub.Gb.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for `+`URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof Ub.l||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+`the graph model has ${this.inputNodes.length} placeholders, `+`while there are ${e.length} input tensors.`);return this.inputNodes.reduce((t,n,r)=>(t[n]=e[r],t),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=[e[n]],t),{})}dispose(){this.executor.dispose()}}async function RT(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=`${e}${IT}${AT}`);const n=new jT(e,t);return await n.load(),n}
/** @license See the LICENSE file. */const MT="2.0.1";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var PT=n(62),DT=n(35),LT=n(55);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */
class FT{constructor(){this.size=null}batch(e,t=!0){const n=this;let r;return Ub.Bd.assert(e>0,()=>`batchSize needs to be positive, but it is\n      ${e}`),BT(async()=>(await n.iterator()).columnMajorBatch(e,t,UT),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e))}concatenate(e){const t=this;let n;return BT(async()=>(await t.iterator()).concatenate(await e.iterator()),n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null)}filter(e){const t=this;let n;return BT(async()=>(await t.iterator()).filter(t=>Ub.td(()=>e(t))),n=this.size===1/0?1/0:null)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return BT(async()=>(await t.iterator()).map(t=>Ub.td(()=>e(t))),this.size)}mapAsync(e){const t=this;return BT(async()=>(await t.iterator()).mapAsync(e),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return BT(async()=>(await t.iterator()).prefetch(e),this.size)}repeat(e){const t=this;let n;return BT(async()=>{const n=Object(DT.e)(async()=>({value:await t.iterator(),done:!1}));return Object(DT.d)(n.take(e))},n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null)}skip(e){const t=this;let n;return BT(async()=>(await t.iterator()).skip(e),n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null)}shuffle(e,t,n=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+`bufferSize to the dataset size (${this.size} elements)`);const r=this,i=PT.alea(t||Ub.Bd.now().toString());return BT(async()=>{let t=i.int32();return n&&(t+=i.int32()),(await r.iterator()).shuffle(e,t.toString())},this.size)}take(e){const t=this;let n;return BT(async()=>(await t.iterator()).take(e),n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function BT(e,t=null){return new class extends FT{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function zT(e){return BT(async()=>Object(DT.f)(e),e.length)}function $T(e){if(!Object(LT.e)(e))throw new Error("The argument to zip() must be an object or array.");let t;if(Array.isArray(e))for(let n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(const n in e)t=null==t?e[n].size:Math.min(t,e[n].size);return BT(async()=>{const t=await Object(LT.c)(e,e=>{if(e instanceof FT)return{value:e.iterator(),recurse:!1};if(Object(LT.e)(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")});return Object(DT.g)(t,DT.c.SHORTEST)},t)}function UT(e){if(null===e)return null;const t=e[0];if(Object(LT.a)(t)){const t=WT(e);return{value:t,recurse:!1}}return{value:null,recurse:!0}}function WT(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof Ub.l?Ub.hd(e):Ub.od(e)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */FT.MAX_BUFFER_SIZE=1e4;class VT extends FT{constructor(e){super(),this.input=e}async iterator(){const e=await this.input.iterator(),t=e.decodeUTF8(),n=t.split("\n").map(e=>(e.endsWith("\r")&&(e=e.slice(0,-1)),e));return n}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */const HT='"',GT=Symbol("out"),qT=Symbol("field"),KT=Symbol("quote"),YT=Symbol("quoteafterquote"),XT=Symbol("quoteinquote");class ZT extends FT{constructor(e,t){super(),this.input=e,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new VT(e),t||(t={}),this.hasHeader=!1!==t.hasHeader,this.fullColumnNames=t.columnNames,this.columnConfigs=t.columnConfigs,this.configuredColumnsOnly=t.configuredColumnsOnly,t.delimWhitespace?(Ub.Bd.assert(null==t.delimiter,()=>"Delimiter should not be provided when delimWhitespace is true."),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=t.delimiter?t.delimiter:","}async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){const e=await this.maybeReadHeaderLine();if(!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&e&&Ub.Bd.assert(e.length===this.fullColumnNames.length,()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."),this.fullColumnNames||(this.fullColumnNames=e);const t=this.fullColumnNames.reduce((e,t)=>(e[t]=e[t]+1||1,e),{}),n=Object.keys(t).filter(e=>t[e]>1);if(Ub.Bd.assert(0===n.length,()=>"Duplicate column names found: "+n.toString()),this.columnConfigs)for(const e of Object.keys(this.columnConfigs)){const t=this.fullColumnNames.indexOf(e);if(-1===t)throw new Error('The key "'+e+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(this.hasHeader){const e=await this.base.iterator(),t=await e.next();if(t.done)throw new Error("No data was found for CSV parsing.");const n=t.value,r=this.parseRow(n,!1);return r}return null}async iterator(){this.columnNamesValidated||await this.setColumnNames();let e=await this.base.iterator();return this.hasHeader&&(e=e.skip(1)),e.map(e=>this.makeDataElement(e))}makeDataElement(e){const t=this.parseRow(e),n={},r={};for(let i=0;i<this.fullColumnNames.length;i++){const o=this.fullColumnNames[i],a=this.columnConfigs?this.columnConfigs[o]:null;if(!this.configuredColumnsOnly||a){const s=t[i];let l=null;if(""===s)if(a&&void 0!==a.default)l=a.default;else{if(a&&(a.required||a.isLabel))throw new Error(`Required column ${o} is empty in this line: ${e}`);l=void 0}else{const e=Number(s);if(isNaN(e))l=a&&"bool"===a.dtype?this.getBoolean(s):s;else if(a&&a.dtype)switch(a.dtype){case"float32":l=e;break;case"int32":l=Math.floor(e);break;case"bool":l=this.getBoolean(s);break;default:l=e}else l=e}a&&a.isLabel?r[o]=l:n[o]=l}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}getBoolean(e){return"1"===e||"true"===e.toLowerCase()?1:0}parseRow(e,t=!0){const n=[];let r=0;const i=e.length;let o=GT;for(let t=0;t<i;t++)switch(o){case GT:switch(e.charAt(t)){case HT:r=t+1,o=KT;break;case this.delimiter:if(r=t+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),o=GT;break;default:o=qT,r=t}break;case qT:switch(e.charAt(t)){case this.delimiter:n.push(e.substring(r,t)),o=GT,r=t+1}break;case KT:switch(e.charAt(t)){case HT:o=YT}break;case YT:switch(e.charAt(t)){case this.delimiter:n.push(e.substring(r,t-1)),o=GT,r=t+1;break;case HT:o=KT;break;default:o=XT}break;case XT:switch(e.charAt(t)){case HT:o=KT}}if(o===YT?n.push(e.substring(r,i-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${n}`);return n}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class JT extends DT.a{constructor(e){super(),this.microphoneConfig=e,this.isClosed=!1,this.fftSize=e.fftSize||1024;const t=Math.log2(this.fftSize);if(this.fftSize<0||t<4||t>14||!Number.isInteger(t))throw new Error("Invalid fftSize: it must be a power of 2 between "+`2 to 4 and 2 to 14, but got ${this.fftSize}`);if(this.numFrames=e.numFramesPerSpectrogram||43,this.sampleRateHz=e.sampleRateHz,this.columnTruncateLength=e.columnTruncateLength||this.fftSize,this.audioTrackConstraints=e.audioTrackConstraints,this.smoothingTimeConstant=e.smoothingTimeConstant||0,this.includeSpectrogram=!1!==e.includeSpectrogram,this.includeWaveform=!0===e.includeWaveform,!this.includeSpectrogram&&!this.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(e={}){if(Object(Ub.nb)().get("IS_NODE"))throw new Error("microphone API is only supported in browser environment.");const t=new JT(e);return await t.start(),t}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})}catch(e){throw new Error(`Error thrown while initializing video stream: ${e.message}`)}if(!this.stream)throw new Error("Could not obtain audio from microphone.");const e=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new e,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: "+`Expected: ${this.sampleRateHz}; `+`Actual: ${this.audioContext.sampleRate}`)}else this.sampleRateHz=this.audioContext.sampleRate;const t=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,t.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){if(this.isClosed)return{value:null,done:!0};let e,t;const n=await this.getAudioData();if(this.includeSpectrogram){const t=this.flattenQueue(n.freqDataQueue);e=this.getTensorFromAudioDataArray(t,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){const e=this.flattenQueue(n.timeDataQueue);t=this.getTensorFromAudioDataArray(e,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:e,waveform:t},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){const e=[],t=[];let n=0;return new Promise(r=>{const i=setInterval(()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&r({freqDataQueue:e,timeDataQueue:t}),e.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),t.push(this.timeData.slice())),++n===this.numFrames&&(clearInterval(i),r({freqDataQueue:e,timeDataQueue:t}))},this.fftSize/this.sampleRateHz*1e3)})}stop(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw new Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(e){const t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((e,r)=>n.set(e,r*t)),n}getTensorFromAudioDataArray(e,t){const n=new Float32Array(Ub.Bd.sizeFromShape(t));return n.set(e,n.length-e.length),Object(Ub.od)(n,t)}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class QT extends DT.a{constructor(e,t){if(super(),this.webcamVideoElement=e,this.webcamConfig=t,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=Object(Ub.pd)([0],"int32"),this.webcamConfig.centerCrop){const e=1*this.webcamConfig.resizeWidth/this.webcamVideoElement.width,t=1*this.webcamConfig.resizeHeight/this.webcamVideoElement.height,n=(1-e)/2,r=(1-t)/2,i=n+e,o=t+r;this.cropBox=Object(Ub.qd)([r,n,o,i],[1,4])}else this.cropBox=Object(Ub.qd)([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(e,t={}){if(Object(Ub.nb)().get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!t.resizeWidth||!t.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=t.resizeWidth,e.height=t.resizeHeight}const n=new QT(e,t);return await n.start(),n}async start(){this.webcamConfig.facingMode&&Ub.Bd.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. `+"Please provide 'user' or 'environment'");try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(e){throw e.message=`Error thrown while initializing video stream: ${e.message}`,e}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(e=>{this.webcamVideoElement.onloadedmetadata=(()=>{e()})})}async next(){if(this.isClosed)return{value:null,done:!0};let e;try{e=Ub.M.fromPixels(this.webcamVideoElement)}catch(e){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(e)}`)}if(!this.resize)return{value:e,done:!1};try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(e){throw new Error(`Error thrown cropping the video: ${e.message}`)}finally{e.dispose()}}needToResize(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}cropAndResizeFrame(e){return Object(Ub.td)(()=>{const t=e.toFloat().expandDims(0);let n;const r=(n=Ub.Fb.cropAndResize(t,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear")).shape;return n.reshape(r.slice(1))})}async capture(){return(await this.next()).value}stop(){const e=this.stream.getTracks();e.forEach(e=>e.stop());try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class eN{}var tN=n(289);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class nN extends tN.a{constructor(e,t={}){super(),this.file=e,this.options=t,Ub.Bd.assert(e instanceof Uint8Array||!!Object(Ub.nb)().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),()=>"FileChunkIterator only supports File, Blob and Uint8Array right now."),this.offset=t.offset||0,this.chunkSize=t.chunkSize||1048576}summary(){return`FileChunks ${this.file}`}async next(){if(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))return{value:null,done:!0};const e=new Promise((e,t)=>{const n=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)e(new Uint8Array(this.file.slice(this.offset,n)));else{const r=new FileReader;r.onload=(n=>{let i=r.result;if(i instanceof ArrayBuffer&&(i=new Uint8Array(i)),!(i instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(i)}),r.onabort=(e=>t(new Error("Aborted"))),r.onerror=(e=>t(new Error(e.type)));const i=this.file.slice(this.offset,n);r.readAsArrayBuffer(i)}this.offset=n});return{value:await e,done:!1}}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */async function rN(e,t={}){let n,r;"string"==typeof e?n=e:(n=e.url,r=iN(e));const i=await Ub.Bd.fetch(n,r);if(i.ok){const e=new Uint8Array(await i.arrayBuffer());return new nN(e,t)}throw new Error(i.statusText)}const iN=e=>{const t={method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity};return t};
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function oN(e){return"string"==typeof e&&"file://"===e.substr(0,7)}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class aN extends eN{constructor(e,t={}){super(),this.input=e,this.options=t}async iterator(){if(oN(this.input)&&Object(Ub.nb)().get("IS_NODE")){const e=n(637);this.input=e.readFileSync(this.input.substr(7))}return new nN(this.input,this.options)}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class sN extends eN{constructor(e,t={}){super(),this.url=e,this.fileOptions=t}async iterator(){return oN(this.url)?new aN(this.url,this.fileOptions).iterator():rN(this.url,this.fileOptions)}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function lN(e,t={}){return new ZT(new sN(e),t)}function uN(e){const t=Object(DT.e)(e);return BT(async()=>t)}function cN(e){return BT(async()=>{const t=await e();return Object(DT.e)(()=>t.next())})}async function fN(e,t){return QT.create(e,t)}async function hN(e){return JT.create(e)}
/** @license See the LICENSE file. */const dN="2.0.1";
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pN(e,t,n,r){const i=Ub.Bd.getTypedArrayFromDType(r,Ub.Bd.sizeFromShape(n));for(let n=0;n<i.length;++n){const r=n*t;let o=e[r];for(let n=0;n<t;++n){const t=e[r+n];t>o&&(o=t)}i[n]=o}return i}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mN(e,t,n,r,i){const o=t.length,a=Ub.Bd.sizeFromShape(t),s=Ub.Bd.computeStrides(t),l=Ub.Bd.computeStrides(i),u=Ub.Bd.getTypedArrayFromDType(n,Ub.Bd.sizeFromShape(i));for(let t=0;t<a;++t){const n=Ub.Bd.indexToLoc(t,o,s),i=new Array(n.length);for(let e=0;e<i.length;e++)i[e]=n[r[e]];const a=Ub.Bd.locToIndex(i,o,l);u[a]=e[t]}return u}
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gN(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&Ub.Bd.assert("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bN(e,t,n,r,i,o){const a=i.strideHeight,s=i.strideWidth,l=i.dilationHeight,u=i.dilationWidth,c=i.effectiveFilterHeight,f=i.effectiveFilterWidth,h=i.padInfo.top,d=i.padInfo.left,p="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Object(Ub.N)(i.outShape,n),g=m.values,b=i.outShape[1]*i.outShape[2]*i.outShape[3],y=i.outShape[2]*i.outShape[3],v=i.outShape[3];for(let t=0;t<i.batchSize;++t){const n=t*b,m=t*r[0];for(let t=0;t<i.inChannels;++t)for(let b=0;b<i.outHeight;++b){const w=b*a-h,x=Math.max(0,w),_=Math.min(i.inHeight,c+w),S=n+b*y;for(let n=0;n<i.outWidth;++n){const a=n*s-d,c=Math.max(0,a),h=Math.min(i.inWidth,f+a);let b=p,y=0,w=0;for(let n=x;n<_;n+=l){const i=m+n*r[1];for(let n=c;n<h;n+=u){const a=i+n*r[2],s=e[a+t];"max"===o&&s>b?b=s:"avg"===o&&(y+=s,w++)}if(isNaN(b))break}const E=S+n*v+t;g[E]="avg"===o?y/w:b}}}return m}function yN(e,t,n,r,i=!1,o=!1){const a=Object(Ub.N)(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,h=r.effectiveFilterWidth,d=r.padInfo.top,p=r.padInfo.left,m=Object(Ub.N)(t,n,e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.outHeight;++n){const g=n*s-d;let b=g;for(;b<0;)b+=u;const y=Math.min(r.inHeight,f+g);for(let s=0;s<r.outWidth;++s){const f=s*l-p;let d=f;for(;d<0;)d+=c;const v=Math.min(r.inWidth,h+f);let w=Number.NEGATIVE_INFINITY,x=-1;for(let n=b;n<y;n+=u){const a=n-g;for(let s=d;s<v;s+=c){const l=s-f,u=m.get(e,n,s,t);u>w&&(w=u,x=i?o?((e*r.inHeight+n)*r.inWidth+s)*r.inChannels+t:(n*r.inWidth+s)*r.inChannels+t:a*h+l)}}a.set(x,e,n,s,t)}}return a}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vN=Ub.Jb.nonMaxSuppressionV3,wN=Ub.Jb.split,xN=Ub.Jb.tile,_N=Ub.Jb.topkImpl,SN=Ub.Jb.whereImpl;function EN(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}class CN extends Ub.d{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Ub.a(this,Object(Ub.mb)())}write(e,t,n){this.firstUse&&(this.firstUse=!1,Object(Ub.nb)().get("IS_NODE")&&Ub.F.warn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));const r={};return this.data.set(r,{values:e,dtype:n}),r}move(e,t,n,r){this.data.set(e,{values:t,dtype:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensors:n}=this.data.get(e);if("complex64"===t){const e=this.readSync(n.real.dataId),t=this.readSync(n.imag.dataId);return Ub.F.mergeRealAndImagArrays(e,t)}return this.data.get(e).values}bufferSync(e){const t=this.readSync(e.dataId);let n=t;if("string"===e.dtype)try{n=t.map(e=>Ub.Bd.decodeString(e))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Ub.N(e.shape,e.dtype,n)}makeOutput(e,t,n){const r=this.write(e,t,n);return Object(Ub.mb)().makeTensorFromDataId(r,t,n,this)}disposeData(e){if(this.data.has(e)){const{complexTensors:t}=this.data.get(e);null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}}async time(e){const t=Ub.Bd.now();e();const n=Ub.Bd.now()-t;return{kernelMs:n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}complex(e,t){const n=this.makeOutput(null,e.shape,"complex64"),r=this.data.get(n.dataId);return r.complexTensors={real:Object(Ub.mb)().keep(e.clone()),imag:Object(Ub.mb)().keep(t.clone())},n}real(e){const t=this.data.get(e.dataId);return t.complexTensors.real.clone()}imag(e){const t=this.data.get(e.dataId);return t.complexTensors.imag.clone()}slice(e,t,n){gN(e,"slice");const r=Ub.Xc.isSliceContinous(e.shape,t,n);if(r){const r=Ub.Xc.computeFlatOffset(t,e.strides),i=Ub.Bd.sizeFromShape(n),o=this.readSync(e.dataId);return Ub.od(o.subarray(r,r+i),n,e.dtype)}const i=Ub.N(n,e.dtype),o=this.bufferSync(e);for(let e=0;e<i.size;++e){const n=i.indexToLoc(e),r=n.map((e,n)=>e+t[n]);i.values[e]=o.get(...r)}return i.toTensor()}stridedSlice(e,t,n,r){gN(e,"stridedSlice");const i=Ub.Xc.computeOutShape(t,n,r);if(i.some(e=>0===e))return Ub.od([],i);const o=Ub.N(i,e.dtype),a=this.bufferSync(e);for(let e=0;e<o.size;e++){const n=o.indexToLoc(e),i=new Array(n.length);for(let e=0;e<i.length;e++)i[e]=n[e]*r[e]+t[e];o.set(a.get(...i),...n)}return o.toTensor()}diag(e){const t=this.readSync(e.dataId),n=Ub.N([e.size,e.size],e.dtype),r=n.values;for(let n=0;n<t.length;n++)r[n*e.size+n]=t[n];return n.toTensor()}unstack(e,t){const n=e.shape[t],r=new Array(e.rank-1);let i=0;for(let n=0;n<e.rank;n++)n!==t&&(r[i++]=e.shape[n]);const o=new Array(e.rank).fill(0),a=e.shape.slice();a[t]=1;const s=new Array(n);for(let n=0;n<s.length;n++)o[t]=n,s[n]=this.slice(e,o,a).reshape(r);return s}reverse(e,t){gN(e,"reverse");const n=Ub.N(e.shape,e.dtype),r=this.bufferSync(e);for(let i=0;i<n.size;i++){const o=n.indexToLoc(i),a=o.slice();t.forEach(t=>a[t]=e.shape[t]-1-a[t]),n.set(r.get(...a),...o)}return n.toTensor()}concat(e,t){if("complex64"===e[0].dtype){const n=e.map(e=>Ub.xc(e)),r=e.map(e=>Ub.Eb(e));return Ub.R(this.concat(n,t),this.concat(r,t))}const n=e.map(e=>{const n=Ub.Bd.sizeFromShape(e.shape.slice(t));return e.as2D(-1,n)}),r=Ub.F.computeOutShape(n.map(e=>e.shape),1),i=Ub.N(r,e[0].dtype).values;if(1===n[0].shape[0]){let e=0;n.forEach(t=>{i.set(this.readSync(t.dataId),e),e+=t.size})}else{let e=0;n.forEach(t=>{const n=this.readSync(t.dataId);let o=0;for(let a=0;a<t.shape[0];++a){const s=a*r[1]+e;for(let e=0;e<t.shape[1];++e)i[s+e]=n[o++]}e+=t.shape[1]})}const o=Ub.F.computeOutShape(e.map(e=>e.shape),t);return Ub.od(i,o,e[0].dtype)}neg(e){return gN(e,"neg"),this.multiply(Ub.Hc(-1),e)}add(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(e,t,n,r)=>({real:e+n,imag:t+r})):this.broadcastedBinaryOp(e,t,Object(Ub.Ad)(e.dtype,t.dtype),(e,t)=>e+t)}addN(e){gN(e,"addN");const t=e.map(e=>this.readSync(e.dataId)),n=Ub.N(e[0].shape,e[0].dtype),r=n.values;for(let n=0;n<e.length;n++){const e=t[n];for(let t=0;t<r.length;t++)r[t]+=e[t]}return n.toTensor()}softmax(e,t){const n=Ub.Bd.parseAxisParam([t],e.shape),r=Object(Ub.Xb)(e,n),i=Ub.F.expandShapeToKeepDim(r.shape,n),o=this.subtract(e,r.reshape(i)),a=this.exp(o),s=this.sum(a,n).reshape(i);return Ub.ib(a,s)}subtract(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(e,t,n,r)=>({real:e-n,imag:t-r})):this.broadcastedBinaryOp(e,t,Object(Ub.Ad)(e.dtype,t.dtype),(e,t)=>e-t)}pow(e,t){return gN([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>Math.pow(e,t))}batchMatMul(e,t,n,r){gN([e,t],"matMul");const i=n?e.shape[1]:e.shape[2],o=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],s=e.shape[0],l=this.readSync(e.dataId),u=this.readSync(t.dataId),[c,f,h]=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],[d,p,m]=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],g=o*a,b=Ub.N([s,o,a],e.dtype),y=b.values,v=this.blockSize;for(let e=0;e<s;e++)for(let t=0;t<o;t+=v)for(let n=0;n<a;n+=v)for(let r=0;r<i;r+=v){const s=Math.min(t+v,o),b=Math.min(n+v,a),w=Math.min(r+v,i);for(let i=t;i<s;i++)for(let t=n;t<b;t++){let n=0;for(let o=r;o<w;o++)n+=l[e*c+i*f+o*h]*u[o*d+t*p+e*m];y[e*g+(i*a+t)]+=n}}return b.toTensor()}fusedBatchMatMul({a:e,b:t,transposeA:n,transposeB:r,bias:i,activation:o,preluActivationWeights:a}){let s=this.batchMatMul(e,t,n,r);return i&&(s=this.add(s,i)),o&&(s=EN(this,s,o,a)),s}multiply(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})):this.broadcastedBinaryOp(e,t,Object(Ub.Ad)(e.dtype,t.dtype),(e,t)=>e*t)}floorDiv(e,t){gN([e,t],"floorDiv");const n=(e,t)=>Math.floor(e/t),r="int32";return this.broadcastedBinaryOp(e,t,"int32",n)}sum(e,t){gN(e,"sum"),Ub.F.assertAxesAreInnerMostDims("sum",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Object(Ub.Ad)(e.dtype,"int32"),o=Ub.Hd(n,i),a=Ub.Bd.sizeFromShape(r),s=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<s.length;++e){const t=e*a;let n=0;for(let e=0;e<a;++e)n+=l[t+e];s[e]=n}return o}prod(e,t){gN(e,"sum");const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Object(Ub.Ad)(e.dtype,"int32"),o=Ub.Hd(n,i),a=Ub.Bd.sizeFromShape(r),s=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<s.length;++e){const t=e*a;let n=1;for(let e=0;e<a;++e)n*=l[t+e];s[e]=n}return o}unsortedSegmentSum(e,t,n){gN(e,"unsortedSegmentSum");const r=[],i=e.rank-t.rank;for(let e=0;e<i;++e)t=t.expandDims(e+1);for(let i=0;i<n;++i){const n=Ub.Hc(i,"int32"),o=Ub.ob(n,t).asType("float32"),a=o.mul(e).sum(0);r.push(a)}return Ub.hd(r)}argMin(e,t){gN(e,"argMin");const n=[t];Ub.F.assertAxesAreInnerMostDims("argMin",n,e.rank);const[r,i]=Ub.F.computeOutAndReduceShapes(e.shape,n),o=Ub.Hd(r,"int32"),a=Ub.Bd.sizeFromShape(i),s=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<s.length;++e){const t=e*a;let n=l[t],r=0;for(let e=0;e<a;++e){const i=l[t+e];i<n&&(n=i,r=e)}s[e]=r}return o}argMax(e,t){gN(e,"argMax");const n=[t];Ub.F.assertAxesAreInnerMostDims("argMax",n,e.rank);const[r,i]=Ub.F.computeOutAndReduceShapes(e.shape,n),o=Ub.Hd(r,"int32"),a=Ub.Bd.sizeFromShape(i),s=this.readSync(o.dataId),l=this.readSync(e.dataId);for(let e=0;e<s.length;++e){const t=e*a;let n=l[t],r=0;for(let e=0;e<a;++e){const i=l[t+e];i>n&&(n=i,r=e)}s[e]=r}return o}cumsum(e,t,n,r){if(gN(e,"cumsum"),t!==e.rank-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${e.rank-1} `+`but got axis=${t}`);const i=Object(Ub.Ad)(e.dtype,"int32"),o=Ub.Hd(e.shape,i),a=this.readSync(o.dataId),s=this.readSync(e.dataId),l=e.shape[e.rank-1],u=r?(e,t)=>e+l-t-1:(e,t)=>e+t;for(let e=0;e<s.length;e+=l)for(let t=0;t<l;t++){const r=u(e,t);if(0===t)a[r]=n?0:s[r];else{const i=u(e,t-1);a[r]=n?s[i]+a[i]:s[r]+a[i]}}return o}equal(e,t){return gN([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e===t?1:0)}notEqual(e,t){return gN([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e!==t?1:0)}less(e,t){return gN([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e<t?1:0)}lessEqual(e,t){return gN([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e<=t?1:0)}greater(e,t){return gN([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e>t?1:0)}greaterEqual(e,t){return gN([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e>=t?1:0)}logicalNot(e){gN(e,"logicalNot");const t=this.readSync(e.dataId),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t[e]?0:1;return this.makeOutput(n,e.shape,"bool")}logicalAnd(e,t){return gN([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e&&t)}logicalOr(e,t){return gN([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(e,t)=>e||t)}select(e,t,n){gN([e,t,n],"select");const r=this.readSync(e.dataId),i=this.readSync(t.dataId),o=this.readSync(n.dataId),a=Ub.Hd(t.shape,Object(Ub.Ad)(t.dtype,n.dtype)),s=this.readSync(a.dataId);let l=0;const u=0===e.rank||e.rank>1||1===t.rank?1:Ub.Bd.sizeFromShape(t.shape.slice(1));for(let e=0;e<r.length;e++)for(let t=0;t<u;t++)1===r[e]?s[l++]=i[e]:s[l++]=o[e];return a}where(e){gN([e],"where");const t=this.readSync(e.dataId);return SN(e.shape,t)}topk(e,t,n){gN(e,"topk");const r=this.readSync(e.dataId);return _N(r,e.shape,e.dtype,t,n)}min(e,t){gN(e,"min"),Ub.F.assertAxesAreInnerMostDims("min",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Hd(n,e.dtype),o=Ub.Bd.sizeFromShape(r),a=this.readSync(i.dataId),s=this.readSync(e.dataId);for(let e=0;e<a.length;++e){const t=e*o;let n=s[t];for(let e=0;e<o;++e){const r=s[t+e];r<n&&(n=r)}a[e]=n}return i}minimum(e,t){return gN([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>Math.min(e,t))}mod(e,t){return gN([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})}maximum(e,t){return gN([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>Math.max(e,t))}all(e,t){gN(e,"all"),Ub.F.assertAxesAreInnerMostDims("all",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Hd(n,e.dtype),o=Ub.Bd.sizeFromShape(r),a=this.readSync(i.dataId),s=this.readSync(e.dataId);for(let e=0;e<a.length;++e){const t=e*o;let n=s[t];for(let e=0;e<o;++e){const r=s[t+e];n=n&&r}a[e]=n}return i}any(e,t){gN(e,"any"),Ub.F.assertAxesAreInnerMostDims("any",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Hd(n,e.dtype),o=Ub.Bd.sizeFromShape(r),a=this.readSync(i.dataId),s=this.readSync(e.dataId);for(let e=0;e<a.length;++e){const t=e*o;let n=s[t];for(let e=0;e<o;++e){const r=s[t+e];n=n||r}a[e]=n}return i}squaredDifference(e,t){return gN([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>{const n=e-t;return n*n})}ceil(e){gN(e,"ceil");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e)n[e]=Math.ceil(t[e]);return this.makeOutput(n,e.shape,"float32")}floor(e){gN(e,"floor");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e)n[e]=Math.floor(t[e]);return this.makeOutput(n,e.shape,"float32")}sign(e){gN(e,"x");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e)t[e]<0?n[e]=-1:t[e]>0?n[e]=1:n[e]=0;return this.makeOutput(n,e.shape,"float32")}isNaN(e){gN(e,"x");const t=this.readSync(e.dataId),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)Number.isNaN(t[e])&&(n[e]=1);return this.makeOutput(n,e.shape,"bool")}isInf(e){gN(e,"x");const t=this.readSync(e.dataId),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)Math.abs(t[e])===1/0&&(n[e]=1);return this.makeOutput(n,e.shape,"bool")}isFinite(e){gN(e,"x");const t=this.readSync(e.dataId),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)Number.isFinite(t[e])&&(n[e]=1);return this.makeOutput(n,e.shape,"bool")}round(e){gN(e,"round");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e){const r=Math.floor(t[e]);t[e]-r<.5?n[e]=Math.floor(t[e]):t[e]-r>.5?n[e]=Math.ceil(t[e]):n[e]=r%2==0?r:r+1}return this.makeOutput(n,e.shape,"float32")}exp(e){gN(e,"exp");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e)n[e]=Math.exp(t[e]);return this.makeOutput(n,e.shape,"float32")}expm1(e){gN(e,"expm1");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e)n[e]=Math.expm1(t[e]);return this.makeOutput(n,e.shape,"float32")}log(e){gN(e,"log");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e){const r=t[e];n[e]=Math.log(r)}return this.makeOutput(n,e.shape,"float32")}log1p(e){gN(e,"log1p");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e){const r=t[e];n[e]=Math.log1p(r)}return this.makeOutput(n,e.shape,"float32")}sqrt(e){gN(e,"sqrt");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e){const r=t[e];n[e]=Math.sqrt(r)}return this.makeOutput(n,e.shape,"float32")}rsqrt(e){gN(e,"rsqrt");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e){const r=t[e];n[e]=1/Math.sqrt(r)}return this.makeOutput(n,e.shape,"float32")}reciprocal(e){gN(e,"reciprocal");const t=this.readSync(e.dataId),n=new Float32Array(t.length);for(let e=0;e<t.length;++e)n[e]=1/t[e];return this.makeOutput(n,e.shape,"float32")}linear(e){return e}relu(e){gN(e,"relu");const t=Ub.Hd(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId);for(let e=0;e<r.length;++e)n[e]=Math.max(0,r[e]);return t}relu6(e){gN(e,"relu");const t=Ub.Hd(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId);for(let e=0;e<r.length;++e)n[e]=Math.min(Math.max(0,r[e]),6);return t}prelu(e,t){return gN([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>e<0?t*e:e)}elu(e){gN(e,"elu");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e){const r=n[e];t[e]=r>=0?r:Math.exp(r)-1}return this.makeOutput(t,e.shape,"float32")}eluDer(e,t){gN([e,t],"eluDer");const n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId);for(let e=0;e<r.length;++e){const t=r[e];n[e]=t>=1?i[e]:i[e]*(t+1)}return this.makeOutput(n,t.shape,"float32")}selu(e){gN(e,"selu");const t=Ub.F.SELU_SCALEALPHA,n=Ub.F.SELU_SCALE,r=new Float32Array(e.size),i=this.readSync(e.dataId);for(let e=0;e<i.length;++e){const o=i[e];r[e]=o>=0?n*o:t*(Math.exp(o)-1)}return this.makeOutput(r,e.shape,"float32")}clip(e,t,n){gN(e,"clip");const r=new Float32Array(e.size),i=this.readSync(e.dataId);for(let e=0;e<i.length;++e){const o=i[e];r[e]=o>n?n:o<t?t:o}return this.makeOutput(r,e.shape,"float32")}abs(e){const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.abs(n[e]);return this.makeOutput(t,e.shape,"float32")}complexAbs(e){const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let r=0;r<e.size;++r){const e=n[2*r],i=n[2*r+1];t[r]=Math.hypot(e,i)}return this.makeOutput(t,e.shape,"float32")}int(e){gN(e,"int");const t=new Int32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=n[e];return this.makeOutput(t,e.shape,"int32")}sigmoid(e){gN(e,"sigmoid");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=1/(1+Math.exp(-n[e]));return this.makeOutput(t,e.shape,"float32")}softplus(e){gN(e,"softplus");const t=1.1920928955078125e-7,n=Math.log(t)+2,r=new Float32Array(e.size),i=this.readSync(e.dataId);for(let e=0;e<i.length;++e){const t=i[e]>-n,o=i[e]<n,a=Math.exp(i[e]);let s;s=o?a:t?i[e]:Math.log(1+a),r[e]=s}return this.makeOutput(r,e.shape,"float32")}sin(e){gN(e,"sin");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.sin(n[e]);return this.makeOutput(t,e.shape,"float32")}cos(e){gN(e,"cos");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.cos(n[e]);return this.makeOutput(t,e.shape,"float32")}tan(e){gN(e,"tan");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.tan(n[e]);return this.makeOutput(t,e.shape,"float32")}asin(e){gN(e,"asin");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.asin(n[e]);return this.makeOutput(t,e.shape,"float32")}acos(e){gN(e,"acos");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.acos(n[e]);return this.makeOutput(t,e.shape,"float32")}atan(e){gN(e,"atan");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.atan(n[e]);return this.makeOutput(t,e.shape,"float32")}atan2(e,t){return gN([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(e,t)=>Math.atan2(e,t))}sinh(e){gN(e,"sinh");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.sinh(n[e]);return this.makeOutput(t,e.shape,"float32")}cosh(e){gN(e,"cosh");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.cosh(n[e]);return this.makeOutput(t,e.shape,"float32")}tanh(e){gN(e,"tanh");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Ub.Bd.tanh(n[e]);return this.makeOutput(t,e.shape,"float32")}asinh(e){gN(e,"asinh");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.asinh(n[e]);return this.makeOutput(t,e.shape,"float32")}acosh(e){gN(e,"acosh");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.acosh(n[e]);return this.makeOutput(t,e.shape,"float32")}atanh(e){gN(e,"atanh");const t=new Float32Array(e.size),n=this.readSync(e.dataId);for(let e=0;e<n.length;++e)t[e]=Math.atanh(n[e]);return this.makeOutput(t,e.shape,"float32")}erf(e){gN(e,"erf");const t=new Float32Array(e.size),n=this.readSync(e.dataId),r=Ub.F.ERF_P,i=Ub.F.ERF_A1,o=Ub.F.ERF_A2,a=Ub.F.ERF_A3,s=Ub.F.ERF_A4,l=Ub.F.ERF_A5;for(let e=0;e<n.length;++e){const u=Math.sign(n[e]),c=Math.abs(n[e]),f=1/(1+r*c);t[e]=u*(1-((((l*f+s)*f+a)*f+o)*f+i)*f*Math.exp(-c*c))}return this.makeOutput(t,e.shape,"float32")}step(e,t=0){gN(e,"step");const n=new Float32Array(e.size),r=this.readSync(e.dataId);for(let e=0;e<r.length;++e){const i=r[e];isNaN(i)?n[e]=NaN:n[e]=i>0?1:t}return this.makeOutput(n,e.shape,"float32")}fusedConv2d({input:e,filter:t,convInfo:n,bias:r,activation:i,preluActivationWeights:o}){let a=this.conv2d(e,t,n);return r&&(a=this.add(a,r)),i&&(a=EN(this,a,i,o)),a}conv2d(e,t,n){gN([e,t],"conv2d");const r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u="channelsLast"===n.dataFormat,c=Ub.N(n.outShape,e.dtype),f=e.strides[0],h=u?e.strides[1]:e.strides[2],d=u?e.strides[2]:1,p=u?1:e.strides[1],m=c.strides[0],g=u?c.strides[1]:c.strides[2],b=u?c.strides[2]:1,y=u?1:c.strides[1],v=this.readSync(e.dataId),w=this.readSync(t.dataId),x=c.values;for(let e=0;e<n.batchSize;++e){const u=e*f,c=e*m;for(let e=0;e<n.outHeight;++e){const f=c+e*g,m=e*n.strideHeight-l;for(let e=0;e<r;e++){const r=m+e*o;if(r<0||r>=n.inHeight)continue;const l=e*t.strides[0],c=u+r*h;for(let e=0;e<n.outWidth;++e){const r=f+e*b,o=e*n.strideWidth-s;for(let e=0;e<i;e++){const i=o+e*a;if(i<0||i>=n.inWidth)continue;const s=l+e*t.strides[1],u=c+i*d;let f=s;for(let e=0;e<n.inChannels;++e){const t=v[u+e*p];for(let e=0;e<n.outChannels;++e)x[r+e*y]+=t*w[f+e];f+=n.outChannels}}}}}}return c.toTensor()}conv3d(e,t,n){const r=n.filterDepth,i=n.filterHeight,o=n.filterWidth,a=n.dilationDepth,s=n.dilationHeight,l=n.dilationWidth,u=n.padInfo.front,c=n.padInfo.left,f=n.padInfo.top,h=Ub.N(n.outShape,e.dtype),d=this.readSync(e.dataId),p=this.readSync(t.dataId),m=h.values;for(let g=0;g<n.batchSize;++g){const b=g*e.strides[0],y=g*h.strides[0];for(let g=0;g<n.outDepth;++g){const v=y+g*h.strides[1],w=g*n.strideDepth-u;for(let u=0;u<r;u++){const r=w+u*a;if(r<0||r>=n.inDepth)continue;const g=u*t.strides[0],y=b+r*e.strides[1];for(let r=0;r<n.outHeight;++r){const a=v+r*h.strides[2],u=r*n.strideHeight-f;for(let r=0;r<i;r++){const i=u+r*s;if(i<0||i>=n.inHeight)continue;const f=g+r*t.strides[1],h=y+i*e.strides[2];for(let e=0;e<n.outWidth;++e){const r=a+e*n.outChannels,i=e*n.strideWidth-c;for(let e=0;e<o;e++){const o=i+e*l;if(o<0||o>=n.inWidth)continue;const a=f+e*t.strides[2],s=h+o*n.inChannels;let u=a;for(let e=0;e<n.inChannels;++e){const t=d[s+e];for(let e=0;e<n.outChannels;++e)m[r+e]+=t*p[u+e];u+=n.outChannels}}}}}}}}return h.toTensor()}conv2dDerInput(e,t,n){gN([e,t],"conv2dDerInput");const r=Ub.N(n.inShape,"float32"),i=r.values,o=this.readSync(e.dataId),a=this.readSync(t.dataId),[s,l,u]=t.strides,{batchSize:c,filterHeight:f,filterWidth:h,inChannels:d,inHeight:p,inWidth:m,outChannels:g,outHeight:b,outWidth:y,strideHeight:v,strideWidth:w,dataFormat:x}=n,_=f-1-n.padInfo.top,S=h-1-n.padInfo.left,E="channelsLast"===x,C=r.strides[0],k=E?r.strides[1]:r.strides[2],O=E?r.strides[2]:1,T=E?1:r.strides[1],N=e.strides[0],A=E?e.strides[1]:e.strides[2],I=E?e.strides[2]:1,j=E?1:e.strides[1];for(let e=0;e<c;++e)for(let t=0;t<d;++t)for(let n=0;n<p;++n){const r=n-_,c=Math.max(0,Math.ceil(r/v)),d=Math.min(b,(f+r)/v);for(let p=0;p<m;++p){const m=p-S,b=Math.max(0,Math.ceil(m/w)),x=Math.min(y,(h+m)/w);let _=0;for(let n=c;n<d;++n){const i=n*v-r;for(let r=b;r<x;++r){const c=r*w-m,d=N*e+A*n+I*r,p=s*(f-1-i)+l*(h-1-c)+u*t;for(let e=0;e<g;++e){const t=o[d+j*e],n=a[p+e];_+=t*n}}}const E=C*e+k*n+O*p+T*t;i[E]=_}}return r.toTensor()}conv3dDerInput(e,t,n){const r=Ub.N(n.inShape,"float32"),i=r.values,[o,a,s,l]=r.strides,u=this.readSync(e.dataId),[c,f,h,d]=e.strides,p=this.readSync(t.dataId),[m,g,b,y]=t.strides,{batchSize:v,filterDepth:w,filterHeight:x,filterWidth:_,inChannels:S,inDepth:E,inHeight:C,inWidth:k,outChannels:O,outDepth:T,outHeight:N,outWidth:A,strideDepth:I,strideHeight:j,strideWidth:R}=n,M=w-1-n.padInfo.front,P=x-1-n.padInfo.top,D=_-1-n.padInfo.left;for(let e=0;e<v;++e)for(let t=0;t<S;++t)for(let n=0;n<E;++n){const r=n-M,v=Math.max(0,Math.ceil(r/I)),S=Math.min(T,(w+r)/I);for(let E=0;E<C;++E){const C=E-P,T=Math.max(0,Math.ceil(C/j)),M=Math.min(N,(x+C)/j);for(let N=0;N<k;++N){const k=N-D,P=Math.max(0,Math.ceil(k/R)),L=Math.min(A,(_+k)/R);let F=0;for(let n=v;n<S;++n){const i=n*I-r;for(let r=T;r<M;++r){const o=r*j-C;for(let a=P;a<L;++a){const s=a*R-k,l=c*e+f*n+h*r+d*a,v=m*(w-1-i)+g*(x-1-o)+b*(_-1-s)+y*t;for(let e=0;e<O;++e){const t=u[l+e],n=p[v+e];F+=t*n}}}}i[o*e+a*n+s*E+l*N+t]=F}}}return r.toTensor()}conv2dDerFilter(e,t,n){gN([e,t],"conv2dDerFilter");const r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s="channelsLast"===n.dataFormat,l=Ub.N(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,f=this.bufferSync(e),h=this.bufferSync(t);for(let e=0;e<o;++e){const t=Math.max(0,Math.ceil((c-e)/r)),o=Math.min(n.outHeight,(n.inHeight+c-e)/r);for(let d=0;d<a;++d){const a=Math.max(0,Math.ceil((u-d)/i)),p=Math.min(n.outWidth,(n.inWidth+u-d)/i);for(let m=0;m<n.inChannels;++m)for(let g=0;g<n.outChannels;++g){let b=0;for(let l=0;l<n.batchSize;++l)for(let n=t;n<o;++n){const t=e+n*r-c;for(let e=a;e<p;++e){const r=d+e*i-u;b+=s?f.get(l,t,r,m)*h.get(l,n,e,g):f.get(l,m,t,r)*h.get(l,g,n,e)}}l.set(b,e,d,m,g)}}}return l.toTensor()}conv3dDerFilter(e,t,n){const r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=Ub.N(n.filterShape,"float32"),c=u.values,[f,h,d,p]=u.strides,m=this.readSync(t.dataId),[g,b,y,v]=t.strides,w=this.readSync(e.dataId),[x,_,S,E]=e.strides,C=n.padInfo.front,k=n.padInfo.left,O=n.padInfo.top;for(let e=0;e<a;++e){const t=Math.max(0,Math.ceil((C-e)/r)),a=Math.min(n.outDepth,(n.inDepth+C-e)/r),u=e*f;for(let f=0;f<s;++f){const s=Math.max(0,Math.ceil((O-f)/i)),T=Math.min(n.outHeight,(n.inHeight+O-f)/i),N=f*h+u;for(let u=0;u<l;++u){const l=Math.max(0,Math.ceil((k-u)/o)),h=Math.min(n.outWidth,(n.inWidth+k-u)/o),A=u*d+N;for(let d=0;d<n.inChannels;++d){const N=d*p+A;for(let p=0;p<n.outChannels;++p){let A=0;for(let c=0;c<n.batchSize;++c){const n=c*x,N=c*g;for(let c=t;c<a;++c){const t=e+c*r-C,a=t*_+n,g=c*b+N;for(let e=s;e<T;++e){const t=f+e*i-O,n=t*S+a,r=e*y+g;for(let e=l;e<h;++e){const t=u+e*o-k,i=t*E+n,a=e*v+r;A+=w[i+d]*m[a+p]}}}}c[N+p]=A}}}}}return u.toTensor()}fusedDepthwiseConv2D({input:e,filter:t,convInfo:n,bias:r,activation:i,preluActivationWeights:o}){let a=this.depthwiseConv2D(e,t,n);return r&&(a=this.add(a,r)),i&&(a=EN(this,a,i,o)),a}depthwiseConv2D(e,t,n){gN([e,t],"depthwiseConv2D");const r=n.filterHeight,i=n.filterWidth,o=n.dilationHeight,a=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=Ub.N(n.outShape,e.dtype),f=this.readSync(e.dataId),h=this.readSync(t.dataId),d=c.values;for(let p=0;p<n.batchSize;++p){const m=p*e.strides[0],g=p*c.strides[0];for(let p=0;p<n.outHeight;++p){const b=g+p*c.strides[1],y=p*n.strideHeight-s;for(let s=0;s<r;++s){const r=y+s*o;if(r<0||r>=n.inHeight)continue;const p=s*t.strides[0],g=m+r*e.strides[1];for(let e=0;e<n.outWidth;++e){const r=b+e*c.strides[2],o=e*n.strideWidth-l;for(let e=0;e<i;++e){const i=o+e*a;if(i<0||i>=n.inWidth)continue;const s=p+e*t.strides[1],l=g+i*n.inChannels;let c=r,m=s;for(let e=0;e<n.inChannels;++e){const t=f[l+e];for(let e=0;e<u;++e)d[c+e]+=t*h[m+e];c+=u,m+=u}}}}}}return c.toTensor()}depthwiseConv2DDerInput(e,t,n){gN([e,t],"depthwiseConv2DDerInput");const r=Ub.N(n.inShape,"float32"),i=r.values,[o,a,s]=r.strides,l=this.readSync(e.dataId),[u,c,f]=e.strides,h=this.readSync(t.dataId),[d,p,m]=t.strides,{batchSize:g,filterHeight:b,filterWidth:y,inChannels:v,inHeight:w,inWidth:x,outChannels:_,outHeight:S,outWidth:E,strideHeight:C,strideWidth:k}=n,O=b-1-n.padInfo.top,T=y-1-n.padInfo.left,N=_/v;for(let e=0;e<g;++e)for(let t=0;t<v;++t)for(let n=0;n<w;++n){const r=n-O,g=Math.max(0,Math.ceil(r/C)),v=Math.min(S,(b+r)/C);for(let w=0;w<x;++w){const x=w-T,_=Math.max(0,Math.ceil(x/k)),S=Math.min(E,(y+x)/k);let O=0;for(let n=g;n<v;++n){const i=n*C-r;for(let r=_;r<S;++r){const o=r*k-x,a=u*e+c*n+f*r,s=d*(b-1-i)+p*(y-1-o)+m*t;for(let e=0;e<N;++e){const n=t*N+e,r=l[a+n],i=h[s+e];O+=r*i}}}i[o*e+a*n+s*w+t]=O}}return r.toTensor()}depthwiseConv2DDerFilter(e,t,n){gN([e,t],"depthwiseConv2DDerFilter");const r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=Ub.N(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,f=this.bufferSync(e),h=this.bufferSync(t);for(let e=0;e<o;++e){const t=Math.max(0,Math.ceil((u-e)/r)),o=Math.min(n.outHeight,(n.inHeight+u-e)/r);for(let d=0;d<a;++d){const a=Math.max(0,Math.ceil((l-d)/i)),p=Math.min(n.outWidth,(n.inWidth+l-d)/i);for(let m=0;m<n.outChannels;++m){const g=Math.trunc(m/c),b=m%c;let y=0;for(let s=0;s<n.batchSize;++s)for(let n=t;n<o;++n){const t=e+n*r-u;for(let e=a;e<p;++e){const r=d+e*i-l;y+=f.get(s,t,r,g)*h.get(s,n,e,m)}}s.set(y,e,d,g,b)}}}return s.toTensor()}tile(e,t){return gN(e,"tile"),xN(this.bufferSync(e),t)}pad(e,t,n){gN(e,"pad");const r=t.map((t,n)=>t[0]+e.shape[n]+t[1]),i=t.map(e=>e[0]),o=this.bufferSync(e),a=Ub.N(r,e.dtype);0!==n&&a.values.fill(n);for(let t=0;t<e.size;t++){const e=o.indexToLoc(t),n=e.map((e,t)=>e+i[t]);a.set(o.get(...e),...n)}return a.toTensor()}gather(e,t,n){gN([e,t],"gather");const r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;const o=Ub.N(r,e.dtype),a=this.bufferSync(e);for(let e=0;e<o.size;++e){const t=o.indexToLoc(e),r=t.slice();r[n]=i[t[n]];const s=a.locToIndex(r);o.values[e]=a.values[s]}return o.toTensor()}batchToSpaceND(e,t,n){gN([e],"batchToSpaceND");const r=t.reduce((e,t)=>e*t),i=Ub.F.getReshaped(e.shape,t,r),o=Ub.F.getPermuted(i.length,t.length),a=Ub.F.getReshapedPermuted(e.shape,t,r),s=Ub.F.getSliceBeginCoords(n,t.length),l=Ub.F.getSliceSize(a,n,t.length);return Ub.xd(e.reshape(i),o).reshape(a).slice(s,l)}spaceToBatchND(e,t,n){gN([e],"spaceToBatchND");const r=t.reduce((e,t)=>e*t),i=[[0,0]];i.push(...n);for(let n=1+t.length;n<e.shape.length;++n)i.push([0,0]);const o=e.pad(i),a=Ub.F.getReshaped(o.shape,t,r,!1),s=Ub.F.getPermuted(a.length,t.length,!1),l=Ub.F.getReshapedPermuted(o.shape,t,r,!1);return Ub.xd(o.reshape(a),s).reshape(l)}maxPool(e,t){gN(e,"maxPool");const n=this.readSync(e.dataId);return bN(n,e.shape,e.dtype,e.strides,t,"max").toTensor()}maxPoolBackprop(e,t,n,r){gN([t,n],"maxPoolBackprop");const i=this.readSync(t.dataId),o=Object(Ub.N)(r.outShape,t.dtype,yN(i,t.shape,t.dtype,r).values),a=r.strideHeight,s=r.strideWidth,l=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=f-1-r.padInfo.left,d=c-1-r.padInfo.top,p=Ub.N(t.shape,"float32"),m=this.bufferSync(e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.inHeight;++n)for(let i=0;i<r.inWidth;++i){const g=n-d,b=i-h;let y=0;for(let n=0;n<c;n+=l){const i=(g+n)/a;if(!(i<0||i>=r.outHeight||Math.floor(i)!==i))for(let a=0;a<f;a+=u){const l=(b+a)/s;if(l<0||l>=r.outWidth||Math.floor(l)!==l)continue;const u=c*f-1-o.get(e,i,l,t),h=n*f+a,d=u===h?1:0;if(0===d)continue;const p=m.get(e,i,l,t);y+=p*d}}p.set(y,e,n,i,t)}return p.toTensor()}avgPoolBackprop(e,t,n){gN([e,t],"avgPoolBackprop");const r=n.strideHeight,i=n.strideWidth,o=n.filterHeight,a=n.filterWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=c-1-n.padInfo.left,h=u-1-n.padInfo.top,d=Ub.N(t.shape,"float32"),p=1/(o*a),m=this.bufferSync(e);for(let e=0;e<n.batchSize;++e)for(let t=0;t<n.inChannels;++t)for(let o=0;o<n.inHeight;++o)for(let a=0;a<n.inWidth;++a){const g=o-h,b=a-f;let y=0;for(let o=0;o<u;o+=s){const a=(g+o)/r;if(!(a<0||a>=n.outHeight||Math.floor(a)!==a))for(let r=0;r<c;r+=l){const o=(b+r)/i;if(o<0||o>=n.outWidth||Math.floor(o)!==o)continue;const s=m.get(e,a,o,t);y+=s}}d.set(y*p,e,o,a,t)}return d.toTensor()}pool3d(e,t,n){gN(e,"pool3d");const r=t.strideDepth,i=t.strideHeight,o=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=t.padInfo.front,d=t.padInfo.top,p=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),b=Ub.N(t.outShape,e.dtype),y=b.values,v=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[3]*t.outShape[4],_=t.outShape[4];for(let b=0;b<t.batchSize;++b){const S=b*v,E=b*e.strides[0];for(let b=0;b<t.inChannels;++b)for(let v=0;v<t.outDepth;++v){const C=v*r-h;let k=C;for(;k<0;)k+=a;const O=Math.min(t.inDepth,u+C),T=S+v*w;for(let r=0;r<t.outHeight;++r){const u=r*i-d;let h=u;for(;h<0;)h+=s;const v=Math.min(t.inHeight,c+u),w=T+r*x;for(let r=0;r<t.outWidth;++r){const i=r*o-p;let u=i;for(;u<0;)u+=l;const c=Math.min(t.inWidth,f+i),d=w+r*_;let x=m,S=0,C=0;for(let t=k;t<O;t+=a){const r=E+t*e.strides[1];for(let t=h;t<v;t+=s){const i=r+t*e.strides[2];for(let t=u;t<c;t+=l){const r=i+t*e.strides[3],o=g[r+b];if("max"===n&&o>x?x=o:"avg"===n&&(S+=o,C++),isNaN(x))break}if(isNaN(x))break}if(isNaN(x))break}const T=d+b;y[T]="avg"===n?S/C:x}}}}return b.toTensor()}avgPool3d(e,t){return gN(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()}avgPool3dBackprop(e,t,n){gN([e,t],"avgPool3dBackprop");const r=n.strideDepth,i=n.strideHeight,o=n.strideWidth,a=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=n.dilationDepth,c=n.dilationHeight,f=n.dilationWidth,h=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,m=h-1-n.padInfo.front,g=p-1-n.padInfo.left,b=d-1-n.padInfo.top,y=Ub.N(t.shape,"float32"),v=1/(a*s*l),w=this.bufferSync(e);for(let e=0;e<n.batchSize;++e)for(let t=0;t<n.inChannels;++t)for(let a=0;a<n.inDepth;++a)for(let s=0;s<n.inHeight;++s)for(let l=0;l<n.inWidth;++l){const x=a-m,_=s-b,S=l-g;let E=0;for(let a=0;a<h;a+=u){const s=(x+a)/r;if(!(s<0||s>=n.outDepth||Math.floor(s)!==s))for(let r=0;r<d;r+=c){const a=(_+r)/i;if(!(a<0||a>=n.outHeight||Math.floor(a)!==a))for(let r=0;r<p;r+=f){const i=(S+r)/o;if(i<0||i>=n.outWidth||Math.floor(i)!==i)continue;const l=w.get(e,s,a,i,t);E+=l}}}y.set(E*v,e,a,s,l,t)}return y.toTensor()}maxPool3d(e,t){return gN(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()}maxPool3dPositions(e,t){const n=Ub.N(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,o=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=t.padInfo.front,d=t.padInfo.top,p=t.padInfo.left,m=this.bufferSync(e);for(let e=0;e<t.batchSize;++e)for(let g=0;g<t.inChannels;++g)for(let b=0;b<t.outDepth;++b){const y=b*r-h;let v=y;for(;v<0;)v+=a;const w=Math.min(t.inDepth,u+y);for(let r=0;r<t.outHeight;++r){const u=r*i-d;let h=u;for(;h<0;)h+=s;const x=Math.min(t.inHeight,c+u);for(let i=0;i<t.outWidth;++i){const d=i*o-p;let _=d;for(;_<0;)_+=l;const S=Math.min(t.inWidth,f+d);let E=Number.NEGATIVE_INFINITY,C=-1;for(let t=v;t<w;t+=a){const n=t-y;for(let r=h;r<x;r+=s){const i=r-u;for(let o=_;o<S;o+=l){const a=o-d,s=m.get(e,t,r,o,g);s>=E&&(E=s,C=n*c*f+i*c+a)}}}n.set(C,e,b,r,i,g)}}}return n.toTensor()}maxPool3dBackprop(e,t,n,r){gN([t,n],"maxPool3dBackprop");const i=this.maxPool3dPositions(t,r),o=r.strideDepth,a=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterDepth,h=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=f-1-r.padInfo.front,m=d-1-r.padInfo.left,g=h-1-r.padInfo.top,b=Ub.N(t.shape,"float32"),y=this.bufferSync(i),v=this.bufferSync(e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.inDepth;++n)for(let i=0;i<r.inHeight;++i)for(let w=0;w<r.inWidth;++w){const x=n-p,_=i-g,S=w-m;let E=0;for(let n=0;n<f;n+=l){const i=(x+n)/o;if(!(i<0||i>=r.outDepth||Math.floor(i)!==i))for(let o=0;o<h;o+=u){const l=(_+o)/a;if(!(l<0||l>=r.outHeight||Math.floor(l)!==l))for(let a=0;a<d;a+=c){const u=(S+a)/s;if(u<0||u>=r.outWidth||Math.floor(u)!==u)continue;const c=f*h*d-1-y.get(e,i,l,u,t),p=n*h*d+o*d+a,m=c===p?1:0;if(0===m)continue;const g=v.get(e,i,l,u,t);E+=g*m}}}b.set(E,e,n,i,w,t)}return b.toTensor()}cast(e,t){return Ub.F.castTensor(e,t,this)}reshape(e,t){return Ub.F.reshapeTensor(e,t)}avgPool(e,t){gN(e,"avgPool"),gN(e,"maxPool");const n=this.readSync(e.dataId);return bN(n,e.shape,e.dtype,e.strides,t,"avg").toTensor().toFloat()}resizeBilinear(e,t,n,r){gN(e,"resizeBilinear");const[i,o,a,s]=e.shape,l=this.readSync(e.dataId),u=new Float32Array(Ub.Bd.sizeFromShape([i,t,n,s])),c=[r&&t>1?o-1:o,r&&n>1?a-1:a],f=[r&&t>1?t-1:t,r&&n>1?n-1:n];let h=0;const d=c[0]/f[0],p=c[1]/f[1];for(let r=0;r<i;r++)for(let i=0;i<t;i++){const t=d*i,c=Math.floor(t),f=t-c,m=Math.min(o-1,Math.ceil(t)),g=r*e.strides[0]+c*e.strides[1],b=r*e.strides[0]+m*e.strides[1];for(let t=0;t<n;t++){const n=p*t,r=Math.floor(n),i=n-r,o=Math.min(a-1,Math.ceil(n)),c=g+r*e.strides[2],d=b+r*e.strides[2],m=g+o*e.strides[2],y=b+o*e.strides[2];for(let e=0;e<s;e++){const t=l[c+e],n=l[d+e],r=l[m+e],o=l[y+e],a=t+(r-t)*i,s=n+(o-n)*i,p=a+(s-a)*f;u[h++]=p}}}return Ub.od(u,[i,t,n,s])}resizeBilinearBackprop(e,t,n){gN([e,t],"resizeBilinearBackprop");const[r,i,o,a]=t.shape,[,s,l]=e.shape,u=new Float32Array(r*i*o*a),c=[n&&s>1?i-1:i,n&&l>1?o-1:o],f=[n&&s>1?s-1:s,n&&l>1?l-1:l],h=c[0]/f[0],d=c[1]/f[1],p=this.readSync(e.dataId);let m=0;for(let e=0;e<r;e++){const n=e*t.strides[0];for(let e=0;e<s;e++){const r=e*h,s=Math.floor(r),c=Math.min(Math.ceil(r),i-1),f=n+s*t.strides[1],g=n+c*t.strides[1],b=r-s,y=1-b;for(let e=0;e<l;e++){const n=e*d,r=Math.floor(n),i=Math.min(Math.ceil(n),o-1),s=n-r,l=1-s,c=f+r*t.strides[2],h=f+i*t.strides[2],v=g+r*t.strides[2],w=g+i*t.strides[2],x=y*l,_=y*s,S=b*l,E=b*s;for(let e=0;e<a;e++){const t=p[m++];u[c+e]+=t*x,u[h+e]+=t*_,u[v+e]+=t*S,u[w+e]+=t*E}}}}return Ub.rd(u,[r,o,i,a],t.dtype)}resizeNearestNeighbor(e,t,n,r){gN(e,"resizeNearestNeighbor");const[i,o,a,s]=e.shape,l=this.readSync(e.dataId),u=new Float32Array(i*t*n*s),c=[r&&t>1?o-1:o,r&&n>1?a-1:a],f=[r&&t>1?t-1:t,r&&n>1?n-1:n],h=c[0]/f[0],d=c[1]/f[1];let p=0;for(let c=0;c<i;c++){const i=c*e.strides[0];for(let c=0;c<t;c++){const t=h*c,f=Math.min(o-1,r?Math.round(t):Math.floor(t)),m=i+f*e.strides[1];for(let t=0;t<n;t++){const n=d*t,i=Math.min(a-1,r?Math.round(n):Math.floor(n)),o=m+i*e.strides[2];for(let e=0;e<s;e++){const t=l[o+e];u[p++]=t}}}}return Ub.od(u,[i,t,n,s],e.dtype)}resizeNearestNeighborBackprop(e,t,n){gN([e,t],"resizeNearestNeighborBackprop");const[r,i,o,a]=t.shape,[,s,l]=e.shape,u=new Float32Array(r*i*o*a),c=this.readSync(e.dataId),f=[n&&s>1?i-1:i,n&&l>1?o-1:o],h=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=f[0]/h[0],p=f[1]/h[1],m=1/d,g=1/p,b=2*Math.ceil(m)+2,y=2*Math.ceil(g)+2;for(let f=0;f<r;f++){const r=f*t.strides[0];for(let f=0;f<i;f++){const h=r+f*t.strides[1],v=Math.floor(f*m),w=Math.floor(v-b/2);for(let m=0;m<o;m++){const v=h+m*t.strides[2],x=Math.floor(m*g),_=Math.floor(x-y/2);for(let t=0;t<a;t++){let a=0;for(let u=0;u<b;u++){const h=u+w;if(h<0||h>=s)continue;const g=r+h*e.strides[1],b=h*d,v=Math.min(i-1,n?Math.round(b):Math.floor(b));if(f===v)for(let r=0;r<y;r++){const i=r+_;if(i<0||i>=l)continue;const s=g+i*e.strides[2],u=i*p,f=Math.min(o-1,n?Math.round(u):Math.floor(u));m===f&&(a+=c[s+t])}}u[v+t]=a}}}}return Ub.rd(u,t.shape,t.dtype)}batchNorm(e,t,n,r,i,o){gN([e,t,n,i,r],"batchNorm");const a=this.readSync(e.dataId),s=this.readSync(t.dataId),l=this.readSync(n.dataId),u=i?this.readSync(i.dataId):new Float32Array([1]),c=r?this.readSync(r.dataId):new Float32Array([0]),f=new Float32Array(a.length),h=c.length,d=u.length,p=l.length,m=s.length;let g=0,b=0,y=0,v=0;for(let e=0;e<a.length;++e)f[e]=c[g++]+(a[e]-s[b++])*u[y++]/Math.sqrt(l[v++]+o),g>=h&&(g=0),b>=m&&(b=0),y>=d&&(y=0),v>=p&&(v=0);return Ub.rd(f,e.shape)}localResponseNormalization4D(e,t,n,r,i){gN(e,"localResponseNormalization4D");const o=e.shape[3],a=o-1,s=this.readSync(e.dataId),l=e.size,u=new Float32Array(l);function c(e){const n=e%o;let r=e-n+Math.max(0,n-t);const i=e-n+Math.min(n+t,a);let l=0;for(;r<=i;r++){const e=s[r];l+=e*e}return l}for(let e=0;e<l;e++){const t=c(e),o=s[e]*Math.pow(n+r*t,-i);u[e]=o}return Ub.rd(u,e.shape)}LRNGrad(e,t,n,r,i,o,a){gN(e,"LRNGrad");const s=e.shape[3],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=this.readSync(n.dataId),f=new Float32Array(e.size),h=e.size;for(let e=0;e<h;e++){const t=e%s,n=e-t+Math.max(0,t-r),h=e-t+Math.min(s,t+r+1);let d=0;for(let e=n;e<h;e++)d+=Math.pow(u[e],2);d=o*d+i;for(let t=n;t<h;t++){let n=-2*o*a*u[t]*c[e]/d;e===t&&(n+=Math.pow(d,-a)),n*=l[e],f[t]+=n}}return Ub.rd(f,e.shape)}multinomial(e,t,n,r){gN(e,"multinomial");const i=t?e:Ub.Yc(e),o=i.shape[0],a=i.shape[1],s=Ub.Hd([o,n],"int32"),l=this.readSync(s.dataId),u=this.readSync(i.dataId);for(let e=0;e<o;++e){const t=e*a,i=new Float32Array(a-1);i[0]=u[t];for(let e=1;e<i.length;++e)i[e]=i[e-1]+u[t+e];const o=PT.alea(r.toString()),s=e*n;for(let e=0;e<n;++e){const t=o();l[s+e]=i.length;for(let n=0;n<i.length;n++)if(t<i[n]){l[s+e]=n;break}}}return s}oneHot(e,t,n,r){gN(e,"oneHot");const i=new Float32Array(e.size*t);i.fill(r);const o=this.readSync(e.dataId);for(let r=0;r<e.size;++r)o[r]>=0&&o[r]<t&&(i[r*t+o[r]]=n);return Ub.qd(i,[e.size,t],"int32")}nonMaxSuppression(e,t,n,r,i){gN(e,"nonMaxSuppression");const o=this.readSync(e.dataId),a=this.readSync(t.dataId);return vN(o,a,n,r,i)}fft(e){return this.fftBatch(e,!1)}ifft(e){return this.fftBatch(e,!0)}fftBatch(e,t){const n=e.shape[0],r=e.shape[1],i=Ub.N(e.shape,"float32"),o=Ub.N(e.shape,"float32"),a=Ub.xc(e).as2D(n,r),s=Ub.Eb(e).as2D(n,r);for(let e=0;e<n;e++){const n=a.slice([e,0],[1,r]),l=s.slice([e,0],[1,r]),u=Ub.R(n,l),c=this.readSync(this.fftImpl(u,t).dataId);for(let t=0;t<r;t++){const n=Ub.F.getComplexWithIndex(c,t);i.values[e*r+t]=n.real,o.values[e*r+t]=n.imag}}const l=Ub.R(i.toTensor(),o.toTensor());return l.as2D(n,r)}fftImpl(e,t){const n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){let i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=Ub.R(Ub.xc(i).div(Ub.Hc(r)),Ub.Eb(i).div(Ub.Hc(r)))),i}{const n=this.readSync(e.dataId),i=this.fourierTransformByMatmul(n,r,t),o=Ub.F.splitRealAndImagArrays(i);return Ub.R(o.real,o.imag).as2D(e.shape[0],e.shape[1])}}isExponentOf2(e){return 0==(e&e-1)}fftRadix2(e,t,n){if(1===t)return e;const r=this.readSync(e.dataId),i=t/2,o=Ub.F.complexWithEvenIndex(r);let a=Ub.R(o.real,o.imag).as1D();const s=Ub.F.complexWithOddIndex(r);let l=Ub.R(s.real,s.imag).as1D();a=this.fftRadix2(a,i,n),l=this.fftRadix2(l,i,n);const u=Ub.F.exponents(t,n),c=Ub.R(u.real,u.imag).mul(l),f=a.add(c),h=a.sub(c),d=Ub.xc(f).concat(Ub.xc(h)),p=Ub.Eb(f).concat(Ub.Eb(h));return Ub.R(d,p).as1D()}fourierTransformByMatmul(e,t,n){const r=new Float32Array(2*t);for(let i=0;i<t;i++){let o=0,a=0;for(let r=0;r<t;r++){const s=Ub.F.exponent(i*r,t,n),l=Ub.F.getComplexWithIndex(e,r);o+=l.real*s.real-l.imag*s.imag,a+=l.real*s.imag+l.imag*s.real}n&&(o/=t,a/=t),Ub.F.assignToTypedArray(r,o,a,i)}return r}depthToSpace(e,t,n){Ub.Bd.assert("NHWC"===n,()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${n}`),Ub.Bd.assert(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`);const r=e.shape[0],i=e.shape[1],o=e.shape[2],a=e.shape[3],s=i*t,l=o*t,u=a/(t*t),c=this.readSync(e.dataId),f=new Float32Array(r*s*l*u);let h=0;for(let e=0;e<r;++e)for(let n=0;n<s;++n){const r=Math.floor(n/t),s=n%t;for(let n=0;n<l;++n){const l=Math.floor(n/t),d=n%t,p=(s*t+d)*u;for(let t=0;t<u;++t){const n=t+p,s=n+a*(l+o*(r+i*e));f[h++]=c[s]}}}return Ub.rd(f,[r,s,l,u])}broadcastedBinaryOp(e,t,n,r){const i=Ub.F.assertAndGetBroadcastShape(e.shape,t.shape),o=Ub.N(i,n),a=this.readSync(e.dataId),s=this.readSync(t.dataId),l=Ub.F.getBroadcastDims(e.shape,i),u=Ub.F.getBroadcastDims(t.shape,i),c=o.values;if(l.length+u.length===0)for(let e=0;e<c.length;++e)c[e]=r(a[e%a.length],s[e%s.length]);else{const n=this.bufferSync(e),i=this.bufferSync(t);for(let f=0;f<c.length;++f){const h=o.indexToLoc(f),d=h.slice(-e.rank);l.forEach(e=>d[e]=0);const p=n.locToIndex(d),m=h.slice(-t.rank);u.forEach(e=>m[e]=0);const g=i.locToIndex(m);c[f]=r(a[p],s[g])}}return o.toTensor()}broadcastedBinaryComplexOp(e,t,n){const r=Ub.F.assertAndGetBroadcastShape(e.shape,t.shape),i=Ub.N(r,"float32"),o=Ub.N(r,"float32"),a=this.readSync(e.dataId),s=this.readSync(t.dataId),l=Ub.F.getBroadcastDims(e.shape,r),u=Ub.F.getBroadcastDims(t.shape,r),c=i.values,f=o.values;if(l.length+u.length===0)for(let e=0;e<c.length;e++){const t=e%a.length,r=e%s.length,i=n(a[2*t],a[2*t+1],s[2*r],s[2*r+1]);c[e]=i.real,f[e]=i.imag}else{const r=this.bufferSync(this.data.get(e.dataId).complexTensors.real),o=this.bufferSync(this.data.get(t.dataId).complexTensors.real);for(let h=0;h<c.length;h++){const d=i.indexToLoc(h),p=d.slice(-e.rank);l.forEach(e=>p[e]=0);const m=r.locToIndex(p),g=d.slice(-t.rank);u.forEach(e=>g[e]=0);const b=o.locToIndex(g),y=n(a[2*m],a[2*m+1],s[2*b],s[2*b+1]);c[h]=y.real,f[h]=y.imag}}return this.complex(i.toTensor(),o.toTensor())}split(e,t,n){return wN(e,t,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}cropAndResize(e,t,n,r,i,o){const[a,s,l,u]=e.shape,c=t.shape[0],[f,h]=r,d=Ub.N([c,f,h,u],"float32"),p=this.readSync(t.dataId),m=this.readSync(n.dataId),g=this.readSync(e.dataId),b=e.strides,y=d.strides;for(let e=0;e<c;e++){const t=4*e,n=p[t],r=p[t+1],c=p[t+2],v=p[t+3],w=m[e];if(w>=a)continue;const x=f>1?(c-n)*(s-1)/(f-1):0,_=h>1?(v-r)*(l-1)/(h-1):0;for(let t=0;t<f;t++){const a=f>1?n*(s-1)+t*x:.5*(n+c)*(s-1);if(a<0||a>s-1)for(let n=0;n<h;n++)for(let r=0;r<u;r++){const i=r+n*y[2]+t*y[1]+e*y[0];d.values[i]=o}else if("bilinear"===i){const n=Math.floor(a),i=Math.ceil(a),s=a-n;for(let a=0;a<h;a++){const c=h>1?r*(l-1)+a*_:.5*(r+v)*(l-1);if(c<0||c>l-1){for(let n=0;n<u;n++){const r=n+a*y[2]+t*y[1]+e*y[0];d.values[r]=o}continue}const f=Math.floor(c),p=Math.ceil(c),m=c-f;for(let r=0;r<u;r++){let o=r+f*b[2]+n*b[1]+w*b[0];const l=g[o],u=g[o=r+p*b[2]+n*b[1]+w*b[0]],c=g[o=r+f*b[2]+i*b[1]+w*b[0]],h=g[o=r+p*b[2]+i*b[1]+w*b[0]],v=l+(u-l)*m,x=c+(h-c)*m;o=r+a*y[2]+t*y[1]+e*y[0],d.values[o]=v+(x-v)*s}}}else for(let n=0;n<h;++n){const i=h>1?r*(l-1)+n*_:.5*(r+v)*(l-1);if(i<0||i>l-1){for(let r=0;r<u;r++){const i=r+n*y[2]+t*y[1]+e*y[0];d.values[i]=o}continue}const s=Math.round(i),c=Math.round(a);for(let r=0;r<u;r++){const i=r+s*b[2]+c*b[1]+w*b[0],o=r+n*y[2]+t*y[1]+e*y[0];d.values[o]=g[i]}}}}return d.toTensor()}sparseToDense(e,t,n,r){const{sliceRank:i,numUpdates:o,sliceSize:a,strides:s,outputSize:l}=Ub.F.calculateShapes(t,e,n),u=!1;return this.scatter(e,t,n,l,a,o,i,s,r,!1)}gatherND(e,t){const n=t.shape,r=n[n.length-1],[i,o,a,s]=Ub.F.prepareAndValidate(e,t);if(0===o)return Ub.od([],i,e.dtype);const l=new Ub.m([o,a],e.dtype),u=this.readSync(t.dataId),c=this.readSync(e.dataId);for(let t=0;t<o;t++){const n=[];let i=0;for(let e=0;e<r;e++){const o=u[t*r+e];i+=o*s[e],n.push(o)}if(i<0||i>=e.size/a)throw new Error(`Invalid indices: ${n} does not index into ${e.shape}`);for(let e=0;e<a;e++)l.values[t*a+e]=c[i*a+e]}return l.toTensor().reshape(i)}scatterND(e,t,n){const{sliceRank:r,numUpdates:i,sliceSize:o,strides:a,outputSize:s}=Ub.F.calculateShapes(t,e,n),l=Ub.Hc(0),u=!0;return this.scatter(e,t,n,s,o,i,r,a,l,!0)}fill(e,t,n){n=n||Ub.Bd.inferDtype(t);const r=Ub.Bd.getArrayFromDType(n,Ub.Bd.sizeFromShape(e));return r.fill(t),Object(Ub.mb)().makeTensor(r,e,n,this)}onesLike(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)}zerosLike(e){const t=Ub.Bd.getArrayFromDType(e.dtype,Ub.Bd.sizeFromShape(e.shape));return this.makeOutput(t,e.shape,e.dtype)}linspace(e,t,n){return Ub.F.linspaceImpl(e,t,n)}scatter(e,t,n,r,i,o,a,s,l,u){const c=[r/i,i],f=this.readSync(e.dataId),h=this.readSync(t.dataId);if(0===r)return Ub.od([],n,t.dtype);const d=new Ub.m(c,t.dtype);d.values.fill(this.readSync(l.dataId)[0]);for(let e=0;e<o;e++){const o=[];let l=0;for(let t=0;t<a;t++){const n=f[e*a+t];o.push(n),l+=n*s[t]}if(l<0||l>=r/i)throw new Error(`Invalid indices: ${o} does not index into ${n}`);for(let n=0;n<i;n++)u?d.values[l*i+n]+=h[e*i+n]:d.values[l*i+n]=0===t.rank?h[0]:h[e*i+n]}return d.toTensor().reshape(n)}}
/** @license See the LICENSE file. */const kN="2.0.1";
/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ON(e,t){return{kernelName:e,backendName:"cpu",kernelFunc:({inputs:n,backend:r})=>{const{a:i,b:o}=n,a=r;gN([i,o],e);const s=a.data.get(i.dataId).values,l=a.data.get(o.dataId).values,[u,c]=t(i.shape,o.shape,s,l,i.dtype),f=a.write(u,c,i.dtype);return{dataId:f,shape:c,dtype:i.dtype}}}}function TN(e){return(t,n,r,i,o)=>{const a=Ub.F.assertAndGetBroadcastShape(t,n),s=a.length,l=Ub.Bd.computeStrides(a),u=Ub.Bd.sizeFromShape(a),c=Ub.Bd.getTypedArrayFromDType(o,u),f=t.length,h=n.length,d=Ub.Bd.computeStrides(t),p=Ub.Bd.computeStrides(n),m=Ub.F.getBroadcastDims(t,a),g=Ub.F.getBroadcastDims(n,a);if(m.length+g.length===0)for(let t=0;t<c.length;++t)c[t]=e(r[t%r.length],i[t%i.length]);else for(let t=0;t<c.length;++t){const n=Ub.Bd.indexToLoc(t,s,l),o=n.slice(-f);m.forEach(e=>o[e]=0);const a=Ub.Bd.locToIndex(o,f,d),u=n.slice(-h);g.forEach(e=>u[e]=0);const b=Ub.Bd.locToIndex(u,h,p);c[t]=e(r[a],i[b])}return[c,a]}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NN=TN((e,t)=>e/t),AN=ON(Ub.b,NN),IN={kernelName:Ub.e,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{reductionIndices:i}=t,o=n;let a=r.shape;const s=a.length,l=Ub.Bd.parseAxisParam(i,a);let u=l;const c=Ub.F.getAxesPermutation(u,s);let f=o.data.get(r.dataId).values;if(null!=c){const e=new Array(s);for(let t=0;t<e.length;t++)e[t]=a[c[t]];f=mN(f,a,r.dtype,c,e),u=Ub.F.getInnerMostAxes(u.length,s),a=e}gN(r,"max"),Ub.F.assertAxesAreInnerMostDims("max",u,s);const[h,d]=Ub.F.computeOutAndReduceShapes(a,u),p=Ub.Bd.sizeFromShape(d),m=pN(f,p,h,r.dtype),g=o.write(m,h,r.dtype);return{dataId:g,shape:h,dtype:r.dtype}}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
function jN(e,t,n,r,i){const o=Ub.Bd.computeStrides(t),a=bN(e,t,n,o,i,"max"),s=yN(e,t,n,i,!0,r);return[a.values,s.values]}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RN={kernelName:Ub.f,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:i,strides:o,pad:a,includeBatchInIndex:s}=t,l=n;gN(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=Ub.F.computePool2DInfo(r.shape,i,o,[1,1],a),[f,h]=jN(u,r.shape,r.dtype,s,c),d=l.write(f,c.outShape,r.dtype),p=l.write(h,c.outShape,r.dtype);return[{dataId:d,shape:c.outShape,dtype:r.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}},MN=Ub.Jb.nonMaxSuppressionV5,PN={kernelName:Ub.h,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{boxes:r,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:s,softNmsSigma:l}=n,u=t;gN(r,"NonMaxSuppressionWithScore");const c=u.data.get(r.dataId).values,f=u.data.get(i.dataId).values,h=o,d=a,p=s,m=l,{selectedIndices:g,selectedScores:b}=MN(c,f,h,d,p,m);return[g,b]}},DN={kernelName:Ub.j,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;gN(n,"square");const i=r.data.get(n.dataId).values,o=new Float32Array(i.length);for(let e=0;e<i.length;++e){const t=i[e];o[e]=t*t}const a=r.write(o,n.shape,n.dtype);return{dataId:a,shape:n.shape,dtype:n.dtype}}},LN=TN((e,t)=>{const n=e-t;return n*n}),FN=ON(Ub.k,LN),BN={kernelName:Ub.n,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{perm:i}=t,o=n;gN(r,"transpose");const a=r.shape.length,s=new Array(a);for(let e=0;e<s.length;e++)s[e]=r.shape[i[e]];const l=o.data.get(r.dataId).values,u=mN(l,r.shape,r.dtype,i,s),c=o.write(u,s,r.dtype);return{dataId:c,shape:s,dtype:r.dtype}}},zN=[PN,DN,FN,AN,BN,RN,IN];
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */for(const e of zN)Object(Ub.Ac)(e);
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Object(Ub.zc)("cpu",()=>new CN,1);
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
const $N={},UN={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function WN(e,t){$N[e]=t}function VN(e){e in $N||($N[e]=GN(e));const t=$N[e];return t.isContextLost()?(delete $N[e],VN(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),$N[e])}function HN(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function GN(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const t=HN(e);return t.addEventListener("webglcontextlost",t=>{t.preventDefault(),delete $N[e]},!1),1===e?t.getContext("webgl",UN)||t.getContext("experimental-webgl",UN):t.getContext("webgl2",UN)}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var qN,KN,YN;function XN(e,t){return[t,e]}function ZN(e,t){return e*t}function JN(e,t){return[4*t,e]}function QN(e){const t=Ub.Bd.sizeFromShape(e),n=Math.ceil(t/4);return Ub.Bd.sizeToSquarishShape(n)}function eA(e,t){if(e%t!=0)throw new Error(`unpackedSize (${e}) must be a multiple of `+`${t}`);return e/t}function tA(e,t,n){const r=e.length*n/4;if(t.length<r)throw new Error(`matrix length (${t.length}) must be >= ${r}`);let i=0;for(let r=0;r<e.length;r+=4)for(let o=0;o<n;o++)t[i++]=e[r+o]}function nA(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function rA(e,t){const[n,r]=nA(e,t);return n*r*4}function iA(e,t){const n=e;let r,i,o,a,s,l,u,c,f,h;return 2===Object(Ub.nb)().getNumber("WEBGL_VERSION")?(r=n.R32F,i=n.R16F,o=n.RGBA16F,a=n.RGBA32F,s=n.RED,u=4,c=1,f=n.HALF_FLOAT,h=n.FLOAT):(r=e.RGBA,i=e.RGBA,o=e.RGBA,a=n.RGBA,s=e.RGBA,u=4,c=4,f=null!=t?t.HALF_FLOAT_OES:null,h=e.FLOAT),{internalFormatFloat:r,internalFormatHalfFloat:i,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:l=e.RGBA,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:h}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oA(e,t,n){const r=n();return t&&aA(e),r}function aA(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+cA(e,t))}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(qN||(qN={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(KN||(KN={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(YN||(YN={}));const sA=5.96e-8,lA=65504;function uA(e){return!!(Object(Ub.nb)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||sA<Math.abs(e)&&Math.abs(e)<lA)}function cA(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function fA(e,t,n){return DA(e,t,()=>e.getExtension(n),'Extension "'+n+'" not supported on this browser.')}function hA(e,t,n){const r=DA(e,t,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(oA(e,t,()=>e.shaderSource(r,n)),oA(e,t,()=>e.compileShader(r)),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function dA(e,t,n){const r=DA(e,t,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(oA(e,t,()=>e.shaderSource(r,n)),oA(e,t,()=>e.compileShader(r)),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw mA(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}const pA=/ERROR: [0-9]+:([0-9]+):/g;function mA(e,t){const n=pA.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],i=e.split("\n"),o=i.length.toString().length+2,a=i.map((e,t)=>Ub.Bd.rightPad((t+1).toString(),o)+e);let s=0;for(let e=0;e<a.length;e++)s=Math.max(a[e].length,s);const l=a.slice(0,r-1),u=a.slice(r-1,r),c=a.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${Ub.Bd.rightPad(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function gA(e,t){return DA(e,t,()=>e.createProgram(),"Unable to create WebGLProgram.")}function bA(e,t,n){if(oA(e,t,()=>e.linkProgram(n)),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function yA(e,t,n){if(oA(e,t,()=>e.validateProgram(n)),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function vA(e,t,n){const r=DA(e,t,()=>e.createBuffer(),"Unable to create WebGLBuffer");return oA(e,t,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),oA(e,t,()=>e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)),r}function wA(e,t,n){const r=DA(e,t,()=>e.createBuffer(),"Unable to create WebGLBuffer");return oA(e,t,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)),oA(e,t,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)),r}function xA(){return 2===Object(Ub.nb)().getNumber("WEBGL_VERSION")?1:4}function _A(e,t){return DA(e,t,()=>e.createTexture(),"Unable to create WebGLTexture.")}function SA(e,t){const n=Object(Ub.nb)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const n=`[${e}x${t}]`;throw new Error("Requested texture size "+n+" is invalid.")}if(e>n||t>n){const r=`[${e}x${t}]`,i=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+i+".")}}function EA(e,t){return DA(e,t,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function CA(e,t,n,r,i,o,a,s){const l=e.getAttribLocation(n,r);return-1!==l&&(oA(e,t,()=>e.bindBuffer(e.ARRAY_BUFFER,i)),oA(e,t,()=>e.vertexAttribPointer(l,o,e.FLOAT,!1,a,s)),oA(e,t,()=>e.enableVertexAttribArray(l)),!0)}function kA(e,t,n,r){LA(e,r),oA(e,t,()=>e.activeTexture(e.TEXTURE0+r)),oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,n))}function OA(e,t,n){LA(e,n),oA(e,t,()=>e.activeTexture(e.TEXTURE0+n)),oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,null))}function TA(e,t,n,r){return DA(e,t,()=>e.getUniformLocation(n,r),'uniform "'+r+'" not present in program.')}function NA(e,t,n){return e.getUniformLocation(t,n)}function AA(e,t,n,r,i,o){oA(e,t,()=>kA(e,t,r,o)),oA(e,t,()=>e.uniform1i(i,o))}function IA(e,t){oA(e,t,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),oA(e,t,()=>e.viewport(0,0,e.canvas.width,e.canvas.height)),oA(e,t,()=>e.scissor(0,0,e.canvas.width,e.canvas.height))}function jA(e,t,n,r){oA(e,t,()=>e.bindFramebuffer(e.FRAMEBUFFER,r)),oA(e,t,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0))}function RA(e,t,n){oA(e,t,()=>e.bindFramebuffer(e.FRAMEBUFFER,n)),oA(e,t,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function MA(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+PA(e,t))}function PA(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function DA(e,t,n,r){const i=oA(e,t,()=>n());if(null==i)throw new Error(r);return i}function LA(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const e=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${e}.`)}}function FA(e,t=2){return Ub.Bd.sizeFromShape(e.slice(0,e.length-t))}function BA(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function zA(e){let t=[1,1,1];const n=0===e.length||1===e.length&&1===e[0];return n||(t=[FA(e),...BA(e)]),t}function $A(e,t=!1){let n=Object(Ub.nb)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((t,n)=>n>=e.length-2?Ub.Bd.nearestLargerEven(e[n]):e[n])).length&&(e=[2,e[0]])),2!==e.length){const t=Ub.Bd.squeezeShape(e);e=t.newShape}let r=Ub.Bd.sizeFromShape(e);if(e.length<=1&&r<=n)return[1,r];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=FA(e);let n=2,i=2;return e.length&&([n,i]=BA(e)),r=t*(n/2)*(i/2),Ub.Bd.sizeToSquarishShape(r).map(e=>2*e)}return Ub.Bd.sizeToSquarishShape(r)}function UA(e){return e%2==0}function WA(e,t){if(e=e.slice(-2),t=t.slice(-2),Ub.Bd.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(UA(n)&&UA(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&UA(e[0])&&UA(t[0])}let VA,HA;function GA(e){if(null==VA){const t=VN(e);VA=t.getParameter(t.MAX_TEXTURE_SIZE)}return VA}function qA(){VA=null}function KA(){HA=null}function YA(e){if(null==HA){const t=VN(e);HA=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,HA)}function XA(e){if(0===e)return 0;let t;const n=VN(e);return t=ZA(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ZA(n,"EXT_disjoint_timer_query")?1:0}function ZA(e,t){const n=e.getExtension(t);return null!=n}function JA(e){try{const t=VN(e);if(null!=t)return!0}catch(e){return!1}return!1}function QA(e){if(0===e)return!1;const t=VN(e);if(1===e){if(!ZA(t,"OES_texture_float"))return!1}else if(!ZA(t,"EXT_color_buffer_float"))return!1;const n=tI(t);return n}function eI(e){if(0===e)return!1;const t=VN(e);if(1!==e){if(ZA(t,"EXT_color_buffer_float"))return tI(t);const e="EXT_color_buffer_half_float";if(ZA(t,e)){const n=t.getExtension(e);return nI(t,n)}return!1}if(!ZA(t,"OES_texture_float"))return!1;if(!ZA(t,"WEBGL_color_buffer_float"))return!1;const n=tI(t);return n}function tI(e){const t=iA(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const r=1,i=1;e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(o),a}function nI(e,t){const n=iA(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),s}function rI(e){if(2!==e)return!1;const t=VN(e),n=null!=t.fenceSync;return n}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iI=Object(Ub.nb)();iI.registerFlag("HAS_WEBGL",()=>iI.getNumber("WEBGL_VERSION")>0),iI.registerFlag("WEBGL_VERSION",()=>JA(2)?2:JA(1)?1:0),iI.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===iI.get("WEBGL_VERSION")),iI.registerFlag("WEBGL_CPU_FORWARD",()=>!0),iI.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),iI.registerFlag("WEBGL_PACK",()=>iI.getBool("HAS_WEBGL")),iI.registerFlag("WEBGL_PACK_NORMALIZATION",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_PACK_CLIP",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>!1),iI.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_PACK_REDUCE",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_LAZILY_UNPACK",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_CONV_IM2COL",()=>iI.getBool("WEBGL_PACK")),iI.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>GA(iI.getNumber("WEBGL_VERSION"))),iI.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>YA(iI.getNumber("WEBGL_VERSION"))),iI.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const e=iI.getNumber("WEBGL_VERSION");return 0===e?0:XA(e)}),iI.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>iI.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Ub.gb.isMobile()),iI.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>QA(iI.getNumber("WEBGL_VERSION"))),iI.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!iI.getBool("WEBGL_FORCE_F16_TEXTURES")&&iI.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),iI.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>eI(iI.getNumber("WEBGL_VERSION"))),iI.registerFlag("WEBGL_FENCE_API_ENABLED",()=>rI(iI.getNumber("WEBGL_VERSION"))),iI.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>{const e=iI.getBool("WEBGL_RENDER_FLOAT32_ENABLED");return e?4:0});
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
class oI{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);const n=[];this.variableNames.forEach(e=>{n.push(`float v${e} = get${e}AtOutCoords();`)});const r=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aI{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);const n=[];this.variableNames.forEach(e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)});const r=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sI{constructor(e,t,n){this.variableNames=["A"];const r=e.windowSize,i=e.batchSize,o=e.inSize,a=Math.ceil(o/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,a];const s="max"===t?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${l};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lI(e,t){return["x","y","z","w","u","v"].slice(0,t).map(t=>`${e}.${t}`)}function uI(e,t){return 1===t?[e]:lI(e,t)}function cI(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fI(){let e,t,n,r,i,o,a,s,l,u;return 2===Object(Ub.nb)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",o="outputColor",a="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",o="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:o,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hI(e,t,n="index"){const r=Ub.Bd.computeStrides(t);return r.map((t,i)=>{const o=`int ${e[i]} = ${n} / ${t}`,a=i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${t}`:`index -= ${e[i]} * ${t}`;return`${o}; ${a};`}).join("")}function dI(e){return 1===e.length?`${e[0]}`:`vec${e.length}(${e.join(",")})`}function pI(e,t){if(e.length!==t.length)throw new Error("Vectors to be dotted must be of the same length -"+`got ${e.length} and ${t.length}`);const n=[],r=Math.floor(e.length/4),i=e.length%4;for(let i=0;i<r;i++){const r=e.slice(4*i,4*i+4),o=t.slice(4*i,4*i+4);n.push(`${dI(r)}, ${dI(o)}`)}if(0!==i){let i=e.slice(4*r),o=t.slice(4*r);1===i.length&&(i=i.map(e=>`float(${e})`),o=o.map(e=>`float(${e})`)),n.push(`${dI(i)}, ${dI(o)}`)}return n.map((e,t)=>`dot(${e})`).join("+")}function mI(e){const t=Ub.Bd.computeStrides(e).map(e=>e.toString());return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}const gI="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:bI}=Ub.F;
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yI(e,t,n,r){const i=[];e.forEach(e=>{const t=Ub.Bd.sizeFromShape(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(i.push(`uniform sampler2D ${e.name};`),i.push(`uniform int offset${e.name};`))});const o=i.join("\n"),a=e.map(e=>xI(e,t,r)).join("\n"),s=t.texShape,l=fI(),u=EI(l);let c,f,h=OI(l);t.isPacked?(c=_I(t.logicalShape,s),f=kI(l)):(c=SI(t.logicalShape,s),f=CI(l)),r&&(h+=II);const d=[h,u,f,o,c,a,n].join("\n");return d}function vI(e){const t=e.shapeInfo.logicalShape;switch(t.length){case 0:return HI(e);case 1:return qI(e);case 2:return YI(e);case 3:return ZI(e);case 4:return QI(e);case 5:return ej(e);case 6:return tj(e);default:throw new Error(`${t.length}-D input sampling`+" is not yet supported")}}function wI(e){const t=e.shapeInfo.logicalShape;switch(t.length){case 0:return VI(e);case 1:return GI(e);case 2:return KI(e);case 3:return XI(e);default:return JI(e)}}function xI(e,t,n=!1){let r="";r+=n?wI(e):vI(e);const i=e.shapeInfo.logicalShape,o=t.logicalShape;return i.length<=o.length&&(r+=n?rj(e,t):ij(e,t)),r}function _I(e,t){switch(e.length){case 0:return jI();case 1:return RI(e,t);case 2:return $I(e,t);case 3:return PI(e,t);default:return LI(e,t)}}function SI(e,t){switch(e.length){case 0:return jI();case 1:return MI(e,t);case 2:return UI(e,t);case 3:return DI(e,t);case 4:return FI(e,t);case 5:return BI(e,t);case 6:return zI(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}function EI(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}function CI(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}function kI(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}function OI(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${TI}\n    ${NI}\n    ${AI}\n  `;return t}const TI="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",NI="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",AI="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",II="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function jI(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function RI(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${n[1]}.0);\n      }\n    `:1===n[1]?`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${n[0]}.0);\n      }\n    `:`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      return 2 * (resTexRC.x * ${n[1]} + resTexRC.y);\n    }\n  `}function MI(e,t){return 1===t[0]?`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `:1===t[1]?`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `:`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}function PI(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),i=r*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}function DI(e,t){const n=hI(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${n}\n      return ivec3(r, c, d);\n    }\n  `}function LI(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2);let o=i,a="",s="b, r, c";for(let t=2;t<e.length-1;t++)a=`\n      int b${t} = index / ${o*=e[e.length-t-1]};\n      index -= b${t} * ${o};\n    `+a,s=`b${t}, `+s;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      ${a}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec${e.length}(${s});\n    }\n  `}function FI(e,t){const n=hI(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${n}\n      return ivec4(r, c, d, d2);\n    }\n  `}function BI(e,t){const n=hI(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}function zI(e,t){const n=hI(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}function $I(e,t){const n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(Ub.Bd.arraysEqual(e,t))return`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${n[0]}, ${n[1]}));\n      }\n    `;const r=Math.ceil(e[1]/2);return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}function UI(e,t){return Ub.Bd.arraysEqual(e,t)?`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===e[1]?`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===e[0]?`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}function WI(e){return`offset${e}`}function VI(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=fI();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}function HI(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return`float ${n}() {return ${t};}`;const[r,i]=e.shapeInfo.texShape;if(1===r&&1===i)return`\n      float ${n}() {\n        return sampleTexture(${t}, halfCR);\n      }\n    `;const[o,a]=e.shapeInfo.texShape,s=WI(t);return`\n    float ${n}() {\n      vec2 uv = uvFromFlat(${o}, ${a}, ${s});\n      return sampleTexture(${t}, uv);\n    }\n  `}function GI(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=fI();return`\n    vec4 ${n}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${i[0]}, ${i[1]}, index);\n      return ${o.texture2D}(${t}, uv);\n    }\n  `}function qI(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${n}(int index) {\n        ${nj(e)}\n      }\n    `;const r=e.shapeInfo.texShape,i=r[0],o=r[1];if(1===o&&1===i)return`\n      float ${n}(int index) {\n        return sampleTexture(${t}, halfCR);\n      }\n    `;const a=WI(t);return 1===o?`\n      float ${n}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${i}.0);\n        return sampleTexture(${t}, uv);\n      }\n    `:1===i?`\n      float ${n}(int index) {\n        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${o}.0, 0.5);\n        return sampleTexture(${t}, uv);\n      }\n    `:`\n    float ${n}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${o}, index + ${a});\n      return sampleTexture(${t}, uv);\n    }\n  `}function KI(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,o=i[0],a=i[1],s=fI();if(null!=i&&Ub.Bd.arraysEqual(t,i))return`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${o}.0);\n\n        return ${s.texture2D}(${n}, uv);\n      }\n    `;const l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(t[1]/2);return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${u}, ${l[0]}, ${l[1]}, row, col);\n      return ${s.texture2D}(${n}, uv);\n    }\n  `}function YI(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape;if(null!=i&&Ub.Bd.arraysEqual(t,i)){const e=i[0],t=i[1];return`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${t}.0, ${e}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `}const{newShape:o,keptDims:a}=Ub.Bd.squeezeShape(t),s=o;if(s.length<t.length){const t=aj(e,s),n=["row","col"];return`\n      ${vI(t)}\n      float ${r}(int row, int col) {\n        return ${r}(${sj(n,a)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${t[1]}, 1)));\n        ${nj(e)}\n      }\n    `;const l=i[0],u=i[1],c=WI(n);return 1===u?`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${c}), vec3(${t[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${l}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `:1===l?`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${c}), vec3(${t[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${u}.0, 0.5);\n      return sampleTexture(${n}, uv);\n    }\n  `:`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${t[1]} + col + ${c};\n    vec2 uv = uvFromFlat(${l}, ${u}, index);\n    return sampleTexture(${n}, uv);\n  }\n`}function XI(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===t[0]){const n=t.slice(1),i=[1,2],o=aj(e,n),a=["b","row","col"];return`\n        ${wI(o)}\n        vec4 ${r}(int b, int row, int col) {\n          return ${r}(${sj(a,i)});\n        }\n      `}const a=o[0],s=o[1],l=Math.ceil(t[2]/2),u=l*Math.ceil(t[1]/2),c=fI();return`\n    vec4 ${r}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${a}, ${s}, ${u}, ${l}, b, row, col);\n      return ${c.texture2D}(${n}, uv);\n    }\n  `}function ZI(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[1]*t[2],o=t[2],{newShape:a,keptDims:s}=Ub.Bd.squeezeShape(t),l=a;if(l.length<t.length){const t=aj(e,l),n=["row","col","depth"];return`\n        ${vI(t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${sj(n,s)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${o}, 1)));\n        ${nj(e)}\n      }\n    `;const u=e.shapeInfo.texShape,c=u[0],f=u[1],h=e.shapeInfo.flatOffset;if(f===i&&null==h)return`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${o}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${f}.0, ${c}.0);\n          return sampleTexture(${n}, uv);\n        }\n      `;if(f===o&&null==h)return`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${t[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${c}.0);\n      return sampleTexture(${n}, uv);\n    }\n  `;const d=WI(n);return`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${o} + depth + ${d};\n        vec2 uv = uvFromFlat(${c}, ${f}, index);\n        return sampleTexture(${n}, uv);\n      }\n  `}function JI(e){const t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],s=a[0],l=a[1],u=Math.ceil(t[n-1]/2);let c=u*Math.ceil(t[n-2]/2),f="int b, int row, int col",h=`b * ${c} + (row / 2) * ${u} + (col / 2)`;for(let e=2;e<n-1;e++)f=`int b${e}, `+f,h=`b${e} * ${c*=t[n-e-1]} + `+h;const d=fI();return`\n    vec4 ${i}(${f}) {\n      int index = ${h};\n      int texR = index / ${l};\n      int texC = index - texR * ${l};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${l}, ${s});\n      return ${d.texture2D}(${r}, uv);\n    }\n  `}function QI(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[3],o=t[2]*i,a=t[1]*o,{newShape:s,keptDims:l}=Ub.Bd.squeezeShape(t);if(s.length<t.length){const t=aj(e,s),n=["row","col","depth","depth2"];return`\n      ${vI(t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${sj(n,l)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${a}, ${o}, ${i}, 1)));\n        ${nj(e)}\n      }\n    `;const u=e.shapeInfo.flatOffset,c=e.shapeInfo.texShape,f=c[0],h=c[1];if(h===a&&null==u)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${o}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===i&&null==u)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${t[1]*t[2]}, ${t[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const d=WI(n);return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${a} + col * ${o} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${f}, ${h}, index + ${d});\n      return sampleTexture(${n}, uv);\n    }\n  `}function ej(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],o=t[3]*i,a=t[2]*o,s=t[1]*a,{newShape:l,keptDims:u}=Ub.Bd.squeezeShape(t);if(l.length<t.length){const t=aj(e,l),n=["row","col","depth","depth2","depth3"];return`\n      ${vI(t)}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${sj(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${s}, ${a}, ${o}, ${i})) +\n          depth3;\n        ${nj(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],d=f[1];if(d===s&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${a}, ${o}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${d}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(d===i&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${d}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const p=WI(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${a} + depth * ${o} +\n          depth2 * ${i} + depth3 + ${p};\n      vec2 uv = uvFromFlat(${h}, ${d}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}function tj(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:i,keptDims:o}=Ub.Bd.squeezeShape(t);if(i.length<t.length){const t=aj(e,i),n=["row","col","depth","depth2","depth3","depth4"];return`\n      ${vI(t)}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${sj(n,o)});\n      }\n    `}const a=t[5],s=t[4]*a,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${s})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${a}, 1)));\n        ${nj(e)}\n      }\n    `;const f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];if(p===c&&null==f)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${s}, ${a})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(p===a&&null==f)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${p}.0, ${d}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=WI(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${s} + depth3 * ${a} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${d}, ${p}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}function nj(e){const t=e.name,n=Ub.Bd.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function rj(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",o=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,s=bI(e.shapeInfo.logicalShape,t.logicalShape),l=oj(a),u=a-o;let c;const f=["x","y","z","w","u","v"];c=0===o?"":a<2&&s.length>=1?"coords = 0;":s.map(e=>`coords.${f[e+u]} = 0;`).join("\n");let h="";h=a<2&&o>0?"coords":e.shapeInfo.logicalShape.map((e,t)=>`coords.${f[t+u]}`).join(", ");let d="return outputValue;";const p=Ub.Bd.sizeFromShape(e.shapeInfo.logicalShape),m=1===p,g=Ub.Bd.sizeFromShape(t.logicalShape),b=1===g;if(1!==o||m||b){if(m&&!b)d=1===a?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=o-2,t=o-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?d="return vec4(outputValue.x);":s.indexOf(e)>-1?d="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(d="return vec4(outputValue.xx, outputValue.zz);")}}else d="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${i}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${h});\n      ${d}\n    }\n  `}function ij(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",o=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&Ub.Bd.arraysEqual(a,o))return`\n      float ${i}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=oj(l),c=bI(e.shapeInfo.logicalShape,t.logicalShape),f=l-s;let h;const d=["x","y","z","w","u","v"];let p="";return`\n    float ${i}() {\n      ${u} coords = getOutputCoords();\n      ${h=0===s?"":l<2&&c.length>=1?"coords = 0;":c.map(e=>`coords.${d[e+f]} = 0;`).join("\n")}\n      return get${r}(${p=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map((e,t)=>`coords.${d[t+f]}`).join(", ")});\n    }\n  `}function oj(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function aj(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function sj(e,t){return t.map(t=>e[t]).join(", ")}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lj{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,Ub.Bd.assert(e.length>2,()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],o=Math.ceil(i/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");const a=this.outputShape,s=a.length,l=oj(s),u=uI("coords",s);let c,f;if(1===o){const e=oj(f=s+1);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[s-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[s-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[s-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[s-2]};`}else f=s,c=`\n        ${l} sourceLocR = coords;\n        ++${u[s-1]};\n        ${l} sourceLocG = coords;\n        ++${u[s-2]};\n        ${l} sourceLocA = coords;\n        --${u[s-1]};\n        ${l} sourceLocB = coords;\n        --${u[s-2]};`;const h=["x","y","z","w","u","v"].slice(0,f),d="."+h[f-1],p=h.map(e=>"int "+e),m=uI("sourceLocR",f-1).concat("inIdx.r"),g=uI("sourceLocG",f-1).concat("inIdx.g"),b=uI("sourceLocB",f-1).concat("inIdx.b"),y=uI("sourceLocA",f-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",w=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${y.join()})));`,x=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${b.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${y.join()}) : 0.)`,_=r?"":`\n      float getBestIndicesAChannel(${p.join()}) {\n        return getChannel(getBestIndicesA(${h.join()}),\n                                          vec2(${h.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${p.join()}) {\n        return getChannel(getA(${h.join()}),\n                               vec2(${h.slice(-2).join()}));\n      }\n      ${_}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[s-1]} < ${a[s-1]-1};\n        bool hasNextRow = ${u[s-2]} < ${a[s-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${d}, sourceLocG${d},\n          sourceLocB${d}, sourceLocA${d}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${x};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${w}\n          vec4 candidate = ${x};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${v}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uj{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,f=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${f});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${s};\n            wR += ${o}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${a}) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class cj{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=c-1-e.padInfo.front,p=f-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${d}, ${p}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${s}) {\n          float dyD = float(dyDCorner + wD) / ${i}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${f};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${h};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fj{constructor(e,t,n,r,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],Ub.F.assertAndGetBroadcastShape(e,t),Ub.F.assertAndGetBroadcastShape(e,n);let a="0.0";null!=r&&(Ub.F.assertAndGetBroadcastShape(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="1.0";null!=i&&(Ub.F.assertAndGetBroadcastShape(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${a};\n        float scale = ${s};\n        float inv = scale * inversesqrt(variance + float(${o}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hj{constructor(e,t,n,r,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Ub.F.assertAndGetBroadcastShape(e,t),Ub.F.assertAndGetBroadcastShape(e,n);let a="vec4(0.0)";null!=r&&(Ub.F.assertAndGetBroadcastShape(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=i&&(Ub.F.assertAndGetBroadcastShape(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${a};\n        vec4 scale = ${s};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${o}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dj={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class pj{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Ub.F.assertAndGetBroadcastShape(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mj="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n",gj="return a + b;",bj="return a - b;",yj="return a * b;",vj="\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",wj="\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",xj="\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",_j="return (a - b) * (a - b);",Sj="return float(a == b);",Ej="return float(a != b);",Cj="return float(a < b);",kj="return float(a <= b);",Oj="return float(a > b);",Tj="return float(a >= b);",Nj="return float(a >= 1.0 && b >= 1.0);",Aj="return float(a >= 1.0 || b >= 1.0);",Ij=mj+"\n  return max(a, b);\n",jj=mj+"\n  return min(a, b);\n",Rj="if (b == 0.0) return NAN;\n  return mod(a, b);",Mj=mj+"\n  return atan(a, b);\n",Pj="return (b >= 1.0) ? a : a * (b + 1.0);",Dj="return (a < 0.) ? b * a : a;";class Lj{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=Ub.F.assertAndGetBroadcastShape(t,n),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fj="\n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n",Bj="\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",zj="\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",$j="\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  "+Fj+"\n  return result;\n",Uj="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Wj="\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",Vj="\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+Fj+"\n  return result;\n",Hj="\n  return vec4(equal(a, b));\n",Gj="\n  return vec4(notEqual(a, b));\n",qj="\n  return vec4(lessThan(a, b));\n",Kj="\n  return vec4(lessThanEqual(a, b));\n",Yj="\n  return vec4(greaterThan(a, b));\n",Xj="\n  return vec4(greaterThanEqual(a, b));\n",Zj="\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",Jj="\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",Qj="\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+Fj+"\n  return result;\n",eR="\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+Fj+"\n  return result;\n",tR="\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  "+Fj+"\n  return result;\n";class nR{constructor(e,t,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Ub.F.assertAndGetBroadcastShape(t,n);const i=this.outputShape.length;let o="";if(r)if(0===i||1===Ub.Bd.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const e=oj(i);if(o=`\n          ${e} coords = getOutputCoords();\n        `,1===i)o+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=uI("coords",i);o+=`\n            bool nextRowOutOfBounds =\n              (${e[i-2]} + 1) >= ${this.outputShape[i-2]};\n            bool nextColOutOfBounds =\n              (${e[i-1]} + 1) >= ${this.outputShape[i-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${o}\n\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rR{constructor(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}getCustomSetupFunc(e,t){return(n,r)=>{null==this.minLoc&&(this.minLoc=n.getUniformLocationNoThrow(r,"minVal"),this.maxLoc=n.getUniformLocationNoThrow(r,"maxVal")),n.gl.uniform1f(this.minLoc,e),n.gl.uniform1f(this.maxLoc,t)}}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iR{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}getCustomSetupFunc(e,t){return(n,r)=>{null==this.minLoc&&(this.minLoc=n.getUniformLocationNoThrow(r,"minVal"),this.maxLoc=n.getUniformLocationNoThrow(r,"maxVal")),n.gl.uniform1f(this.minLoc,e),n.gl.uniform1f(this.maxLoc,t)}}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oR{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aR{constructor(e){this.outputShape=[],this.outputShape=Ub.F.computeOutShape(e,1),this.variableNames=e.map((e,t)=>`T${t}`);const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const r=t[e-1];n.push(`else if (yC < ${t[e]}) `+`setOutput(getT${e}(yR, yC-${r}));`)}const r=t.length,i=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${i}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sR{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Ub.F.computeOutShape(e,t);const n=this.outputShape,r=n.length,i=oj(r),o=uI("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((e,t)=>`T${t}`);const s=new Array(e.length-1);s[0]=e[0][t];for(let n=1;n<s.length;n++)s[n]=s[n-1]+e[n][t];const l=a[t],u=a.slice(-2),c=a.join();let f=`if (${l} < ${s[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let e=1;e<s.length;e++){const t=s[e-1];f+=`\n        if (${l} < ${s[e]}  && ${l} >= ${s[e-1]}) {\n          return getChannel(\n            getT${e}(${lR(a,l,t)}),\n            vec2(${lR(u,l,t)}));\n        }`}const h=s.length,d=s[s.length-1];f+=`\n        return getChannel(\n          getT${h}(${lR(a,l,d)}),\n          vec2(${lR(u,l,d)}));`,this.userCode=`\n      float getValue(${a.map(e=>"int "+e)}) {\n        ${f}\n      }\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${o}), 0., 0., 0.);\n\n        ${o[r-1]} = ${o[r-1]} + 1;\n        if (${o[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${o});\n        }\n\n        ${o[r-2]} = ${o[r-2]} + 1;\n        if (${o[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${o});\n        }\n\n        ${o[r-1]} = ${o[r-1]} - 1;\n        if (${o[r-2]} < ${n[r-2]} &&\n            ${o[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${o});\n        }\n        setOutput(result);\n      }\n    `}}function lR(e,t,n){const r=e.indexOf(t),i=e.map((e,t)=>t===r?`${e} - ${n}`:e);return i.join()}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uR{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${i};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${o}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class cR{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,o="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=o?1:2,u=o?2:3,c=o?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${o}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class fR{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${i};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${o};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${a};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class hR{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${s}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${i}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dR{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${o} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${i};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class pR{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,o=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${o}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${s}; dm++) {\n              int d2 = d1 * ${s} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mR{constructor(e,t=!1,n=null,r=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,o=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterHeight,f=e.filterWidth,h=4*Math.floor(e.inChannels/4),d=e.inChannels%4,p="channelsLast"===e.dataFormat,m=p?1:2,g=p?2:3,b=p?3:1;let y="",v="";n&&(y=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,v="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${y}\n\n      const ivec2 strides = ivec2(${a}, ${s});\n      const ivec2 pads = ivec2(${i}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${b}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${m}], coords[${g}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${c}; wR++) {\n          int xR = xRCorner + wR * ${l};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${f}; wC++) {\n            int xC = xCCorner + wC * ${u};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${p}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===d}) {\n\n              if (${p}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===d}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${p}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===d}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${p}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${v}\n        setOutput(result);\n      }\n    `}}class gR{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,h=e.filterWidth,d=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${i}, ${o}, ${a});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${s};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${f}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${d}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===p}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${d}) *\n                  getW(wF, wR, wC, ${d}, d2);\n              } else if (${2===p}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${d}),\n                  getX(batch, xF, xR, xC, ${d} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${d}, d2),\n                  getW(wF, wR, wC, ${d} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===p}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${d}),\n                  getX(batch, xF, xR, xC, ${d} + 1),\n                  getX(batch, xF, xR, xC, ${d} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${d}, d2),\n                  getW(wF, wR, wC, ${d} + 1, d2),\n                  getW(wF, wR, wC, ${d} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bR{constructor(e,t=!1,n=null,r=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.inHeight,o=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=e.outChannels/e.inChannels;let m="",g="";n&&(m=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,g="result = activation(result);");const b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${m}\n\n      const ivec2 strides = ivec2(${l}, ${u});\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${p};\n        int q = d2 - d1 * ${p};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${i}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${d}; wC++) {\n            int xC = xCCorner + wC * ${f};\n\n            if (xC < 0 || xC >= ${o}) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${b}\n        ${g}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yR{constructor(e,t=!1,n=null,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;const i=e.inHeight,o=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=d;let m="int xR; int xC; int xCOffset;";for(let e=0;e<h;e++)for(let t=0;t<d;t++)m+=`\n          vec4 xTexelR${e}C${2*t} = vec4(0.);\n          vec4 wR${e}C${t} = vec4(0.);\n          vec4 xR${e}C${t} = vec4(0.);`;for(let e=0;e<h;e++)for(let t=0;t<p;t++){const n=2*t;if(m+=`\n          xR = xRCorner + ${e*c};\n          xC = xCCorner + ${n*f};\n        `,1===u){if(n<d&&(m+=s%2==1?`\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < ${i} && xCOffset >= 0 && xCOffset < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ${o}) {\n                    xTexelR${e}C${n}.zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < ${i} && xCOffset >= 0 && xCOffset < ${o}) {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ${o}) {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR${e}C${n} = vec4(previous.zw, xTexelR${e}C${n}.xy);\n                } else {\n                  xR${e}C${n} = vec4(0, 0, xTexelR${e}C${n}.xy);\n                }\n              `:`\n                if(xR >= 0 && xR < ${i} && xC >= 0 && xC < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                xR${e}C${n} = xTexelR${e}C${n};\n              `,n+1<d)){const t=s%2==0?Ub.Bd.nearestLargerEven(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(m+=`\n                  xCOffset = xC + ${s%2} + ${t};\n\n                  if(xR >= 0 && xR < ${i} &&\n                    xCOffset >= 0 && xCOffset < ${o}) {\n                    xTexelR${e}C${n+2} = getX(batch, xR, xCOffset, d1);\n                  }\n                `,f>1&&(m+=`\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < ${i} &&\n                      xCOffset >= 0 && xCOffset < ${o}) {\n                      xTexelR${e}C${n} = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR${e}C${n} = vec4(0.);\n                    }\n                  `),m+=`\n                  xR${e}C${n+1} = vec4(\n                    xTexelR${e}C${n}.zw, xTexelR${e}C${n+2}.xy);\n                `):m+=`\n                  xCOffset = xC + ${t};\n\n                  if(xR >= 0 && xR < ${i} &&\n                    xCOffset >= 0 && xCOffset < ${o}) {\n                    xTexelR${e}C${n+2} = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR${e}C${n+1} = xTexelR${e}C${n+2};\n                `}}else n<d&&(m+=`\n              if(xR >= 0 && xR < ${i}) {\n            `,s%2==1?(m+=`\n                xCOffset = xC + 1 - ${u};\n                if(xCOffset >= 0 && xCOffset < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < ${o}) {\n                  xTexelR${e}C${n+2} = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR${e}C${n+2} = vec4(0.);\n                }\n\n                xR${e}C${n} = vec4(\n                  xTexelR${e}C${n}.zw, xTexelR${e}C${n+2}.zw);\n              `,n+1<d&&(m+=`\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + ${u};\n                  if(xCOffset >= 0 && xCOffset < ${o}) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR${e}C${n+1} = vec4(xTexelR${e}C${n+2}.xy, final.xy);\n                `)):(m+=`\n                if(xC >= 0 && xC < ${o}) {\n                  xTexelR${e}C${n} = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR${e}C${n} = vec4(0.);\n                }\n\n                xCOffset = xC + ${u};\n                if(xCOffset >= 0 && xCOffset < ${o}) {\n                  xTexelR${e}C${n+2} = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR${e}C${n+2} = vec4(0.);\n                }\n\n                xR${e}C${n} = vec4(\n                  xTexelR${e}C${n}.xy, xTexelR${e}C${n+2}.xy);\n              `,n+1<d&&(m+=`\n                  xR${e}C${n+1} = vec4(\n                    xTexelR${e}C${n}.zw, xTexelR${e}C${n+2}.zw);\n                `)),m+="}");n<d&&(m+=`\n            vec4 wTexelR${e}C${n} = getW(${e}, ${n}, d1, q);\n            wR${e}C${n} = vec4(wTexelR${e}C${n}.xz, wTexelR${e}C${n}.xz);\n          `,n+1<d&&(m+=`\n              vec4 wTexelR${e}C${n+1} = getW(${e}, ${n+1}, d1, q);\n              wR${e}C${n+1} =\n                vec4(wTexelR${e}C${n+1}.xz, wTexelR${e}C${n+1}.xz);`))}for(let e=0;e<h;e++)for(let t=0;t<d;t++)m+=`dotProd += xR${e}C${t} * wR${e}C${t};`;let g="",b="";n&&(g=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,b="result = activation(result);");const y=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${g}\n\n      const ivec2 strides = ivec2(${l}, ${u});\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        ${m}\n\n        vec4 result = dotProd;\n        ${y}\n        ${b}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vR{constructor(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,a,s,l]=e,[u]=t,[c,f]=n;this.outputShape=[u,c,f,l];const h="bilinear"===r?1:0,[d,p]=[`${a-1}.0`,`${s-1}.0`],[m,g,b]=c>1?[`${(a-1)/(c-1)}`,"(y2-y1) * height_ratio",`y1*${d} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${d}`],[y,v,w]=f>1?[`${(s-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${p} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${p}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${y});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${o}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${v};\n\n        float in_y = ${b};\n        if( in_y < 0.0 || in_y > ${d} ) {\n          setOutput(float(${i}));\n          return;\n        }\n        float in_x = ${w};\n        if( in_x < 0.0 || in_x > ${p} ) {\n          setOutput(float(${i}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${h} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wR{constructor(e,t,n){this.variableNames=["x"],this.outputShape=e;const r=e.length,i=e[e.length-1],o=n?"<":">";this.userCode=`\n      int getIndex(int i) {\n        ${n?`return ${i} -i - 1;`:"return i;"}\n      }\n\n      void main() {\n        ${oj(r)} coords = getOutputCoords();\n        int end = ${_R(r,"coords")};\n        float val = 0.0;\n        for (int i = ${i} - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx ${o} end) {\n            continue;\n          }\n          if (idx == end && ${t}) {\n            continue;\n          }\n          ${_R(r,"coords")} = idx;\n          val += getX(${xR(r,"coords")});\n        }\n        setOutput(val);\n      }\n    `}}function xR(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function _R(e,t){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SR{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=qN.DENSE;const t=QN(e),n=fI();this.outputShape=e,this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${hI(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(${t[0]}, ${t[1]}));\n        int index = 4 * (resTexRC.x * ${t[1]} + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${n.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ER{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=qN.DENSE;const t=QN(e),n=fI();this.outputShape=e,this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${hI(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(${t[0]}, ${t[1]}));\n        int index = 4 * (resTexRC.x * ${t[1]} + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${n.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CR{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kR{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OR{constructor(e){this.variableNames=["A"],this.outTexUsage=KN.DOWNLOAD;const t=fI();this.outputShape=e,this.userCode=`\n      ${gI}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TR{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=KN.DOWNLOAD;const t=fI();this.outputShape=e,this.userCode=`\n      ${gI}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NR{constructor(e,t,n=!1){this.variableNames=["A"];const r=fI(),[i,o]=t;this.outputShape=e;let a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode=`\n      ${mI(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / ${o};\n        int c = imod(flatIndex, ${o});\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(${o}.0, ${i}.0);\n        vec4 values = ${r.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AR{constructor(e,t,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const r=fI(),[i,o]=t;this.outputShape=e;let a="",s="result";n&&(s="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){const s=2*t+n;a+=`\n          localCoords = coords;\n          if(localCoords[2] + ${n} < ${e[2]}) {\n            localCoords[2] += ${n};\n            if(localCoords[1] + ${t} < ${e[1]}) {\n              localCoords[1] += ${t};\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / ${o};\n              c = imod(flatIndex, ${o});\n              uv = (vec2(c, r) + halfCR) / vec2(${o}.0, ${i}.0);\n              values = ${r.texture2D}(A, uv);\n\n              if(offset == 0) {\n                result[${s}] = values[0];\n              } else if(offset == 1) {\n                result[${s}] = values[1];\n              } else if(offset == 2) {\n                result[${s}] = values[2];\n              } else {\n                result[${s}] = values[3];\n              }\n            }\n          }\n        `}this.userCode=`\n      ${mI(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        ${a}\n\n        ${r.output} = ${s};\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IR={REAL:"return real * expR - imag * expI;",IMAG:"return real * expI + imag * expR;"};class jR{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const i=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=n?`${r}.0`:"1.0";this.userCode=`\n      const float exponentMultiplier = ${i};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${e}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${o};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RR{constructor(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}getCustomSetupFunc(e){return(t,n)=>{null==this.valueLoc&&(this.valueLoc=t.getUniformLocationNoThrow(n,"value")),t.gl.uniform1f(this.valueLoc,e)}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MR{constructor(e,t,n){this.variableNames=["A","indices"];const r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;const i=oj(this.rank),o=PR(e,n);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function PR(e,t){const n=e.length;if(n>4)throw Error(`Gather for rank ${n} is not yet supported`);if(1===n)return"int(getIndices(resRC))";const r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let n=0;n<e.length;n++)n===t?i.push(`int(getIndices(${r[n]}))`):i.push(`${r[n]}`);return i.join()}class DR{constructor(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;const r=oj(t.length),i=oj(n.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${r} strides = ${r}(${this.strides});\n         void main() {\n          ${i} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${o};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LR(e,t){const n=fI(),r=`${n.version}\n    precision highp float;\n    ${n.attribute} vec3 clipSpacePos;\n    ${n.attribute} vec2 uv;\n    ${n.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`;return hA(e,t,r)}function FR(e,t){const n=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return vA(e,t,n)}function BR(e,t){const n=new Uint16Array([0,1,2,2,1,3]);return wA(e,t,n)}function zR(e,t,n,r,i,o,a){SA(n,r);const s=_A(e,t),l=e.TEXTURE_2D;return oA(e,t,()=>e.bindTexture(l,s)),oA(e,t,()=>e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),oA(e,t,()=>e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),oA(e,t,()=>e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)),oA(e,t,()=>e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)),oA(e,t,()=>e.texImage2D(l,0,i,n,r,0,o,a,null)),oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,null)),s}function $R(e,t,n,r,i){const[o,a]=XN(n,r);return zR(e,t,o,a,i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function UR(e,t,n,r,i){const[o,a]=XN(n,r);return zR(e,t,o,a,i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function WR(e,t,n,r,i){const[o,a]=XN(n,r);return zR(e,t,o,a,e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function VR(e,t,n,r,i){const[o,a]=nA(n,r);return zR(e,t,o,a,i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function HR(e,t,n,r,i){const[o,a]=nA(n,r);return zR(e,t,o,a,i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function GR(e,t,n,r){const i=0,o=12,a=20;oA(e,t,()=>e.bindBuffer(e.ARRAY_BUFFER,r));const s=CA(e,t,n,"clipSpacePos",r,3,20,0);return s&&CA(e,t,n,"uv",r,2,20,12)}function qR(e,t,n,r,i,o,a){let s,l,u;oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,n)),o instanceof Uint8Array?(s=new Uint8Array(r*i*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(r*i*4),l=e.FLOAT,u=a.internalFormatPackedFloat),s.set(o),oA(e,t,()=>e.texImage2D(e.TEXTURE_2D,0,u,r,i,0,e.RGBA,l,s)),oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,null))}function KR(e,t,n,r){oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,n)),r.data instanceof Uint8Array?oA(e,t,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)):oA(e,t,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)),oA(e,t,()=>e.bindTexture(e.TEXTURE_2D,null))}function YR(e,t,n,r,i){const o=e.createBuffer();oA(e,t,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,o));const a=4,s=4,l=16*n*r;return oA(e,t,()=>e.bufferData(e.PIXEL_PACK_BUFFER,l,e.STREAM_READ)),oA(e,t,()=>e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)),oA(e,t,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),o}function XR(e,t,n){const r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function ZR(e,t,n,r,i){const[o,a]=XN(n,r),s=4,l=new Uint8Array(ZN(n*r,4));return oA(e,t,()=>e.readPixels(0,0,o,a,i.downloadTextureFormat,e.UNSIGNED_BYTE,l)),new Float32Array(l.buffer)}function JR(e,t,n,r,i,o,a,s){const l=e,u=new Float32Array(rA(o,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function QR(e,t,n,r){const i=new Float32Array(n*r*4);return oA(e,t,()=>e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)),i}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eM{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=Object(Ub.nb)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,WN(t,e)):this.gl=VN(t);let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(1===Object(Ub.nb)().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=fA(this.gl,this.debug,e),ZA(this.gl,t))this.textureHalfFloatExtension=fA(this.gl,this.debug,t);else if(Object(Ub.nb)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),ZA(this.gl,r))this.colorBufferHalfFloatExtension=fA(this.gl,this.debug,r);else if(Object(Ub.nb)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",ZA(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!ZA(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=FR(this.gl,this.debug),this.indexBuffer=BR(this.gl,this.debug),this.framebuffer=EA(this.gl,this.debug),this.textureConfig=iA(this.gl,this.textureHalfFloatExtension)}get debug(){return Object(Ub.nb)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;oA(e,this.debug,()=>e.finish()),oA(e,this.debug,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),oA(e,this.debug,()=>e.deleteFramebuffer(this.framebuffer)),oA(e,this.debug,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),oA(e,this.debug,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),oA(e,this.debug,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),$R(this.gl,this.debug,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),UR(this.gl,this.debug,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),WR(this.gl,this.debug,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),KR(this.gl,this.debug,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),qR(this.gl,this.debug,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),HR(this.gl,this.debug,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),VR(this.gl,this.debug,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(RA(this.gl,this.debug,this.framebuffer),this.outputTexture=null),oA(this.gl,this.debug,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,()=>ZR(this.gl,this.debug,t,n,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,n,r,i,o){return JR(this.gl,e,t,n,r,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return XR(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=YR(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(Object(Ub.nb)().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,i=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=(()=>{const e=r.clientWaitSync(i,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED}),t=i}else Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=(()=>this.isQueryAvailable(t,Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))):n=(()=>!0);return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,()=>QR(this.gl,this.debug,t,n))}createProgram(e){this.throwIfDisposed();const t=this.gl,n=dA(t,this.debug,e),r=LR(t,this.debug),i=gA(t,this.debug);return oA(t,this.debug,()=>t.attachShader(i,r)),oA(t,this.debug,()=>t.attachShader(i,n)),bA(t,this.debug,i),this.debug&&yA(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=GR(t,this.debug,this.program,this.vertexBuffer)),i}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&oA(this.gl,this.debug,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&yA(this.gl,this.debug,this.program),oA(this.gl,this.debug,()=>this.gl.useProgram(e))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?TA(this.gl,this.debug,e,t):NA(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),oA(this.gl,this.debug,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),AA(this.gl,this.debug,this.program,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,i]=nA(t,n);this.setOutputMatrixTextureDriver(e,r,i)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&yA(this.gl,this.debug,this.program),MA(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),oA(e,this.debug,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),oA(this.gl,this.debug,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=fA(this.gl,this.debug,2===Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Ub.Bd.repeatedTry(()=>this.disposed||this.isQueryAvailable(e,Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl,n=t.getQueryParameter(e,t.QUERY_RESULT);return n/1e6}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT);return n/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){const e=tM(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||Ub.Bd.repeatedTry(()=>(this.pollItems(),0===this.itemsToPoll.length))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),jA(this.gl,this.debug,e,this.framebuffer),this.debug&&MA(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(jA(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&MA(this.gl)):RA(this.gl,this.debug,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;jA(r,this.debug,e,this.framebuffer),this.debug&&MA(r),this.outputTexture=e,oA(r,this.debug,()=>r.viewport(0,0,t,n)),oA(r,this.debug,()=>r.scissor(0,0,t,n))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),oA(this.gl,this.debug,()=>this.gl.scissor(e,t,n,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function tM(e){let t=0;for(;t<e.length;++t){const n=e[t]();if(!n)break}return t-1}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nM(e,t,n,r){const i=t.userCode,o=n.map((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),a=o.map(e=>e.shapeInfo),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=yI(o,s,i,t.packedInputs),u=e.createProgram(l);let c=null;const f=e.getUniformLocation(u,"NAN",!1);1===Object(Ub.nb)().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(u,"INFINITY",!1));const h={};for(let n=0;n<t.variableNames.length;n++){const r=t.variableNames[n],i=!1;h[r]=e.getUniformLocation(u,r,i),h[`offset${r}`]=e.getUniformLocation(u,`offset${r}`,i)}return{program:t,source:l,webGLProgram:u,uniformLocations:h,inShapeInfos:a,outShapeInfo:s,infLoc:c,nanLoc:f}}function rM(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but `+`was executed with ${t.length} inputs`);e.forEach((e,n)=>{const r=e.logicalShape,i=t[n],o=i.shape;if(!Ub.Bd.arraysEqual(r,o))throw Error("Binary was compiled with different shapes than "+`the current args. Shapes ${r} and ${o} must match`);if(e.isUniform&&i.isUniform)return;const a=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!Ub.Bd.arraysEqual(a,s))throw Error("Binary was compiled with different texture shapes than the"+` current args. Shape ${a} and ${s} must match`)})}function iM(e,t,n,r,i){rM(t.inShapeInfos,n),rM([t.outShapeInfo],[r]);const o=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o,a[0],a[1]):e.setOutputMatrixTexture(o,a[0],a[1]),e.setProgram(t.webGLProgram),1===Object(Ub.nb)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((n,r)=>{const i=t.program.variableNames[r],o=t.uniformLocations[i],a=t.uniformLocations[`offset${i}`];if(null!=o)if(n.isUniform)if(Ub.Bd.sizeFromShape(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=n.texData.slice&&null!=a&&e.gl.uniform1i(a,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,o,r)}),null!=i&&i(e,t.webGLProgram),e.executeProgram()}function oM(e,t,n){let r="";t.concat(n).forEach(e=>{const t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=`${e.shape}_${n}_${t}`});const i=e.userCode;let o=e.constructor.name;return o+="_"+r+"_"+i}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aM{constructor(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;const{filterWidth:r,inChannels:i,strideWidth:o,strideHeight:a,padInfo:s,outWidth:l,dilationWidth:u,dilationHeight:c,dataFormat:f}=n,{left:h,top:d}=s,p=i*r,m=fI(),g="channelsLast"===f,b=g?0:1,y=g?1:2;let v="";for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)v+=`\n          blockIndex = rc.y + ${r};\n          pos = rc.x + ${n};\n\n          if(blockIndex < ${e[1]} && pos < ${e[0]}) {\n            offsetY = int(blockIndex / (${l})) * ${a} - ${d};\n            d0 = offsetY + ${c} * (pos / ${p});\n\n            if(d0 < ${t[b]} && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), ${l}.) * ${o}. - ${h}.);\n              d1 = offsetX + ${u} * (int(mod(float(pos), ${p}.) / ${i}.));\n\n              if(d1 < ${t[y]} && d1 >= 0) {\n\n                ch = int(mod(float(pos), ${i}.));\n\n                if (${g}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*n+r}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*n+r}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${v}\n\n        ${m.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sM{constructor(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];const o=t,a=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${o}; j <= ${o}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${a}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${s};\n        setOutput(val);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lM{constructor(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${i})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${i});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uM{constructor(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=t,a=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${o};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${o}; j <= ${o}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${s};\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cM{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=i-1-e.padInfo.top,s=o-1-e.padInfo.left,l=i*o-1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${i};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${o}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${o} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class fM{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,f=l-1-e.padInfo.top,h=u-1-e.padInfo.left,d=s*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${f}, ${h});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${s};\n           wD += ${i}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${o}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${a}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${d} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hM{constructor(e,t,n=!1,r=!1,i=!1,o=null,a=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;const s=n?e[1]:e[2],l=Math.ceil(s/2),u=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let d="",p="";o&&(d=a?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${o}\n        }`:`vec4 activation(vec4 x) {\n          ${o}\n        }`,p="result = activation(result);");const m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode=`\n      ${d}\n\n      const float sharedDimension = ${l}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${l}; i++) {\n          vec4 a = getMatrixA(rc.x, ${u});\n          vec4 b = getMatrixB(rc.x, ${c});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${f[0]} * ${h[0]});\n          result += (${f[1]} * ${h[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${m}\n\n        ${p}\n\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dM{constructor(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode=`\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}getCustomSetupFunc(e){return(t,n)=>{null==this.seedLoc&&(this.seedLoc=t.getUniformLocation(n,"seed")),t.gl.uniform1f(this.seedLoc,e)}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pM{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mM{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;const t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const n=uI("rc",t),r=oj(t),i=bM(t,e,n),o=yM(t,e[e.length-1],e[e.length-2],n),a=vM(e,n);this.userCode=`\n        void main() {\n          ${r} rc = getOutputCoords();\n\n          if(${i}) {\n            setOutput(vec4(0));\n          } else {\n            ${o}\n\n            setOutput(vec4(${a}));\n          }\n        }\n      `}}}function gM(e,t){const n=[];for(let r=0;r<=1;r++)for(let i=0;i<=1;i++){let o=`${0===r?"r":"rp1"}, ${0===i?"c":"cp1"}`;for(let n=2;n<e;n++)o=`${t[t.length-1-n]},`+o;n.push(o)}return n}function bM(e,t,n){if(1===e)return`rc > ${t[0]}`;let r="";for(let i=e-2;i<e;i++)r+=`${n[i]} >= ${t[i]}`,i<e-1&&(r+="||");return r}function yM(e,t,n,r){if(1===e)return"";const i=r.slice(-2);return`\n    int r = ${i[0]};\n    int c = ${i[1]};\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= ${t};\n    bool rEdge = rp1 >= ${n};\n  `}function vM(e,t){const n=e.length,r=gM(n,t);return 1===n?`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`:`getA(${r[0]}),\n          cEdge ? 0. : getA(${r[1]}),\n          rEdge ? 0. : getA(${r[2]}),\n          rEdge || cEdge ? 0. : getA(${r[3]})`}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wM{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map((t,n)=>t[0]+e[n]+t[1]);const r=e.length,i=oj(r),o=t.map(e=>e[0]).join(","),a=t.map((t,n)=>t[0]+e[n]).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${i} start = ${i}(${o});\n      ${i} end = ${i}(${a});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float(${n}));\n        } else {\n          ${i} coords = outC - start;\n          setOutput(getX(${s}));\n        }\n      }\n    `:`\n        int start = ${o};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float(${n}));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xM{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((t,n)=>t[0]+e[n]+t[1]);const r=e.length,i=oj(r),o=t.map(e=>e[0]).join(","),a=t.map((t,n)=>t[0]+e[n]).join(","),s=uI("rc",r),l=uI("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,f=[`${i} rc = outputLoc;`,`${s[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${s[r-2]} += 1;\n       if(${s[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${s[r-1]} += 1;\n         if(${u}) {`],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let d="";for(let e=0,t=1===r?2:4;e<t;e++)d+=`\n        ${f[e]}\n        if (${h}) {\n          result[${e}] = float(${n});\n        } else {\n          ${i} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;d+=1===r?"} ":"}}",this.userCode=`\n      const ${i} start = ${i}(${o});\n      const ${i} end = ${i}(${a});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${d}\n        setOutput(result);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _M{constructor(e,t,n,r=!1,i=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;const p="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(p||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${a}, ${s});\n        const ivec2 pads = ivec2(${h}, ${d});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${f};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?i?m:g:`wR * ${f} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}const y="max";let v=`${t}(${t}(${t}(`+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(v="avgValue / count");const w=4*Math.floor(o/4),x=o%4,_=`\n      if (${p}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${s});\n      const ivec2 pads = ivec2(${h}, ${d});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${w}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${_}\n          }\n\n          int xC = xCCorner + ${w};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${_}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${_}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${_}\n          }\n        }\n        setOutput(${v});\n      }\n    `}}class SM{constructor(e,t,n,r=!1,i=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideDepth,s=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,f=e.dilationWidth,h=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const y="avg"===t;let v="0.0";if(y||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${a}, ${s}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${b});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${h};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${d};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${p};\n                  wC += ${f}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${d} * ${p} +\n                      wR * ${p} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}const w="max";let x=`${t}(${t}(${t}(`+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(x="avgValue / count");const _=4*Math.floor(o/4),S=o%4,E=`\n      if (${y}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${a}, ${s}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${b});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${h};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${d};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${_}; wC += 4) {\n              int xC = xCCorner + wC * ${f};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${f}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${f}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${f}, ch)\n              );\n\n              ${E}\n            }\n\n            int xC = xCCorner + ${_};\n            if (${1===S}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${E}\n            } else if (${2===S}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${f}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${E}\n            } else if (${3===S}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${f}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${f}, ch),\n                initializationValue\n              );\n\n              ${E}\n            }\n          }\n          setOutput(${x});\n        }\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EM{constructor(e,t){this.variableNames=["x"];const n=e.windowSize,r=e.batchSize,i=e.inSize,o=Math.ceil(i/n);this.outputShape=[r,o];let a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");let l=`${t}(${t}(${t}(`+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let f=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${s}(values, minMaxValue);\n      }\n    `,h="vec4";"all"===t?(a="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(a="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");let d="";i%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${a};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${a});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${f}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${f}\n        } else if (${2===c}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${f}\n        } else if (${3===c}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${f}\n        }\n        setOutput(${l});\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CM{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}this.userCode=`\n      ${kM(t)}\n      ${mI(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${e[1]};\n        int cols = ${e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}function kM(e){const t=hI(["r","c","d"],e);return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${t}\n      return ivec3(r, c, d);\n    }\n  `}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OM{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;const[,r,i]=t.shape,[,o,a]=e.shape,s=[n&&o>1?r-1:r,n&&a>1?i-1:i],l=[n&&o>1?o-1:o,n&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],f=1/u,h=1/c,d=2*Math.ceil(f)+2,p=2*Math.ceil(h)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${f});\n        const float invWidthScale = float(${h});\n\n        const int winHeight = int(${d});\n        const int winWidth = int(${p});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${o}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TM{constructor(e,t,n,r){this.variableNames=["A"],this.outputShape=[];const[i,o,a,s]=e;this.outputShape=[i,t,n,s];const l=[r&&t>1?o-1:o,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${l[0]/u[0]},\n          ${l[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${o}.0, ${a}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NM{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,o,a,s]=e;this.outputShape=[i,t,n,s];const l=[r&&t>1?o-1:o,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${l[0]/u[0]},\n          ${l[1]/u[1]},\n          ${l[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${o}.0, ${a}.0,\n                                     ${a}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${s-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AM{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;const[,r,i]=t.shape,[,o,a]=e.shape,s=[n&&o>1?r-1:r,n&&a>1?i-1:i],l=[n&&o>1?o-1:o,n&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],f=1/u,h=1/c,d=2*Math.ceil(f)+2,p=2*Math.ceil(h)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${f});\n        const float invWidthScale = float(${h});\n\n        const int winHeight = int(${d});\n        const int winWidth = int(${p});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${o}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${s[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${s[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${i}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IM{constructor(e,t,n,r){this.variableNames=["A"],this.outputShape=[];const[i,o,a,s]=e;this.outputShape=[i,t,n,s];const l=[r&&t>1?o-1:o,r&&n>1?a-1:a],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${l[0]/u[0]},\n          ${l[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${o}.0, ${a}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${c})));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jM{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`,i=e.map((e,t)=>r(t)).join(","),o=oj(n);this.userCode=`\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${i}));\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RM{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=uI("rc",n),i=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,o=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,a=oj(n);function s(e){return f(e)}function l(e){return e[n-1]="("+e[n-1]+" + 1)",f(e)}function u(e){return e[n-2]="("+e[n-2]+" + 1)",f(e)}function c(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",f(e)}function f(t){const n=e.map((e,n)=>h(n,t)),r=n.join(","),i=n.slice(-2).join(",");return`getChannel(getX(${r}), vec2(${i}))`}function h(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${i}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${a} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${s(r.slice())};\n          if(${i}){\n            result.g = ${l(r.slice())};\n          }\n          if(${o}) {\n            result.b = ${u(r.slice())};\n            if(${i}) {\n              result.a = ${c(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MM{constructor(e,t,n,r,i,o,a=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const s=oj(i.length),l=oj(o.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let f="";1===r?f="i":2===r&&(f="i, coords[1]");const h=`getUpdates(${f})`,d=t>1?"strides[j]":"strides";this.userCode=`\n        ${s} strides = ${s}(${i});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${d};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${h};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PM{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,i=e.inSize,o=e.numSegments,a=o*Math.ceil(i/n);this.outputShape=[r,a];const s="0.0",l="sumValue",u=4*Math.floor(n/4),c=n%4,f="\n        sumValue += dot(values, segFilter);\n    ";let h="";i%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `);let d="";i%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${d}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${o})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${o})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${f}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${f}\n        } else if (${2===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${f}\n        } else if (${3===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${f}\n        }\n        setOutput(sumValue);\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DM{constructor(e,t,n){let r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)i="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],a=[];for(let r=0;r<t.length;r++)a.push(`${n[r]}`),r<e&&o.push(`${n[r]}`);r=o.join(),i=a.join()}const o=oj(n);this.userCode=`\n      void main() {\n        ${o} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${i}));\n        } else {\n          setOutput(getB(${i}));\n        }\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LM{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=oj(this.rank),n=`uniform int start[${this.rank}];`,r=BM(this.rank);let i;const o=e.map((e,t)=>`sourceLoc.${FM[t]} = start[${t}] + coords.${FM[t]};`);i=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${o.join("\n")}\n      `,this.userCode=`\n      ${n}\n      void main() {\n        ${i}\n        setOutput(getSource(${r}));\n      }\n    `}getCustomSetupFunc(e){if(e.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the `+`length of start (${e.length})`);return(t,n)=>{null==this.startLoc&&(this.startLoc=t.getUniformLocationNoThrow(n,"start"),null==this.startLoc)||t.gl.uniform1iv(this.startLoc,e)}}}const FM=["x","y","z","w","u","v"];function BM(e){if(1===e)return"sourceLoc";if(e<=6)return FM.slice(0,e).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zM{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;const t=oj(this.rank),n=uI("coords",this.rank),r=uI("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,o=`getChannel(getSource(${r.join()}), ${i})`,a=`\n      result.x = ${o};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${o};\n        --${r[this.rank-1]};\n      }\n    `,s=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${o};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${o};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map((e,t)=>`start[${t}]`).join()});`:e.map((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`).join("\n");this.userCode=`\n      uniform int start[${this.rank}];\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${a}\n        ${s}\n        setOutput(result);\n      }\n    `}getCustomSetupFunc(e){if(e.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the `+`length of start (${e.length})`);return(t,n)=>{null==this.startLoc&&(this.startLoc=t.getUniformLocationNoThrow(n,"start"),null==this.startLoc)||t.gl.uniform1iv(this.startLoc,e)}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $M{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,i=oj(n.length),o=oj(n.length);let a="";if(1===r)a="coords * strides + begin";else{let e=0;a=n.map((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`)).join(",")}this.userCode=`\n      ${i} begin = ${i}(${e});\n      ${i} strides = ${i}(${t});\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UM{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const r=VM(t,n),i=HM(e,r,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();const e=this.freeTextures[i].shift();return this.usedTextures[i].push(e),e}let o;return this.numUsedTextures++,this.log(),r===YN.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===YN.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===YN.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===YN.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===YN.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),o}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const i=VM(n,r),o=HM(t,i,r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;const a=this.usedTextures[o],s=a.indexOf(e);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(s,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`)}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e)});for(const e in this.usedTextures)this.usedTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}}}function WM(e){return Object(Ub.nb)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?YN.PACKED_2X2_FLOAT32:YN.UNPACKED_FLOAT32:e?YN.PACKED_2X2_FLOAT16:YN.UNPACKED_FLOAT16}function VM(e,t){if(e===KN.UPLOAD)return YN.PACKED_2X2_FLOAT32;if(e===KN.RENDER||null==e)return WM(t);if(e===KN.DOWNLOAD||e===KN.PIXELS)return YN.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function HM(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GM{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;const r=oj(this.rank),i=qM(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${i}));\n      }\n    `}}function qM(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let t=0;t<e.length;t++)r.push(`imod(${n[t]}, ${e[t]})`);return r.join()}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KM{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const YM="if (isnan(x)) return x;",XM="return x;",ZM="return abs(x);",JM=YM+"\n  return (x < 0.0) ? 0.0 : x;\n",QM=YM+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",eP="return (x >= 0.0) ? x : (exp(x) - 1.0);",tP=`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${Ub.F.SELU_SCALEALPHA};\n  float scale = ${Ub.F.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`;function nP(e=0){return YM+`\n    return x > 0.0 ? 1.0 : float(${e});\n  `}const rP="return -x;",iP="return ceil(x);",oP="return floor(x);",aP="\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n",sP="return float(isnan(x));",lP="return float(isinf(x));",uP="return float(!isnan(x) && !isinf(x));",cP="\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n",fP="return exp(x);",hP="return exp(x) - 1.0;",dP="if (x < 0.0) return NAN;\n  return log(x);",pP="return log(1.0 + x);",mP="return sqrt(x);",gP="return inversesqrt(x);",bP="return 1.0 / (1.0 + exp(-1.0 * x));",yP="\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n",vP=YM+"\n  return sin(x);\n",wP=YM+"\n  return cos(x);\n",xP="return tan(x);",_P=YM+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",SP=YM+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",EP=YM+"\n  return atan(x);\n",CP="\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n",kP="\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n",OP="\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n",TP=YM+"return log(x + sqrt(x * x + 1.0));",NP=YM+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",AP=YM+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",IP=`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${Ub.F.ERF_P};\n  float a1 = ${Ub.F.ERF_A1};\n  float a2 = ${Ub.F.ERF_A2};\n  float a3 = ${Ub.F.ERF_A3};\n  float a4 = ${Ub.F.ERF_A4};\n  float a5 = ${Ub.F.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`,jP="return x * x;",RP="return 1.0 / x;",MP="return float(!(x >= 1.0));",PP="return float(int(x));",DP="return x;",LP="return x;",FP="\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",BP="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",zP="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",$P="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n";class UP{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WP{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;const t=e.length,n=uI("rc",t),r=oj(t),i=cI(t,n),o=n.slice(-2),a=t<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${i});\n\n        setOutput(getChannel(packedInput, ${a}));\n      }\n    `}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{segment_util:VP}=Ub.F,HP=Ub.Jb.split,GP=Ub.Jb.tile,qP=Ub.Jb.topkImpl,KP=Ub.Jb.whereImpl,YP=1e-7,XP=1e-4,ZP={};function JP(e){return e in ZP?ZP[e]:(ZP[e]={},ZP[e])}function QP(e,t=!1){if("linear"===e)return t?LP:XM;if("relu"===e)return t?BP:JM;if("elu"===e)return t?$P:eP;if("relu6"===e)return t?zP:QM;if("prelu"===e)return t?Uj:Dj;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}const eD=128,tD=600;function nD(){return null==Object(Ub.nb)().global.screen?1024:Object(Ub.nb)().global.screen.height*Object(Ub.nb)().global.screen.width*window.devicePixelRatio*tD/1024/1024}const rD=1e3;class iD extends Ub.d{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Object(Ub.nb)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){const e=VN(Object(Ub.nb)().getNumber("WEBGL_VERSION"));this.binaryCache=JP(Object(Ub.nb)().getNumber("WEBGL_VERSION")),this.gpgpu=new eM(e),this.canvas=e.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpu=e,this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=e.gl.canvas;this.textureManager=new UM(this.gpgpu),this.numMBBeforeWarning=nD(),this.texData=new Ub.a(this,Object(Ub.mb)())}numDataIds(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes}write(e,t,n){if(Object(Ub.nb)().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:KN.UPLOAD}),r}move(e,t,n,r){if(Object(Ub.nb)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:KN.UPLOAD})}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensors:i,slice:o,shape:a,isPacked:s}=t;if(null!=o){let t;t=s?new UP(a,DP):new KM(a,DP);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:r}],r),i=this.readSync(n.dataId);return this.disposeData(n.dataId),i}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=Ub.Bd.now()),"complex64"===r){const e=i.real.dataSync(),t=i.imag.dataSync();c=Ub.F.mergeRealAndImagArrays(e,t)}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=Ub.Bd.now()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise(e=>t.push(e))}const t=this.texData.get(e),{values:n,shape:r,slice:i,dtype:o,complexTensors:a,isPacked:s}=t;if(null!=i){let t;t=s?new UP(r,DP):new KM(r,DP);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:o}],o),i=this.read(n.dataId);return this.disposeData(n.dataId),i}if(null!=n)return this.convertAndCacheOnCPU(e);if(!Object(Ub.nb)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Object(Ub.nb)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l=null,u,c;if("complex64"!==o&&Object(Ub.nb)().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const t=this.texData.get(u.dataId);l=this.gpgpu.createBufferFromTexture(t.texture,...QN(r))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([a.real.data(),a.imag.data()]),t=e[0],n=e[1];c=Ub.F.mergeRealAndImagArrays(t,n)}else if(null==l)c=this.getValuesFromTexture(e);else{const e=Ub.Bd.sizeFromShape(r);c=this.gpgpu.downloadFloat32MatrixFromBuffer(l,e)}null!=u&&this.disposeData(u.dataId);const f=this.convertAndCacheOnCPU(e,c),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(e=>e(f)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),f}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!uA(n)){if(Object(Ub.nb)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your `+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),i=Ub.Bd.sizeFromShape(t);if(Object(Ub.nb)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),o=this.gpgpu.downloadMatrixFromPackedTexture(r.texture,...QN(t)).subarray(0,i);return this.disposeData(n.dataId),o}const o=Object(Ub.nb)().getBool("WEBGL_PACK")&&!0===r,a=o?zA(t):t,s=o?new TR(a):new OR(a),l=this.runWebGLProgram(s,[{shape:a,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture,u.texShape[0],u.texShape[1]).subarray(0,i);return this.disposeData(l.dataId),c}async time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const i=Ub.Bd.flatten(this.activeTimers.map(e=>e.query)).filter(e=>null!=e),o=Ub.Bd.flatten(this.activeTimers.map(e=>e.name)).filter(e=>null!=e);this.activeTimers=t,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};if(Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(i);a.kernelMs=Ub.Bd.sum(e),a.getExtraProfileInfo=(()=>e.map((e,t)=>({name:o[t],ms:e})).map(e=>`${e.name}: ${e.ms}`).join(", "))}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}}startTimer(){return Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ub.Bd.now(),endMs:null}}endTimer(e){return Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Ub.Bd.now(),e)}async getQueryTime(e){if(Object(Ub.nb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){if(this.pendingDisposal.has(e))return;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(!this.texData.has(e))return;this.releaseGPUData(e);const{complexTensors:t}=this.texData.get(e);null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:i,isPacked:o,slice:a}=this.texData.get(e),s=a&&a.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,i,o)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture}getDataInfo(e){return this.texData.get(e)}getCPUBackend(){return Object(Ub.nb)().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Object(Ub.mb)().findBackend("cpu")),this.cpuBackend):null}shouldExecuteOnCPU(e,t=eD){return null!=this.getCPUBackend()&&e.every(e=>null==this.texData.get(e.dataId).texture&&Ub.Bd.sizeFromShape(e.shape)<t)}getGPGPUContext(){return this.gpgpu}complex(e,t){const n=this.makeOutput(e.shape,"complex64"),r=this.texData.get(n.dataId);return r.complexTensors={real:Object(Ub.mb)().keep(e.clone()),imag:Object(Ub.mb)().keep(t.clone())},n}real(e){const t=this.texData.get(e.dataId);return t.complexTensors.real.clone()}imag(e){const t=this.texData.get(e.dataId);return t.complexTensors.imag.clone()}slice(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===Ub.Bd.sizeFromShape(n))return Object(Ub.od)([],n,e.dtype);const{isPacked:r}=this.texData.get(e.dataId),i=Ub.Xc.isSliceContinous(e.shape,t,n);if(r||!i){const r=Object(Ub.nb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new zM(n):new LM(n),i=r.getCustomSetupFunc(t);return this.compileAndRun(r,[e],null,i)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)}shallowSlice(e,t,n){const r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),o=this.texData.get(i.dataId);Object.assign(o,r),o.shape=n,o.dtype=e.dtype;let a=Ub.Xc.computeFlatOffset(t,e.strides);r.slice&&(a+=r.slice.flatOffset),o.slice={flatOffset:a,origDataId:r.slice&&r.slice.origDataId||e.dataId};const s=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,s+1),i}stridedSlice(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);const i=Ub.Xc.computeOutShape(t,n,r);if(i.some(e=>0===e))return Object(Ub.od)([],i);const o=new $M(t,r,i);return this.compileAndRun(o,[e])}reverse(e,t){const n=Object(Ub.nb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new RM(e.shape,t):new jM(e.shape,t);return this.compileAndRun(n,[e])}concat(e,t){if("complex64"===e[0].dtype){const n=e.map(e=>Object(Ub.xc)(e)),r=e.map(e=>Object(Ub.Eb)(e));return Object(Ub.R)(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>Object(Ub.nb)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const n=Math.floor(e.length/2),r=this.concat(e.slice(0,n),t),i=this.concat(e.slice(n),t);return this.concat([r,i],t)}if(Object(Ub.nb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){const n=new sR(e.map(e=>e.shape),t);return this.compileAndRun(n,e)}const n=Ub.F.computeOutShape(e.map(e=>e.shape),t),r=e.map(e=>e.as2D(-1,Ub.Bd.sizeFromShape(e.shape.slice(t)))),i=new aR(r.map(e=>e.shape)),o=this.compileAndRun(i,r);return o.reshape(n)}neg(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,rP,e.dtype);const t=new KM(e.shape,rP);return this.compileAndRun(t,[e])}batchMatMul(e,t,n,r){const i=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],a=n?e.shape[1]:e.shape[2],[s,,]=e.shape;if((1===i||1===o)&&a>rD){n&&(e=Object(Ub.xd)(e,[0,2,1])),r&&(t=Object(Ub.xd)(t,[0,2,1]));const i=1===o?e:e.as3D(s,a,1),l=1===o?2:1,u=1===o?t.as3D(s,1,a):t;return this.multiply(i,u).sum(l,!0)}const l=Object(Ub.Ad)(e.dtype,t.dtype),u=new hM(e.shape,[s,i,o],n,r);return this.compileAndRun(u,[e,t],l)}fusedBatchMatMul({a:e,b:t,transposeA:n,transposeB:r,bias:i,activation:o,preluActivationWeights:a}){const s=n?e.shape[2]:e.shape[1],l=r?t.shape[1]:t.shape[2],[u,,]=e.shape,c=Object(Ub.Ad)(e.dtype,t.dtype),f=null!=i,h=null!=a,d=o?QP(o,!0):null,p=new hM(e.shape,[u,s,l],n,r,f,d,h),m=[e,t];return i&&m.push(i),a&&m.push(a),this.compileAndRun(p,m,c)}multiply(e,t){if("complex64"===e.dtype){const n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new pj(dj.REAL,e.shape,t.shape),o=new pj(dj.IMAG,e.shape,t.shape),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,a),l=this.compileAndRun(o,a),u=this.complex(s,l);return s.dispose(),l.dispose(),u}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,yj,e.dtype);const n=new Lj(yj,e.shape,t.shape);return this.compileAndRun(n,[e,t],e.dtype)}batchNorm(e,t,n,r,i,o){const a=[e,t,n];let s=null;null!=r&&(s=r.shape,a.push(r));let l=null;if(null!=i&&(l=i.shape,a.push(i)),Object(Ub.nb)().getBool("WEBGL_PACK_NORMALIZATION")){const r=new hj(e.shape,t.shape,n.shape,s,l,o);return this.compileAndRun(r,a)}const u=new fj(e.shape,t.shape,n.shape,s,l,o);return this.compileAndRun(u,a)}localResponseNormalization4D(e,t,n,r,i){const o=Object(Ub.nb)().getBool("WEBGL_PACK_NORMALIZATION")?new uM(e.shape,t,n,r,i):new sM(e.shape,t,n,r,i);return this.compileAndRun(o,[e])}LRNGrad(e,t,n,r,i,o,a){const s=new lM(t.shape,r,i,o,a);return this.compileAndRun(s,[t,n,e])}tile(e,t){if("string"===e.dtype){const n=this.readSync(e.dataId),r=n.map(e=>Ub.Bd.decodeString(e)),i=Object(Ub.N)(e.shape,e.dtype,r);return GP(i,t)}const n=new GM(e.shape,t);return this.compileAndRun(n,[e])}pad(e,t,n){const r=Object(Ub.nb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xM(e.shape,t,n):new wM(e.shape,t,n);return this.compileAndRun(r,[e])}gather(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);const r=new MR(e.shape,t.size,n);return this.compileAndRun(r,[e,t])}batchToSpaceND(e,t,n){Ub.Bd.assert(e.rank<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const r=t.reduce((e,t)=>e*t),i=Ub.F.getReshaped(e.shape,t,r),o=Ub.F.getPermuted(i.length,t.length),a=Ub.F.getReshapedPermuted(e.shape,t,r),s=Ub.F.getSliceBeginCoords(n,t.length),l=Ub.F.getSliceSize(a,n,t.length);return Object(Ub.xd)(e.reshape(i),o).reshape(a).slice(s,l)}spaceToBatchND(e,t,n){Ub.Bd.assert(e.rank<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const r=t.reduce((e,t)=>e*t),i=[[0,0]];i.push(...n);for(let n=1+t.length;n<e.shape.length;++n)i.push([0,0]);const o=e.pad(i),a=Ub.F.getReshaped(o.shape,t,r,!1),s=Ub.F.getPermuted(a.length,t.length,!1),l=Ub.F.getReshapedPermuted(o.shape,t,r,!1);return Object(Ub.xd)(o.reshape(a),s).reshape(l)}reduce(e,t,n){const r=e.shape[0],i=e.shape[1],o=Ub.F.computeOptimalWindowSize(i),a={windowSize:o,inSize:i,batchSize:r},s=new EM(a,t),l=this.compileAndRun(s,[e],n);return 1===l.shape[1]?l:this.reduce(l,t,n)}argReduce(e,t,n=null){let r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);const o=Ub.F.computeOptimalWindowSize(i),a={windowSize:o,inSize:i,batchSize:r},s=new sI(a,t,null==n),l=[e];null!=n&&l.push(n);const u=this.compileAndRun(s,l,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)}argReducePacked(e,t,n=null){const r=null!=n?n.shape:e.shape,i=r[r.length-1],o=Ub.F.computeOptimalWindowSize(i),a=new lj(r,o,t,null==n),s=null==n?[e]:[e,n],l=this.compileAndRun(a,s,"int32");return l.rank===e.rank?this.argReducePacked(e,t,l):l}sum(e,t){Ub.F.assertAxesAreInnerMostDims("sum",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Bd.sizeFromShape(r),o=e.as2D(-1,i),a=Ub.ld(e.dtype);return this.reduce(o,"sum",a).reshape(n)}prod(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Bd.sizeFromShape(r),o=e.as2D(-1,i),a=Ub.ld(e.dtype);return this.reduce(o,"prod",a).reshape(n)}unsortedSegmentSum(e,t,n){let r=0;const i=Ub.F.getAxesPermutation([r],e.rank);let o=e;null!=i&&(o=Object(Ub.xd)(e,i),r=Ub.F.getInnerMostAxes(1,e.rank)[0]);const a=VP.computeOutShape(o.shape,r,n),s=Ub.Bd.sizeFromShape([o.shape[r]]),l=o.as2D(-1,s),u=Ub.ld(e.dtype);let c=this.segOpCompute(l,"unsortedSegmentSum",t,u,n).reshape(a);return null!=i&&(c=Object(Ub.xd)(c,Ub.F.getUndoAxesPermutation(i))),c}segOpCompute(e,t,n,r,i){const o=e.shape[0],a=e.shape[1],s=VP.segOpComputeOptimalWindowSize(a,i),l={windowSize:s,inSize:a,batchSize:o,numSegments:i},u=new PM(l,t),c=this.compileAndRun(u,[e,n],r);return c.shape[1]===i?c:(n=Object(Ub.wc)(0,i).tile([a/s]),this.segOpCompute(c,t,n,r,i))}argMinMaxReduce(e,t,n){const r=[t];if(Ub.F.assertAxesAreInnerMostDims("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!Object(Ub.nb)().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){const[t,i]=Ub.F.computeOutAndReduceShapes(e.shape,r),o=Ub.Bd.sizeFromShape(i),a=e.as2D(-1,o);return this.argReduce(a,n).reshape(t)}return this.argReducePacked(e,n)}argMin(e,t){return this.argMinMaxReduce(e,t,"min")}argMax(e,t){return this.argMinMaxReduce(e,t,"max")}cumsum(e,t,n,r){if(t!==e.rank-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${e.rank-1} `+`but got axis=${t}`);const i=new wR(e.shape,n,r);return this.compileAndRun(i,[e])}equal(e,t){if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Hj,"bool");const n=new Lj(Sj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}notEqual(e,t){if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Gj,"bool");const n=new Lj(Ej,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}less(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,qj,"bool");const n=new Lj(Cj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}lessEqual(e,t){if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Kj,"bool");const n=new Lj(kj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}greater(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Yj,"bool");const n=new Lj(Oj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}greaterEqual(e,t){if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Xj,"bool");const n=new Lj(Tj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}logicalNot(e){const t=new KM(e.shape,MP);return this.compileAndRun(t,[e])}logicalAnd(e,t){if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Zj,"bool");const n=new Lj(Nj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}logicalOr(e,t){if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Jj,"bool");const n=new Lj(Aj,e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")}select(e,t,n){const r=new DM(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Object(Ub.Ad)(t.dtype,n.dtype))}where(e){Ub.F.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return KP(e.shape,t)}topk(e,t,n){const r=e.dataSync();return qP(r,e.shape,e.dtype,t,n)}min(e,t){Ub.F.assertAxesAreInnerMostDims("min",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Bd.sizeFromShape(r),o=e.as2D(-1,i);return this.reduce(o,"min",o.dtype).reshape(n)}minimum(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(eR,e.shape,t.shape):new Lj(jj,e.shape,t.shape);return this.compileAndRun(n,[e,t])}mod(e,t){const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(tR,e.shape,t.shape):new Lj(Rj,e.shape,t.shape);return this.compileAndRun(n,[e,t])}maximum(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(Qj,e.shape,t.shape):new Lj(Ij,e.shape,t.shape);return this.compileAndRun(n,[e,t])}all(e,t){Ub.F.assertAxesAreInnerMostDims("all",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Bd.sizeFromShape(r),o=e.as2D(-1,i);return this.reduce(o,"all",o.dtype).reshape(n)}any(e,t){Ub.F.assertAxesAreInnerMostDims("any",t,e.rank);const[n,r]=Ub.F.computeOutAndReduceShapes(e.shape,t),i=Ub.Bd.sizeFromShape(r),o=e.as2D(-1,i);return this.reduce(o,"any",o.dtype).reshape(n)}floorDiv(e,t){const n=wj,r="int32";if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,zj,"int32");const i=new Lj(n,e.shape,t.shape);return this.compileAndRun(i,[e,t],"int32")}add(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,gj);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);const n=Object(Ub.Ad)(e.dtype,t.dtype);if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,gj,n);const r=new Lj(gj,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)}packedUnaryOp(e,t,n){const r=new UP(e.shape,t);return this.compileAndRun(r,[e],n)}packedBinaryOp(e,t,n,r,i=!1){const o=new nR(n,e.shape,t.shape,i);return this.compileAndRun(o,[e,t],r)}complexSeparableBinaryOp(e,t,n){const r=this.texData.get(e.dataId),i=this.texData.get(t.dataId),[o,a]=[[r.complexTensors.real,i.complexTensors.real],[r.complexTensors.imag,i.complexTensors.imag]].map(r=>{const[i,o]=r,a=this.makeComplexComponentTensorInfo(e,i),s=this.makeComplexComponentTensorInfo(t,o),l=new Lj(n,e.shape,t.shape);return this.compileAndRun(l,[a,s],Object(Ub.Ad)(i.dtype,o.dtype))}),s=this.complex(o,a);return o.dispose(),a.dispose(),s}makeComplexComponentTensorInfo(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}addN(e){if(1===e.length)return e[0];if(e.length>Object(Ub.nb)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}const t=e.map(e=>e.dtype).reduce((e,t)=>Object(Ub.Ad)(e,t)),n=e.map(e=>e.shape),r=Object(Ub.nb)().getBool("WEBGL_PACK"),i=r?new aI(e[0].shape,n):new oI(e[0].shape,n);return this.compileAndRun(i,e,t)}subtract(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,bj);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);const n=Object(Ub.Ad)(e.dtype,t.dtype);if(Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,bj,e.dtype);const r=new Lj(bj,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)}pow(e,t){const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"),r=n?new nR($j,e.shape,t.shape):new Lj(xj,e.shape,t.shape),i=Object(Ub.Ad)(e.dtype,t.dtype);return this.compileAndRun(r,[e,t],i)}ceil(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,iP,e.dtype);const t=new KM(e.shape,iP);return this.compileAndRun(t,[e])}floor(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,oP,e.dtype);const t=new KM(e.shape,oP);return this.compileAndRun(t,[e])}sign(e){const t=new KM(e.shape,aP);return this.compileAndRun(t,[e])}isNaN(e){const t=new KM(e.shape,sP);return this.compileAndRun(t,[e],"bool")}isInf(e){const t=new KM(e.shape,lP);return this.compileAndRun(t,[e],"bool")}isFinite(e){const t=new KM(e.shape,uP);return this.compileAndRun(t,[e],"bool")}round(e){const t=new KM(e.shape,cP);return this.compileAndRun(t,[e])}exp(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,fP,e.dtype);const t=new KM(e.shape,fP);return this.compileAndRun(t,[e])}expm1(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,hP,e.dtype);const t=new KM(e.shape,hP);return this.compileAndRun(t,[e])}softmax(e,t){const n=Ub.Bd.parseAxisParam([t],e.shape),r=Object(Ub.Xb)(e,n),i=Ub.F.expandShapeToKeepDim(r.shape,n),o=this.subtract(e,r.reshape(i)),a=this.exp(o),s=this.sum(a,n).reshape(i);return Object(Ub.ib)(a,s)}log(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,FP,e.dtype);const t=new KM(e.shape,dP);return this.compileAndRun(t,[e])}log1p(e){const t=new KM(e.shape,pP);return this.compileAndRun(t,[e])}sqrt(e){const t=new KM(e.shape,mP);return this.compileAndRun(t,[e])}rsqrt(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);const t=new KM(e.shape,gP);return this.compileAndRun(t,[e])}reciprocal(e){const t=new KM(e.shape,RP);return this.compileAndRun(t,[e])}relu(e){let t;return t=Object(Ub.nb)().getBool("WEBGL_PACK")?new UP(e.shape,BP):new KM(e.shape,JM),this.compileAndRun(t,[e])}relu6(e){let t;return t=Object(Ub.nb)().getBool("WEBGL_PACK")?new UP(e.shape,zP):new KM(e.shape,QM),this.compileAndRun(t,[e])}prelu(e,t){const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(Uj,e.shape,t.shape):new Lj(Dj,e.shape,t.shape);return this.compileAndRun(n,[e,t])}elu(e){if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,$P,e.dtype);const t=new KM(e.shape,eP);return this.compileAndRun(t,[e])}eluDer(e,t){const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(Wj,e.shape,t.shape):new Lj(Pj,e.shape,t.shape);return this.compileAndRun(n,[e,t])}selu(e){const t=new KM(e.shape,tP);return this.compileAndRun(t,[e])}int(e){const t=new KM(e.shape,PP);return this.compileAndRun(t,[e],"int32")}clip(e,t,n){let r;const i=(r=Object(Ub.nb)().getBool("WEBGL_PACK_CLIP")?new iR(e.shape):new rR(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)}abs(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(Object(Ub.nb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ZM,e.dtype);const t=new KM(e.shape,ZM);return this.compileAndRun(t,[e])}complexAbs(e){const t=this.texData.get(e.dataId),n=new oR(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)}sigmoid(e){const t=new KM(e.shape,bP);return this.compileAndRun(t,[e])}softplus(e){const t=new KM(e.shape,yP);return this.compileAndRun(t,[e])}sin(e){const t=new KM(e.shape,vP);return this.compileAndRun(t,[e])}cos(e){const t=new KM(e.shape,wP);return this.compileAndRun(t,[e])}tan(e){const t=new KM(e.shape,xP);return this.compileAndRun(t,[e])}asin(e){const t=new KM(e.shape,_P);return this.compileAndRun(t,[e])}acos(e){const t=new KM(e.shape,SP);return this.compileAndRun(t,[e])}atan(e){const t=new KM(e.shape,EP);return this.compileAndRun(t,[e])}atan2(e,t){const n=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(Vj,e.shape,t.shape):new Lj(Mj,e.shape,t.shape);return this.compileAndRun(n,[e,t])}sinh(e){const t=new KM(e.shape,CP);return this.compileAndRun(t,[e])}cosh(e){const t=new KM(e.shape,kP);return this.compileAndRun(t,[e])}tanh(e){const t=new KM(e.shape,OP);return this.compileAndRun(t,[e])}asinh(e){const t=new KM(e.shape,TP);return this.compileAndRun(t,[e])}acosh(e){const t=new KM(e.shape,NP);return this.compileAndRun(t,[e])}atanh(e){const t=new KM(e.shape,AP);return this.compileAndRun(t,[e])}erf(e){const t=new KM(e.shape,IP);return this.compileAndRun(t,[e])}step(e,t){const n=new KM(e.shape,nP(t));return this.compileAndRun(n,[e])}conv2dByMatMul(e,t,n,r,i,o){const a=e.shape,s=this.texData.get(e.dataId),l=n.inChannels,u=a[0]*a[1]*a[2],c=n.outChannels,f="channelsLast"===n.dataFormat,h=!1,d=!1,p=(1===u||1===c)&&l>rD,m=a[2]%2!=0&&!!s.isPacked;if(p||!Object(Ub.nb)().getBool("WEBGL_LAZILY_UNPACK")||!Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!m){const s=f?a[0]*a[1]*a[2]:a[0]*a[2]*a[3],l=this.reshape(e,[1,s,n.inChannels]),u=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:l,b:u,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:o}),n.outShape)}const g=f?a[0]*a[1]*(a[2]+1):a[0]*a[2]*(a[3]+1),b={dataId:e.dataId,shape:[1,g,n.inChannels],dtype:e.dtype},y=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,Ub.Bd.assert(WA(s.shape,b.shape),()=>`packed reshape ${s.shape} to ${b.shape} isn't free`);const v=this.reshape(t,[1,n.inChannels,n.outChannels]),w=this.fusedBatchMatMul({a:b,b:v,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:o}),x=this.texData.get(w.dataId);return Ub.Bd.assert(x.isPacked,()=>"batchMatMul result is expected to be packed"),s.shape=y,x.shape=n.outShape,Object(Ub.mb)().makeTensorFromDataId(w.dataId,n.outShape,w.dtype)}conv2dWithIm2Row(e,t,n,r,i,o){const{filterWidth:a,filterHeight:s,inChannels:l,outWidth:u,outHeight:c,dataFormat:f}=n,h="channelsLast"===f,d=a*s*l,p=c*u,m=[d,p],g=!0,b=!1,y=e.squeeze([0]),v=t.reshape([1,d,-1]),w=new aM(m,y.shape,n),x=this.compileAndRun(w,[y]).reshape([1,m[0],m[1]]),_=null!=r,S=null!=o,E=i?QP(i,!0):null,C=new hM(x.shape,[1,p,n.outChannels],!0,!1,_,E,S),k=[x,v];r&&k.push(r),S&&k.push(o);const O=this.compileAndRun(C,k);return h?O.reshape([1,c,u,n.outChannels]):O.reshape([1,n.outChannels,c,u])}fusedConv2d({input:e,filter:t,convInfo:n,bias:r,activation:i,preluActivationWeights:o}){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n,r,i,o);if(Object(Ub.nb)().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n,r,i,o);const a=null!=r,s=null!=o,l=i?QP(i,!1):null,u=new mR(n,a,l,s),c=[e,t];return r&&c.push(r),o&&c.push(o),this.compileAndRun(u,c)}conv2d(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(Object(Ub.nb)().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);const r=new mR(n);return this.compileAndRun(r,[e,t])}conv2dDerInput(e,t,n){const r=new cR(n);return this.compileAndRun(r,[e,t])}conv2dDerFilter(e,t,n){const r=new uR(n);return this.compileAndRun(r,[e,t])}fusedDepthwiseConv2D({input:e,filter:t,convInfo:n,bias:r,activation:i,preluActivationWeights:o}){const a=Object(Ub.nb)().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1,s=i?QP(i,a):null,l=[e,t],u=null!=r,c=null!=o;let f;return u&&l.push(r),c&&l.push(o),a?(f=new yR(n,u,s,c),this.compileAndRun(f,l)):(f=new bR(n,u,s,c),this.compileAndRun(f,l))}depthwiseConv2D(e,t,n){let r;return Object(Ub.nb)().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new yR(n),this.compileAndRun(r,[e,t])):(r=new bR(n),this.compileAndRun(r,[e,t]))}depthwiseConv2DDerInput(e,t,n){const r=new pR(n);return this.compileAndRun(r,[e,t])}depthwiseConv2DDerFilter(e,t,n){const r=new dR(n);return this.compileAndRun(r,[e,t])}conv3d(e,t,n){const r=new gR(n);return this.compileAndRun(r,[e,t])}conv3dDerInput(e,t,n){const r=new hR(n);return this.compileAndRun(r,[e,t])}conv3dDerFilter(e,t,n){const r=new fR(n);return this.compileAndRun(r,[e,t])}maxPool(e,t){const n=new _M(t,"max",!1);return this.compileAndRun(n,[e])}avgPool(e,t){const n=new _M(t,"avg",!1);return this.compileAndRun(n,[e],"float32")}maxPoolBackprop(e,t,n,r){const i=!0,o=new _M(r,"max",!0),a=this.compileAndRun(o,[t]),s=new cM(r),l=this.compileAndRun(s,[e,a],t.dtype);return a.dispose(),l}avgPoolBackprop(e,t,n){const r=new uj(n);return this.compileAndRun(r,[e],t.dtype)}cast(e,t){return Ub.F.castTensor(e,t,this)}unstack(e,t){const n=e.shape[t],r=new Array(e.rank-1);let i=0;for(let n=0;n<e.rank;n++)n!==t&&(r[i++]=e.shape[n]);const o=new Array(e.rank).fill(0),a=e.shape.slice();a[t]=1;const s=new Array(n);for(let n=0;n<s.length;n++)o[t]=n,s[n]=this.slice(e,o,a).reshape(r);return s}avgPool3d(e,t){const n=new SM(t,"avg",!1);return this.compileAndRun(n,[e],"float32")}avgPool3dBackprop(e,t,n){const r=new cj(n);return this.compileAndRun(r,[e],t.dtype)}maxPool3d(e,t){const n=new SM(t,"max",!1);return this.compileAndRun(n,[e],"float32")}maxPool3dBackprop(e,t,n,r){const i=!0,o=new SM(r,"max",!0),a=this.compileAndRun(o,[t]),s=new fM(r),l=this.compileAndRun(s,[e,a],t.dtype);return a.dispose(),l}reshape(e,t){const n=this.texData.get(e.dataId);if(n.isPacked&&!WA(e.shape,t)&&(null===n.texture||!WA(n.shape,t))){const n=this.packedReshape(e,t);return Object(Ub.mb)().makeTensorFromDataId(n.dataId,n.shape,n.dtype)}return Ub.F.reshapeTensor(e,t)}resizeBilinear(e,t,n,r){const i=Object(Ub.nb)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new NM(e.shape,t,n,r):new TM(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")}resizeBilinearBackprop(e,t,n){const r=new OM(e,t,n);return this.compileAndRun(r,[e])}resizeNearestNeighbor(e,t,n,r){const i=new IM(e.shape,t,n,r);return this.compileAndRun(i,[e])}resizeNearestNeighborBackprop(e,t,n){const r=new AM(e,t,n);return this.compileAndRun(r,[e])}multinomial(e,t,n,r){const i=t?e:Object(Ub.Yc)(e),o=i.shape[0],a=i.shape[1],s=new dM(o,a,n),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",l)}oneHot(e,t,n,r){const i=new pM(e.size,t,n,r);return this.compileAndRun(i,[e])}diag(e){const t=new kR(e.size);return this.compileAndRun(t,[e])}cropAndResize(e,t,n,r,i,o){const a=new vR(e.shape,t.shape,r,i,o);return this.compileAndRun(a,[e,t,n],"float32")}depthToSpace(e,t,n){Ub.Bd.assert(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`);const r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],o="NHWC"===n?e.shape[2]:e.shape[3],a="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,l=o*t,u=a/(t*t),c="NHWC"===n?[r,s,l,u]:[r,u,s,l],f=new CR(c,t,n);return this.compileAndRun(f,[e])}split(e,t,n){return HP(e,t,n)}scatterND(e,t,n){const{sliceRank:r,numUpdates:i,sliceSize:o,strides:a,outputSize:s}=Ub.F.calculateShapes(t,e,n),l=[s/o,o],u=e.reshape([i,r]),c=t.reshape([i,o]);if(0===s)return Ub.F.reshapeTensor(Object(Ub.od)([]),n);const f=Object(Ub.Hc)(0),h=new MM(i,r,u.rank,c.rank,a,l),d=this.compileAndRun(h,[c,u,f]);return d.reshape(n)}sparseToDense(e,t,n,r){const{sliceRank:i,numUpdates:o,strides:a,outputSize:s}=Ub.F.calculateShapes(t,e,n),l=!1,u=new MM(o,i,e.rank,t.rank,a,[s,1],!1),c=this.compileAndRun(u,[t,e,r]);return c.reshape(n)}fft(e){const t=!1;return this.fftImpl(e,!1)}ifft(e){const t=!0;return this.fftImpl(e,!0)}fftImpl(e,t){const n=this.texData.get(e.dataId),r=new jR(IR.REAL,e.shape,t),i=new jR(IR.IMAG,e.shape,t),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],a=this.compileAndRun(r,o),s=this.compileAndRun(i,o),l=this.complex(a,s).as2D(e.shape[0],e.shape[1]);return a.dispose(),s.dispose(),l}gatherND(e,t){const n=t.shape,r=n[n.length-1],[i,o,a,s]=Ub.F.prepareAndValidate(e,t),l=t.reshape([o,r]),u=e.reshape([e.size/a,a]),c=new DR(r,s,[o,a]),f=this.compileAndRun(c,[u,l]);return f.reshape(i)}fill(e,t,n){if("string"===(n=n||Ub.Bd.inferDtype(t))){const r=Ub.Bd.getArrayFromDType(n,Ub.Bd.sizeFromShape(e));return r.fill(t),Object(Ub.mb)().makeTensor(r,e,n,this)}{const r=new RR(e,t),i=r.getCustomSetupFunc(t);return this.compileAndRun(r,[],n,i)}}onesLike(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)}zerosLike(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)}linspace(e,t,n){return Ub.F.linspaceImpl(e,t,n)}makeTensorInfo(e,t){const n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}}makeOutput(e,t){const{dataId:n}=this.makeTensorInfo(e,t);return Object(Ub.mb)().makeTensorFromDataId(n,e,t,this)}unpackTensor(e){const t=new WP(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new mM(e.shape),n=!0;return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[FA(e.shape),...BA(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[FA(t),...BA(t)],o=new CM(i,n),a=!0,s=this.runWebGLProgram(o,[r],e.dtype,null,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e){const t=this.texData.get(e),{isPacked:n,shape:r,dtype:i}=t,o=zA(r);let a;a=n?new ER(o):new SR(o);const s=!0,l=this.runWebGLProgram(a,[{shape:o,dtype:i,dataId:e}],i,null,!0);return{dtype:i,shape:r,dataId:l.dataId}}runWebGLProgram(e,t,n,r,i=!1){const o=this.makeTensorInfo(e.outputShape,n),a=this.texData.get(o.dataId);if(e.packedOutput&&(a.isPacked=!0),e.outPackingScheme===qN.DENSE){const t=QN(e.outputShape);a.texShape=t.map(e=>2*e)}if(null!=e.outTexUsage&&(a.usage=e.outTexUsage),0===Ub.Bd.sizeFromShape(o.shape))return a.values=Ub.Bd.getTypedArrayFromDType(o.dtype,0),o;const s=[],l=t.map(t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&Ub.Bd.sizeFromShape(t.shape)<=Object(Ub.nb)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),s.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!WA(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),s.push(t),n=this.texData.get(t.dataId),e.shape=r}return this.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(o.dataId);const u={shape:o.shape,texData:a,isUniform:!1},c=oM(e,l,u),f=this.getAndSaveBinary(c,()=>nM(this.gpgpu,e,l,u)),h=null!=this.activeTimers;let d;if(h&&(d=this.startTimer()),iM(this.gpgpu,f,l,u,r),s.forEach(e=>this.disposeData(e.dataId)),h&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!Object(Ub.nb)().getBool("WEBGL_LAZILY_UNPACK")&&a.isPacked&&!1===i){const e=this.unpackTensor(o);return this.disposeData(o.dataId),e}return o}compileAndRun(e,t,n,r,i=!1){n=n||t[0].dtype;const o=this.runWebGLProgram(e,t,n,r,i);return Object(Ub.mb)().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!Object(Ub.nb)().getBool("IS_TEST")){const e=Object.keys(this.binaryCache);e.forEach(e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]})}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(Ub.td)(()=>{if(!Object(Ub.nb)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Object(Ub.nb)().getBool("DEBUG");Object(Ub.nb)().set("DEBUG",!1);const t=this.abs(Object(Ub.Hc)(1e-8)).dataSync()[0];if(Object(Ub.nb)().set("DEBUG",e),t>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?YP:XP}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:i,texture:o,usage:a,isPacked:s}=t;if(null!=o)return;const l=null!=this.activeTimers;let u;l&&(u=Ub.Bd.now());let c=t.texShape;if(null==c&&(c=$A(n,s),t.texShape=c),null!=i){const e=zA(n);let o,a=c[1],f=c[0];const h=i instanceof Uint8Array;s?([a,f]=nA(c[0],c[1]),o=new AR(e,[f,a],h)):o=new NR(e,[f,a],h);const d=this.makeTensorInfo([f,a],r);this.texData.get(d.dataId).usage=h?KN.PIXELS:KN.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(d.dataId),a,f,i);const p=!0,m=this.runWebGLProgram(o,[d],r,null,p),g=this.texData.get(m.dataId);t.texture=g.texture,t.texShape=g.texShape,t.isPacked=g.isPacked,t.usage=g.usage,this.disposeData(d.dataId),this.texData.delete(m.dataId),t.values=null,l&&(this.uploadWaitMs+=Ub.Bd.now()-u)}else{const e=this.acquireTexture(c,a,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return this.releaseGPUData(e),null!=t&&(n.values=oD(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, `+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*Ub.Bd.bytesPerElement(t)}}function oD(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}
/** @license See the LICENSE file. */const aD="2.0.1";
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sD(e,t,n){let r=new Lj(vj,e.shape,t.shape);Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&(r=new nR(Bj,e.shape,t.shape,!0));const i=n.runWebGLProgram(r,[e,t],"float32");return i}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lD={kernelName:Ub.b,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{a:n,b:r}=e,i=t;return sD(n,r,i)}};
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uD{constructor(e){this.variableNames=["A"];const t=fI(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cD{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=fI(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fD={kernelName:Ub.c,backendName:"webgl",kernelFunc:dD};let hD;function dD(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:i}=t;const{numChannels:o}=r,a="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,[l,u]=a?[i.videoWidth,i.videoHeight]:[i.width,i.height],c=[u,l],f=[u,l,o];(s||a)&&(null==hD&&(hD=document.createElement("canvas").getContext("2d")),hD.canvas.width=l,hD.canvas.height=u,hD.drawImage(i,0,0,l,u),i=hD.canvas);const h=n.makeTensorInfo(c,"int32");n.texData.get(h.dataId).usage=KN.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),i);const d=Object(Ub.nb)().getBool("WEBGL_PACK")?new cD(f):new uD(f),p=n.runWebGLProgram(d,[h],"int32");return n.disposeData(h.dataId),p}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{maxImpl:pD,transposeImpl:mD}=d;
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gD(e,t,n,r){const[i,o]=e.shape,a=Ub.F.computeOptimalWindowSize(o),s={windowSize:a,inSize:o,batchSize:i},l=new EM(s,n),u=r.runWebGLProgram(l,[e],t);return 1===u.shape[1]?u:gD(u,t,n,r)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bD(e,t,n){const r=[FA(e.shape),...BA(e.shape)],i={dtype:e.dtype,shape:r,dataId:e.dataId},o=[FA(t),...BA(t)],a=new CM(o,r),s=!0,l=n.runWebGLProgram(a,[i],e.dtype,null,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}function yD(e,t,n){const r=n.texData.get(e.dataId);return!r.isPacked||WA(e.shape,t)||null!==r.texture&&WA(r.shape,t)?{dataId:e.dataId,shape:t,dtype:e.dtype}:bD(e,t,n)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vD(e,t,n,r){const i=Ub.Bd.sizeFromShape(t),o=Ub.Bd.sizeFromShape(e.shape),a=o/i,s=yD(e,[a,i],r),l=gD(s,e.dtype,"max",r);return s.dataId!==e.dataId&&r.disposeData(s.dataId),yD(l,n,r)}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wD{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;const r=oj(this.rank),i=xD(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${i}));\n    }\n    `}}function xD(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let t=0;t<e.length;t++)r[e[t]]=n[t];return r.join()}
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _D{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=oj(this.rank),i=lI("rc",this.rank),o=new Array(this.rank);for(let e=0;e<t.length;e++)o[t[e]]=i[e];const a=`vec2(${o.slice(-2).join()})`,s=`++${i[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${o.join()}), ${a})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${s}) {\n        result[1] = ${l};\n      }\n      --${i[this.rank-1]};\n      if(++${i[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${s}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SD(e,t,n){const r=Object(Ub.nb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _D(e.shape,t):new wD(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ED={kernelName:Ub.e,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{reductionIndices:i}=t,o=n,a=r.shape.length,s=Ub.Bd.parseAxisParam(i,r.shape);let l=s;const u=Ub.F.getAxesPermutation(l,a),c=null!=u,f=o.shouldExecuteOnCPU([r]);let h=r;if(c){if(f){const e=o.texData.get(h.dataId),t=e.values,n=new Array(a);for(let e=0;e<n.length;e++)n[e]=r.shape[u[e]];const i=mD(t,r.shape,r.dtype,u,n);h=o.makeTensorInfo(n,r.dtype);const s=o.texData.get(h.dataId);s.values=i}else h=SD(r,u,o);l=Ub.F.getInnerMostAxes(l.length,a)}Ub.F.assertAxesAreInnerMostDims("max",l,a);const[d,p]=Ub.F.computeOutAndReduceShapes(h.shape,l);let m;if(f){const e=o.texData.get(h.dataId),t=e.values,n=pD(t,Ub.Bd.sizeFromShape(p),d,r.dtype);m=o.makeTensorInfo(d,r.dtype);const i=o.texData.get(m.dataId);i.values=n}else m=vD(h,p,d,o);return c&&o.disposeData(h.dataId),m}};
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CD(e,t,n,r){let i=new _M(n,"max",!1);const o=r.runWebGLProgram(i,[e],"float32");i=new _M(n,"max",!0,!0,t);const a=r.runWebGLProgram(i,[e],"float32");return[o,a]}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kD={kernelName:Ub.f,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:i,strides:o,pad:a,includeBatchInIndex:s}=t,l=n;Ub.Bd.assert(4===r.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];Ub.Bd.assert(Ub.F.eitherStridesOrDilationsAreOne(o,u),()=>"Error in maxPool: Either strides or dilations must be 1. "+`Got strides ${o} and dilations '${u}'`);const c=Ub.F.computePool2DInfo(r.shape,i,o,u,a),[f,h]=CD(r,s,c,l);return[f,h]}},OD={kernelName:Ub.g,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{Ub.F.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{boxes:r,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:s}=n,l=t,u=l.readSync(r.dataId),c=l.readSync(i.dataId),f=o,h=a,d=s;return Ub.Jb.nonMaxSuppressionV3(u,c,f,h,d)}},TD=Ub.Jb.nonMaxSuppressionV5,ND={kernelName:Ub.h,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{Ub.F.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{boxes:r,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:s,softNmsSigma:l}=n,u=t,c=u.readSync(r.dataId),f=u.readSync(i.dataId),h=o,d=a,p=s,m=l,{selectedIndices:g,selectedScores:b}=TD(c,f,h,d,p,m);return[g,b]}},AD={kernelName:Ub.j,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t,i=new KM(n.shape,jP);return r.runWebGLProgram(i,[n],n.dtype)}},ID={kernelName:Ub.k,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{a:n,b:r}=e,i="return (a - b) * (a - b);",o=t,a=Object(Ub.nb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new nR(i,n.shape,r.shape):new Lj(i,n.shape,r.shape);return o.compileAndRun(a,[n,r])}},jD={kernelName:Ub.n,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{perm:i}=t,o=n,a=r.shape.length,s=new Array(a);for(let e=0;e<s.length;e++)s[e]=r.shape[i[e]];let l;if(o.shouldExecuteOnCPU([r])){const e=o.texData.get(r.dataId),t=e.values,n=mD(t,r.shape,r.dtype,i,s);l=o.makeTensorInfo(s,r.dtype);const a=o.texData.get(l.dataId);a.values=n}else l=SD(r,i,o);return l}},RD=[ED,fD,lD,OD,ND,AD,ID,jD,kD];
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */for(const e of RD)Object(Ub.Ac)(e);
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MD(){Object(Ub.nb)().set("WEBGL_FORCE_F16_TEXTURES",!0)}
/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */Ub.gb.isBrowser()&&Object(Ub.zc)("webgl",()=>new iD,2);const PD=MD,DD="2.0.1",LD=Ub.Ed,FD="2.0.1",BD="2.0.1",zD="2.0.1",$D=P_,UD="2.0.1",WD="2.0.1";
/** @license See the LICENSE file. */var VD=n(638);function HD(e){"@babel/helpers - typeof";return(HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function GD(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function qD(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){GD(o,r,i,a,s,"next",e)}function s(e){GD(o,r,i,a,s,"throw",e)}a(void 0)})}}function KD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XD(e,t,n){return t&&YD(e.prototype,t),n&&YD(e,n),e}function ZD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JD(e,t)}function JD(e,t){return(JD=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function QD(e){return function(){var t=rL(e),n;if(nL()){var r=rL(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return eL(this,n)}}function eL(e,t){return!t||"object"!==HD(t)&&"function"!=typeof t?tL(e):t}function tL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function rL(e){return(rL=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var iL=function(e){ZD(n,e);var t=QD(n);function n(){var e;KD(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={canvasImageBlob:null,image:""},e.canvasObject=null,e.onChange=function(){var t=qD(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function t(r){for(;;)switch(r.prev=r.next){case 0:n.canvas.drawing.toBlob(function(){var t=qD(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function t(r){for(;;)switch(r.prev=r.next){case 0:e.setState({canvasImageBlob:n},function(){return e.predict()});case 1:case"end":return r.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return r.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.predict=qD(regeneratorRuntime.mark(function t(){var n,r,i,o,a,s,l,u,c,f;return regeneratorRuntime.wrap(function t(h){for(;;)switch(h.prev=h.next){case 0:return n=e.state.canvasImageBlob,h.t0=$b,h.next=4,n.arrayBuffer();case 4:return h.t1=h.sent,h.next=7,h.t0.read.call(h.t0,h.t1);case 7:return r=(r=h.sent).resize(28,28).invert().greyscale(),h.next=11,r.getBase64Async("image/jpeg");case 11:for(i=h.sent,e.setState({image:i}),o=[],a=0;a<28;a++)for(s=0;s<28;s++)o.push($b.intToRGBA(r.getPixelColor(s,a)).r/255);l=e.model.predict(Ub.rd(o,[1,28,28,1])),u=-1,c=-1,f=l.dataSync(),Object.keys(f).forEach(function(e){f[e]>c&&(u=parseInt(e,10),c=f[e])}),hd("I guess the digit you draw is ".concat(u,", ").concat(Math.floor(100*c,3),"%"));case 21:case"end":return h.stop()}},t)})),e.clear=function(){e.canvasObject.clear()},e}return XD(n,[{key:"componentWillMount",value:function(){var e=qD(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,IS("/playground/model/mnist/model.json");case 2:this.model=t.sent;case 3:case"end":return t.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this;return ar.a.createElement("div",{className:"mnist"},ar.a.createElement("div",{className:"toast"},"you can draw a digit here and predict it"),ar.a.createElement(kh,{size:"small",className:"clear-button",onClick:this.clear},"Clear Canvas"),ar.a.createElement("div",{className:"contents"},ar.a.createElement(zb,{ref:function e(n){return t.canvasObject=n},onChange:this.onChange,canvasWidth:600,canvasHeight:600,brushColor:"#000",brushRadius:25}),ar.a.createElement("img",{alt:"mnist",height:"128",width:"128",src:this.state.image,className:"input-image"})))}}]),n}(or.Component),oL=n(291),aL=n(639),sL=n(640),lL=n(641),uL=n(642);function cL(e){"@babel/helpers - typeof";return(cL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dL(e,t,n){return t&&hL(e.prototype,t),n&&hL(e,n),e}function pL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mL(e,t)}function mL(e,t){return(mL=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function gL(e){return function(){var t=wL(e),n;if(vL()){var r=wL(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return bL(this,n)}}function bL(e,t){return!t||"object"!==cL(t)&&"function"!=typeof t?yL(e):t}function yL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function wL(e){return(wL=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xL(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _L(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){xL(o,r,i,a,s,"next",e)}function s(e){xL(o,r,i,a,s,"throw",e)}a(void 0)})}}function SL(e){return EL.apply(this,arguments)}function EL(){return(EL=_L(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return n=new Promise(function(e){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var t=document.createElement("canvas"),n=t.getContext("2d");t.height=this.naturalHeight,t.width=this.naturalWidth,n.drawImage(this,0,0),t.toBlob(e)},n.src=t}),i.next=3,n;case 3:return r=i.sent,i.abrupt("return",r);case 5:case"end":return i.stop()}},e)}))).apply(this,arguments)}var CL=function(e){pL(n,e);var t=gL(n);function n(e){var r;return fL(this,n),(r=t.call(this,e)).onPredict=function(){var e=_L(regeneratorRuntime.mark(function e(t){var n,i,o,a,s,l,u,c;return regeneratorRuntime.wrap(function e(f){for(;;)switch(f.prev=f.next){case 0:return md("Please give us some time to predict the result ..."),f.next=3,$b.read(t);case 3:for(n=(n=f.sent).resize(256,256),i=[],o=0;o<256;o++)for(a=0;a<256;a++)i.push($b.intToRGBA(n.getPixelColor(o,a)).r/255-r.means[o][a][0]),i.push($b.intToRGBA(n.getPixelColor(o,a)).g/255-r.means[o][a][1]),i.push($b.intToRGBA(n.getPixelColor(o,a)).b/255-r.means[o][a][2]);s=r.model.predict(Ub.rd(i,[1,256,256,3])),l=-1,u=-1,c=s.dataSync(),Object.keys(c).forEach(function(e){c[e]>u&&(l=parseInt(e,10),u=c[e])}),r.setState({imageResult:{type:r.labels[l],prob:u}}),gd();case 14:case"end":return f.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.onClickImg=function(){var e=_L(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,SL(t);case 2:return n=i.sent,i.t0=r,i.next=6,n.arrayBuffer();case 6:i.t1=i.sent,i.t0.onPredict.call(i.t0,i.t1);case 8:case"end":return i.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.onClick=function(){r.inputElement.click()},r.onIptChange=_L(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(i){for(;;)switch(i.prev=i.next){case 0:return t=r.inputElement.files,i.next=3,new Promise(function(e,n){var r=new FileReader;r.readAsArrayBuffer(t[0]),r.onload=function(){return e(r.result)},r.onerror=function(e){return n(e)}});case 3:n=i.sent,r.onPredict(n);case 5:case"end":return i.stop()}},e)})),r.labels=["avator","blured background","icon","label","brand logo","item image","pure background","pure picture"],r.state={imageResult:{},imageList:[{url:"https://gw.alicdn.com/tfs/TB1ekuMhQY2gK0jSZFgXXc5OFXa-400-400.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1xQqNhNv1gK0jSZFFXXb0sXXa-256-256.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1lV9OhQT2gK0jSZPcXXcKkpXa-200-200.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1vbWJhFY7gK0jSZKzXXaikpXa-400-400.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1WkOLhNn1gK0jSZKPXXXvUXXa-800-800.jpg",width:100,height:100},{url:"https://gw.alicdn.com/tfs/TB1gUaJhKT2gK0jSZFvXXXnFXXa-732-331.jpg",width:100,height:50},{url:"https://gw.alicdn.com/tfs/TB17yuKhUY1gK0jSZFMXXaWcVXa-800-800.jpg",width:100,height:100},{url:"https://img.alicdn.com/tfs/TB1v6gPcQL0gK0jSZFAXXcA9pXa-64-26.png",width:32,height:13}]},r}return dL(n,[{key:"componentDidMount",value:function(){var e=_L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){for(;;)switch(t.prev=t.next){case 0:return md("loading model from assetsClassification..."),t.next=3,RT("/playground/model/assetsClassification/model.json");case 3:return this.model=t.sent,t.next=6,nb.a.get("/playground/model/assetsClassification/mean.json");case 6:this.means=t.sent.data,gd();case 8:case"end":return t.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(){var t=this,n=this.state,r=n.imageResult,i=n.imageList,o=r&&JSON.stringify(r,null,2)||"";return ar.a.createElement("div",{className:"asset-classification"},ar.a.createElement("div",{className:"experienceInner"},ar.a.createElement("h3",{className:"pageTitle"},"Front-end Assets Classification"),ar.a.createElement("p",{className:"pageDescription"}),ar.a.createElement("div",{style:{display:"flex",flexDirection:"space-between"}},ar.a.createElement("div",{className:"content-item"},ar.a.createElement("h4",{className:"label"},"Origin Image"),ar.a.createElement("div",{className:"imageList"},i.map(function(e){return ar.a.createElement("div",{key:e.url,className:"imageItem",onClick:function n(){t.onClickImg(e.url)}},ar.a.createElement("img",{src:e.url,width:e.width,height:e.height,alt:"item"}))})),ar.a.createElement("div",{className:"upload-wrap"},ar.a.createElement("span",{className:"upload-btn",onClick:this.onClick},ar.a.createElement("input",{ref:function e(n){return t.inputElement=n},onChange:this.onIptChange,type:"file",accept:"image/png, image/jpg, image/jpeg",multiple:"",style:{display:"none"}}),ar.a.createElement("button",{type:"button",className:"btn-select-file"},"Select a Picture")))),ar.a.createElement("div",{className:"content-item"},ar.a.createElement("h4",{className:"label"},"Result"),ar.a.createElement(oL.UnControlled,{value:o,options:{mode:"javascript",theme:"material",lineNumbers:!0,readOnly:!0}})))))}}]),n}(or.Component),kL=n(643),OL=[{title:"Tutorials",cover:"https://img.alicdn.com/tfs/TB1K3ZQGHj1gK0jSZFuXXcrHpXa-450-240.png",description:"Learn how to get started with Pipcook in tutorials",url:"/index.html#/tutorial"},{title:"Pipeline",cover:"https://img.alicdn.com/tfs/TB14AUOGNv1gK0jSZFFXXb0sXXa-715-400.jpg",description:"Integrating the machine learning Pipeline into your workflow",url:"/index.html#/pipeline"}];function TL(){return ar.a.createElement("div",{className:"home"},ar.a.createElement(dh,{items:OL}))}var NL=n(644),AL,IL,jL=cg.Option,RL=function e(){};function ML(e,t,n){var r=PL(t,n);return e>r?r:e}function PL(e,t){var n=Math.ceil(e/t);return n<=0?1:n}var DL=(IL=AL=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));return i.handleJump=function(e){var t=i.props.total,n=i.state,r=n.current,o=n.currentPageSize,a=n.inputValue,s=PL(t,o),l=parseInt(a,10);isNaN(l)?l="":l<1?l=1:l>s&&(l=s),l&&l!==r&&i.onPageItemClick(l,e),i.setState({inputValue:""})},i.state={current:n.defaultCurrent||1,currentPageSize:0,inputValue:""},i}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r=t.current,i=t.total,o=t.pageSize,a={},s=ML(r||n.current,i,o);return n.current!==s&&(a.current=s),n.currentPageSize!==o&&(a.currentPageSize=o),a},t.prototype.onPageItemClick=function e(t,n){"current"in this.props||this.setState({current:t}),this.props.onChange(t,n)},t.prototype.onInputChange=function e(t){this.setState({inputValue:t})},t.prototype.onSelectSize=function e(t){var n={currentPageSize:t},r=PL(this.props.total,t);this.state.current>r&&(n.current=r),this.setState(n),this.props.onPageSizeChange(t)},t.prototype.renderPageTotal=function e(){var t=this.props,n=t.prefix,r=t.total,i=t.totalRender,o=this.state,a=o.currentPageSize,s=o.current,l=[(s-1)*a+1,s*a];return ar.a.createElement("div",{className:n+"pagination-total"},i(r,l))},t.prototype.renderPageItem=function e(t){var n,r=this.props,i=r.prefix,o=r.size,a=r.link,s=r.pageNumberRender,l=r.total,u=r.pageSize,c=r.locale,f=this.state.current,h=PL(l,u),d=parseInt(t,10)===f,p={size:o,className:zs()((n={},n[i+"pagination-item"]=!0,n[i+"current"]=d,n)),onClick:d?RL:this.onPageItemClick.bind(this,t)};return a&&(p.component="a",p.href=a.replace("{page}",t)),ar.a.createElement(kh,vo()({"aria-label":Ja.template(c.total,{current:t,total:h})},p,{key:t}),s(t))},t.prototype.renderPageFirst=function e(t){var n,r=this.props,i=r.prefix,o=r.size,a=r.shape,s=r.locale,l,u={disabled:t<=1,size:o,className:zs()((n={},n[i+"pagination-item"]=!0,n[i+"prev"]=!0,n)),onClick:this.onPageItemClick.bind(this,t-1)},c=ar.a.createElement(ml,{type:"arrow-left",className:i+"pagination-icon-prev"});return ar.a.createElement(kh,vo()({},u,{"aria-label":Ja.template(s.labelPrev,{current:t})}),c,"arrow-only"===a||"arrow-prev-only"===a||"no-border"===a?"":s.prev)},t.prototype.renderPageLast=function e(t,n){var r,i=this.props,o=i.prefix,a=i.size,s=i.shape,l=i.locale,u,c={disabled:t>=n,size:a,className:zs()((r={},r[o+"pagination-item"]=!0,r[o+"next"]=!0,r)),onClick:this.onPageItemClick.bind(this,t+1)},f=ar.a.createElement(ml,{type:"arrow-right",className:o+"pagination-icon-next"});return ar.a.createElement(kh,vo()({},c,{"aria-label":Ja.template(l.labelNext,{current:t})}),"arrow-only"===s||"no-border"===s?"":l.next,f)},t.prototype.renderPageEllipsis=function e(t){var n=this.props.prefix;return ar.a.createElement(ml,{className:n+"pagination-ellipsis "+n+"pagination-icon-ellipsis",type:"ellipsis",key:"ellipsis-"+t})},t.prototype.renderPageJump=function e(){var t=this,n=this.props,r=n.prefix,i=n.size,o=n.locale,a=this.state.inputValue;return[ar.a.createElement("span",{className:r+"pagination-jump-text"},o.goTo),ar.a.createElement(um,{className:r+"pagination-jump-input",type:"text","aria-label":o.inputAriaLabel,size:i,value:a,onChange:this.onInputChange.bind(this),onKeyDown:function e(n){n.keyCode===ns.ENTER&&t.handleJump(n)}}),ar.a.createElement("span",{className:r+"pagination-jump-text"},o.page),ar.a.createElement(kh,{className:r+"pagination-jump-go",size:i,onClick:this.handleJump},o.go)]},t.prototype.renderPageDisplay=function e(t,n){var r=this.props,i=r.prefix,o=r.pageNumberRender;return ar.a.createElement("span",{className:i+"pagination-display"},ar.a.createElement("em",null,o(t)),"/",o(n))},t.prototype.renderPageList=function e(t,n){var r=this.props,i=r.prefix,o=r.pageShowCount,a=[];if(n<=o)for(var s=1;s<=n;s++)a.push(this.renderPageItem(s));else{var l=o-3,u=parseInt(l/2,10),c=void 0,f=void 0;a.push(this.renderPageItem(1)),f=t+u,(c=t-u)<=1&&(f=(c=2)+l),c>2&&a.push(this.renderPageEllipsis(1)),f>=n-1&&(f=n-1,c=n-1-l);for(var h=c;h<=f;h++)a.push(this.renderPageItem(h));f<n-1&&a.push(this.renderPageEllipsis(2)),a.push(this.renderPageItem(n))}return ar.a.createElement("div",{className:i+"pagination-list"},a)},t.prototype.renderPageSizeSelector=function e(){var t=this.props,n=t.prefix,r=t.pageSizeSelector,i=t.locale,o=ar.a.createElement("span",{className:n+"pagination-size-selector-title"},i.pageSize);switch(r){case"filter":return ar.a.createElement("div",{className:n+"pagination-size-selector"},o,this.renderPageSizeFilter());case"dropdown":return ar.a.createElement("div",{className:n+"pagination-size-selector"},o,this.renderPageSizeDropdown());default:return null}},t.prototype.renderPageSizeFilter=function e(){var t=this,n=this.props,r=n.prefix,i=n.size,o=n.pageSizeList,a=this.state.currentPageSize;return ar.a.createElement("div",{className:r+"pagination-size-selector-filter"},o.map(function(e,n){var o,s=void 0,l=void 0;e.value?(s=e.label,l=e.value):s=l=e;var u=zs()(((o={})[r+"pagination-size-selector-btn"]=!0,o[r+"current"]=l===a,o));return ar.a.createElement(kh,{key:n,text:!0,size:i,className:u,onClick:l!==a?t.onSelectSize.bind(t,l):null},s)}))},t.prototype.renderPageSizeDropdown=function e(){var t=this.props,n=t.prefix,r=t.size,i=t.pageSizeList,o=t.selectPopupContiner,a=t.locale,s=t.popupProps,l=this.state.currentPageSize;return ar.a.createElement(cg,{className:n+"pagination-size-selector-dropdown",popupClassName:n+"pagination-size-selector-popup",popupContainer:o,popupProps:s,"aria-label":a.selectAriaLabel,autoWidth:!0,size:r,value:l,onChange:this.onSelectSize.bind(this)},i.map(function(e,t){var n=void 0,r=void 0;return e.value?(n=e.label,r=e.value):n=r=e,ar.a.createElement(jL,{key:t,value:r},n)}))},t.prototype.render=function e(){var n,r=this,i=this.props,o=i.prefix,a=i.pure,s=i.rtl,l=i.device,u=i.type,c=i.size,f=i.shape,h=i.className,d=i.total,p=i.totalRender,m=i.pageSize,g=i.pageSizeSelector,b=i.pageSizeList,y=i.pageSizePosition,v=i.useFloatLayout,w=i.onPageSizeChange,x=i.hideOnlyOnePage,_=i.showJump,S=i.locale,E=i.current,C=i.defaultCurrent,k=i.pageShowCount,O=i.pageNumberRender,T=i.link,N=i.onChange,A=i.selectPopupContiner,I=i.popupProps,j=xo()(i,["prefix","pure","rtl","device","type","size","shape","className","total","totalRender","pageSize","pageSizeSelector","pageSizeList","pageSizePosition","useFloatLayout","onPageSizeChange","hideOnlyOnePage","showJump","locale","current","defaultCurrent","pageShowCount","pageNumberRender","link","onChange","selectPopupContiner","popupProps"]),R=this.state,M=R.current,P,D=PL(d,R.currentPageSize),L=this.renderPageFirst(M),F=this.renderPageLast(M,D),B=this.renderPageSizeSelector(),z="start"===y,$=u;"phone"===l&&"normal"===$&&($="simple");var U=zs()(((n={})[o+"pagination"]=!0,n[""+o+c]=c,n[""+o+$]=$,n[""+o+f]=f,n[o+"start"]=!!g&&z&&v,n[o+"end"]=!!g&&!z&&v,n[o+"hide"]=D<=1&&x,n[h]=!!h,n));s&&(j.dir="rtl");var W=function e(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return ar.a.createElement("div",vo()({className:U},Za.pickOthers(Object.keys(t.propTypes),j)),z&&B,p?r.renderPageTotal():null,ar.a.createElement("div",{className:o+"pagination-pages"},i.map(function(e,t){return e&&ar.a.cloneElement(e,{key:t})})),!z&&B)};switch($){case"mini":return W(L,F);case"simple":var V;return W(L,this.renderPageDisplay(M,D),F);case"normal":var H=this.renderPageList(M,D),G=_&&d>m*k?this.renderPageDisplay(M,D):null,q=_&&d>m*k?this.renderPageJump(M,D):null;return W.apply(void 0,[L,H,F,G].concat(q));default:return null}},t}(or.Component),AL.propTypes=vo()({},Fs.propTypes,{prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,device:lr.a.oneOf(["desktop","tablet","phone"]),className:lr.a.string,locale:lr.a.object,type:lr.a.oneOf(["normal","simple","mini"]),shape:lr.a.oneOf(["normal","arrow-only","arrow-prev-only","no-border"]),size:lr.a.oneOf(["small","medium","large"]),current:lr.a.number,defaultCurrent:lr.a.number,onChange:lr.a.func,total:lr.a.number,totalRender:lr.a.func,pageShowCount:lr.a.number,pageSize:lr.a.number,pageSizeSelector:lr.a.oneOf([!1,"filter","dropdown"]),pageSizeList:lr.a.oneOfType([lr.a.arrayOf(lr.a.number),lr.a.arrayOf(lr.a.shape({label:lr.a.string,value:lr.a.number}))]),pageNumberRender:lr.a.func,pageSizePosition:lr.a.oneOf(["start","end"]),useFloatLayout:lr.a.bool,onPageSizeChange:lr.a.func,hideOnlyOnePage:lr.a.bool,showJump:lr.a.bool,link:lr.a.string,selectPopupContiner:lr.a.any,popupProps:lr.a.object}),AL.defaultProps={prefix:"next-",pure:!1,rtl:!1,locale:No.Pagination,type:"normal",shape:"normal",size:"medium",defaultCurrent:1,onChange:RL,pageSize:10,pageSizeSelector:!1,pageSizeList:[5,10,20],pageSizePosition:"start",onPageSizeChange:RL,useFloatLayout:!1,total:100,pageShowCount:5,hideOnlyOnePage:!1,showJump:!0,pageNumberRender:function e(t){return t},selectPopupContiner:function e(t){return t.parentNode}},IL);DL.displayName="Pagination";var LL,FL=Fs.config(Object(To.polyfill)(DL)),BL=n(645),zL=n(646),$L=n(647),UL=n(143),WL=n.n(UL),VL,HL,GL=(HL=VL=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var n,r,i,o=this.props,a=o.tip,s=o.visible,l=o.children,u=o.className,c=o.style,f=o.indicator,h=o.color,d=o.prefix,p=o.fullScreen,m=o.onVisibleChange,g=o.tipAlign,b=o.size,y=o.inline,v=o.rtl,w=null,x=d+"loading-dot";if(f)w=f;else{var _,S=h,E=zs()(((_={})[d+"loading-fusion-reactor"]=!0,_[d+"loading-medium-fusion-reactor"]="medium"===b,_));w=ar.a.createElement("div",{className:E,dir:v?"rtl":void 0},ar.a.createElement("span",{className:x,style:{backgroundColor:S}}),ar.a.createElement("span",{className:x,style:{backgroundColor:S}}),ar.a.createElement("span",{className:x,style:{backgroundColor:S}}),ar.a.createElement("span",{className:x,style:{backgroundColor:S}}))}var C=zs()(((n={})[d+"loading"]=!0,n[d+"open"]=s,n[d+"loading-inline"]=y,n[u]=u,n)),k=zs()(((r={})[d+"loading-tip"]=!0,r[d+"loading-tip-fullscreen"]=p,r[d+"loading-right-tip"]="right"===g,r)),O=Za.pickOthers(t.propTypes,this.props),T=zs()(((i={})[d+"loading-component"]=s,i[d+"loading-wrap"]=!0,i));return p?[l,ar.a.createElement(_u,vo()({key:"overlay",hasMask:!0,align:"cc cc"},O,{className:u,style:c,visible:s,onRequestClose:m}),ar.a.createElement("div",{className:k},ar.a.createElement("div",{className:d+"loading-indicator"},w),ar.a.createElement("div",{className:d+"loading-tip-content"},a),ar.a.createElement("div",{className:d+"loading-tip-placeholder"},a)))]:ar.a.createElement("div",vo()({className:C,style:c},O),s?ar.a.createElement("div",{className:k},ar.a.createElement("div",{className:d+"loading-indicator"},w),ar.a.createElement("div",{className:d+"loading-tip-content"},a),ar.a.createElement("div",{className:d+"loading-tip-placeholder"},a)):null,ar.a.createElement("div",{className:T},s?ar.a.createElement("div",{className:d+"loading-masker"}):null,l))},t}(ar.a.Component),VL.propTypes={prefix:lr.a.string,tip:lr.a.any,tipAlign:lr.a.oneOf(["right","bottom"]),visible:lr.a.bool,onVisibleChange:lr.a.func,className:lr.a.string,style:lr.a.object,size:lr.a.oneOf(["large","medium"]),indicator:lr.a.any,color:lr.a.string,fullScreen:lr.a.bool,children:lr.a.any,inline:lr.a.bool,rtl:lr.a.bool},VL.defaultProps={prefix:"next-",visible:!0,onVisibleChange:Ya.noop,animate:null,tipAlign:"bottom",size:"large",inline:!0},HL);GL.displayName="Loading";var qL=Fs.config(GL),KL=["defaultProps","propTypes","contextTypes","childContextTypes","displayName","getDerivedStateFromProps"],YL=function e(t,n){Object.keys(n).forEach(function(e){-1===KL.indexOf(e)&&(t[e]=n[e])})},XL=function e(t,n){if(!t||!n)return!1;var r=(n=n.toString()).split("."),i=void 0,o=void 0;if(r.length&&((o=r[0]).indexOf("[")>=0?(o=o.match(/(.*)\[(.*)\]/))&&(i=t[o[1]][o[2]]):i=t[r[0]],i))for(var a=1;a<r.length&&void 0!==(i=i[r[a]]);a++);return i},ZL,JL,QL=function e(){},eF=(JL=ZL=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onClick=function(e){var t=r.props,n=t.record,i=t.rowIndex;r.props.onClick(n,i,e)},r.onMouseEnter=function(e){var t=r.props,n=t.record,i=t.rowIndex,o,a=t.__rowIndex||i;r.onRowHover(n,a,!0,e)},r.onMouseLeave=function(e){var t=r.props,n=t.record,i=t.rowIndex,o,a=t.__rowIndex||i;r.onRowHover(n,a,!1,e)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.shouldComponentUpdate=function e(t){var n;return!t.pure||!Za.shallowEqual(this.props,t)},t.prototype.onRowHover=function e(t,n,r,i){var o=this.props,a=o.onMouseEnter,s=o.onMouseLeave,l=Object(tr.findDOMNode)(this);r?(a(t,n,i),l&&Ga.addClass(l,"hovered")):(s(t,n,i),l&&Ga.removeClass(l,"hovered"))},t.prototype.renderCells=function e(t,n){var r=this,i=this.props,o=i.Cell,a=i.columns,s=i.getCellProps,l=i.cellRef,u=i.prefix,c=i.primaryKey,f=i.__rowIndex,h=i.pure,d=i.locale,p=i.rtl;n=void 0!==n?n:this.props.rowIndex;var m=this.context.lockType;return a.map(function(e,i){var g,b=e.dataIndex,y=e.align,v=e.alignHeader,w=e.width,x=e.colSpan,_=e.style,S=e.__colIndex,E=xo()(e,["dataIndex","align","alignHeader","width","colSpan","style","__colIndex"]),C="__colIndex"in e?S:i,k=XL(t,b),O=s(n,C,b,t)||{};if(r.context.notRenderCellIndex){var T=r.context.notRenderCellIndex.map(function(e){return e.toString()}).indexOf([n,C].toString());if(T>-1)return r.context.notRenderCellIndex.splice(T,1),null}(O.colSpan&&O.colSpan>1||O.rowSpan&&O.rowSpan>1)&&r._getNotRenderCellIndex(C,n,O.colSpan||1,O.rowSpan||1);var N=O.className,A=zs()(((g={first:"right"!==m&&0===C,last:"left"!==m&&(C===a.length-1||C+O.colSpan===a.length)})[e.className]=e.className,g[N]=N,g));return ar.a.createElement(o,vo()({key:f+"-"+C},E,O,{"data-next-table-col":C,"data-next-table-row":n,ref:function e(t){return l(f,C,t)},prefix:u,pure:h,primaryKey:c,record:t,className:A,value:k,colIndex:C,rowIndex:n,align:y,locale:d,rtl:p,width:w}))})},t.prototype._getNotRenderCellIndex=function e(t,n,r,i){for(var o=r,a=i,s=[],l=0;l<o;l++)for(var u=0;u<a;u++)s.push([n+u,t+l]);[].push.apply(this.context.notRenderCellIndex,s)},t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.onClick,a=n.onMouseEnter,s=n.onMouseLeave,l=n.columns,u=n.Cell,c=n.getCellProps,f=n.rowIndex,h=n.record,d=n.__rowIndex,p=n.children,m=n.primaryKey,g=n.cellRef,b=n.colGroup,y=n.pure,v=n.locale,w=n.expandedIndexSimulate,x=n.rtl,_=n.wrapper,S=xo()(n,["prefix","className","onClick","onMouseEnter","onMouseLeave","columns","Cell","getCellProps","rowIndex","record","__rowIndex","children","primaryKey","cellRef","colGroup","pure","locale","expandedIndexSimulate","rtl","wrapper"]),E=zs()(((t={})[r+"table-row"]=!0,t[i]=i,t)),C;return _(ar.a.createElement("tr",vo()({className:E,role:"row"},S,{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),this.renderCells(h),p))},t}(ar.a.Component),ZL.propTypes={prefix:lr.a.string,pure:lr.a.bool,primaryKey:lr.a.string,className:lr.a.string,columns:lr.a.array,record:lr.a.any,Cell:lr.a.func,rowIndex:lr.a.number,getCellProps:lr.a.func,onClick:lr.a.func,onMouseEnter:lr.a.func,onMouseLeave:lr.a.func,children:lr.a.any,cellRef:lr.a.func,colGroup:lr.a.object,locale:lr.a.object,wrapper:lr.a.func},ZL.defaultProps={prefix:"next-",primaryKey:"id",columns:[],record:{},getCellProps:QL,onClick:QL,onMouseEnter:QL,onMouseLeave:QL,cellRef:QL,colGroup:{},wrapper:function e(t){return t}},ZL.contextTypes={notRenderCellIndex:lr.a.array,lockType:lr.a.oneOf(["left","right"])},JL),tF,nF;eF.displayName="Row";var rF=(nF=tF=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.shouldComponentUpdate=function e(t){var n;return!t.pure||!Za.shallowEqual(this.props,t)},t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.cell,a=n.value,s=n.resizable,l=n.colIndex,u=n.rowIndex,c=n.__colIndex,f=n.record,h=n.context,d=n.align,p=n.style,m=void 0===p?{}:p,g=n.component,b=n.children,y=n.title,v=n.width,w=n.innerStyle,x=n.primaryKey,_=n.__normalized,S=n.filterMode,E=n.filterMenuProps,C=n.filterProps,k=n.filters,O=n.sortable,T=n.lock,N=n.pure,A=n.locale,I=n.expandedIndexSimulate,j=n.rtl,R=n.isIconLeft,M=n.type,P=n.htmlTitle,D=xo()(n,["prefix","className","cell","value","resizable","colIndex","rowIndex","__colIndex","record","context","align","style","component","children","title","width","innerStyle","primaryKey","__normalized","filterMode","filterMenuProps","filterProps","filters","sortable","lock","pure","locale","expandedIndexSimulate","rtl","isIconLeft","type","htmlTitle"]),L=vo()({},m),F={value:a,index:u,record:f,context:h},B=o;ar.a.isValidElement(B)?B=ar.a.cloneElement(B,F):"function"==typeof B&&(B=B(a,u,f,h)),d&&(L.textAlign=d,j&&(L.textAlign="left"===d?"right":"right"===d?"left":d));var z=zs()(((t={})[r+"table-cell"]=!0,t[i]=i,t));return ar.a.createElement(g,vo()({},D,{className:z,style:L,role:"gridcell"}),ar.a.createElement("div",{className:r+"table-cell-wrapper",style:w,title:P,"data-next-table-col":c,"data-next-table-row":u},R?b:B,R?B:b))},t}(ar.a.Component),tF.propTypes={prefix:lr.a.string,pure:lr.a.bool,primaryKey:lr.a.string,className:lr.a.string,record:lr.a.any,value:lr.a.any,isIconLeft:lr.a.bool,colIndex:lr.a.number,rowIndex:lr.a.number,__colIndex:lr.a.oneOfType([lr.a.number,lr.a.string]),title:lr.a.any,width:lr.a.oneOfType([lr.a.number,lr.a.string]),context:lr.a.any,cell:lr.a.oneOfType([lr.a.element,lr.a.node,lr.a.func]),align:lr.a.oneOf(["left","center","right"]),component:lr.a.oneOf(["td","th","div"]),children:lr.a.any,style:lr.a.object,innerStyle:lr.a.object,filterMode:lr.a.oneOf(["single","multiple"]),filterMenuProps:lr.a.object,filterProps:lr.a.object,filters:lr.a.array,sortable:lr.a.bool,lock:lr.a.any,type:lr.a.oneOf(["header","body"]),resizable:lr.a.bool,__normalized:lr.a.bool},tF.defaultProps={component:"td",type:"body",isIconLeft:!1,cell:function e(t){return t},prefix:"next-"},nF),iF,oF;rF.displayName="Cell";var aF=function e(){},sF=(oF=iF=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.getRowRef=function(e,t){r.props.rowRef(e,t)},r.onRowClick=function(e,t,n){r.props.onRowClick(e,t,n)},r.onRowMouseEnter=function(e,t,n){r.props.onRowMouseEnter(e,t,n)},r.onRowMouseLeave=function(e,t,n){r.props.onRowMouseLeave(e,t,n)},r.onBodyMouseOver=function(e){r.props.onBodyMouseOver(e)},r.onBodyMouseOut=function(e){r.props.onBodyMouseOut(e)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.prefix,i=n.className,o=n.children,a=n.component,s=n.colGroup,l=n.loading,u=n.emptyContent,c=n.components,f=n.getCellProps,h=n.primaryKey,d=n.getRowProps,p=n.dataSource,m=n.cellRef,g=n.columns,b=n.rowRef,y=n.onRowClick,v=n.onRowMouseEnter,w=n.onRowMouseLeave,x=n.onBodyMouseOver,_=n.onBodyMouseOut,S=n.locale,E=n.pure,C=n.expandedIndexSimulate,k=n.rtl,O=n.crossline,T=n.tableWidth,N=xo()(n,["prefix","className","children","component","colGroup","loading","emptyContent","components","getCellProps","primaryKey","getRowProps","dataSource","cellRef","columns","rowRef","onRowClick","onRowMouseEnter","onRowMouseLeave","onBodyMouseOver","onBodyMouseOut","locale","pure","expandedIndexSimulate","rtl","crossline","tableWidth"]),A=c.Row,I=void 0===A?eF:A,j=c.Cell,R=void 0===j?rF:j,M=l?ar.a.createElement("span",null,"\xa0"):u||S.empty,P=ar.a.createElement("tr",null,ar.a.createElement("td",{colSpan:g.length},ar.a.createElement("div",{className:r+"table-empty"},M)));"div"===a&&(P=ar.a.createElement("table",{role:"table"},ar.a.createElement("tbody",null,P))),p.length&&(P=p.map(function(e,n){var i,o={},a="object"===(void 0===e?"undefined":Io()(e))&&"__rowIndex"in e?e.__rowIndex:n,l=(o=(o=C?e.__expanded?{}:d(e,n/2):d(e,a))||{}).className,u=zs()(((i={first:0===n,last:n===p.length-1})[l]=l,i)),c=e.__expanded?"expanded":"";return ar.a.createElement(I,vo()({key:""+(e[h]||(0===e[h]?0:a))+c},o,{ref:t.getRowRef.bind(t,a),colGroup:s,rtl:k,columns:g,primaryKey:h,record:e,rowIndex:a,__rowIndex:a,prefix:r,pure:E,cellRef:m,getCellProps:f,className:u,Cell:R,onClick:t.onRowClick,locale:S,onMouseEnter:t.onRowMouseEnter,onMouseLeave:t.onRowMouseLeave}))}));var D=O?{onMouseOver:this.onBodyMouseOver,onMouseOut:this.onBodyMouseOut}:{};return ar.a.createElement(a,vo()({className:i},N,D),P,o)},t}(ar.a.Component),iF.propTypes={loading:lr.a.bool,emptyContent:lr.a.any,prefix:lr.a.string,pure:lr.a.bool,components:lr.a.object,getCellProps:lr.a.func,cellRef:lr.a.func,primaryKey:lr.a.string,getRowProps:lr.a.func,rowRef:lr.a.func,dataSource:lr.a.array,children:lr.a.any,className:lr.a.string,component:lr.a.string,colGroup:lr.a.object,columns:lr.a.array,onRowClick:lr.a.func,onRowMouseEnter:lr.a.func,onRowMouseLeave:lr.a.func,onBodyMouseOver:lr.a.func,onBodyMouseOut:lr.a.func,locale:lr.a.object,crossline:lr.a.bool,tableWidth:lr.a.number},iF.defaultProps={loading:!1,prefix:"next-",components:{},getCellProps:aF,cellRef:aF,primaryKey:"id",getRowProps:aF,rowRef:aF,dataSource:[],component:"tbody",columns:[]},oF),lF,uF;sF.displayName="Body";var cF=Ya.noop,fF=Ya.makeChain,hF=Ya.bindCtx,dF=_u.Popup,pF=(uF=lF=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));return r.state={visible:"visible"in n?n.visible:n.defaultVisible||!1,autoFocus:"autoFocus"in n&&n.autoFocus},hF(r,["onTriggerKeyDown","onMenuClick","onVisibleChange"]),r}return Oo()(t,e),t.prototype.getVisible=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return"visible"in t?t.visible:this.state.visible},t.prototype.onMenuClick=function e(){this.onVisibleChange(!1,"fromContent")},t.prototype.onVisibleChange=function e(t,n){this.setState({visible:t}),this.props.onVisibleChange(t,n)},t.prototype.onTriggerKeyDown=function e(){var t=!0;"autoFocus"in this.props&&(t=this.props.autoFocus),this.setState({autoFocus:t})},t.prototype.render=function e(){var t=or.Children.only(this.props.children);"function"==typeof t.type&&t.type.isNextMenu&&(t=ar.a.cloneElement(t,{onItemClick:fF(this.onMenuClick,t.props.onItemClick)}));var n=this.props,r=n.trigger,i=n.rtl,o=ar.a.cloneElement(r,{onKeyDown:fF(this.onTriggerKeyDown,r.props.onKeyDown)});return ar.a.createElement(dF,vo()({},this.props,{rtl:i,autoFocus:this.state.autoFocus,trigger:o,visible:this.getVisible(),onVisibleChange:this.onVisibleChange,canCloseByOutSideClick:!0}),t)},t}(or.Component),lF.propTypes={prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,className:lr.a.string,children:lr.a.node,visible:lr.a.bool,defaultVisible:lr.a.bool,onVisibleChange:lr.a.func,trigger:lr.a.node,triggerType:lr.a.oneOfType([lr.a.string,lr.a.array]),disabled:lr.a.bool,align:lr.a.string,offset:lr.a.array,delay:lr.a.number,autoFocus:lr.a.bool,hasMask:lr.a.bool,cache:lr.a.bool,animation:lr.a.oneOfType([lr.a.object,lr.a.bool])},lF.defaultProps={prefix:"next-",pure:!1,defaultVisible:!1,onVisibleChange:cF,triggerType:"hover",disabled:!1,align:"tl bl",offset:[0,0],delay:200,hasMask:!1,cache:!1,onPosition:cF},uF);pF.displayName="Dropdown";var mF=Fs.config(pF,{transform:function e(t,n){var r;"triggerType"in t&&((Array.isArray(t.triggerType)?[].concat(t.triggerType):[t.triggerType]).indexOf("focus")>-1&&n("triggerType[focus]","triggerType[hover, click]","Balloon"));return t}}),gF,bF,yF,vF=(bF=gF=function(e){function t(n){So()(this,t);var r=Co()(this,e.call(this,n));yF.call(r);var i,o=(n.filterParams||{})[n.dataIndex]||{};return r.state={visible:o.visible||!1,selectedKeys:o.selectedKeys||[],selectedKeysChangedByInner:!0},r._selectedKeys=[].concat(r.state.selectedKeys),r}return Oo()(t,e),t.getDerivedStateFromProps=function e(t,n){var r={};if(t.hasOwnProperty("filterParams")&&void 0!==t.filterParams){var i=t.dataIndex||this.props.dataIndex,o,a=(t.filterParams||{})[i]||{},s=void 0;n.selectedKeysChangedByInner?(s=n.selectedKeys||[],r.selectedKeysChangedByInner=!1):s=a.selectedKeys||[],r.selectedKeys=s}return r},t.prototype.componentDidUpdate=function e(t,n){var r=n.selectedKeys;this._selectedKeys=[].concat(r)},t.prototype.render=function e(){var t,n=this.props,r=n.filters,i=n.prefix,o=n.locale,a=n.className,s=n.filterMode,l=n.filterMenuProps,u=n.filterProps,c=n.rtl,f=this.state,h=f.visible,d=f.selectedKeys,p=l.subMenuSelectable,m=xo()(l,["subMenuSelectable"]);function g(e){return ar.a.createElement(of.Item,{key:e.value},e.label)}function b(e,t){return ar.a.createElement(of.SubMenu,{label:e.label,key:e.value,selectable:p},y(t))}function y(e){return e.map(function(e){return e.children?b(e,e.children):g(e)})}var v=y(r),w=ar.a.createElement("div",{className:i+"table-filter-footer"},ar.a.createElement(kh,{type:"primary",onClick:this.onFilterConfirm},o.ok),ar.a.createElement(kh,{onClick:this.onFilterClear},o.reset)),x=zs()(((t={})[i+"table-filter"]=!0,t[a]=a,t));return ar.a.createElement(mF,vo()({trigger:ar.a.createElement("span",{role:"button","aria-label":o.filter,onKeyDown:this.filterKeydown,tabIndex:"0",className:x},ar.a.createElement(ml,{type:"filter",size:"small"})),triggerType:"click",visible:h,autoFocus:!0,rtl:c,needAdjust:!1,onVisibleChange:this.onFilterVisible},u),ar.a.createElement(of,vo()({footer:w,rtl:c,selectedKeys:d,selectMode:s,onSelect:this.onFilterSelect},m),v))},t}(ar.a.Component),gF.propTypes={dataIndex:lr.a.string,filters:lr.a.array,filterMode:lr.a.string,filterParams:lr.a.object,filterMenuProps:lr.a.object,filterProps:lr.a.object,locale:lr.a.object,onFilter:lr.a.func,prefix:lr.a.string,rtl:lr.a.bool},gF.defaultProps={onFilter:function e(){}},yF=function e(){var t=this;this.filterKeydown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===ns.ENTER&&t.setState({visible:!t.state.visible})},this.onFilterVisible=function(e){if(t.setState({visible:e}),!e){var n=[].concat(t._selectedKeys);t.setState({selectedKeysChangedByInner:!0,selectedKeys:n})}},this.onFilterSelect=function(e){t.setState({visible:!0,selectedKeysChangedByInner:!0,selectedKeys:e})},this.onFilterConfirm=function(){var e=t.state.selectedKeys,n={},r;n[t.props.dataIndex]={visible:!1,selectedKeys:e},t._selectedKeys=[].concat(e),t.setState({visible:!1,selectedKeysChangedByInner:!0}),t.props.onFilter(n)},this.onFilterClear=function(){var e={},n;e[t.props.dataIndex]={visible:!1,selectedKeys:[]},t._selectedKeys=[],t.setState({selectedKeys:[],visible:!1,selectedKeysChangedByInner:!0}),t.props.onFilter(e)}},bF);vF.displayName="Filter";var wF=Object(To.polyfill)(vF),xF,_F,SF=(_F=xF=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.sort,n=e.dataIndex;r.onSort(n,"desc"===t[n]?"asc":"desc")},r.keydownHandler=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===ns.ENTER&&r.handleClick()},r.onSort=function(e,t){var n={};n[e]=t,r.props.onSort(e,t,n)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.renderSort=function e(){var t,n=this.props,r=n.prefix,i=n.sort,o=n.sortIcons,a=n.className,s=n.dataIndex,l=n.locale,u=n.rtl,c=i[s],f={desc:"descending",asc:"ascending"},h=["asc","desc"].map(function(e){return ar.a.createElement("a",{key:e,className:c===e?"current":""},o?o[e]:ar.a.createElement(ml,{rtl:u,type:f[e],size:"small"}))}),d=zs()(((t={})[r+"table-sort"]=!0,t[a]=a,t));return ar.a.createElement("span",{role:"button",tabIndex:"0","aria-label":l[c],className:d,onClick:this.handleClick.bind(this),onKeyDown:this.keydownHandler},h)},t.prototype.render=function e(){return this.renderSort()},t}(ar.a.Component),xF.propTypes={prefix:lr.a.string,rtl:lr.a.bool,className:lr.a.string,sort:lr.a.object,sortIcons:lr.a.object,onSort:lr.a.func,dataIndex:lr.a.string,locale:lr.a.object},xF.defaultProps={sort:{}},_F),EF,CF;SF.displayName="Sort";var kF=(CF=EF=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onMouseDown=function(e){r.lastPageX=e.pageX,Ka.on(document,"mousemove",r.onMouseMove),Ka.on(document,"mouseup",r.onMouseUp),r.unSelect()},r.onMouseMove=function(e){var t=e.pageX,n=t-r.lastPageX;r.props.rtl&&(n=-n),r.props.onChange(r.props.dataIndex,n),r.lastPageX=t},r.onMouseUp=function(){r.destory()},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.componentWillUnmount=function e(){this.destory()},t.prototype.destory=function e(){Ka.off(document,"mousemove",this.onMouseMove),Ka.off(document,"mouseup",this.onMouseMove),this.select()},t.prototype.unSelect=function e(){Ga.setStyle(document.body,{userSelect:"none",cursor:"ew-resize"}),document.body.setAttribute("unselectable","on")},t.prototype.select=function e(){Ga.setStyle(document.body,{userSelect:"",cursor:""}),document.body.removeAttribute("unselectable")},t.prototype.render=function e(){var t=this.props.prefix;return ar.a.createElement("a",{className:t+"table-resize-handler",onMouseDown:this.onMouseDown})},t}(ar.a.Component),EF.propTypes={prefix:lr.a.string,rtl:lr.a.bool,onChange:lr.a.func,dataIndex:lr.a.string},EF.defaultProps={onChange:function e(){}},CF);kF.displayName="Resize";var OF=kF,TF,NF,AF=function e(){},IF=(NF=TF=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.getCellRef=function(e,t,n){r.props.headerCellRef(e,t,n)},r.onSort=function(e,t,n){r.props.onSort(e,t,n)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.prefix,i=n.className,o=n.children,a=n.component,s=n.colGroup,l=n.columns,u=n.locale,c=n.filterParams,f=n.onFilter,h=n.components,d=n.affixRef,p=n.headerCellRef,m=n.onSort,g=n.sort,b=n.sortIcons,y=n.onResizeChange,v=n.pure,w=n.rtl,x=n.tableWidth,_=xo()(n,["prefix","className","children","component","colGroup","columns","locale","filterParams","onFilter","components","affixRef","headerCellRef","onSort","sort","sortIcons","onResizeChange","pure","rtl","tableWidth"]),S=h.Cell,E=void 0===S?rF:S,C=h.Filter,k=void 0===C?wF:C,O=h.Sort,T=void 0===O?SF:O,N=h.Resize,A=void 0===N?OF:N,I=l.length,j=l.map(function(e,n){var i=e.map(function(e,i){var o,a=e.title,s=e.colSpan,l=e.sortable,h=e.resizable,d=e.dataIndex,p=e.filters,m=e.filterMode,x=e.filterMenuProps,_=e.filterProps,S=e.width,C=e.align,O=e.alignHeader,N=e.className,j=e.__normalized,R=e.lock,M=xo()(e,["title","colSpan","sortable","resizable","dataIndex","filters","filterMode","filterMenuProps","filterProps","width","align","alignHeader","className","__normalized","lock"]);N=zs()(((o={})[r+"table-header-node"]=!0,o[r+"table-header-resizable"]=h,o[N]=N,o));var P={},D=void 0,L=void 0,F=void 0;return P.colSpan=s,e.children&&e.children.length||(l&&(D=ar.a.createElement(T,{prefix:r,className:r+"table-header-icon",dataIndex:d,onSort:t.onSort,sortIcons:b,sort:g,rtl:w,locale:u})),h&&(F=ar.a.createElement(A,{prefix:r,rtl:w,dataIndex:d,onChange:y})),p&&(L=p.length?ar.a.createElement(k,{dataIndex:d,className:r+"table-header-icon",filters:p,prefix:r,locale:u,rtl:w,filterParams:c,filterMode:m,filterMenuProps:x,filterProps:_,onFilter:f}):null),P.rowSpan=I-n),0==+P.colSpan?null:ar.a.createElement(E,vo()({},M,P,{key:i,prefix:r,pure:v,rtl:w,cell:a,component:"th",align:O||C,className:N,ref:t.getCellRef.bind(t,n,i),type:"header"}),D,L,F)});return ar.a.createElement("tr",{key:n},i)});return ar.a.createElement(a,vo()({className:i},_),j,o)},t}(ar.a.Component),TF.propTypes={children:lr.a.any,prefix:lr.a.string,pure:lr.a.bool,className:lr.a.string,component:lr.a.string,columns:lr.a.array,colGroup:lr.a.object,headerCellRef:lr.a.func,locale:lr.a.object,filterParams:lr.a.object,onFilter:lr.a.func,components:lr.a.object,sort:lr.a.object,sortIcons:lr.a.object,onSort:lr.a.func,onResizeChange:lr.a.func,tableWidth:lr.a.number},TF.defaultProps={component:"thead",columns:[],headerCellRef:AF,onFilter:AF,components:{},onSort:AF,onResizeChange:AF},NF),jF,RF;IF.displayName="Header";var MF=(RF=jF=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.colGroup,r=t.children,i=t.tableWidth,o=t.component;return ar.a.createElement(o,{role:"table",style:{width:i}},n,r)},t}(or.Component),jF.propTypes={tableWidth:lr.a.number},RF),PF,DF;MF.displayName="Wrapper",MF.defaultProps={component:"table"},MF.propTypes={children:lr.a.any,prefix:lr.a.string,colGroup:lr.a.any,component:lr.a.string};var LF=(DF=PF=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){return null},t}(ar.a.Component),PF.propTypes={dataIndex:lr.a.string,cell:lr.a.oneOfType([lr.a.element,lr.a.node,lr.a.func]),title:lr.a.oneOfType([lr.a.element,lr.a.node,lr.a.func]),htmlTitle:lr.a.string,sortable:lr.a.bool,width:lr.a.oneOfType([lr.a.number,lr.a.string]),align:lr.a.oneOf(["left","center","right"]),alignHeader:lr.a.oneOf(["left","center","right"]),filters:lr.a.arrayOf(lr.a.shape({label:lr.a.string,value:lr.a.oneOfType([lr.a.node,lr.a.string])})),filterMode:lr.a.oneOf(["single","multiple"]),filterMenuProps:lr.a.object,filterProps:lr.a.object,lock:lr.a.oneOfType([lr.a.bool,lr.a.string]),resizable:lr.a.bool,colSpan:lr.a.number},PF.contextTypes={parent:lr.a.any},PF.defaultProps={cell:function e(t){return t},filterMode:"multiple",filterMenuProps:{subMenuSelectable:!1},filterProps:{},resizable:!1},PF._typeMark="column",DF),FF,BF;LF.displayName="Column";var zF=(BF=FF=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.getChildContext=function e(){return{parent:this}},t.prototype.render=function e(){return null},t}(ar.a.Component),FF.propTypes={title:lr.a.oneOfType([lr.a.element,lr.a.node,lr.a.func])},FF.childContextTypes={parent:lr.a.any},FF.defaultProps={title:"column-group"},FF._typeMark="columnGroup",BF),$F,UF;zF.displayName="ColumnGroup";var WF=ar.a.Children,VF=function e(){},HF=(UF=$F=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));i.state={sort:i.props.sort||{}},i.onSort=function(e,t,n){void 0===i.props.sort?i.setState({sort:n},function(){i.props.onSort(e,t,n)}):i.props.onSort(e,t,n)},i.onFilter=function(e){i.props.onFilter(e)},i.onResizeChange=function(e,t){i.props.onResizeChange(e,t)},i.getWrapperRef=function(e){if(!e)return i.wrapper;i.wrapper=e},i.getAffixRef=function(e){if(!e)return i.affixRef;i.affixRef=e},i.getHeaderCellRef=function(e,t,n){var r="header_cell_"+e+"_"+t;if(!n)return i[r];i[r]=n},i.getRowRef=function(e,t){var n="row_"+e;if(!t)return i[n];i[n]=t},i.getCellRef=function(e,t,n){var r="cell_"+e+"_"+t;if(!n)return i[r];i[r]=n},i.handleColHoverClass=function(e,t,n){var r=i.props.crossline,o=n?"addClass":"removeClass";r&&i.props.entireDataSource.forEach(function(e,n){try{var r=Object(tr.findDOMNode)(i.getCellRef(n,t));r&&Ga[o](r,"hovered")}catch(e){return null}})},i.findEventTarget=function(e){var t=i.props.prefix,n=Ga.getClosest(e.target,"td."+t+"table-cell"),r=n&&n.getAttribute("data-next-table-col"),o=n&&n.getAttribute("data-next-table-row");try{var a;if(Object(tr.findDOMNode)(i.getCellRef(o,r))===n)return{colIndex:r,rowIndex:o}}catch(e){return{}}return{}},i.onBodyMouseOver=function(e){var t;if(i.props.crossline){var n=i.findEventTarget(e),r=n.colIndex,o=n.rowIndex;r&&o&&(i.handleColHoverClass(o,r,!0),i.colIndex=r,i.rowIndex=o)}},i.onBodyMouseOut=function(e){var t;if(i.props.crossline){var n=i.findEventTarget(e),r=n.colIndex,o=n.rowIndex;r&&o&&(i.handleColHoverClass(i.rowIndex,i.colIndex,!1),i.colIndex=-1,i.rowIndex=-1)}},i.addColIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.forEach(function(e,n){e.__colIndex=t+n})};var o=i.context,a=o.getTableInstance,s=o.getTableInstanceForVirtual;return a&&a(n.lockType,i),s&&s(n.lockType,i),i.notRenderCellIndex=[],i}return Oo()(t,e),t.prototype.getChildContext=function e(){return{notRenderCellIndex:this.notRenderCellIndex||[],lockType:this.props.lockType}},t.getDerivedStateFromProps=function e(t){var n={};return void 0!==t.sort&&(n.sort=t.sort),n},t.prototype.componentDidMount=function e(){this.notRenderCellIndex=[]},t.prototype.shouldComponentUpdate=function e(t,n,r){var i;return!t.pure||!(WL()(t,this.props)&&Za.shallowEqual(n,this.state)&&Za.shallowEqual(r,this.context))},t.prototype.componentDidUpdate=function e(){this.notRenderCellIndex=[]},t.prototype.normalizeChildrenState=function e(t){var n=t.columns;return t.children&&(n=this.normalizeChildren(t)),this.fetchInfoFromBinaryChildren(n)},t.prototype.normalizeChildren=function e(t){var n=t.columns,r=function e(t){var n=[];return WF.forEach(t,function(t){if(t){var r=vo()({},t.props);(!t||"function"!=typeof t.type||"column"!==t.type._typeMark&&"columnGroup"!==t.type._typeMark)&&Xa.warning("Use <Table.Column/>, <Table.ColumnGroup/> as child."),n.push(r),t.props.children&&(r.children=e(t.props.children))}}),n};return t.children&&(n=r(t.children)),n},t.prototype.fetchInfoFromBinaryChildren=function e(t){var n=!1,r=[],i=[],o,a=function e(t,n){return n=n||0,t.forEach(function(t){t.children?n=e(t.children,n):n+=1}),n};(function e(t,o){i[o]=i[o]||[],t.forEach(function(t){t.children?(n=!0,e(t.children,o+1)):r.push(t),i[o].push(t)})})(t,0),i.forEach(function(e,t){e.forEach(function(e,n){var r=void 0,o=e.children;o&&(r=a(o),e.colSpan=r,i[t][n]=e)})});var s=this.props,l=s.lockType,u=s.lengths,c="right"===l?u.origin-u.right:0;return this.addColIndex(r,c),{flatChildren:r,groupChildren:i,hasGroupHeader:n}},t.prototype.renderColGroup=function e(t){var n=t.map(function(e,t){var n=e.width,r={};return n&&(r={width:n}),ar.a.createElement("col",{style:r,key:t})});return ar.a.createElement("colgroup",{key:"table-colgroup"},n)},t.prototype.renderTable=function e(t,n){if(n.length||!n.length&&!this.props.lockType){var r=this.props,i=r.hasHeader,o=r.components,a=r.prefix,s=r.wrapperContent,l=r.filterParams,u=r.locale,c=r.dataSource,f=r.emptyContent,h=r.loading,d=r.primaryKey,p=r.cellProps,m=r.rowProps,g=r.onRowClick,b=r.onRowMouseEnter,y=r.onRowMouseLeave,v=r.expandedIndexSimulate,w=r.pure,x=r.rtl,_=r.crossline,S=r.sortIcons,E=r.tableWidth,C=this.state.sort,k=o.Header,O=void 0===k?IF:k,T=o.Wrapper,N=void 0===T?MF:T,A=o.Body,I=void 0===A?sF:A,j=this.renderColGroup(n);return ar.a.createElement(N,{colGroup:j,ref:this.getWrapperRef,prefix:a,tableWidth:E},i?ar.a.createElement(O,{prefix:a,rtl:x,pure:w,affixRef:this.getAffixRef,colGroup:j,className:a+"table-header",filterParams:l,columns:t,locale:u,headerCellRef:this.getHeaderCellRef,components:o,onFilter:this.onFilter,sort:C,onResizeChange:this.onResizeChange,onSort:this.onSort,sortIcons:S,tableWidth:E}):null,ar.a.createElement(I,{prefix:a,rtl:x,pure:w,crossline:_,colGroup:j,className:a+"table-body",components:o,loading:h,emptyContent:f,getCellProps:p,primaryKey:d,getRowProps:m,columns:n,rowRef:this.getRowRef,cellRef:this.getCellRef,onRowClick:g,expandedIndexSimulate:v,onRowMouseEnter:b,onRowMouseLeave:y,dataSource:c,locale:u,onBodyMouseOver:this.onBodyMouseOver,onBodyMouseOut:this.onBodyMouseOut,tableWidth:E}),s)}return null},t.prototype.render=function e(){var n,r=this.normalizeChildrenState(this.props);this.groupChildren=r.groupChildren,this.flatChildren=r.flatChildren;var i=this.renderTable(r.groupChildren,r.flatChildren),o=this.props,a=o.className,s=o.style,l=o.hasBorder,u=o.isZebra,c=o.loading,f=o.size,h=o.hasHeader,d=o.prefix,p=o.dataSource,m=o.entireDataSource,g=o.onSort,b=o.onResizeChange,y=o.onRowClick,v=o.onRowMouseEnter,w=o.onRowMouseLeave,x=o.onFilter,_=o.rowProps,S=o.cellProps,E=o.primaryKey,C=o.components,k=o.wrapperContent,O=o.lockType,T=o.locale,N=o.expandedIndexSimulate,A=o.refs,I=o.pure,j=o.rtl,R=o.emptyContent,M=o.filterParams,P=o.columns,D=o.sortIcons,L=o.loadingComponent,F=void 0===L?qL:L,B=o.tableLayout,z=o.tableWidth,$=xo()(o,["className","style","hasBorder","isZebra","loading","size","hasHeader","prefix","dataSource","entireDataSource","onSort","onResizeChange","onRowClick","onRowMouseEnter","onRowMouseLeave","onFilter","rowProps","cellProps","primaryKey","components","wrapperContent","lockType","locale","expandedIndexSimulate","refs","pure","rtl","emptyContent","filterParams","columns","sortIcons","loadingComponent","tableLayout","tableWidth"]),U=zs()(((n={})[d+"table"]=!0,n[d+"table-"+f]=f,n[d+"table-layout-"+B]=B,n["only-bottom-border"]=!l,n["no-header"]=!h,n.zebra=u,n[a]=a,n));j&&($.dir="rtl");var W=ar.a.createElement("div",vo()({className:U,style:s},Za.pickOthers(Object.keys(t.propTypes),$)),i);if(c){var V=d+"table-loading";return ar.a.createElement(F,{className:V},W)}return W},t}(ar.a.Component),$F.Column=LF,$F.ColumnGroup=zF,$F.Header=IF,$F.Body=sF,$F.Wrapper=MF,$F.Row=eF,$F.Cell=rF,$F.Filter=wF,$F.Sort=SF,$F.propTypes=vo()({},Fs.propTypes,{prefix:lr.a.string,pure:lr.a.bool,rtl:lr.a.bool,tableLayout:lr.a.oneOf(["fixed","auto"]),tableWidth:lr.a.number,className:lr.a.string,style:lr.a.object,size:lr.a.oneOf(["small","medium"]),dataSource:lr.a.array,entireDataSource:lr.a.array,onRowClick:lr.a.func,onRowMouseEnter:lr.a.func,onRowMouseLeave:lr.a.func,onSort:lr.a.func,onFilter:lr.a.func,onResizeChange:lr.a.func,rowProps:lr.a.func,cellProps:lr.a.func,hasBorder:lr.a.bool,hasHeader:lr.a.bool,isZebra:lr.a.bool,loading:lr.a.bool,loadingComponent:lr.a.func,filterParams:lr.a.object,sort:lr.a.object,sortIcons:lr.a.object,locale:lr.a.object,components:lr.a.object,columns:lr.a.array,emptyContent:lr.a.node,primaryKey:lr.a.string,lockType:lr.a.oneOf(["left","right"]),wrapperContent:lr.a.any,refs:lr.a.object,expandedRowRender:lr.a.func,expandedRowIndent:lr.a.array,hasExpandedRowCtrl:lr.a.bool,getExpandedColProps:lr.a.func,openRowKeys:lr.a.array,onRowOpen:lr.a.func,onExpandedRowClick:lr.a.func,fixedHeader:lr.a.bool,maxBodyHeight:lr.a.oneOfType([lr.a.number,lr.a.string]),rowSelection:lr.a.object,stickyHeader:lr.a.bool,offsetTop:lr.a.number,affixProps:lr.a.object,indent:lr.a.number,isTree:lr.a.bool,useVirtual:lr.a.bool,rowHeight:lr.a.oneOfType([lr.a.number,lr.a.func]),onBodyScroll:lr.a.func,expandedIndexSimulate:lr.a.bool,crossline:lr.a.bool,lengths:lr.a.object}),$F.defaultProps={dataSource:[],onRowClick:VF,onRowMouseEnter:VF,onRowMouseLeave:VF,onSort:VF,onFilter:VF,onResizeChange:VF,size:"medium",rowProps:VF,cellProps:VF,prefix:"next-",hasBorder:!0,hasHeader:!0,isZebra:!1,loading:!1,expandedIndexSimulate:!1,primaryKey:"id",components:{},locale:No.Table,crossline:!1},$F.childContextTypes={notRenderCellIndex:lr.a.array,lockType:lr.a.oneOf(["left","right"])},$F.contextTypes={getTableInstance:lr.a.func,getTableInstanceForVirtual:lr.a.func},UF);HF.displayName="Table";var GF=Object(To.polyfill)(HF),qF,KF,YF=(KF=qF=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onMouseEnter=function(e,t,n){var i=r.context.onRowMouseEnter,o=r.props.onMouseEnter;i&&i(e,t,n),o(e,t,n)},r.onMouseLeave=function(e,t,n){var i=r.context.onRowMouseLeave,o=r.props.onMouseLeave;i&&i(e,t,n),o(e,t,n)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){return ar.a.createElement(eF,vo()({},this.props,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}))},t}(ar.a.Component),qF.propTypes=vo()({},eF.propTypes),qF.contextTypes={onRowMouseEnter:lr.a.func,onRowMouseLeave:lr.a.func},qF.defaultProps=vo()({},eF.defaultProps),KF),XF,ZF;YF.displayName="LockRow";var JF=(ZF=XF=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.renderExpandedRow=function e(t,n){var r=this.context,i=r.expandedRowRender,o=r.expandedRowIndent,a=r.openRowKeys,s=r.lockType,l,u=r.expandedIndexSimulate?(n-1)/2:n,c=this.props,f=c.columns,h=c.cellRef,d=f.length,p=f[0]&&f[0].__colIndex||0;if(i){var m=this.props,g=m.primaryKey,b=m.prefix,y=o[0],v=o[1],w=y+v,x=function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],o=function e(t){i.push(ar.a.createElement("td",{key:t,ref:function e(i){return h(n,t+r,i)}},"\xa0"))},a=0;a<t;a++)o(a);return i},_=void 0;if(w>d&&!s&&Xa.warning("It's not allowed expandedRowIndent is more than the number of columns."),y<f.length&&"left"===s&&Xa.warning("expandedRowIndent left is less than the number of left lock columns."),v<f.length&&"right"===s&&Xa.warning("expandedRowIndent right is less than the number of right lock columns."),s)return a.indexOf(t[g])>-1?ar.a.createElement("tr",{className:b+"table-expanded-row",key:"expanded-"+u},ar.a.createElement("td",{colSpan:d,ref:function e(t){return h(n,p,t)}},"\xa0")):null;_=i(t,u),ar.a.isValidElement(_)||(_=ar.a.createElement("div",{className:b+"table-cell-wrapper"},_));var S=f.length;return f.forEach(function(e){"right"===e.lock&&S--}),a.indexOf(t[g])>-1?ar.a.createElement("tr",{className:b+"table-expanded-row",key:"expanded-"+(t[g]||u)},x(y),ar.a.createElement("td",{colSpan:d-w},_),x(v,S)):null}return null},t.prototype.render=function e(){var t=this.props,n=t.record,r=t.rowIndex,i=t.columns,o=xo()(t,["record","rowIndex","columns"]),a=this.context.expandedIndexSimulate;if(n.__expanded)return this.renderExpandedRow(n,r,i);var s=a?r/2:r;return ar.a.createElement(YF,vo()({},o,{record:n,columns:i,__rowIndex:r,rowIndex:s}))},t}(ar.a.Component),XF.propTypes=vo()({},YF.propTypes),XF.defaultProps=vo()({},YF.defaultProps),XF.contextTypes={openRowKeys:lr.a.array,expandedRowRender:lr.a.func,expandedRowIndent:lr.a.array,expandedIndexSimulate:lr.a.bool,lockType:lr.a.oneOf(["left","right"])},ZF),QF,eB;JF.displayName="ExpandedRow";var tB=(eB=QF=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.className,i=n.record,o=n.primaryKey,a=this.context.selectedRowKeys,s=zs()(((t={selected:a.indexOf(i[o])>-1})[r]=r,t));return ar.a.createElement(JF,vo()({},this.props,{className:s}))},t}(ar.a.Component),QF.propTypes=vo()({},JF.propTypes),QF.defaultProps=vo()({},JF.defaultProps),QF.contextTypes={selectedRowKeys:lr.a.array},eB),nB,rB;tB.displayName="SelectionRow";var iB=(rB=nB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.className,i=n.record,o=n.primaryKey,a=n.prefix,s=xo()(n,["className","record","primaryKey","prefix"]),l=this.context,u=l.treeStatus,c=l.openRowKeys,f=zs()(((t={hidden:!(u.indexOf(i[o])>-1)&&0!==i.__level})[a+"table-row-level-"+i.__level]=!0,t.opened=c.indexOf(i[o])>-1,t[r]=r,t));return ar.a.createElement(tB,vo()({},s,{record:i,className:f,primaryKey:o,prefix:a}))},t}(ar.a.Component),nB.propTypes=vo()({},tB.propTypes),nB.defaultProps=vo()({},tB.defaultProps),nB.contextTypes={treeStatus:lr.a.array,openRowKeys:lr.a.array},rB),oB,aB;iB.displayName="TreeRow";var sB=(aB=oB=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onTreeNodeClick=function(e,t){t.stopPropagation(),r.context.onTreeNodeClick(e)},r.expandedKeydown=function(e,t){t.preventDefault(),t.stopPropagation(),t.keyCode===ns.ENTER&&r.onTreeNodeClick(e,t)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){var t=this,n=this.props,r=n.colIndex,i=n.record,o=n.prefix,a=n.primaryKey,s=n.locale,l=n.rtl,u=n.children,c=this.context,f=c.openTreeRowKeys,h=c.indent,d=c.isTree,p,m,g=void 0,b=void 0;if(r===(c.rowSelection?1:0)){var y=void 0,v,w;if(d)if((v={})[l?"paddingRight":"paddingLeft"]=h*(i.__level+1),g=v,b=ar.a.createElement(ml,{size:"xs",rtl:l,className:o+"table-tree-placeholder"}),i.children&&i.children.length){var x=f.indexOf(i[a])>-1;y=x?"arrow-down":"arrow-right",b=ar.a.createElement(ml,{className:o+"table-tree-arrow",type:y,size:"xs",rtl:l,onClick:function e(n){return t.onTreeNodeClick(i,n)},onKeyDown:function e(n){return t.expandedKeydown(i,n)},role:"button",tabIndex:"0","aria-expanded":x,"aria-label":x?s.expanded:s.folded})}}return ar.a.createElement(rF,vo()({},this.props,{innerStyle:g,isIconLeft:!!b}),u,b)},t}(ar.a.Component),oB.propTypes=vo()({indent:lr.a.number,locale:lr.a.object},rF.propTypes),oB.defaultProps=vo()({},rF.defaultProps,{component:"td",indent:20}),oB.contextTypes={openTreeRowKeys:lr.a.array,indent:lr.a.number,onTreeNodeClick:lr.a.func,isTree:lr.a.bool,rowSelection:lr.a.object},aB);sB.displayName="TreeCell";var lB=function e(){},uB,cB;function fB(e){var t,n,r=(n=t=function(t){function n(e,r){So()(this,n);var i=Co()(this,t.call(this,e,r));return i.onTreeNodeClick=function(e){var t=i.props.primaryKey,n=e[t],r=i.ds,o=[].concat(i.state.openRowKeys),a=o.indexOf(n),s,l;a>-1?function e(n){var i=[n],o=function e(n){n.forEach(function(n){i.push(n[t]),n.children&&e(n.children)})};return r.forEach(function(e){e[t]===n&&e.children&&o(e.children)}),i}(n).forEach(function(e){var t=o.indexOf(e);t>-1&&o.splice(t,1)}):o.push(n);"openRowKeys"in i.props||i.setState({openRowKeys:o}),i.props.onRowOpen(o,n,-1===a,e)},i.state={openRowKeys:e.openRowKeys||[]},i}return Oo()(n,t),n.prototype.getChildContext=function e(){return{openTreeRowKeys:this.state.openRowKeys,indent:this.props.indent,treeStatus:this.getTreeNodeStatus(this.ds),onTreeNodeClick:this.onTreeNodeClick,isTree:this.props.isTree}},n.getDerivedStateFromProps=function e(t){return"openRowKeys"in t?{openRowKeys:t.openRowKeys||[]}:null},n.prototype.normalizeDataSource=function e(t){var n=[],r;return function e(t,r){t.forEach(function(t){t.__level=r,n.push(t),t.children&&e(t.children,r+1)})}(t,0),this.ds=n,n},n.prototype.getTreeNodeStatus=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.state.openRowKeys,r=this.props.primaryKey,i=[];return n.forEach(function(e){t.forEach(function(t){t[r]===e&&t.children&&t.children.forEach(function(e){i.push(e[r])})})}),i},n.prototype.render=function t(){var n=this.props,r=n.components,i=n.isTree,o=n.dataSource,a=n.indent,s=xo()(n,["components","isTree","dataSource","indent"]);return i&&((r=vo()({},r)).Row||(r.Row=iB),r.Cell||(r.Cell=sB),o=this.normalizeDataSource(o)),ar.a.createElement(e,vo()({},s,{dataSource:o,components:r}))},n}(ar.a.Component),t.TreeRow=iB,t.TreeCell=sB,t.propTypes=vo()({openRowKeys:lr.a.array,onRowOpen:lr.a.func,primaryKey:lr.a.string,indent:lr.a.number,isTree:lr.a.bool,locale:lr.a.object},e.propTypes),t.defaultProps=vo()({},e.defaultProps,{primaryKey:"id",onRowOpen:lB,components:{},indent:12}),t.childContextTypes={openTreeRowKeys:lr.a.array,indent:lr.a.number,treeStatus:lr.a.array,onTreeNodeClick:lr.a.func,isTree:lr.a.bool},n);return r.displayName="TreeTable",YL(r,e),Object(To.polyfill)(r)}var hB=(cB=uB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.componentDidMount=function e(){this.context.getNode("header",Object(tr.findDOMNode)(this))},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.className,i=t.colGroup,o=t.tableWidth,a=xo()(t,["prefix","className","colGroup","tableWidth"]),s=this.context.onFixedScrollSync;return ar.a.createElement("div",{className:r,onScroll:s},ar.a.createElement("div",{className:n+"table-header-inner",style:{overflow:"unset"}},ar.a.createElement("table",{style:{width:o}},i,ar.a.createElement(IF,vo()({},a,{prefix:n})))))},t}(ar.a.Component),uB.propTypes={children:lr.a.any,prefix:lr.a.string,className:lr.a.string,colGroup:lr.a.any,tableWidth:lr.a.number},uB.contextTypes={getNode:lr.a.func,onFixedScrollSync:lr.a.func,lockType:lr.a.oneOf(["left","right"])},cB),dB,pB;hB.displayName="FixedHeader";var mB=(pB=dB=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onBodyScroll=function(e){var t=r.context.onFixedScrollSync;t&&t(e),"onLockScroll"in r.props&&"function"==typeof r.props.onLockScroll&&r.props.onLockScroll(e)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.componentDidMount=function e(){var t=this.context.getNode;t&&t("body",Object(tr.findDOMNode)(this))},t.prototype.render=function e(){var t=this.props,n=t.className,r=t.colGroup,i=t.onLockScroll,o=t.tableWidth,a=xo()(t,["className","colGroup","onLockScroll","tableWidth"]),s=this.context,l=s.maxBodyHeight,u,c={};return s.fixedHeader&&(c.maxHeight=l,c.position="relative"),ar.a.createElement("div",{style:c,className:n,onScroll:this.onBodyScroll},ar.a.createElement("table",{style:{width:o}},r,ar.a.createElement(sF,vo()({},a,{colGroup:r}))))},t}(ar.a.Component),dB.propTypes={children:lr.a.any,prefix:lr.a.string,className:lr.a.string,colGroup:lr.a.any,onLockScroll:lr.a.func,tableWidth:lr.a.number},dB.contextTypes={fixedHeader:lr.a.bool,maxBodyHeight:lr.a.oneOfType([lr.a.number,lr.a.string]),onFixedScrollSync:lr.a.func,getNode:lr.a.func},pB),gB,bB;mB.displayName="FixedBody";var yB=(bB=gB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t=this.props,n=t.children,r=t.wrapperContent,i=t.prefix;return ar.a.createElement("div",{className:i+"table-inner"},n,r)},t}(ar.a.Component),gB.propTypes={children:lr.a.any,prefix:lr.a.string,colGroup:lr.a.any,wrapperContent:lr.a.any},bB);function vB(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;So()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Co()(this,t.call.apply(t,[this].concat(a))),r.state={},r.getNode=function(e,t,n){n=n?n.charAt(0).toUpperCase()+n.substr(1):"",r[""+e+n+"Node"]=t},r.onFixedScrollSync=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.currentTarget===e.target){var t=e.target,n=r.headerNode,i=r.bodyNode,o=t.scrollLeft;t===i?n&&o!==n.scrollLeft&&(n.scrollLeft=o):t===n&&i&&o!==i.scrollLeft&&(i.scrollLeft=o)}},i=e,Co()(r,i)}return Oo()(n,t),n.prototype.getChildContext=function e(){return{fixedHeader:this.props.fixedHeader,maxBodyHeight:this.props.maxBodyHeight,onFixedScrollSync:this.onFixedScrollSync,getNode:this.getNode}},n.prototype.componentDidMount=function e(){this.adjustFixedHeaderSize()},n.prototype.componentDidUpdate=function e(){this.adjustFixedHeaderSize()},n.prototype.adjustFixedHeaderSize=function e(){var t=this.props,n=t.hasHeader,r=t.rtl,i=r?"paddingLeft":"paddingRight",o=r?"marginLeft":"marginRight",a=this.bodyNode;if(n&&!this.props.lockType&&a){var s,l=+Ga.scrollbar().width||0,u=a.scrollHeight>a.clientHeight,c=a.scrollWidth>a.clientWidth,f=((s={})[i]=l,s[o]=l,s);u||(f[i]=0,f[o]=0),+l&&(f.marginBottom=-l,c?f.paddingBottom=l:(f.paddingBottom=l,f[o]=0)),Ga.setStyle(this.headerNode,f)}},n.prototype.render=function t(){var n=this.props,r=n.components,i=n.className,o=n.prefix,a=n.fixedHeader,s=n.lockType,l=n.dataSource,u=n.maxBodyHeight,c=xo()(n,["components","className","prefix","fixedHeader","lockType","dataSource","maxBodyHeight"]),f;a&&((r=vo()({},r)).Header||(r.Header=hB),r.Body||(r.Body=mB),r.Wrapper||(r.Wrapper=yB),i=zs()(((f={})[o+"table-fixed"]=!0,f[o+"table-wrap-empty"]=!l.length,f[i]=i,f)));return ar.a.createElement(e,vo()({},c,{dataSource:l,lockType:s,components:r,className:i,prefix:o}))},n}(ar.a.Component),t.FixedHeader=hB,t.FixedBody=mB,t.FixedWrapper=yB,t.propTypes=vo()({hasHeader:lr.a.bool,fixedHeader:lr.a.bool,maxBodyHeight:lr.a.oneOfType([lr.a.number,lr.a.string])},e.propTypes),t.defaultProps=vo()({},e.defaultProps,{hasHeader:!0,fixedHeader:!1,maxBodyHeight:200,components:{},refs:{},prefix:"next-"}),t.childContextTypes={fixedHeader:lr.a.bool,getNode:lr.a.func,onFixedScrollSync:lr.a.func,maxBodyHeight:lr.a.oneOfType([lr.a.number,lr.a.string])},n);return r.displayName="FixedTable",YL(r,e),r}yB.displayName="FixedWrapper";var wB=Ya.makeChain,xB=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"this",r={},i=[];return t.forEach(function(e){var t=void 0;t="this"===n?e:e[n],r[t]||(i.push(e),r[t]=!0)}),i};function _B(e){var t,n,r=(n=t=function(t){function n(e,r){So()(this,n);var i=Co()(this,t.call(this,e,r));return i.renderSelectionHeader=function(){var e=i.selectAllRow,t={},n=i.props,r=n.rowSelection,o=n.primaryKey,a=n.dataSource,s=n.entireDataSource,l=n.locale,u=i.state.selectedRowKeys,c=r.mode?r.mode:"multiple",f=!!u.length,h=!1,d=s||a;i.flatDataSource(d).filter(function(e,t){return!r.getProps||!(r.getProps(e,t)||{}).disabled}).map(function(e){return e[o]}).forEach(function(e){-1===u.indexOf(e)?f=!1:h=!0}),t.onClick=wB(function(e){e.stopPropagation()},t.onClick);var p=r.titleProps&&r.titleProps()||{};return f&&(h=!1),["multiple"===c?ar.a.createElement(bc,vo()({key:"_total",indeterminate:h,"aria-label":l.selectAll,checked:f,onChange:e},t,p)):null,r.titleAddons&&r.titleAddons()]},i.renderSelectionBody=function(e,t,n){var r=i.props,o=r.rowSelection,a=r.primaryKey,s=i.state.selectedRowKeys,l=o.mode?o.mode:"multiple",u=s.indexOf(n[a])>-1,c=i.selectOneRow.bind(i,t,n),f=o.getProps&&o.getProps(n,t)||{};return f.onClick=wB(function(e){e.stopPropagation()},f.onClick),"multiple"===l?ar.a.createElement(bc,vo()({checked:u,onChange:c},f)):ar.a.createElement(Ac,vo()({checked:u,onChange:c},f))},i.selectAllRow=function(e,t){var n=[].concat(i.state.selectedRowKeys),r=i.props,o=r.rowSelection,a=r.primaryKey,s=r.dataSource,l=r.entireDataSource,u=i.state.selectedRowKeys,c=o.getProps,f={},h=[],d=l||s;i.flatDataSource(d).forEach(function(t,r){var i=t[a];if(c&&(f=c(t,r)||{}),e&&(!f.disabled||u.indexOf(i)>-1))n.push(i),h.push(t);else if(f.disabled&&u.indexOf(i)>-1)n.push(i),h.push(t);else{var o=n.indexOf(i);o>-1&&n.splice(o,1)}}),h=xB(h,a),"function"==typeof o.onSelectAll&&o.onSelectAll(e,h),i.triggerSelection(o,xB(n),h),t.stopPropagation()},i.state={selectedRowKeys:e.rowSelection&&"selectedRowKeys"in e.rowSelection&&e.rowSelection.selectedRowKeys||[]},i}return Oo()(n,t),n.prototype.getChildContext=function e(){return{rowSelection:this.props.rowSelection,selectedRowKeys:this.state.selectedRowKeys}},n.getDerivedStateFromProps=function e(t){var n;return t.rowSelection&&"selectedRowKeys"in t.rowSelection?{selectedRowKeys:t.rowSelection.selectedRowKeys||[]}:null},n.prototype.normalizeChildren=function e(t){var n=this.props,r=n.prefix,i=n.rowSelection,o=n.size;if(i){t=or.Children.map(t,function(e,t){return ar.a.cloneElement(e,{key:t})});var a=i.columnProps&&i.columnProps()||{};return t.unshift(ar.a.createElement(LF,vo()({key:"selection",title:this.renderSelectionHeader.bind(this),cell:this.renderSelectionBody.bind(this),width:"small"===o?34:50,className:r+"table-selection "+r+"table-prerow",__normalized:!0},a))),t}return t},n.prototype.selectOneRow=function e(t,n,r,i){var o=[].concat(this.state.selectedRowKeys),a=void 0,s=this.props,l=s.primaryKey,u=s.rowSelection,c=s.dataSource,f=u.mode?u.mode:"multiple",h=n[l];h||Xa.warning("Can't get value from record using given "+l+" as primaryKey."),"multiple"===f?r?o.push(h):(a=o.indexOf(h),o.splice(a,1)):r&&(o=[h]);var d=xB(c.filter(function(e){return o.indexOf(e[l])>-1}),l);"function"==typeof u.onSelect&&u.onSelect(r,n,d),this.triggerSelection(u,o,d),i.stopPropagation()},n.prototype.triggerSelection=function e(t,n,r){"selectedRowKeys"in t||this.setState({selectedRowKeys:n}),"function"==typeof t.onChange&&t.onChange(n,r)},n.prototype.flatDataSource=function e(t){var n=t,r=this.context.listHeader;if(r){n=[];var i=r.hasChildrenSelection,o=r.hasSelection;t.forEach(function(e){var t=e.children;o&&n.push(e),t&&i&&(n=n.concat(t))})}return n},n.prototype.render=function t(){var n=this.props,r=n.rowSelection,i=n.components,o=n.children,a=xo()(n,["rowSelection","components","children"]);return r&&(o=this.normalizeChildren(o),(i=vo()({},i)).Row=i.Row||tB),ar.a.createElement(e,vo()({},a,{components:i}),o)},n}(ar.a.Component),t.SelectionRow=tB,t.propTypes=vo()({rowSelection:lr.a.object,primaryKey:lr.a.string,dataSource:lr.a.array,entireDataSource:lr.a.array},e.propTypes),t.defaultProps=vo()({},e.defaultProps,{locale:No.Table,primaryKey:"id",prefix:"next-"}),t.contextTypes={listHeader:lr.a.any},t.childContextTypes={rowSelection:lr.a.object,selectedRowKeys:lr.a.array},n);return r.displayName="SelectionTable",YL(r,e),Object(To.polyfill)(r)}var SB=function e(){},EB,CB;function kB(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;So()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Co()(this,t.call.apply(t,[this].concat(a))),r.state={openRowKeys:r.props.openRowKeys||[]},r.expandedKeydown=function(e,t,n,i){i.preventDefault(),i.stopPropagation(),i.keyCode===ns.ENTER&&r.onExpandedClick(e,t,n,i)},r.renderExpandedCell=function(e,t,n){var i,o=r.props,a=o.getExpandedColProps,s=o.prefix,l=o.locale,u=r.state.openRowKeys,c=r.props.primaryKey,f=u.indexOf(n[c])>-1,h=f?ar.a.createElement(ml,{type:"minus",size:"xs",className:s+"table-expand-unfold"}):ar.a.createElement(ml,{type:"add",size:"xs",className:s+"table-expand-fold"}),d=a(n,t)||{},p=zs()(((i={})[s+"table-expanded-ctrl"]=!0,i.disabled=d.disabled,i[d.className]=d.className,i));return d.disabled||(d.onClick=r.onExpandedClick.bind(r,e,n,t)),ar.a.createElement("span",vo()({},d,{role:"button",tabIndex:"0",onKeyDown:r.expandedKeydown.bind(r,e,n,t),"aria-label":f?l.expanded:l.folded,"aria-expanded":f,className:p}),h)},i=e,Co()(r,i)}return Oo()(n,t),n.prototype.getChildContext=function e(){return{openRowKeys:this.state.openRowKeys,expandedRowRender:this.props.expandedRowRender,expandedIndexSimulate:this.props.expandedIndexSimulate,expandedRowIndent:this.props.expandedRowIndent}},n.getDerivedStateFromProps=function e(t){return"openRowKeys"in t?{openRowKeys:t.openRowKeys||[]}:null},n.prototype.onExpandedClick=function e(t,n,r,i){var o=[].concat(this.state.openRowKeys),a,s=n[this.props.primaryKey],l=o.indexOf(s);l>-1?o.splice(l,1):o.push(s),"openRowKeys"in this.props||this.setState({openRowKeys:o}),this.props.onRowOpen(o,s,-1===l,n),i.stopPropagation()},n.prototype.normalizeChildren=function e(t){var n=this.props,r=n.prefix,i=n.size,o=or.Children.map(t,function(e,t){return ar.a.cloneElement(e,{key:t})});return o.unshift(ar.a.createElement(LF,{title:"",key:"expanded",cell:this.renderExpandedCell.bind(this),width:"small"===i?34:50,className:r+"table-expanded "+r+"table-prerow",__normalized:!0})),o},n.prototype.normalizeDataSource=function e(t){var n=[];return t.forEach(function(e){var t=vo()({},e);t.__expanded=!0,n.push(e,t)}),n},n.prototype.render=function t(){var n=this.props,r=n.components,i=n.openRowKeys,o=n.expandedRowRender,a=n.hasExpandedRowCtrl,s=n.children,l=n.dataSource,u=n.entireDataSource,c=n.getExpandedColProps,f=n.expandedRowIndent,h=n.onRowOpen,d=n.onExpandedRowClick,p=xo()(n,["components","openRowKeys","expandedRowRender","hasExpandedRowCtrl","children","dataSource","entireDataSource","getExpandedColProps","expandedRowIndent","onRowOpen","onExpandedRowClick"]);return o&&!r.Row&&((r=vo()({},r)).Row=JF,l=this.normalizeDataSource(l),u=this.normalizeDataSource(u)),o&&a&&(s=this.normalizeChildren(s)),ar.a.createElement(e,vo()({},p,{dataSource:l,entireDataSource:u,components:r}),s)},n}(ar.a.Component),t.ExpandedRow=JF,t.propTypes=vo()({expandedRowRender:lr.a.func,expandedRowIndent:lr.a.array,openRowKeys:lr.a.array,hasExpandedRowCtrl:lr.a.bool,getExpandedColProps:lr.a.func,onRowOpen:lr.a.func,onExpandedRowClick:lr.a.func,locale:lr.a.object},e.propTypes),t.defaultProps=vo()({},e.defaultProps,{getExpandedColProps:SB,onRowOpen:SB,hasExpandedRowCtrl:!0,components:{},expandedRowIndent:[1,0],prefix:"next-"}),t.childContextTypes={openRowKeys:lr.a.array,expandedRowRender:lr.a.func,expandedIndexSimulate:lr.a.bool,expandedRowIndent:lr.a.array},n);return r.displayName="ExpandedTable",YL(r,e),Object(To.polyfill)(r)}var OB=(CB=EB=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.tableRef=function(e){r.tableNode=e},r.virtualScrollRef=function(e){r.virtualScrollNode=e},r.onScroll=function(e){r.context.onFixedScrollSync(e),r.context.onLockBodyScroll(e),r.context.onVirtualScroll()},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.componentDidMount=function e(){var t=Object(tr.findDOMNode)(this);this.context.getNode("body",t),this.context.getBodyNode(t,this.context.lockType),this.context.getLockNode("body",t,this.context.lockType)},t.prototype.render=function e(){var t=this.props,n=t.prefix,r=t.className,i=t.colGroup,o=t.tableWidth,a=xo()(t,["prefix","className","colGroup","tableWidth"]),s=this.context,l=s.maxBodyHeight,u=s.bodyHeight,c=s.innerTop,f={width:o};return ar.a.createElement("div",{style:{maxHeight:l},className:r,onScroll:this.onScroll},ar.a.createElement("div",{style:{height:u,overflow:"hidden",position:"relative"},ref:this.virtualScrollRef},ar.a.createElement("div",{style:{height:"100%",position:"relative",transform:"translateY("+c+"px)"}},ar.a.createElement("table",{ref:this.tableRef,style:f},i,ar.a.createElement(sF,vo()({},a,{prefix:n}))))))},t}(ar.a.Component),EB.propTypes={children:lr.a.any,prefix:lr.a.string,className:lr.a.string,colGroup:lr.a.any,tableWidth:lr.a.number},EB.contextTypes={maxBodyHeight:lr.a.oneOfType([lr.a.number,lr.a.string]),onBodyScroll:lr.a.func,onFixedScrollSync:lr.a.func,onVirtualScroll:lr.a.func,onLockBodyScroll:lr.a.func,bodyHeight:lr.a.number,innerTop:lr.a.number,getNode:lr.a.func,getBodyNode:lr.a.func,getLockNode:lr.a.func,lockType:lr.a.oneOf(["left","right"])},CB);OB.displayName="VirtualBody";var TB=function e(){},NB,AB;function IB(e){var t,n,r=(n=t=function(t){function n(e,r){So()(this,n);var i=Co()(this,t.call(this,e,r));i.state={rowHeight:i.props.rowHeight,scrollToRow:i.props.scrollToRow,height:i.props.maxBodyHeight},i.onScroll=function(){var e=i.bodyNode.scrollTop;if(e!==i.lastScrollTop){var t=i.computeScrollToRow(e);"scrollToRow"in i.props||i.setState({scrollToRow:t}),i.props.onBodyScroll(t),i.lastScrollTop=e}},i.getBodyNode=function(e,t){t=t?t.charAt(0).toUpperCase()+t.substr(1):"",i["body"+t+"Node"]=e},i.getTableInstance=function(e,t){e=e?e.charAt(0).toUpperCase()+e.substr(1):"",i["table"+e+"Inc"]=t};var o=e.useVirtual,a=e.dataSource;return i.hasVirtualData=o&&a&&a.length>0,i}return Oo()(n,t),n.prototype.getChildContext=function e(){return{onVirtualScroll:this.onScroll,bodyHeight:this.computeBodyHeight(),innerTop:this.computeInnerTop(),getBodyNode:this.getBodyNode,getTableInstanceForVirtual:this.getTableInstance,rowSelection:this.rowSelection}},n.getDerivedStateFromProps=function e(t,n){var r={};return"maxBodyHeight"in t&&n.height!==t.maxBodyHeight&&(r.height=t.maxBodyHeight),"scrollToRow"in t&&(r.scrollToRow=t.scrollToRow),r},n.prototype.componentDidMount=function e(){this.hasVirtualData&&(this.lastScrollTop=this.bodyNode.scrollTop),this.adjustScrollTop(),this.adjustSize(),this.reComputeSize()},n.prototype.componentDidUpdate=function e(){this.adjustScrollTop(),this.adjustSize(),this.reComputeSize()},n.prototype.reComputeSize=function e(){var t;if("function"==typeof this.state.rowHeight&&this.hasVirtualData){var n=this.getRowNode(),r=n&&n.clientHeight;r!==this.state.rowHeight&&this.setState({rowHeight:r})}},n.prototype.computeBodyHeight=function e(){var t=this.state.rowHeight,n=this.props.dataSource;return"function"==typeof t?0:n.length*t},n.prototype.computeInnerTop=function e(){var t=this.state.rowHeight;return"function"==typeof t?0:this.start*t},n.prototype.getVisibleRange=function e(t){var n=this.state,r=n.height,i=n.rowHeight,o=this.props.dataSource.length,a=void 0,s=0,l=0;return"function"==typeof i?a=1:(s=parseInt(Ga.getPixels(r)/i,10),"number"==typeof t&&(l=t<o?t:0),a=Math.min(+l+1+s+10,o)),this.end=a,this.visibleCount=s,{start:l,end:a}},n.prototype.adjustScrollTop=function e(){this.hasVirtualData&&(this.bodyNode.scrollTop=this.lastScrollTop%this.state.rowHeight+this.state.rowHeight*this.state.scrollToRow)},n.prototype.adjustSize=function e(){if(this.hasVirtualData){var t=this.bodyNode,n=t.querySelector("div"),r=t.clientHeight,i=t.clientWidth,o=this.tableInc,a=Object(tr.findDOMNode)(o),s=this.props.prefix,l=a.querySelector("."+s+"table-header table"),u=l&&l.clientWidth;if(i<u){Ga.setStyle(n,"min-width",u);var c=this.bodyLeftNode,f=this.bodyRightNode;c&&Ga.setStyle(c,"max-height",r),f&&Ga.setStyle(f,"max-height",r),this.hasScrollbar=!0}else Ga.setStyle(n,"min-width","auto"),this.hasScrollbar=!1}},n.prototype.computeScrollToRow=function e(t){var n=this.state.rowHeight,r=parseInt(t/n);return this.start=r,r},n.prototype.getRowNode=function e(){try{return Object(tr.findDOMNode)(this.tableInc.getRowRef(0))}catch(e){return null}},n.prototype.render=function t(){var n=this.props,r=n.useVirtual,i=n.components,o=n.dataSource,a=n.fixedHeader,s=n.rowHeight,l=n.scrollToRow,u=n.onBodyScroll,c=xo()(n,["useVirtual","components","dataSource","fixedHeader","rowHeight","scrollToRow","onBodyScroll"]),f=o,h=o;if(this.rowSelection=this.props.rowSelection,this.hasVirtualData){h=[],i=vo()({},i);var d=this.getVisibleRange(this.state.scrollToRow),p=d.start,m=d.end;o.forEach(function(e,t,n){t>=p&&t<m&&(e.__rowIndex=t,h.push(e))}),i.Body||(i.Body=OB),a=!0}return ar.a.createElement(e,vo()({},c,{dataSource:h,entireDataSource:f,components:i,fixedHeader:a}))},n}(ar.a.Component),t.VirtualBody=OB,t.propTypes=vo()({useVirtual:lr.a.bool,rowHeight:lr.a.oneOfType([lr.a.number,lr.a.func]),maxBodyHeight:lr.a.oneOfType([lr.a.number,lr.a.string]),primaryKey:lr.a.string,dataSource:lr.a.array,onBodyScroll:lr.a.func},e.propTypes),t.defaultProps=vo()({},e.defaultProps,{primaryKey:"id",rowHeight:TB,maxBodyHeight:200,components:{},prefix:"next-",onBodyScroll:TB}),t.childContextTypes={onVirtualScroll:lr.a.func,bodyHeight:lr.a.number,innerTop:lr.a.number,getBodyNode:lr.a.func,getTableInstanceForVirtual:lr.a.func,rowSelection:lr.a.object},n);return r.displayName="VirtualTable",YL(r,e),Object(To.polyfill)(r)}var jB=(AB=NB=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.onBodyScroll=function(e){r.context.onLockBodyScroll(e)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.componentDidMount=function e(){this.context.getLockNode("body",Object(tr.findDOMNode)(this),this.context.lockType)},t.prototype.render=function e(){var t={onLockScroll:this.onBodyScroll};return ar.a.createElement(mB,vo()({},this.props,t))},t}(ar.a.Component),NB.propTypes=vo()({},mB.propTypes),NB.contextTypes=vo()({},mB.contextTypes,{getLockNode:lr.a.func,onLockBodyScroll:lr.a.func,lockType:lr.a.oneOf(["left","right"])}),AB),RB,MB;jB.displayName="LockBody";var PB=(MB=RB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.componentDidMount=function e(){var t=this.context,n=t.getNode,r=t.getLockNode;n&&n("header",Object(tr.findDOMNode)(this),this.context.lockType),r&&r("header",Object(tr.findDOMNode)(this),this.context.lockType)},t}(hB),RB.propTypes=vo()({},hB.propTypes),RB.contextTypes=vo()({},hB.contextTypes,{getLockNode:lr.a.func,lockType:lr.a.oneOf(["left","right"])}),MB),DB=qa.ieVersion,LB,FB;function BB(e){var t,n,r=(n=t=function(t){function n(e,r){So()(this,n);var i=Co()(this,t.call(this,e,r));return i.state={},i.getTableInstance=function(e,t){e=e?e.charAt(0).toUpperCase()+e.substr(1):"",i["table"+e+"Inc"]=t},i.getNode=function(e,t,n){n=n?n.charAt(0).toUpperCase()+n.substr(1):"",i[""+e+n+"Node"]=t,"header"!==e||i.innerHeaderNode||n||(i.innerHeaderNode=i.headerNode.querySelector("div"))},i.onRowMouseEnter=function(e,t){var n,r,o;i.isLock()&&[i.getRowNode(t),i.getRowNode(t,"left"),i.getRowNode(t,"right")].forEach(function(e){e&&Ga.addClass(e,"hovered")})},i.onRowMouseLeave=function(e,t){var n,r,o;i.isLock()&&[i.getRowNode(t),i.getRowNode(t,"left"),i.getRowNode(t,"right")].forEach(function(e){e&&Ga.removeClass(e,"hovered")})},i.onLockBodyScrollTop=function(e){var t=e.target;if(e.currentTarget===t){var n=t.scrollTop;if(i.isLock()&&n!==i.lastScrollTop){var r=i.bodyRightNode,o,a,s;[i.bodyLeftNode,r,i.bodyNode].forEach(function(e){e&&e.scrollTop!==n&&(e.scrollTop=n)}),i.lastScrollTop=n}}},i.onLockBodyScrollLeft=function(){if(i.isLock()){var e=i.props.rtl,t=e?i.getWrapperNode("left"):i.getWrapperNode("right"),n=e?i.getWrapperNode("right"):i.getWrapperNode("left"),r="shadow",o=i.bodyNode.scrollLeft;0===o?(n&&Ga.removeClass(n,"shadow"),t&&Ga.addClass(t,"shadow")):o===i.bodyNode.scrollWidth-i.bodyNode.clientWidth?(n&&Ga.addClass(n,"shadow"),t&&Ga.removeClass(t,"shadow")):(n&&Ga.addClass(n,"shadow"),t&&Ga.addClass(t,"shadow"))}},i.onLockBodyScroll=function(e){i.onLockBodyScrollTop(e),i.onLockBodyScrollLeft()},i.adjustSize=function(){i.adjustIfTableNotNeedLock()||(i.adjustHeaderSize(),i.adjustBodySize(),i.adjustRowHeight(),i.onLockBodyScrollLeft())},i.getFlatenChildrenLength=function(){var e,t;return function e(t){var n=[];return t.forEach(function(t){t.children?n.push.apply(n,e(t.children)):n.push(t)}),n}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length},i.saveLockLeftRef=function(e){i.lockLeftEl=e},i.saveLockRightRef=function(e){i.lockRightEl=e},i.lockLeftChildren=[],i.lockRightChildren=[],i}return Oo()(n,t),n.prototype.getChildContext=function e(){return{getTableInstance:this.getTableInstance,getLockNode:this.getNode,onLockBodyScroll:this.onLockBodyScroll,onRowMouseEnter:this.onRowMouseEnter,onRowMouseLeave:this.onRowMouseLeave}},n.prototype.componentDidMount=function e(){Ka.on(window,"resize",this.adjustSize),this.scroll(),this.adjustSize()},n.prototype.shouldComponentUpdate=function e(t,n,r){var i;return!t.pure||!(WL()(t,this.props)&&Za.shallowEqual(r,this.context))},n.prototype.componentDidUpdate=function e(){this.adjustSize(),this._isLock=!1},n.prototype.componentWillUnmount=function e(){Ka.off(window,"resize",this.adjustSize)},n.prototype.normalizeChildrenState=function e(t){var n=t.children;n=this.normalizeChildren(n);var r=this.splitFromNormalizeChildren(n),i,o;return{lockLeftChildren:r.lockLeftChildren,lockRightChildren:r.lockRightChildren,children:this.mergeFromSplitLockChildren(r)}},n.prototype.normalizeChildren=function e(t){var n=!1,r,i=function e(t){var r=[];return or.Children.forEach(t,function(t){if(t){var i=vo()({},t.props);[!0,"left","right"].indexOf(i.lock)>-1&&(n=!0,"width"in i||Xa.warning("Should config width for lock column named [ "+i.dataIndex+" ].")),r.push(i),t.props.children&&(i.children=e(t.props.children))}}),r}(t);return i.forEach(function(e){e.__normalized&&n&&(e.lock=e.lock||"left",delete e.__normalized)}),this._isLock=n,i},n.prototype.splitFromNormalizeChildren=function e(t){var n=zB(t),r=zB(t),i=zB(t),o=function e(t,n){var r=[];return t.forEach(function(t){var i,o;t.children?e(t.children,n).length||r.push(t):n(t)||r.push(t)}),r.forEach(function(e){var n=t.indexOf(e);t.splice(n,1)}),t};return o(r,function(e){if(!0===e.lock||"left"===e.lock)return"left"}),o(i,function(e){if("right"===e.lock)return"right"}),o(n,function(e){return!0!==e.lock&&"left"!==e.lock&&"right"!==e.lock}),{lockLeftChildren:r,lockRightChildren:i,originChildren:n}},n.prototype.mergeFromSplitLockChildren=function e(t){var n=t.lockLeftChildren,r=t.lockRightChildren,i=t.originChildren;return Array.prototype.unshift.apply(i,n),i=i.concat(r)},n.prototype.scroll=function e(){var t=this.props,n=t.scrollToCol,r=void 0===n?0:n,i=t.scrollToRow,o=void 0===i?0:i;if(r||o){var a=this.getCellNode(0,r),s=this.getCellNode(o,0),l=this.bodyNode.getBoundingClientRect();if(a){var u,c=a.getBoundingClientRect().left-l.left;this.bodyNode.scrollLeft=c}if(s){var f,h=s.getBoundingClientRect().top-l.top;this.bodyNode.scrollTop=h}}},n.prototype.isLock=function e(){return this.lockLeftChildren.length||this.lockRightChildren.length},n.prototype.isOriginLock=function e(){return this._isLock},n.prototype.removeLockTable=function e(){var t=this.lockLeftChildren.length,n=this.lockRightChildren.length;if(t&&(this._notNeedAdjustLockLeft=!0),n&&(this._notNeedAdjustLockRight=!0),n||t)return this.forceUpdate(),!0},n.prototype.adjustIfTableNotNeedLock=function e(){var t=this;if(this.isOriginLock()){var n=this.tableInc.flatChildren.map(function(e,n){var r=t.getCellNode(0,n)||{},i=t.getHeaderCellNode(0,n)||{};try{return{cellWidths:parseFloat(getComputedStyle(r).width)||0,headerWidths:parseFloat(getComputedStyle(i).width)||0}}catch(e){return{cellWidths:r.clientWidth||0,headerWidths:i.clientWidth||0}}}).reduce(function(e,t){return{cellWidths:e.cellWidths+t.cellWidths,headerWidths:e.headerWidths+t.headerWidths}},{cellWidths:0,headerWidths:0}),r=void 0,i=void 0;try{i=(r=Object(tr.findDOMNode)(this)).clientWidth}catch(e){r=null,i=0}if(0===i)return!0;var o=parseInt(n.cellWidths)||parseInt(n.headerWidths);if(o<=i&&o>0)this.removeLockTable();else{if(!this._notNeedAdjustLockLeft&&!this._notNeedAdjustLockRight)return this._notNeedAdjustLockLeft=this._notNeedAdjustLockRight=!1,!1;this._notNeedAdjustLockLeft=this._notNeedAdjustLockRight=!1,this.forceUpdate()}}return!1},n.prototype.adjustBodySize=function e(){var t,n=this.props,r=n.rtl,i=n.hasHeader,o=this.headerNode,a=r?"paddingLeft":"paddingRight",s=r?"marginLeft":"marginRight",l=+Ga.scrollbar().width||0,u=((t={})[a]=l,t[s]=l,t),c=this.bodyNode,f=c&&c.scrollHeight>c.clientHeight;if(this.isLock()){var h=this.bodyLeftNode,d=this.bodyRightNode,p=this.getWrapperNode("right"),m=c.offsetHeight,g=f?l:0,b=m-l;f||(u[a]=0,u[s]=0),+l?(u.marginBottom=-l,u.paddingBottom=l):(u.marginBottom=-20,u.paddingBottom=20);var y={"max-height":b};i||+l||(y[s]=0),+l&&(y[s]=-l),h&&Ga.setStyle(h,y),d&&Ga.setStyle(d,y),p&&+l&&Ga.setStyle(p,r?"left":"right",g+"px")}else u.marginBottom=-l,u.paddingBottom=l,u[s]=0,f||(u[a]=0);o&&Ga.setStyle(o,u)},n.prototype.adjustHeaderSize=function e(){var t=this;this.isLock()&&this.tableInc.groupChildren.forEach(function(e,n){var r=t.tableInc.groupChildren[n].length-1,i=t.getHeaderCellNode(n,r),o=t.getHeaderCellNode(n,0),a=t.getHeaderCellNode(n,0,"right"),s=t.getHeaderCellNode(n,0,"left");if(i&&a){var l=i.offsetHeight;Ga.setStyle(a,"height",l),setTimeout(function(){var e=t.tableRightInc.affixRef;return e&&e.getInstance()&&e.getInstance().updatePosition()})}if(o&&s){var u=o.offsetHeight;Ga.setStyle(s,"height",u),setTimeout(function(){var e=t.tableLeftInc.affixRef;return e&&e.getInstance()&&e.getInstance().updatePosition()})}})},n.prototype.adjustRowHeight=function e(){var t=this;this.isLock()&&this.tableInc.props.dataSource.forEach(function(e,n){var r="object"===(void 0===e?"undefined":Io()(e))&&"__rowIndex"in e?e.__rowIndex:n;t.setRowHeight(r,"left"),t.setRowHeight(r,"right")})},n.prototype.setRowHeight=function e(t,n){var r=this.getRowNode(t,n),i=this.getRowNode(t),o=(DB?i&&i.offsetHeight:i&&parseFloat(getComputedStyle(i).height))||"auto",a=(DB?r&&r.offsetHeight:r&&parseFloat(getComputedStyle(r).height))||"auto";r&&o!==a&&Ga.setStyle(r,"height",o)},n.prototype.getWrapperNode=function e(t){t=t?t.charAt(0).toUpperCase()+t.substr(1):"";try{return Object(tr.findDOMNode)(this["lock"+t+"El"])}catch(e){return null}},n.prototype.getRowNode=function e(t,n){var r=this["table"+(n=n?n.charAt(0).toUpperCase()+n.substr(1):"")+"Inc"];try{return Object(tr.findDOMNode)(r.getRowRef(t))}catch(e){return null}},n.prototype.getHeaderCellNode=function e(t,n,r){var i=this["table"+(r=r?r.charAt(0).toUpperCase()+r.substr(1):"")+"Inc"];try{return Object(tr.findDOMNode)(i.getHeaderCellRef(t,n))}catch(e){return null}},n.prototype.getCellNode=function e(t,n,r){var i=this["table"+(r=r?r.charAt(0).toUpperCase()+r.substr(1):"")+"Inc"];try{return Object(tr.findDOMNode)(i.getCellRef(t,n))}catch(e){return null}},n.prototype.render=function t(){var n=this.props,r=n.children,i=n.prefix,o=n.components,a=n.className,s=n.dataSource,l=n.tableWidth,u=xo()(n,["children","prefix","components","className","dataSource","tableWidth"]),c=this.normalizeChildrenState(this.props),f=c.lockLeftChildren,h=c.lockRightChildren,d=c.children,p,m,g,b={left:this.getFlatenChildrenLength(f),right:this.getFlatenChildrenLength(h),origin:this.getFlatenChildrenLength(d)};if(this._notNeedAdjustLockLeft&&(f=[]),this._notNeedAdjustLockRight&&(h=[]),this.lockLeftChildren=f,this.lockRightChildren=h,this.isOriginLock()){var y;(o=vo()({},o)).Body=o.Body||jB,o.Header=o.Header||PB,o.Wrapper=o.Wrapper||yB,o.Row=o.Row||YF,a=zs()(((y={})[i+"table-lock"]=!0,y[i+"table-wrap-empty"]=!s.length,y[a]=a,y));var v=[ar.a.createElement(e,vo()({},u,{dataSource:s,key:"lock-left",columns:f,className:i+"table-lock-left",lengths:b,prefix:i,lockType:"left",components:o,ref:this.saveLockLeftRef,loading:!1,"aria-hidden":!0})),ar.a.createElement(e,vo()({},u,{dataSource:s,key:"lock-right",columns:h,className:i+"table-lock-right",lengths:b,prefix:i,lockType:"right",components:o,ref:this.saveLockRightRef,loading:!1,"aria-hidden":!0}))];return ar.a.createElement(e,vo()({},u,{tableWidth:l,dataSource:s,columns:d,prefix:i,lengths:b,wrapperContent:v,components:o,className:a}))}return ar.a.createElement(e,this.props)},n}(ar.a.Component),t.LockRow=YF,t.LockBody=jB,t.LockHeader=PB,t.propTypes=vo()({scrollToCol:lr.a.number,scrollToRow:lr.a.number},e.propTypes),t.defaultProps=vo()({},e.defaultProps),t.childContextTypes={getTableInstance:lr.a.func,getLockNode:lr.a.func,onLockBodyScroll:lr.a.func,onRowMouseEnter:lr.a.func,onRowMouseLeave:lr.a.func},n);return r.displayName="LockTable",YL(r,e),r}function zB(e){var t;return function e(t){return t.map(function(t){var n=vo()({},t);return t.children&&(t.children=e(t.children)),n})}(e)}var $B=(FB=LB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){return null},t}(ar.a.Component),LB.propTypes={cell:lr.a.oneOfType([lr.a.element,lr.a.node,lr.a.func]),hasChildrenSelection:lr.a.bool,hasSelection:lr.a.bool,useFirstLevelDataWhenNoChildren:lr.a.bool},LB.defaultProps={cell:function e(){return""},hasSelection:!0,hasChildrenSelection:!1,useFirstLevelDataWhenNoChildren:!1},LB._typeMark="listHeader",FB),UB,WB;$B.displayName="ListHeader";var VB=(WB=UB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){return null},t}(ar.a.Component),UB.propTypes={cell:lr.a.oneOfType([lr.a.element,lr.a.node,lr.a.func])},UB.defaultProps={cell:function e(){return""}},UB._typeMark="listFooter",WB),HB,GB;VB.displayName="ListFooter";var qB=(GB=HB=function(e){function t(){return So()(this,t),Co()(this,e.apply(this,arguments))}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props,r=n.prefix,i=n.className,o=n.onClick,a=n.onMouseEnter,s=n.onMouseLeave,l=n.columns,u=n.Cell,c=n.rowIndex,f=n.__rowIndex,h=n.record,d=n.children,p=n.primaryKey,m=n.colGroup,g=n.cellRef,b=n.getCellProps,y=n.locale,v=n.wrapper,w=n.rtl,x=xo()(n,["prefix","className","onClick","onMouseEnter","onMouseLeave","columns","Cell","rowIndex","__rowIndex","record","children","primaryKey","colGroup","cellRef","getCellProps","locale","wrapper","rtl"]),_=zs()(((t={})[r+"table-row"]=!0,t[i]=i,t));return this.context.notRenderCellIndex=[],ar.a.createElement("table",vo()({className:_,role:"row"},x,{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),m,ar.a.createElement("tbody",null,this.renderContent("header"),this.renderChildren(),this.renderContent("footer")))},t.prototype.isChildrenSelection=function e(){return this.context.listHeader&&this.context.listHeader.hasChildrenSelection},t.prototype.isFirstLevelDataWhenNoChildren=function e(){return this.context.listHeader&&this.context.listHeader.useFirstLevelDataWhenNoChildren},t.prototype.isSelection=function e(){return this.context.listHeader&&this.context.listHeader.hasSelection},t.prototype.renderChildren=function e(){var t=this,n=this.props,r=n.record,i=n.primaryKey,o=r.children,a=o;return this.isFirstLevelDataWhenNoChildren()&&(Xa.warning("useFirstLevelDataWhenNoChildren is deprecated, change your dataSource structure, make sure there is 'children' in your dataSource."),a=o||[r]),a?a.map(function(e,n){var r=t.renderCells(e,n);return t.isChildrenSelection()?(e[i]||Xa.warning("record.children/recored should contains primaryKey when childrenSelection is true."),ar.a.createElement("tr",{key:e[i]},r)):(t.context.rowSelection&&(r.shift(),r[0]=ar.a.cloneElement(r[0],vo()({colSpan:2},r[0].props))),ar.a.createElement("tr",{key:n},r))}):null},t.prototype.renderContent=function e(t){var n=this.props,r=n.columns,i=n.prefix,o=n.record,a=n.rowIndex,s=t.charAt(0).toUpperCase()+t.substr(1),l=this.context["list"+s],u=void 0;if(l&&(ar.a.isValidElement(l.cell)?u=ar.a.cloneElement(l.cell,{record:o,index:a}):"function"==typeof l.cell&&(u=l.cell(o,a)),u)){var c=this.renderCells(o);"header"===t&&this.context.rowSelection&&this.isSelection()?((c=c.slice(0,1)).push(ar.a.createElement("td",{colSpan:r.length-1,key:"listNode"},ar.a.createElement("div",{className:i+"table-cell-wrapper"},u))),u=ar.a.createElement("tr",{className:i+"table-group-"+t},c)):u=ar.a.createElement("tr",{className:i+"table-group-"+t},ar.a.createElement("td",{colSpan:r.length},ar.a.createElement("div",{className:i+"table-cell-wrapper"},u)))}return u},t}(eF),HB.contextTypes={listHeader:lr.a.any,listFooter:lr.a.any,rowSelection:lr.a.object,notRenderCellIndex:lr.a.array,lockType:lr.a.oneOf(["left","right"])},GB),KB,YB;function XB(e){return ar.a.createElement(sF,vo()({component:"div"},e))}function ZB(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;So()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Co()(this,t.call.apply(t,[this].concat(a))),r.state={},i=e,Co()(r,i)}return Oo()(n,t),n.prototype.getChildContext=function e(){return{listHeader:this.listHeader,listFooter:this.listFooter,rowSelection:this.rowSelection}},n.prototype.normalizeDataSource=function e(t){var n=[],r;return function e(t,r){t.forEach(function(t){t.__level=r,n.push(t),t.children&&e(t.children,r+1)})}(t,0),this.ds=n,n},n.prototype.render=function t(){var n=this,r=this.props,i=r.components,o=r.children,a=r.className,s=r.prefix,l=xo()(r,["components","children","className","prefix"]),u=!1,c=[],f;(or.Children.forEach(o,function(e){e&&("function"==typeof e.type?"listHeader"===e.type._typeMark?(n.listHeader=e.props,u=!0):"listFooter"===e.type._typeMark?n.listFooter=e.props:c.push(e):c.push(e))}),this.rowSelection=this.props.rowSelection,u)&&((i=vo()({},i)).Row=i.Row||qB,i.Body=i.Body||XB,i.Header=i.Header||hB,i.Wrapper=i.Wrapper||yB,a=zs()(((f={})[s+"table-group"]=!0,f[a]=a,f)));return ar.a.createElement(e,vo()({},l,{components:i,children:c,className:a,prefix:s}))},n}(ar.a.Component),t.ListHeader=$B,t.ListFooter=VB,t.ListRow=qB,t.ListBody=XB,t.propTypes=vo()({},e.propTypes),t.defaultProps=vo()({},e.defaultProps),t.childContextTypes={listHeader:lr.a.any,listFooter:lr.a.any,rowSelection:lr.a.object},n);return r.displayName="ListTable",YL(r,e),r}function JB(e,t){if("undefined"==typeof window)return 0;var n,r=t?"scrollTop":"scrollLeft";return e===window?e[t?"pageYOffset":"pageXOffset"]:e[r]}function QB(e){return e!==window?e.getBoundingClientRect():{top:0,left:0,bottom:0}}function ez(e){return e?e===window?window.innerHeight:e.clientHeight:0}var tz=(YB=KB=function(e){function t(n,r){So()(this,t);var i=Co()(this,e.call(this,n,r));return i.updatePosition=function(){i._updateNodePosition()},i._updateNodePosition=function(){var e=i.state.affixMode,t=i.props,n=t.container,r=t.useAbsolute,o=n();if(!o||!i.affixNode)return!1;var a=JB(o,!0),s=i._getOffset(i.affixNode,o),l=ez(o),u=i.affixNode.offsetHeight,c=QB(o),f=i.affixChildNode.offsetHeight,h={width:s.width},d={width:s.width,height:f};e.top&&a>s.top-e.offset?(r?(h.position="absolute",h.top=a-(s.top-e.offset),d.position="relative"):(h.position="fixed",h.top=e.offset+c.top),i._setAffixStyle(h,!0),i._setContainerStyle(d)):e.bottom&&a<s.top+u+e.offset-l?(h.height=u,r?(h.position="absolute",h.top=a-(s.top+u+e.offset-l),d.position="relative"):(h.position="fixed",h.bottom=e.offset),i._setAffixStyle(h,!0),i._setContainerStyle(d)):(i._setAffixStyle(null),i._setContainerStyle(null))},i._affixNodeRefHandler=function(e){i.affixNode=Object(tr.findDOMNode)(e)},i._affixChildNodeRefHandler=function(e){i.affixChildNode=Object(tr.findDOMNode)(e)},i.state={style:null,containerStyle:null,affixMode:t._getAffixMode(n)},i}return Oo()(t,e),t._getAffixMode=function e(t){var n={top:!1,bottom:!1,offset:0};if(!t)return n;var r=t.offsetTop,i=t.offsetBottom;return"number"!=typeof r&&"number"!=typeof i?n.top=!0:"number"==typeof r?(n.top=!0,n.bottom=!1,n.offset=r):"number"==typeof i&&(n.bottom=!0,n.top=!1,n.offset=i),n},t.getDerivedStateFromProps=function e(n,r){return"offsetTop"in n||"offsetBottom"in n?{affixMode:t._getAffixMode(n)}:null},t.prototype.componentDidMount=function e(){var t=this,n=this.props.container;this._updateNodePosition(),this.timeout=setTimeout(function(){t._setEventHandlerForContainer(n)})},t.prototype.componentDidUpdate=function e(t,n,r){setTimeout(this._updateNodePosition)},t.prototype.componentWillUnmount=function e(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null);var t=this.props.container;this._removeEventHandlerForContainer(t)},t.prototype._setEventHandlerForContainer=function e(t){var n=t();n&&(Ka.on(n,"scroll",this._updateNodePosition,!1),Ka.on(n,"resize",this._updateNodePosition,!1))},t.prototype._removeEventHandlerForContainer=function e(t){var n=t();n&&(Ka.off(n,"scroll",this._updateNodePosition),Ka.off(n,"resize",this._updateNodePosition))},t.prototype._setAffixStyle=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Za.shallowEqual(t,this.state.style)){this.setState({style:t});var r=this.props.onAffix;n?setTimeout(function(){return r(!0)}):t||setTimeout(function(){return r(!1)})}},t.prototype._setContainerStyle=function e(t){Za.shallowEqual(t,this.state.containerStyle)||this.setState({containerStyle:t})},t.prototype._getOffset=function e(t,n){var r=t.getBoundingClientRect(),i=QB(n),o=JB(n,!0),a=JB(n,!1);return{top:r.top-i.top+o,left:r.left-i.left+a,width:r.width,height:r.height}},t.prototype.render=function e(){var t,n=this.state.affixMode,r=this.props,i=r.prefix,o=r.className,a=r.style,s=r.children,l=this.state,u=zs()(((t={})[i+"affix"]=l.style,t[i+"affix-top"]=!l.style&&n.top,t[i+"affix-bottom"]=!l.style&&n.bottom,t[o]=o,t)),c=vo()({},l.containerStyle,a);return ar.a.createElement("div",{ref:this._affixNodeRefHandler,style:c},ar.a.createElement("div",{ref:this._affixChildNodeRefHandler,className:u,style:l.style},s))},t}(ar.a.Component),KB.propTypes={prefix:lr.a.string,container:lr.a.func,offsetTop:lr.a.number,offsetBottom:lr.a.number,onAffix:lr.a.func,useAbsolute:lr.a.bool,className:lr.a.string,style:lr.a.object,children:lr.a.any},KB.defaultProps={prefix:"next-",container:function e(){return window},onAffix:Ya.noop},YB);tz.displayName="Affix";var nz=Fs.config(Object(To.polyfill)(tz)),rz,iz,oz=(iz=rz=function(e){function t(){var n,r,i;So()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Co()(this,e.call.apply(e,[this].concat(a))),r.getAffixRef=function(e){r.props.affixRef&&r.props.affixRef(e)},i=n,Co()(r,i)}return Oo()(t,e),t.prototype.render=function e(){var t,n=this.props.prefix,r=this.context,i=r.Header,o=r.offsetTop,a,s=r.affixProps||{},l=s.className,u=xo()(s,["className"]),c=zs()(((t={})[n+"table-affix"]=!0,t.className=l,t));return ar.a.createElement(nz,vo()({ref:this.getAffixRef},u,{className:c,offsetTop:o}),ar.a.createElement(i,this.props))},t}(ar.a.Component),rz.propTypes={prefix:lr.a.string},rz.contextTypes={Header:lr.a.any,offsetTop:lr.a.number,affixProps:lr.a.object},iz);function az(e){var t,n,r=(n=t=function(t){function n(){var e,r,i;So()(this,n);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=r=Co()(this,t.call.apply(t,[this].concat(a))),r.state={},i=e,Co()(r,i)}return Oo()(n,t),n.prototype.getChildContext=function e(){return{Header:this.props.components.Header||hB,offsetTop:this.props.offsetTop,affixProps:this.props.affixProps}},n.prototype.render=function t(){var n=this.props,r=n.stickyHeader,i=n.offsetTop,o=n.affixProps,a=xo()(n,["stickyHeader","offsetTop","affixProps"]),s=this.props,l=s.components,u=s.maxBodyHeight,c=s.fixedHeader;return r&&((l=vo()({},l)).Header=oz,c=!0,u=Math.max(u,1e4)),ar.a.createElement(e,vo()({},a,{components:l,fixedHeader:c,maxBodyHeight:u}))},n}(ar.a.Component),t.StickyHeader=oz,t.propTypes=vo()({stickyHeader:lr.a.bool,offsetTop:lr.a.number,affixProps:lr.a.object,components:lr.a.object},e.propTypes),t.defaultProps=vo()({components:{}},e.defaultProps),t.childContextTypes={Header:lr.a.any,offsetTop:lr.a.number,affixProps:lr.a.object},n);return r.displayName="StickyTable",YL(r,e),r}oz.displayName="StickHeader";var sz,lz=[vB,BB,_B,kB,fB,IB,ZB,az].reduce(function(e,t){return e=t(e)},GF);lz.Base=GF,lz.fixed=vB,lz.lock=BB,lz.selection=_B,lz.expanded=kB,lz.tree=fB,lz.virtual=IB,lz.list=ZB,lz.sticky=az,lz.GroupHeader=$B,lz.GroupFooter=VB;var uz=Fs.config(lz,{componentName:"Table",transform:function e(t,n){if("expandedRowKeys"in t){n("expandedRowKeys","openRowKeys","Table");var r=t,i=r.expandedRowKeys,o=xo()(r,["expandedRowKeys"]);t=vo()({openRowKeys:i},o)}if("onExpandedChange"in t){n("onExpandedChange","onRowOpen","Table");var a=t,s=a.onExpandedChange,l=xo()(a,["onExpandedChange"]);t=vo()({onRowOpen:s},l)}if("isLoading"in t){n("isLoading","loading","Table");var u=t,c=u.isLoading,f=xo()(u,["isLoading"]);t=vo()({loading:c},f)}if("indentSize"in t){n("indentSize","indent","Table");var h=t,d=h.indentSize,p=xo()(h,["indentSize"]);t=vo()({indent:d},p)}if("optimization"in t){n("optimization","pure","Table");var m=t,g=m.optimization,b=xo()(m,["optimization"]);t=vo()({pure:g},b)}if("getRowClassName"in t){n("getRowClassName","getRowProps","Table");var y=t,v=y.getRowClassName,w=y.getRowProps,x=xo()(y,["getRowClassName","getRowProps"]);if(v){var _=function e(){return vo()({className:v.apply(void 0,arguments)},w?w.apply(void 0,arguments):{})};t=vo()({getRowProps:_},x)}else t=vo()({getRowProps:w},x)}if("getRowProps"in t){n("getRowProps","rowProps","Table in 1.15.0");var S=t,E=S.getRowProps,C=xo()(S,["getRowProps"]);t=vo()({rowProps:E},C)}if("getCellProps"in t){n("getCellProps","cellProps","Table in 1.15.0");var k=t,O=k.getCellProps,T=xo()(k,["getCellProps"]);t=vo()({cellProps:O},T)}return t}}),cz=n(648);function fz(e){"@babel/helpers - typeof";return(fz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(t){pz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mz(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function gz(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){mz(o,r,i,a,s,"next",e)}function s(e){mz(o,r,i,a,s,"throw",e)}a(void 0)})}}function bz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vz(e,t,n){return t&&yz(e.prototype,t),n&&yz(e,n),e}function wz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xz(e,t)}function xz(e,t){return(xz=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _z(e){return function(){var t=kz(e),n;if(Cz()){var r=kz(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return Sz(this,n)}}function Sz(e,t){return!t||"object"!==fz(t)&&"function"!=typeof t?Ez(e):t}function Ez(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function kz(e){return(kz=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Oz=30,Tz=function(e){wz(n,e);var t=_z(n);function n(){var e;bz(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={models:[],fields:Op,currentPage:1,totalCount:0},e.changePage=function(){var t=gz(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function t(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.fetchData(n);case 2:case"end":return r.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.fetchData=function(){var t=gz(regeneratorRuntime.mark(function t(n){var r,i,o;return regeneratorRuntime.wrap(function t(a){for(;;)switch(a.prev=a.next){case 0:return r="/pipeline/list",location.href.includes("jobs")&&(e.setState({fields:Tp}),r="/job/list"),a.prev=2,a.next=5,ab(r,{params:{offset:(n-1)*Oz,limit:Oz}});case 5:i=a.sent,o=i.rows.map(function(e){return dz({},e,{createdAt:new Date(e.createdAt).toLocaleString(),endTime:new Date(e.endTime).toLocaleString(),status:kp[e.status]})}),e.setState({models:o,totalCount:i.count,currentPage:n}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),dd(a.t0.message);case 13:case"end":return a.stop()}},t,null,[[2,10]])}));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=gz(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function t(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.fetchData(1);case 2:case"end":return n.stop()}},t)})),e}return vz(n,[{key:"render",value:function e(){var t=this.state,n=t.models,r=t.fields,i=t.currentPage,o=t.totalCount;return ar.a.createElement("div",{className:"pipeline"},ar.a.createElement(uz,{dataSource:n,hasBorder:!1,stickyHeader:!0,offsetTop:45},r.map(function(e){return ar.a.createElement(uz.Column,{key:e.name,title:e.name,dataIndex:e.field,cell:e.cell,sortable:e.sortable||!1,width:e.width,align:"center"})})),ar.a.createElement(FL,{current:i,total:o,pageSize:Oz,type:"simple",className:"pagination-wrapper",onChange:this.changePage}),ar.a.createElement("div",{className:"pipeline-create-container",onClick:function e(){return location.href="index.html#/pipeline/info"}},ar.a.createElement(ml,{className:"pipeline-create",type:"add",size:"large"})))}}]),n}(or.Component),Nz,Az=[{path:"/tutorial",component:ch,children:[{path:"/mnist",component:iL},{path:"/assets-classification",component:CL},{path:"/",component:gh}]},{path:"/pipeline",component:ch,children:[{path:"/info",component:Cb},{path:"/",component:Tz}]},{path:"/",component:ch,children:[{path:"/home",redirect:"/"},{path:"jobs",component:Tz},{path:"/",component:TL}]}],Iz=function(){return ar.a.createElement("div",{style:{paddingTop:200,textAlign:"center"}},ar.a.createElement(qL,{color:"#fff"}))};function jz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jz(Object(n),!0).forEach(function(t){Mz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pz(){return(Pz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dz(e,t){if(null==e)return{};var n=Lz(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lz(e,t){if(null==e)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}var Fz=function e(t){var n=t.redirect,r=t.path,i=t.component,o=t.key;return n?ar.a.createElement(bi,{exact:!0,key:o,from:r,to:n}):ar.a.createElement(Ci,{key:o,component:i,path:r})},Bz,zz=function e(){return ar.a.createElement(Gi,null,ar.a.createElement(Ri,null,Az.map(function(e,t){var n=e.component,r=e.children,i=Dz(e,["component","children"]);return ar.a.createElement(Ci,Pz({key:t},i,{component:function i(o){return r?ar.a.createElement(n,Pz({key:t},o),ar.a.createElement(or.Suspense,{fallback:ar.a.createElement(Iz,null)},ar.a.createElement(Ri,null,r.map(function(n,r){var i=n.redirect,o=n.path,a=n.component;return Fz({key:"".concat(t,"-").concat(r),redirect:i,path:o&&lo.a.join(e.path,o),component:a})})))):ar.a.createElement(or.Suspense,{fallback:ar.a.createElement(Iz,null)},Fz(Rz({key:t},e)))}}))})))},$z=document.getElementById("ice-container");if(!$z)throw new Error('\u5f53\u524d\u9875\u9762\u4e0d\u5b58\u5728 <div id="ice-container"></div> \u8282\u70b9.');nr.a.render(zz(),$z)}]);